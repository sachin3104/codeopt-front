var QI=n=>{throw TypeError(n)};var SH=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var FC=(n,e,r)=>e.has(n)||QI("Cannot "+r);var Mt=(n,e,r)=>(FC(n,e,"read from private field"),r?r.call(n):e.get(n)),ai=(n,e,r)=>e.has(n)?QI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),Ne=(n,e,r,o)=>(FC(n,e,"write to private field"),o?o.call(n,r):e.set(n,r),r),as=(n,e,r)=>(FC(n,e,"access private method"),r);var Xw=(n,e,r,o)=>({set _(a){Ne(n,e,a,r)},get _(){return Mt(n,e,o)}});var Pkt=SH((nPt,Mk)=>{function kH(n,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in n)){const h=Object.getOwnPropertyDescriptor(o,a);h&&Object.defineProperty(n,a,h.get?h:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(a){if(a.ep)return;a.ep=!0;const h=r(a);fetch(a.href,h)}})();function hX(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cX={exports:{}},YP={},fX={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=Symbol.for("react.element"),PH=Symbol.for("react.portal"),bH=Symbol.for("react.fragment"),TH=Symbol.for("react.strict_mode"),CH=Symbol.for("react.profiler"),MH=Symbol.for("react.provider"),NH=Symbol.for("react.context"),QH=Symbol.for("react.forward_ref"),AH=Symbol.for("react.suspense"),jH=Symbol.for("react.memo"),RH=Symbol.for("react.lazy"),AI=Symbol.iterator;function LH(n){return n===null||typeof n!="object"?null:(n=AI&&n[AI]||n["@@iterator"],typeof n=="function"?n:null)}var dX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pX=Object.assign,mX={};function Bg(n,e,r){this.props=n,this.context=e,this.refs=mX,this.updater=r||dX}Bg.prototype.isReactComponent={};Bg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Bg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function gX(){}gX.prototype=Bg.prototype;function gj(n,e,r){this.props=n,this.context=e,this.refs=mX,this.updater=r||dX}var yj=gj.prototype=new gX;yj.constructor=gj;pX(yj,Bg.prototype);yj.isPureReactComponent=!0;var jI=Array.isArray,yX=Object.prototype.hasOwnProperty,Oj={current:null},OX={key:!0,ref:!0,__self:!0,__source:!0};function vX(n,e,r){var o,a={},h=null,f=null;if(e!=null)for(o in e.ref!==void 0&&(f=e.ref),e.key!==void 0&&(h=""+e.key),e)yX.call(e,o)&&!OX.hasOwnProperty(o)&&(a[o]=e[o]);var p=arguments.length-2;if(p===1)a.children=r;else if(1<p){for(var g=Array(p),x=0;x<p;x++)g[x]=arguments[x+2];a.children=g}if(n&&n.defaultProps)for(o in p=n.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:tx,type:n,key:h,ref:f,props:a,_owner:Oj.current}}function EH(n,e){return{$$typeof:tx,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function vj(n){return typeof n=="object"&&n!==null&&n.$$typeof===tx}function $H(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var RI=/\/+/g;function VC(n,e){return typeof n=="object"&&n!==null&&n.key!=null?$H(""+n.key):e.toString(36)}function XS(n,e,r,o,a){var h=typeof n;(h==="undefined"||h==="boolean")&&(n=null);var f=!1;if(n===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(n.$$typeof){case tx:case PH:f=!0}}if(f)return f=n,a=a(f),n=o===""?"."+VC(f,0):o,jI(a)?(r="",n!=null&&(r=n.replace(RI,"$&/")+"/"),XS(a,e,r,"",function(x){return x})):a!=null&&(vj(a)&&(a=EH(a,r+(!a.key||f&&f.key===a.key?"":(""+a.key).replace(RI,"$&/")+"/")+n)),e.push(a)),1;if(f=0,o=o===""?".":o+":",jI(n))for(var p=0;p<n.length;p++){h=n[p];var g=o+VC(h,p);f+=XS(h,e,r,g,a)}else if(g=LH(n),typeof g=="function")for(n=g.call(n),p=0;!(h=n.next()).done;)h=h.value,g=o+VC(h,p++),f+=XS(h,e,r,g,a);else if(h==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return f}function _w(n,e,r){if(n==null)return n;var o=[],a=0;return XS(n,o,"","",function(h){return e.call(r,h,a++)}),o}function DH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Vs={current:null},_S={transition:null},IH={ReactCurrentDispatcher:Vs,ReactCurrentBatchConfig:_S,ReactCurrentOwner:Oj};function xX(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:_w,forEach:function(n,e,r){_w(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return _w(n,function(){e++}),e},toArray:function(n){return _w(n,function(e){return e})||[]},only:function(n){if(!vj(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ze.Component=Bg;ze.Fragment=bH;ze.Profiler=CH;ze.PureComponent=gj;ze.StrictMode=TH;ze.Suspense=AH;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IH;ze.act=xX;ze.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=pX({},n.props),a=n.key,h=n.ref,f=n._owner;if(e!=null){if(e.ref!==void 0&&(h=e.ref,f=Oj.current),e.key!==void 0&&(a=""+e.key),n.type&&n.type.defaultProps)var p=n.type.defaultProps;for(g in e)yX.call(e,g)&&!OX.hasOwnProperty(g)&&(o[g]=e[g]===void 0&&p!==void 0?p[g]:e[g])}var g=arguments.length-2;if(g===1)o.children=r;else if(1<g){p=Array(g);for(var x=0;x<g;x++)p[x]=arguments[x+2];o.children=p}return{$$typeof:tx,type:n.type,key:a,ref:h,props:o,_owner:f}};ze.createContext=function(n){return n={$$typeof:NH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:MH,_context:n},n.Consumer=n};ze.createElement=vX;ze.createFactory=function(n){var e=vX.bind(null,n);return e.type=n,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(n){return{$$typeof:QH,render:n}};ze.isValidElement=vj;ze.lazy=function(n){return{$$typeof:RH,_payload:{_status:-1,_result:n},_init:DH}};ze.memo=function(n,e){return{$$typeof:jH,type:n,compare:e===void 0?null:e}};ze.startTransition=function(n){var e=_S.transition;_S.transition={};try{n()}finally{_S.transition=e}};ze.unstable_act=xX;ze.useCallback=function(n,e){return Vs.current.useCallback(n,e)};ze.useContext=function(n){return Vs.current.useContext(n)};ze.useDebugValue=function(){};ze.useDeferredValue=function(n){return Vs.current.useDeferredValue(n)};ze.useEffect=function(n,e){return Vs.current.useEffect(n,e)};ze.useId=function(){return Vs.current.useId()};ze.useImperativeHandle=function(n,e,r){return Vs.current.useImperativeHandle(n,e,r)};ze.useInsertionEffect=function(n,e){return Vs.current.useInsertionEffect(n,e)};ze.useLayoutEffect=function(n,e){return Vs.current.useLayoutEffect(n,e)};ze.useMemo=function(n,e){return Vs.current.useMemo(n,e)};ze.useReducer=function(n,e,r){return Vs.current.useReducer(n,e,r)};ze.useRef=function(n){return Vs.current.useRef(n)};ze.useState=function(n){return Vs.current.useState(n)};ze.useSyncExternalStore=function(n,e,r){return Vs.current.useSyncExternalStore(n,e,r)};ze.useTransition=function(){return Vs.current.useTransition()};ze.version="18.3.1";fX.exports=ze;var U=fX.exports;const $t=hX(U),xj=kH({__proto__:null,default:$t},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FH=U,VH=Symbol.for("react.element"),zH=Symbol.for("react.fragment"),BH=Object.prototype.hasOwnProperty,XH=FH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_H={key:!0,ref:!0,__self:!0,__source:!0};function wX(n,e,r){var o,a={},h=null,f=null;r!==void 0&&(h=""+r),e.key!==void 0&&(h=""+e.key),e.ref!==void 0&&(f=e.ref);for(o in e)BH.call(e,o)&&!_H.hasOwnProperty(o)&&(a[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:VH,type:n,key:h,ref:f,props:a,_owner:XH.current}}YP.Fragment=zH;YP.jsx=wX;YP.jsxs=wX;cX.exports=YP;var N=cX.exports,SX={exports:{}},Xo={},kX={exports:{}},PX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(dt,ht){var yt=dt.length;dt.push(ht);t:for(;0<yt;){var Dt=yt-1>>>1,qt=dt[Dt];if(0<a(qt,ht))dt[Dt]=ht,dt[yt]=qt,yt=Dt;else break t}}function r(dt){return dt.length===0?null:dt[0]}function o(dt){if(dt.length===0)return null;var ht=dt[0],yt=dt.pop();if(yt!==ht){dt[0]=yt;t:for(var Dt=0,qt=dt.length,it=qt>>>1;Dt<it;){var xe=2*(Dt+1)-1,Be=dt[xe],le=xe+1,Ni=dt[le];if(0>a(Be,yt))le<qt&&0>a(Ni,Be)?(dt[Dt]=Ni,dt[le]=yt,Dt=le):(dt[Dt]=Be,dt[xe]=yt,Dt=xe);else if(le<qt&&0>a(Ni,yt))dt[Dt]=Ni,dt[le]=yt,Dt=le;else break t}}return ht}function a(dt,ht){var yt=dt.sortIndex-ht.sortIndex;return yt!==0?yt:dt.id-ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var g=[],x=[],v=1,S=null,b=3,M=!1,j=!1,Q=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(dt){for(var ht=r(x);ht!==null;){if(ht.callback===null)o(x);else if(ht.startTime<=dt)o(x),ht.sortIndex=ht.expirationTime,e(g,ht);else break;ht=r(x)}}function D(dt){if(Q=!1,V(dt),!j)if(r(g)!==null)j=!0,Nt(X);else{var ht=r(x);ht!==null&&Rt(D,ht.startTime-dt)}}function X(dt,ht){j=!1,Q&&(Q=!1,L(tt),tt=-1),M=!0;var yt=b;try{for(V(ht),S=r(g);S!==null&&(!(S.expirationTime>ht)||dt&&!bt());){var Dt=S.callback;if(typeof Dt=="function"){S.callback=null,b=S.priorityLevel;var qt=Dt(S.expirationTime<=ht);ht=n.unstable_now(),typeof qt=="function"?S.callback=qt:S===r(g)&&o(g),V(ht)}else o(g);S=r(g)}if(S!==null)var it=!0;else{var xe=r(x);xe!==null&&Rt(D,xe.startTime-ht),it=!1}return it}finally{S=null,b=yt,M=!1}}var W=!1,K=null,tt=-1,rt=5,Ot=-1;function bt(){return!(n.unstable_now()-Ot<rt)}function wt(){if(K!==null){var dt=n.unstable_now();Ot=dt;var ht=!0;try{ht=K(!0,dt)}finally{ht?St():(W=!1,K=null)}}else W=!1}var St;if(typeof $=="function")St=function(){$(wt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Ft=mt.port2;mt.port1.onmessage=wt,St=function(){Ft.postMessage(null)}}else St=function(){R(wt,0)};function Nt(dt){K=dt,W||(W=!0,St())}function Rt(dt,ht){tt=R(function(){dt(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(dt){dt.callback=null},n.unstable_continueExecution=function(){j||M||(j=!0,Nt(X))},n.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<dt?Math.floor(1e3/dt):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return r(g)},n.unstable_next=function(dt){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var yt=b;b=ht;try{return dt()}finally{b=yt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(dt,ht){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var yt=b;b=dt;try{return ht()}finally{b=yt}},n.unstable_scheduleCallback=function(dt,ht,yt){var Dt=n.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Dt+yt:Dt):yt=Dt,dt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=yt+qt,dt={id:v++,callback:ht,priorityLevel:dt,startTime:yt,expirationTime:qt,sortIndex:-1},yt>Dt?(dt.sortIndex=yt,e(x,dt),r(g)===null&&dt===r(x)&&(Q?(L(tt),tt=-1):Q=!0,Rt(D,yt-Dt))):(dt.sortIndex=qt,e(g,dt),j||M||(j=!0,Nt(X))),dt},n.unstable_shouldYield=bt,n.unstable_wrapCallback=function(dt){var ht=b;return function(){var yt=b;b=ht;try{return dt.apply(this,arguments)}finally{b=yt}}}})(PX);kX.exports=PX;var UH=kX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZH=U,zo=UH;function Vt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bX=new Set,YO={};function Xd(n,e){yg(n,e),yg(n+"Capture",e)}function yg(n,e){for(YO[n]=e,n=0;n<e.length;n++)bX.add(e[n])}var gh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CN=Object.prototype.hasOwnProperty,YH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LI={},EI={};function WH(n){return CN.call(EI,n)?!0:CN.call(LI,n)?!1:YH.test(n)?EI[n]=!0:(LI[n]=!0,!1)}function qH(n,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function GH(n,e,r,o){if(e===null||typeof e>"u"||qH(n,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zs(n,e,r,o,a,h,f){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=h,this.removeEmptyString=f}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ur[n]=new zs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ur[e]=new zs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ur[n]=new zs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ur[n]=new zs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ur[n]=new zs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ur[n]=new zs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ur[n]=new zs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ur[n]=new zs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ur[n]=new zs(n,5,!1,n.toLowerCase(),null,!1,!1)});var wj=/[\-:]([a-z])/g;function Sj(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(wj,Sj);Ur[e]=new zs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(wj,Sj);Ur[e]=new zs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(wj,Sj);Ur[e]=new zs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ur[n]=new zs(n,1,!1,n.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new zs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ur[n]=new zs(n,1,!1,n.toLowerCase(),null,!0,!0)});function kj(n,e,r,o){var a=Ur.hasOwnProperty(e)?Ur[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GH(e,r,a,o)&&(r=null),o||a===null?WH(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):a.mustUseProperty?n[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,o=a.attributeNamespace,r===null?n.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?n.setAttributeNS(o,e,r):n.setAttribute(e,r))))}var Ch=ZH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uw=Symbol.for("react.element"),Mm=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),MN=Symbol.for("react.profiler"),TX=Symbol.for("react.provider"),CX=Symbol.for("react.context"),bj=Symbol.for("react.forward_ref"),NN=Symbol.for("react.suspense"),QN=Symbol.for("react.suspense_list"),Tj=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),MX=Symbol.for("react.offscreen"),$I=Symbol.iterator;function _0(n){return n===null||typeof n!="object"?null:(n=$I&&n[$I]||n["@@iterator"],typeof n=="function"?n:null)}var dn=Object.assign,zC;function dO(n){if(zC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zC=e&&e[1]||""}return`
`+zC+n}var BC=!1;function XC(n,e){if(!n||BC)return"";BC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var o=x}Reflect.construct(n,[],e)}else{try{e.call()}catch(x){o=x}n.call(e.prototype)}else{try{throw Error()}catch(x){o=x}n()}}catch(x){if(x&&o&&typeof x.stack=="string"){for(var a=x.stack.split(`
`),h=o.stack.split(`
`),f=a.length-1,p=h.length-1;1<=f&&0<=p&&a[f]!==h[p];)p--;for(;1<=f&&0<=p;f--,p--)if(a[f]!==h[p]){if(f!==1||p!==1)do if(f--,p--,0>p||a[f]!==h[p]){var g=`
`+a[f].replace(" at new "," at ");return n.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",n.displayName)),g}while(1<=f&&0<=p);break}}}finally{BC=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?dO(n):""}function HH(n){switch(n.tag){case 5:return dO(n.type);case 16:return dO("Lazy");case 13:return dO("Suspense");case 19:return dO("SuspenseList");case 0:case 2:case 15:return n=XC(n.type,!1),n;case 11:return n=XC(n.type.render,!1),n;case 1:return n=XC(n.type,!0),n;default:return""}}function AN(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Nm:return"Fragment";case Mm:return"Portal";case MN:return"Profiler";case Pj:return"StrictMode";case NN:return"Suspense";case QN:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case CX:return(n.displayName||"Context")+".Consumer";case TX:return(n._context.displayName||"Context")+".Provider";case bj:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Tj:return e=n.displayName||null,e!==null?e:AN(n.type)||"Memo";case hc:e=n._payload,n=n._init;try{return AN(n(e))}catch{}}return null}function KH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AN(e);case 8:return e===Pj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ic(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function NX(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JH(n){var e=NX(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,h=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return a.call(this)},set:function(f){o=""+f,h.call(this,f)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Zw(n){n._valueTracker||(n._valueTracker=JH(n))}function QX(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return n&&(o=NX(n)?n.checked?"true":"false":n.value),n=o,n!==r?(e.setValue(n),!0):!1}function Nk(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function jN(n,e){var r=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function DI(n,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=Ic(e.value!=null?e.value:r),n._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AX(n,e){e=e.checked,e!=null&&kj(n,"checked",e,!1)}function RN(n,e){AX(n,e);var r=Ic(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?LN(n,e.type,r):e.hasOwnProperty("defaultValue")&&LN(n,e.type,Ic(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function II(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function LN(n,e,r){(e!=="number"||Nk(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var pO=Array.isArray;function Ym(n,e,r,o){if(n=n.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<n.length;r++)a=e.hasOwnProperty("$"+n[r].value),n[r].selected!==a&&(n[r].selected=a),a&&o&&(n[r].defaultSelected=!0)}else{for(r=""+Ic(r),e=null,a=0;a<n.length;a++){if(n[a].value===r){n[a].selected=!0,o&&(n[a].defaultSelected=!0);return}e!==null||n[a].disabled||(e=n[a])}e!==null&&(e.selected=!0)}}function EN(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Vt(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function FI(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Vt(92));if(pO(r)){if(1<r.length)throw Error(Vt(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Ic(r)}}function jX(n,e){var r=Ic(e.value),o=Ic(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),o!=null&&(n.defaultValue=""+o)}function VI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function RX(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $N(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?RX(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Yw,LX=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,a){MSApp.execUnsafeLocalFunction(function(){return n(e,r,o,a)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Yw=Yw||document.createElement("div"),Yw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yw.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function WO(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var PO={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tK=["Webkit","ms","Moz","O"];Object.keys(PO).forEach(function(n){tK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),PO[e]=PO[n]})});function EX(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||PO.hasOwnProperty(n)&&PO[n]?(""+e).trim():e+"px"}function $X(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=EX(r,e[r],o);r==="float"&&(r="cssFloat"),o?n.setProperty(r,a):n[r]=a}}var eK=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DN(n,e){if(e){if(eK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Vt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Vt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Vt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Vt(62))}}function IN(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FN=null;function Cj(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var VN=null,Wm=null,qm=null;function zI(n){if(n=nx(n)){if(typeof VN!="function")throw Error(Vt(280));var e=n.stateNode;e&&(e=KP(e),VN(n.stateNode,n.type,e))}}function DX(n){Wm?qm?qm.push(n):qm=[n]:Wm=n}function IX(){if(Wm){var n=Wm,e=qm;if(qm=Wm=null,zI(n),e)for(n=0;n<e.length;n++)zI(e[n])}}function FX(n,e){return n(e)}function VX(){}var _C=!1;function zX(n,e,r){if(_C)return n(e,r);_C=!0;try{return FX(n,e,r)}finally{_C=!1,(Wm!==null||qm!==null)&&(VX(),IX())}}function qO(n,e){var r=n.stateNode;if(r===null)return null;var o=KP(r);if(o===null)return null;r=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Vt(231,e,typeof r));return r}var zN=!1;if(gh)try{var U0={};Object.defineProperty(U0,"passive",{get:function(){zN=!0}}),window.addEventListener("test",U0,U0),window.removeEventListener("test",U0,U0)}catch{zN=!1}function iK(n,e,r,o,a,h,f,p,g){var x=Array.prototype.slice.call(arguments,3);try{e.apply(r,x)}catch(v){this.onError(v)}}var bO=!1,Qk=null,Ak=!1,BN=null,nK={onError:function(n){bO=!0,Qk=n}};function rK(n,e,r,o,a,h,f,p,g){bO=!1,Qk=null,iK.apply(nK,arguments)}function sK(n,e,r,o,a,h,f,p,g){if(rK.apply(this,arguments),bO){if(bO){var x=Qk;bO=!1,Qk=null}else throw Error(Vt(198));Ak||(Ak=!0,BN=x)}}function _d(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function BX(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function BI(n){if(_d(n)!==n)throw Error(Vt(188))}function oK(n){var e=n.alternate;if(!e){if(e=_d(n),e===null)throw Error(Vt(188));return e!==n?null:n}for(var r=n,o=e;;){var a=r.return;if(a===null)break;var h=a.alternate;if(h===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===h.child){for(h=a.child;h;){if(h===r)return BI(a),n;if(h===o)return BI(a),e;h=h.sibling}throw Error(Vt(188))}if(r.return!==o.return)r=a,o=h;else{for(var f=!1,p=a.child;p;){if(p===r){f=!0,r=a,o=h;break}if(p===o){f=!0,o=a,r=h;break}p=p.sibling}if(!f){for(p=h.child;p;){if(p===r){f=!0,r=h,o=a;break}if(p===o){f=!0,o=h,r=a;break}p=p.sibling}if(!f)throw Error(Vt(189))}}if(r.alternate!==o)throw Error(Vt(190))}if(r.tag!==3)throw Error(Vt(188));return r.stateNode.current===r?n:e}function XX(n){return n=oK(n),n!==null?_X(n):null}function _X(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=_X(n);if(e!==null)return e;n=n.sibling}return null}var UX=zo.unstable_scheduleCallback,XI=zo.unstable_cancelCallback,lK=zo.unstable_shouldYield,aK=zo.unstable_requestPaint,Rn=zo.unstable_now,uK=zo.unstable_getCurrentPriorityLevel,Mj=zo.unstable_ImmediatePriority,ZX=zo.unstable_UserBlockingPriority,jk=zo.unstable_NormalPriority,hK=zo.unstable_LowPriority,YX=zo.unstable_IdlePriority,WP=null,cu=null;function cK(n){if(cu&&typeof cu.onCommitFiberRoot=="function")try{cu.onCommitFiberRoot(WP,n,void 0,(n.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:pK,fK=Math.log,dK=Math.LN2;function pK(n){return n>>>=0,n===0?32:31-(fK(n)/dK|0)|0}var Ww=64,qw=4194304;function mO(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Rk(n,e){var r=n.pendingLanes;if(r===0)return 0;var o=0,a=n.suspendedLanes,h=n.pingedLanes,f=r&268435455;if(f!==0){var p=f&~a;p!==0?o=mO(p):(h&=f,h!==0&&(o=mO(h)))}else f=r&~a,f!==0?o=mO(f):h!==0&&(o=mO(h));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,h=e&-e,a>=h||a===16&&(h&4194240)!==0))return e;if(o&4&&(o|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)r=31-aa(e),a=1<<r,o|=n[r],e&=~a;return o}function mK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gK(n,e){for(var r=n.suspendedLanes,o=n.pingedLanes,a=n.expirationTimes,h=n.pendingLanes;0<h;){var f=31-aa(h),p=1<<f,g=a[f];g===-1?(!(p&r)||p&o)&&(a[f]=mK(p,e)):g<=e&&(n.expiredLanes|=p),h&=~p}}function XN(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WX(){var n=Ww;return Ww<<=1,!(Ww&4194240)&&(Ww=64),n}function UC(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function ex(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-aa(e),n[e]=r}function yK(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<r;){var a=31-aa(r),h=1<<a;e[a]=0,o[a]=-1,n[a]=-1,r&=~h}}function Nj(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var o=31-aa(r),a=1<<o;a&e|n[o]&e&&(n[o]|=e),r&=~a}}var yi=0;function qX(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var GX,Qj,HX,KX,JX,_N=!1,Gw=[],Mc=null,Nc=null,Qc=null,GO=new Map,HO=new Map,pc=[],OK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _I(n,e){switch(n){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Qc=null;break;case"pointerover":case"pointerout":GO.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":HO.delete(e.pointerId)}}function Z0(n,e,r,o,a,h){return n===null||n.nativeEvent!==h?(n={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[a]},e!==null&&(e=nx(e),e!==null&&Qj(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),n)}function vK(n,e,r,o,a){switch(e){case"focusin":return Mc=Z0(Mc,n,e,r,o,a),!0;case"dragenter":return Nc=Z0(Nc,n,e,r,o,a),!0;case"mouseover":return Qc=Z0(Qc,n,e,r,o,a),!0;case"pointerover":var h=a.pointerId;return GO.set(h,Z0(GO.get(h)||null,n,e,r,o,a)),!0;case"gotpointercapture":return h=a.pointerId,HO.set(h,Z0(HO.get(h)||null,n,e,r,o,a)),!0}return!1}function t_(n){var e=ld(n.target);if(e!==null){var r=_d(e);if(r!==null){if(e=r.tag,e===13){if(e=BX(r),e!==null){n.blockedOn=e,JX(n.priority,function(){HX(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function US(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=UN(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);FN=o,r.target.dispatchEvent(o),FN=null}else return e=nx(r),e!==null&&Qj(e),n.blockedOn=r,!1;e.shift()}return!0}function UI(n,e,r){US(n)&&r.delete(e)}function xK(){_N=!1,Mc!==null&&US(Mc)&&(Mc=null),Nc!==null&&US(Nc)&&(Nc=null),Qc!==null&&US(Qc)&&(Qc=null),GO.forEach(UI),HO.forEach(UI)}function Y0(n,e){n.blockedOn===e&&(n.blockedOn=null,_N||(_N=!0,zo.unstable_scheduleCallback(zo.unstable_NormalPriority,xK)))}function KO(n){function e(a){return Y0(a,n)}if(0<Gw.length){Y0(Gw[0],n);for(var r=1;r<Gw.length;r++){var o=Gw[r];o.blockedOn===n&&(o.blockedOn=null)}}for(Mc!==null&&Y0(Mc,n),Nc!==null&&Y0(Nc,n),Qc!==null&&Y0(Qc,n),GO.forEach(e),HO.forEach(e),r=0;r<pc.length;r++)o=pc[r],o.blockedOn===n&&(o.blockedOn=null);for(;0<pc.length&&(r=pc[0],r.blockedOn===null);)t_(r),r.blockedOn===null&&pc.shift()}var Gm=Ch.ReactCurrentBatchConfig,Lk=!0;function wK(n,e,r,o){var a=yi,h=Gm.transition;Gm.transition=null;try{yi=1,Aj(n,e,r,o)}finally{yi=a,Gm.transition=h}}function SK(n,e,r,o){var a=yi,h=Gm.transition;Gm.transition=null;try{yi=4,Aj(n,e,r,o)}finally{yi=a,Gm.transition=h}}function Aj(n,e,r,o){if(Lk){var a=UN(n,e,r,o);if(a===null)eM(n,e,o,Ek,r),_I(n,o);else if(vK(a,n,e,r,o))o.stopPropagation();else if(_I(n,o),e&4&&-1<OK.indexOf(n)){for(;a!==null;){var h=nx(a);if(h!==null&&GX(h),h=UN(n,e,r,o),h===null&&eM(n,e,o,Ek,r),h===a)break;a=h}a!==null&&o.stopPropagation()}else eM(n,e,o,null,r)}}var Ek=null;function UN(n,e,r,o){if(Ek=null,n=Cj(o),n=ld(n),n!==null)if(e=_d(n),e===null)n=null;else if(r=e.tag,r===13){if(n=BX(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ek=n,null}function e_(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uK()){case Mj:return 1;case ZX:return 4;case jk:case hK:return 16;case YX:return 536870912;default:return 16}default:return 16}}var Sc=null,jj=null,ZS=null;function i_(){if(ZS)return ZS;var n,e=jj,r=e.length,o,a="value"in Sc?Sc.value:Sc.textContent,h=a.length;for(n=0;n<r&&e[n]===a[n];n++);var f=r-n;for(o=1;o<=f&&e[r-o]===a[h-o];o++);return ZS=a.slice(n,1<o?1-o:void 0)}function YS(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Hw(){return!0}function ZI(){return!1}function _o(n){function e(r,o,a,h,f){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var p in n)n.hasOwnProperty(p)&&(r=n[p],this[p]=r?r(h):h[p]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Hw:ZI,this.isPropagationStopped=ZI,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hw)},persist:function(){},isPersistent:Hw}),e}var Xg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rj=_o(Xg),ix=dn({},Xg,{view:0,detail:0}),kK=_o(ix),ZC,YC,W0,qP=dn({},ix,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lj,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==W0&&(W0&&n.type==="mousemove"?(ZC=n.screenX-W0.screenX,YC=n.screenY-W0.screenY):YC=ZC=0,W0=n),ZC)},movementY:function(n){return"movementY"in n?n.movementY:YC}}),YI=_o(qP),PK=dn({},qP,{dataTransfer:0}),bK=_o(PK),TK=dn({},ix,{relatedTarget:0}),WC=_o(TK),CK=dn({},Xg,{animationName:0,elapsedTime:0,pseudoElement:0}),MK=_o(CK),NK=dn({},Xg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),QK=_o(NK),AK=dn({},Xg,{data:0}),WI=_o(AK),jK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LK[n])?!!e[n]:!1}function Lj(){return EK}var $K=dn({},ix,{key:function(n){if(n.key){var e=jK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=YS(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?RK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lj,charCode:function(n){return n.type==="keypress"?YS(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?YS(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),DK=_o($K),IK=dn({},qP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qI=_o(IK),FK=dn({},ix,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lj}),VK=_o(FK),zK=dn({},Xg,{propertyName:0,elapsedTime:0,pseudoElement:0}),BK=_o(zK),XK=dn({},qP,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_K=_o(XK),UK=[9,13,27,32],Ej=gh&&"CompositionEvent"in window,TO=null;gh&&"documentMode"in document&&(TO=document.documentMode);var ZK=gh&&"TextEvent"in window&&!TO,n_=gh&&(!Ej||TO&&8<TO&&11>=TO),GI=" ",HI=!1;function r_(n,e){switch(n){case"keyup":return UK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qm=!1;function YK(n,e){switch(n){case"compositionend":return s_(e);case"keypress":return e.which!==32?null:(HI=!0,GI);case"textInput":return n=e.data,n===GI&&HI?null:n;default:return null}}function WK(n,e){if(Qm)return n==="compositionend"||!Ej&&r_(n,e)?(n=i_(),ZS=jj=Sc=null,Qm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n_&&e.locale!=="ko"?null:e.data;default:return null}}var qK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!qK[n.type]:e==="textarea"}function o_(n,e,r,o){DX(o),e=$k(e,"onChange"),0<e.length&&(r=new Rj("onChange","change",null,r,o),n.push({event:r,listeners:e}))}var CO=null,JO=null;function GK(n){y_(n,0)}function GP(n){var e=Rm(n);if(QX(e))return n}function HK(n,e){if(n==="change")return e}var l_=!1;if(gh){var qC;if(gh){var GC="oninput"in document;if(!GC){var JI=document.createElement("div");JI.setAttribute("oninput","return;"),GC=typeof JI.oninput=="function"}qC=GC}else qC=!1;l_=qC&&(!document.documentMode||9<document.documentMode)}function tF(){CO&&(CO.detachEvent("onpropertychange",a_),JO=CO=null)}function a_(n){if(n.propertyName==="value"&&GP(JO)){var e=[];o_(e,JO,n,Cj(n)),zX(GK,e)}}function KK(n,e,r){n==="focusin"?(tF(),CO=e,JO=r,CO.attachEvent("onpropertychange",a_)):n==="focusout"&&tF()}function JK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return GP(JO)}function tJ(n,e){if(n==="click")return GP(e)}function eJ(n,e){if(n==="input"||n==="change")return GP(e)}function iJ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ca=typeof Object.is=="function"?Object.is:iJ;function tv(n,e){if(ca(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!CN.call(e,a)||!ca(n[a],e[a]))return!1}return!0}function eF(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iF(n,e){var r=eF(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=e&&o>=e)return{node:r,offset:e-n};n=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=eF(r)}}function u_(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?u_(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function h_(){for(var n=window,e=Nk();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=Nk(n.document)}return e}function $j(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function nJ(n){var e=h_(),r=n.focusedElem,o=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&u_(r.ownerDocument.documentElement,r)){if(o!==null&&$j(r)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var a=r.textContent.length,h=Math.min(o.start,a);o=o.end===void 0?h:Math.min(o.end,a),!n.extend&&h>o&&(a=o,o=h,h=a),a=iF(r,h);var f=iF(r,o);a&&f&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==f.node||n.focusOffset!==f.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),n.removeAllRanges(),h>o?(n.addRange(e),n.extend(f.node,f.offset)):(e.setEnd(f.node,f.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rJ=gh&&"documentMode"in document&&11>=document.documentMode,Am=null,ZN=null,MO=null,YN=!1;function nF(n,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;YN||Am==null||Am!==Nk(o)||(o=Am,"selectionStart"in o&&$j(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),MO&&tv(MO,o)||(MO=o,o=$k(ZN,"onSelect"),0<o.length&&(e=new Rj("onSelect","select",null,e,r),n.push({event:e,listeners:o}),e.target=Am)))}function Kw(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var jm={animationend:Kw("Animation","AnimationEnd"),animationiteration:Kw("Animation","AnimationIteration"),animationstart:Kw("Animation","AnimationStart"),transitionend:Kw("Transition","TransitionEnd")},HC={},c_={};gh&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete jm.animationend.animation,delete jm.animationiteration.animation,delete jm.animationstart.animation),"TransitionEvent"in window||delete jm.transitionend.transition);function HP(n){if(HC[n])return HC[n];if(!jm[n])return n;var e=jm[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in c_)return HC[n]=e[r];return n}var f_=HP("animationend"),d_=HP("animationiteration"),p_=HP("animationstart"),m_=HP("transitionend"),g_=new Map,rF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tf(n,e){g_.set(n,e),Xd(e,[n])}for(var KC=0;KC<rF.length;KC++){var JC=rF[KC],sJ=JC.toLowerCase(),oJ=JC[0].toUpperCase()+JC.slice(1);tf(sJ,"on"+oJ)}tf(f_,"onAnimationEnd");tf(d_,"onAnimationIteration");tf(p_,"onAnimationStart");tf("dblclick","onDoubleClick");tf("focusin","onFocus");tf("focusout","onBlur");tf(m_,"onTransitionEnd");yg("onMouseEnter",["mouseout","mouseover"]);yg("onMouseLeave",["mouseout","mouseover"]);yg("onPointerEnter",["pointerout","pointerover"]);yg("onPointerLeave",["pointerout","pointerover"]);Xd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gO="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(gO));function sF(n,e,r){var o=n.type||"unknown-event";n.currentTarget=r,sK(o,e,void 0,n),n.currentTarget=null}function y_(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],a=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var f=o.length-1;0<=f;f--){var p=o[f],g=p.instance,x=p.currentTarget;if(p=p.listener,g!==h&&a.isPropagationStopped())break t;sF(a,p,x),h=g}else for(f=0;f<o.length;f++){if(p=o[f],g=p.instance,x=p.currentTarget,p=p.listener,g!==h&&a.isPropagationStopped())break t;sF(a,p,x),h=g}}}if(Ak)throw n=BN,Ak=!1,BN=null,n}function zi(n,e){var r=e[KN];r===void 0&&(r=e[KN]=new Set);var o=n+"__bubble";r.has(o)||(O_(e,n,2,!1),r.add(o))}function tM(n,e,r){var o=0;e&&(o|=4),O_(r,n,o,e)}var Jw="_reactListening"+Math.random().toString(36).slice(2);function ev(n){if(!n[Jw]){n[Jw]=!0,bX.forEach(function(r){r!=="selectionchange"&&(lJ.has(r)||tM(r,!1,n),tM(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Jw]||(e[Jw]=!0,tM("selectionchange",!1,e))}}function O_(n,e,r,o){switch(e_(e)){case 1:var a=wK;break;case 4:a=SK;break;default:a=Aj}r=a.bind(null,e,r,n),a=void 0,!zN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?n.addEventListener(e,r,{capture:!0,passive:a}):n.addEventListener(e,r,!0):a!==void 0?n.addEventListener(e,r,{passive:a}):n.addEventListener(e,r,!1)}function eM(n,e,r,o,a){var h=o;if(!(e&1)&&!(e&2)&&o!==null)t:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(f===4)for(f=o.return;f!==null;){var g=f.tag;if((g===3||g===4)&&(g=f.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;f=f.return}for(;p!==null;){if(f=ld(p),f===null)return;if(g=f.tag,g===5||g===6){o=h=f;continue t}p=p.parentNode}}o=o.return}zX(function(){var x=h,v=Cj(r),S=[];t:{var b=g_.get(n);if(b!==void 0){var M=Rj,j=n;switch(n){case"keypress":if(YS(r)===0)break t;case"keydown":case"keyup":M=DK;break;case"focusin":j="focus",M=WC;break;case"focusout":j="blur",M=WC;break;case"beforeblur":case"afterblur":M=WC;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=YI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=bK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=VK;break;case f_:case d_:case p_:M=MK;break;case m_:M=BK;break;case"scroll":M=kK;break;case"wheel":M=_K;break;case"copy":case"cut":case"paste":M=QK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=qI}var Q=(e&4)!==0,R=!Q&&n==="scroll",L=Q?b!==null?b+"Capture":null:b;Q=[];for(var $=x,V;$!==null;){V=$;var D=V.stateNode;if(V.tag===5&&D!==null&&(V=D,L!==null&&(D=qO($,L),D!=null&&Q.push(iv($,D,V)))),R)break;$=$.return}0<Q.length&&(b=new M(b,j,null,r,v),S.push({event:b,listeners:Q}))}}if(!(e&7)){t:{if(b=n==="mouseover"||n==="pointerover",M=n==="mouseout"||n==="pointerout",b&&r!==FN&&(j=r.relatedTarget||r.fromElement)&&(ld(j)||j[yh]))break t;if((M||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,M?(j=r.relatedTarget||r.toElement,M=x,j=j?ld(j):null,j!==null&&(R=_d(j),j!==R||j.tag!==5&&j.tag!==6)&&(j=null)):(M=null,j=x),M!==j)){if(Q=YI,D="onMouseLeave",L="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(Q=qI,D="onPointerLeave",L="onPointerEnter",$="pointer"),R=M==null?b:Rm(M),V=j==null?b:Rm(j),b=new Q(D,$+"leave",M,r,v),b.target=R,b.relatedTarget=V,D=null,ld(v)===x&&(Q=new Q(L,$+"enter",j,r,v),Q.target=V,Q.relatedTarget=R,D=Q),R=D,M&&j)e:{for(Q=M,L=j,$=0,V=Q;V;V=Sm(V))$++;for(V=0,D=L;D;D=Sm(D))V++;for(;0<$-V;)Q=Sm(Q),$--;for(;0<V-$;)L=Sm(L),V--;for(;$--;){if(Q===L||L!==null&&Q===L.alternate)break e;Q=Sm(Q),L=Sm(L)}Q=null}else Q=null;M!==null&&oF(S,b,M,Q,!1),j!==null&&R!==null&&oF(S,R,j,Q,!0)}}t:{if(b=x?Rm(x):window,M=b.nodeName&&b.nodeName.toLowerCase(),M==="select"||M==="input"&&b.type==="file")var X=HK;else if(KI(b))if(l_)X=eJ;else{X=JK;var W=KK}else(M=b.nodeName)&&M.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(X=tJ);if(X&&(X=X(n,x))){o_(S,X,r,v);break t}W&&W(n,b,x),n==="focusout"&&(W=b._wrapperState)&&W.controlled&&b.type==="number"&&LN(b,"number",b.value)}switch(W=x?Rm(x):window,n){case"focusin":(KI(W)||W.contentEditable==="true")&&(Am=W,ZN=x,MO=null);break;case"focusout":MO=ZN=Am=null;break;case"mousedown":YN=!0;break;case"contextmenu":case"mouseup":case"dragend":YN=!1,nF(S,r,v);break;case"selectionchange":if(rJ)break;case"keydown":case"keyup":nF(S,r,v)}var K;if(Ej)t:{switch(n){case"compositionstart":var tt="onCompositionStart";break t;case"compositionend":tt="onCompositionEnd";break t;case"compositionupdate":tt="onCompositionUpdate";break t}tt=void 0}else Qm?r_(n,r)&&(tt="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(tt="onCompositionStart");tt&&(n_&&r.locale!=="ko"&&(Qm||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Qm&&(K=i_()):(Sc=v,jj="value"in Sc?Sc.value:Sc.textContent,Qm=!0)),W=$k(x,tt),0<W.length&&(tt=new WI(tt,n,null,r,v),S.push({event:tt,listeners:W}),K?tt.data=K:(K=s_(r),K!==null&&(tt.data=K)))),(K=ZK?YK(n,r):WK(n,r))&&(x=$k(x,"onBeforeInput"),0<x.length&&(v=new WI("onBeforeInput","beforeinput",null,r,v),S.push({event:v,listeners:x}),v.data=K))}y_(S,e)})}function iv(n,e,r){return{instance:n,listener:e,currentTarget:r}}function $k(n,e){for(var r=e+"Capture",o=[];n!==null;){var a=n,h=a.stateNode;a.tag===5&&h!==null&&(a=h,h=qO(n,r),h!=null&&o.unshift(iv(n,h,a)),h=qO(n,e),h!=null&&o.push(iv(n,h,a))),n=n.return}return o}function Sm(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function oF(n,e,r,o,a){for(var h=e._reactName,f=[];r!==null&&r!==o;){var p=r,g=p.alternate,x=p.stateNode;if(g!==null&&g===o)break;p.tag===5&&x!==null&&(p=x,a?(g=qO(r,h),g!=null&&f.unshift(iv(r,g,p))):a||(g=qO(r,h),g!=null&&f.push(iv(r,g,p)))),r=r.return}f.length!==0&&n.push({event:e,listeners:f})}var aJ=/\r\n?/g,uJ=/\u0000|\uFFFD/g;function lF(n){return(typeof n=="string"?n:""+n).replace(aJ,`
`).replace(uJ,"")}function tS(n,e,r){if(e=lF(e),lF(n)!==e&&r)throw Error(Vt(425))}function Dk(){}var WN=null,qN=null;function GN(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var HN=typeof setTimeout=="function"?setTimeout:void 0,hJ=typeof clearTimeout=="function"?clearTimeout:void 0,aF=typeof Promise=="function"?Promise:void 0,cJ=typeof queueMicrotask=="function"?queueMicrotask:typeof aF<"u"?function(n){return aF.resolve(null).then(n).catch(fJ)}:HN;function fJ(n){setTimeout(function(){throw n})}function iM(n,e){var r=e,o=0;do{var a=r.nextSibling;if(n.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){n.removeChild(a),KO(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);KO(e)}function Ac(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var _g=Math.random().toString(36).slice(2),ru="__reactFiber$"+_g,nv="__reactProps$"+_g,yh="__reactContainer$"+_g,KN="__reactEvents$"+_g,dJ="__reactListeners$"+_g,pJ="__reactHandles$"+_g;function ld(n){var e=n[ru];if(e)return e;for(var r=n.parentNode;r;){if(e=r[yh]||r[ru]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=uF(n);n!==null;){if(r=n[ru])return r;n=uF(n)}return e}n=r,r=n.parentNode}return null}function nx(n){return n=n[ru]||n[yh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rm(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Vt(33))}function KP(n){return n[nv]||null}var JN=[],Lm=-1;function ef(n){return{current:n}}function Xi(n){0>Lm||(n.current=JN[Lm],JN[Lm]=null,Lm--)}function Li(n,e){Lm++,JN[Lm]=n.current,n.current=e}var Fc={},Os=ef(Fc),ao=ef(!1),Cd=Fc;function Og(n,e){var r=n.type.contextTypes;if(!r)return Fc;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},h;for(h in r)a[h]=e[h];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=a),a}function uo(n){return n=n.childContextTypes,n!=null}function Ik(){Xi(ao),Xi(Os)}function hF(n,e,r){if(Os.current!==Fc)throw Error(Vt(168));Li(Os,e),Li(ao,r)}function v_(n,e,r){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(Vt(108,KH(n)||"Unknown",a));return dn({},r,o)}function Fk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fc,Cd=Os.current,Li(Os,n),Li(ao,ao.current),!0}function cF(n,e,r){var o=n.stateNode;if(!o)throw Error(Vt(169));r?(n=v_(n,e,Cd),o.__reactInternalMemoizedMergedChildContext=n,Xi(ao),Xi(Os),Li(Os,n)):Xi(ao),Li(ao,r)}var oh=null,JP=!1,nM=!1;function x_(n){oh===null?oh=[n]:oh.push(n)}function mJ(n){JP=!0,x_(n)}function nf(){if(!nM&&oh!==null){nM=!0;var n=0,e=yi;try{var r=oh;for(yi=1;n<r.length;n++){var o=r[n];do o=o(!0);while(o!==null)}oh=null,JP=!1}catch(a){throw oh!==null&&(oh=oh.slice(n+1)),UX(Mj,nf),a}finally{yi=e,nM=!1}}return null}var Em=[],$m=0,Vk=null,zk=0,Ol=[],vl=0,Md=null,hh=1,ch="";function id(n,e){Em[$m++]=zk,Em[$m++]=Vk,Vk=n,zk=e}function w_(n,e,r){Ol[vl++]=hh,Ol[vl++]=ch,Ol[vl++]=Md,Md=n;var o=hh;n=ch;var a=32-aa(o)-1;o&=~(1<<a),r+=1;var h=32-aa(e)+a;if(30<h){var f=a-a%5;h=(o&(1<<f)-1).toString(32),o>>=f,a-=f,hh=1<<32-aa(e)+a|r<<a|o,ch=h+n}else hh=1<<h|r<<a|o,ch=n}function Dj(n){n.return!==null&&(id(n,1),w_(n,1,0))}function Ij(n){for(;n===Vk;)Vk=Em[--$m],Em[$m]=null,zk=Em[--$m],Em[$m]=null;for(;n===Md;)Md=Ol[--vl],Ol[vl]=null,ch=Ol[--vl],Ol[vl]=null,hh=Ol[--vl],Ol[vl]=null}var Fo=null,$o=null,Gi=!1,la=null;function S_(n,e){var r=xl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function fF(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fo=n,$o=Ac(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fo=n,$o=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Md!==null?{id:hh,overflow:ch}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=xl(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Fo=n,$o=null,!0):!1;default:return!1}}function tQ(n){return(n.mode&1)!==0&&(n.flags&128)===0}function eQ(n){if(Gi){var e=$o;if(e){var r=e;if(!fF(n,e)){if(tQ(n))throw Error(Vt(418));e=Ac(r.nextSibling);var o=Fo;e&&fF(n,e)?S_(o,r):(n.flags=n.flags&-4097|2,Gi=!1,Fo=n)}}else{if(tQ(n))throw Error(Vt(418));n.flags=n.flags&-4097|2,Gi=!1,Fo=n}}}function dF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fo=n}function eS(n){if(n!==Fo)return!1;if(!Gi)return dF(n),Gi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!GN(n.type,n.memoizedProps)),e&&(e=$o)){if(tQ(n))throw k_(),Error(Vt(418));for(;e;)S_(n,e),e=Ac(e.nextSibling)}if(dF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Vt(317));t:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){$o=Ac(n.nextSibling);break t}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}$o=null}}else $o=Fo?Ac(n.stateNode.nextSibling):null;return!0}function k_(){for(var n=$o;n;)n=Ac(n.nextSibling)}function vg(){$o=Fo=null,Gi=!1}function Fj(n){la===null?la=[n]:la.push(n)}var gJ=Ch.ReactCurrentBatchConfig;function q0(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Vt(309));var o=r.stateNode}if(!o)throw Error(Vt(147,n));var a=o,h=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===h?e.ref:(e=function(f){var p=a.refs;f===null?delete p[h]:p[h]=f},e._stringRef=h,e)}if(typeof n!="string")throw Error(Vt(284));if(!r._owner)throw Error(Vt(290,n))}return n}function iS(n,e){throw n=Object.prototype.toString.call(e),Error(Vt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function pF(n){var e=n._init;return e(n._payload)}function P_(n){function e(L,$){if(n){var V=L.deletions;V===null?(L.deletions=[$],L.flags|=16):V.push($)}}function r(L,$){if(!n)return null;for(;$!==null;)e(L,$),$=$.sibling;return null}function o(L,$){for(L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function a(L,$){return L=Ec(L,$),L.index=0,L.sibling=null,L}function h(L,$,V){return L.index=V,n?(V=L.alternate,V!==null?(V=V.index,V<$?(L.flags|=2,$):V):(L.flags|=2,$)):(L.flags|=1048576,$)}function f(L){return n&&L.alternate===null&&(L.flags|=2),L}function p(L,$,V,D){return $===null||$.tag!==6?($=hM(V,L.mode,D),$.return=L,$):($=a($,V),$.return=L,$)}function g(L,$,V,D){var X=V.type;return X===Nm?v(L,$,V.props.children,D,V.key):$!==null&&($.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===hc&&pF(X)===$.type)?(D=a($,V.props),D.ref=q0(L,$,V),D.return=L,D):(D=tk(V.type,V.key,V.props,null,L.mode,D),D.ref=q0(L,$,V),D.return=L,D)}function x(L,$,V,D){return $===null||$.tag!==4||$.stateNode.containerInfo!==V.containerInfo||$.stateNode.implementation!==V.implementation?($=cM(V,L.mode,D),$.return=L,$):($=a($,V.children||[]),$.return=L,$)}function v(L,$,V,D,X){return $===null||$.tag!==7?($=Sd(V,L.mode,D,X),$.return=L,$):($=a($,V),$.return=L,$)}function S(L,$,V){if(typeof $=="string"&&$!==""||typeof $=="number")return $=hM(""+$,L.mode,V),$.return=L,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Uw:return V=tk($.type,$.key,$.props,null,L.mode,V),V.ref=q0(L,null,$),V.return=L,V;case Mm:return $=cM($,L.mode,V),$.return=L,$;case hc:var D=$._init;return S(L,D($._payload),V)}if(pO($)||_0($))return $=Sd($,L.mode,V,null),$.return=L,$;iS(L,$)}return null}function b(L,$,V,D){var X=$!==null?$.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return X!==null?null:p(L,$,""+V,D);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Uw:return V.key===X?g(L,$,V,D):null;case Mm:return V.key===X?x(L,$,V,D):null;case hc:return X=V._init,b(L,$,X(V._payload),D)}if(pO(V)||_0(V))return X!==null?null:v(L,$,V,D,null);iS(L,V)}return null}function M(L,$,V,D,X){if(typeof D=="string"&&D!==""||typeof D=="number")return L=L.get(V)||null,p($,L,""+D,X);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Uw:return L=L.get(D.key===null?V:D.key)||null,g($,L,D,X);case Mm:return L=L.get(D.key===null?V:D.key)||null,x($,L,D,X);case hc:var W=D._init;return M(L,$,V,W(D._payload),X)}if(pO(D)||_0(D))return L=L.get(V)||null,v($,L,D,X,null);iS($,D)}return null}function j(L,$,V,D){for(var X=null,W=null,K=$,tt=$=0,rt=null;K!==null&&tt<V.length;tt++){K.index>tt?(rt=K,K=null):rt=K.sibling;var Ot=b(L,K,V[tt],D);if(Ot===null){K===null&&(K=rt);break}n&&K&&Ot.alternate===null&&e(L,K),$=h(Ot,$,tt),W===null?X=Ot:W.sibling=Ot,W=Ot,K=rt}if(tt===V.length)return r(L,K),Gi&&id(L,tt),X;if(K===null){for(;tt<V.length;tt++)K=S(L,V[tt],D),K!==null&&($=h(K,$,tt),W===null?X=K:W.sibling=K,W=K);return Gi&&id(L,tt),X}for(K=o(L,K);tt<V.length;tt++)rt=M(K,L,tt,V[tt],D),rt!==null&&(n&&rt.alternate!==null&&K.delete(rt.key===null?tt:rt.key),$=h(rt,$,tt),W===null?X=rt:W.sibling=rt,W=rt);return n&&K.forEach(function(bt){return e(L,bt)}),Gi&&id(L,tt),X}function Q(L,$,V,D){var X=_0(V);if(typeof X!="function")throw Error(Vt(150));if(V=X.call(V),V==null)throw Error(Vt(151));for(var W=X=null,K=$,tt=$=0,rt=null,Ot=V.next();K!==null&&!Ot.done;tt++,Ot=V.next()){K.index>tt?(rt=K,K=null):rt=K.sibling;var bt=b(L,K,Ot.value,D);if(bt===null){K===null&&(K=rt);break}n&&K&&bt.alternate===null&&e(L,K),$=h(bt,$,tt),W===null?X=bt:W.sibling=bt,W=bt,K=rt}if(Ot.done)return r(L,K),Gi&&id(L,tt),X;if(K===null){for(;!Ot.done;tt++,Ot=V.next())Ot=S(L,Ot.value,D),Ot!==null&&($=h(Ot,$,tt),W===null?X=Ot:W.sibling=Ot,W=Ot);return Gi&&id(L,tt),X}for(K=o(L,K);!Ot.done;tt++,Ot=V.next())Ot=M(K,L,tt,Ot.value,D),Ot!==null&&(n&&Ot.alternate!==null&&K.delete(Ot.key===null?tt:Ot.key),$=h(Ot,$,tt),W===null?X=Ot:W.sibling=Ot,W=Ot);return n&&K.forEach(function(wt){return e(L,wt)}),Gi&&id(L,tt),X}function R(L,$,V,D){if(typeof V=="object"&&V!==null&&V.type===Nm&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case Uw:t:{for(var X=V.key,W=$;W!==null;){if(W.key===X){if(X=V.type,X===Nm){if(W.tag===7){r(L,W.sibling),$=a(W,V.props.children),$.return=L,L=$;break t}}else if(W.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===hc&&pF(X)===W.type){r(L,W.sibling),$=a(W,V.props),$.ref=q0(L,W,V),$.return=L,L=$;break t}r(L,W);break}else e(L,W);W=W.sibling}V.type===Nm?($=Sd(V.props.children,L.mode,D,V.key),$.return=L,L=$):(D=tk(V.type,V.key,V.props,null,L.mode,D),D.ref=q0(L,$,V),D.return=L,L=D)}return f(L);case Mm:t:{for(W=V.key;$!==null;){if($.key===W)if($.tag===4&&$.stateNode.containerInfo===V.containerInfo&&$.stateNode.implementation===V.implementation){r(L,$.sibling),$=a($,V.children||[]),$.return=L,L=$;break t}else{r(L,$);break}else e(L,$);$=$.sibling}$=cM(V,L.mode,D),$.return=L,L=$}return f(L);case hc:return W=V._init,R(L,$,W(V._payload),D)}if(pO(V))return j(L,$,V,D);if(_0(V))return Q(L,$,V,D);iS(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,$!==null&&$.tag===6?(r(L,$.sibling),$=a($,V),$.return=L,L=$):(r(L,$),$=hM(V,L.mode,D),$.return=L,L=$),f(L)):r(L,$)}return R}var xg=P_(!0),b_=P_(!1),Bk=ef(null),Xk=null,Dm=null,Vj=null;function zj(){Vj=Dm=Xk=null}function Bj(n){var e=Bk.current;Xi(Bk),n._currentValue=e}function iQ(n,e,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===r)break;n=n.return}}function Hm(n,e){Xk=n,Vj=Dm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ro=!0),n.firstContext=null)}function Ml(n){var e=n._currentValue;if(Vj!==n)if(n={context:n,memoizedValue:e,next:null},Dm===null){if(Xk===null)throw Error(Vt(308));Dm=n,Xk.dependencies={lanes:0,firstContext:n}}else Dm=Dm.next=n;return e}var ad=null;function Xj(n){ad===null?ad=[n]:ad.push(n)}function T_(n,e,r,o){var a=e.interleaved;return a===null?(r.next=r,Xj(e)):(r.next=a.next,a.next=r),e.interleaved=r,Oh(n,o)}function Oh(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var cc=!1;function _j(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function jc(n,e,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,oi&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Oh(n,r)}return a=o.interleaved,a===null?(e.next=e,Xj(o)):(e.next=a.next,a.next=e),o.interleaved=e,Oh(n,r)}function WS(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,r|=o,e.lanes=r,Nj(n,r)}}function mF(n,e){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?a=h=f:h=h.next=f,r=r.next}while(r!==null);h===null?a=h=e:h=h.next=e}else a=h=e;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:h,shared:o.shared,effects:o.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function _k(n,e,r,o){var a=n.updateQueue;cc=!1;var h=a.firstBaseUpdate,f=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var g=p,x=g.next;g.next=null,f===null?h=x:f.next=x,f=g;var v=n.alternate;v!==null&&(v=v.updateQueue,p=v.lastBaseUpdate,p!==f&&(p===null?v.firstBaseUpdate=x:p.next=x,v.lastBaseUpdate=g))}if(h!==null){var S=a.baseState;f=0,v=x=g=null,p=h;do{var b=p.lane,M=p.eventTime;if((o&b)===b){v!==null&&(v=v.next={eventTime:M,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});t:{var j=n,Q=p;switch(b=e,M=r,Q.tag){case 1:if(j=Q.payload,typeof j=="function"){S=j.call(M,S,b);break t}S=j;break t;case 3:j.flags=j.flags&-65537|128;case 0:if(j=Q.payload,b=typeof j=="function"?j.call(M,S,b):j,b==null)break t;S=dn({},S,b);break t;case 2:cc=!0}}p.callback!==null&&p.lane!==0&&(n.flags|=64,b=a.effects,b===null?a.effects=[p]:b.push(p))}else M={eventTime:M,lane:b,tag:p.tag,payload:p.payload,callback:p.callback,next:null},v===null?(x=v=M,g=S):v=v.next=M,f|=b;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;b=p,p=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(v===null&&(g=S),a.baseState=g,a.firstBaseUpdate=x,a.lastBaseUpdate=v,e=a.shared.interleaved,e!==null){a=e;do f|=a.lane,a=a.next;while(a!==e)}else h===null&&(a.shared.lanes=0);Qd|=f,n.lanes=f,n.memoizedState=S}}function gF(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(Vt(191,a));a.call(o)}}}var rx={},fu=ef(rx),rv=ef(rx),sv=ef(rx);function ud(n){if(n===rx)throw Error(Vt(174));return n}function Uj(n,e){switch(Li(sv,e),Li(rv,n),Li(fu,rx),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$N(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$N(e,n)}Xi(fu),Li(fu,e)}function wg(){Xi(fu),Xi(rv),Xi(sv)}function M_(n){ud(sv.current);var e=ud(fu.current),r=$N(e,n.type);e!==r&&(Li(rv,n),Li(fu,r))}function Zj(n){rv.current===n&&(Xi(fu),Xi(rv))}var hn=ef(0);function Uk(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rM=[];function Yj(){for(var n=0;n<rM.length;n++)rM[n]._workInProgressVersionPrimary=null;rM.length=0}var qS=Ch.ReactCurrentDispatcher,sM=Ch.ReactCurrentBatchConfig,Nd=0,cn=null,ar=null,wr=null,Zk=!1,NO=!1,ov=0,yJ=0;function us(){throw Error(Vt(321))}function Wj(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!ca(n[r],e[r]))return!1;return!0}function qj(n,e,r,o,a,h){if(Nd=h,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qS.current=n===null||n.memoizedState===null?wJ:SJ,n=r(o,a),NO){h=0;do{if(NO=!1,ov=0,25<=h)throw Error(Vt(301));h+=1,wr=ar=null,e.updateQueue=null,qS.current=kJ,n=r(o,a)}while(NO)}if(qS.current=Yk,e=ar!==null&&ar.next!==null,Nd=0,wr=ar=cn=null,Zk=!1,e)throw Error(Vt(300));return n}function Gj(){var n=ov!==0;return ov=0,n}function tu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?cn.memoizedState=wr=n:wr=wr.next=n,wr}function Nl(){if(ar===null){var n=cn.alternate;n=n!==null?n.memoizedState:null}else n=ar.next;var e=wr===null?cn.memoizedState:wr.next;if(e!==null)wr=e,ar=n;else{if(n===null)throw Error(Vt(310));ar=n,n={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},wr===null?cn.memoizedState=wr=n:wr=wr.next=n}return wr}function lv(n,e){return typeof e=="function"?e(n):e}function oM(n){var e=Nl(),r=e.queue;if(r===null)throw Error(Vt(311));r.lastRenderedReducer=n;var o=ar,a=o.baseQueue,h=r.pending;if(h!==null){if(a!==null){var f=a.next;a.next=h.next,h.next=f}o.baseQueue=a=h,r.pending=null}if(a!==null){h=a.next,o=o.baseState;var p=f=null,g=null,x=h;do{var v=x.lane;if((Nd&v)===v)g!==null&&(g=g.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),o=x.hasEagerState?x.eagerState:n(o,x.action);else{var S={lane:v,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};g===null?(p=g=S,f=o):g=g.next=S,cn.lanes|=v,Qd|=v}x=x.next}while(x!==null&&x!==h);g===null?f=o:g.next=p,ca(o,e.memoizedState)||(ro=!0),e.memoizedState=o,e.baseState=f,e.baseQueue=g,r.lastRenderedState=o}if(n=r.interleaved,n!==null){a=n;do h=a.lane,cn.lanes|=h,Qd|=h,a=a.next;while(a!==n)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lM(n){var e=Nl(),r=e.queue;if(r===null)throw Error(Vt(311));r.lastRenderedReducer=n;var o=r.dispatch,a=r.pending,h=e.memoizedState;if(a!==null){r.pending=null;var f=a=a.next;do h=n(h,f.action),f=f.next;while(f!==a);ca(h,e.memoizedState)||(ro=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),r.lastRenderedState=h}return[h,o]}function N_(){}function Q_(n,e){var r=cn,o=Nl(),a=e(),h=!ca(o.memoizedState,a);if(h&&(o.memoizedState=a,ro=!0),o=o.queue,Hj(R_.bind(null,r,o,n),[n]),o.getSnapshot!==e||h||wr!==null&&wr.memoizedState.tag&1){if(r.flags|=2048,av(9,j_.bind(null,r,o,a,e),void 0,null),br===null)throw Error(Vt(349));Nd&30||A_(r,e,a)}return a}function A_(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function j_(n,e,r,o){e.value=r,e.getSnapshot=o,L_(e)&&E_(n)}function R_(n,e,r){return r(function(){L_(e)&&E_(n)})}function L_(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!ca(n,r)}catch{return!0}}function E_(n){var e=Oh(n,1);e!==null&&ua(e,n,1,-1)}function yF(n){var e=tu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:n},e.queue=n,n=n.dispatch=xJ.bind(null,cn,n),[e.memoizedState,n]}function av(n,e,r,o){return n={tag:n,create:e,destroy:r,deps:o,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,e.lastEffect=n)),n}function $_(){return Nl().memoizedState}function GS(n,e,r,o){var a=tu();cn.flags|=n,a.memoizedState=av(1|e,r,void 0,o===void 0?null:o)}function t2(n,e,r,o){var a=Nl();o=o===void 0?null:o;var h=void 0;if(ar!==null){var f=ar.memoizedState;if(h=f.destroy,o!==null&&Wj(o,f.deps)){a.memoizedState=av(e,r,h,o);return}}cn.flags|=n,a.memoizedState=av(1|e,r,h,o)}function OF(n,e){return GS(8390656,8,n,e)}function Hj(n,e){return t2(2048,8,n,e)}function D_(n,e){return t2(4,2,n,e)}function I_(n,e){return t2(4,4,n,e)}function F_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function V_(n,e,r){return r=r!=null?r.concat([n]):null,t2(4,4,F_.bind(null,e,n),r)}function Kj(){}function z_(n,e){var r=Nl();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Wj(e,o[1])?o[0]:(r.memoizedState=[n,e],n)}function B_(n,e){var r=Nl();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Wj(e,o[1])?o[0]:(n=n(),r.memoizedState=[n,e],n)}function X_(n,e,r){return Nd&21?(ca(r,e)||(r=WX(),cn.lanes|=r,Qd|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ro=!0),n.memoizedState=r)}function OJ(n,e){var r=yi;yi=r!==0&&4>r?r:4,n(!0);var o=sM.transition;sM.transition={};try{n(!1),e()}finally{yi=r,sM.transition=o}}function __(){return Nl().memoizedState}function vJ(n,e,r){var o=Lc(n);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},U_(n))Z_(e,r);else if(r=T_(n,e,r,o),r!==null){var a=Ds();ua(r,n,o,a),Y_(r,e,o)}}function xJ(n,e,r){var o=Lc(n),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(U_(n))Z_(e,a);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var f=e.lastRenderedState,p=h(f,r);if(a.hasEagerState=!0,a.eagerState=p,ca(p,f)){var g=e.interleaved;g===null?(a.next=a,Xj(e)):(a.next=g.next,g.next=a),e.interleaved=a;return}}catch{}finally{}r=T_(n,e,a,o),r!==null&&(a=Ds(),ua(r,n,o,a),Y_(r,e,o))}}function U_(n){var e=n.alternate;return n===cn||e!==null&&e===cn}function Z_(n,e){NO=Zk=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function Y_(n,e,r){if(r&4194240){var o=e.lanes;o&=n.pendingLanes,r|=o,e.lanes=r,Nj(n,r)}}var Yk={readContext:Ml,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useInsertionEffect:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useMutableSource:us,useSyncExternalStore:us,useId:us,unstable_isNewReconciler:!1},wJ={readContext:Ml,useCallback:function(n,e){return tu().memoizedState=[n,e===void 0?null:e],n},useContext:Ml,useEffect:OF,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,GS(4194308,4,F_.bind(null,e,n),r)},useLayoutEffect:function(n,e){return GS(4194308,4,n,e)},useInsertionEffect:function(n,e){return GS(4,2,n,e)},useMemo:function(n,e){var r=tu();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var o=tu();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=vJ.bind(null,cn,n),[o.memoizedState,n]},useRef:function(n){var e=tu();return n={current:n},e.memoizedState=n},useState:yF,useDebugValue:Kj,useDeferredValue:function(n){return tu().memoizedState=n},useTransition:function(){var n=yF(!1),e=n[0];return n=OJ.bind(null,n[1]),tu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var o=cn,a=tu();if(Gi){if(r===void 0)throw Error(Vt(407));r=r()}else{if(r=e(),br===null)throw Error(Vt(349));Nd&30||A_(o,e,r)}a.memoizedState=r;var h={value:r,getSnapshot:e};return a.queue=h,OF(R_.bind(null,o,h,n),[n]),o.flags|=2048,av(9,j_.bind(null,o,h,r,e),void 0,null),r},useId:function(){var n=tu(),e=br.identifierPrefix;if(Gi){var r=ch,o=hh;r=(o&~(1<<32-aa(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=ov++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yJ++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},SJ={readContext:Ml,useCallback:z_,useContext:Ml,useEffect:Hj,useImperativeHandle:V_,useInsertionEffect:D_,useLayoutEffect:I_,useMemo:B_,useReducer:oM,useRef:$_,useState:function(){return oM(lv)},useDebugValue:Kj,useDeferredValue:function(n){var e=Nl();return X_(e,ar.memoizedState,n)},useTransition:function(){var n=oM(lv)[0],e=Nl().memoizedState;return[n,e]},useMutableSource:N_,useSyncExternalStore:Q_,useId:__,unstable_isNewReconciler:!1},kJ={readContext:Ml,useCallback:z_,useContext:Ml,useEffect:Hj,useImperativeHandle:V_,useInsertionEffect:D_,useLayoutEffect:I_,useMemo:B_,useReducer:lM,useRef:$_,useState:function(){return lM(lv)},useDebugValue:Kj,useDeferredValue:function(n){var e=Nl();return ar===null?e.memoizedState=n:X_(e,ar.memoizedState,n)},useTransition:function(){var n=lM(lv)[0],e=Nl().memoizedState;return[n,e]},useMutableSource:N_,useSyncExternalStore:Q_,useId:__,unstable_isNewReconciler:!1};function ia(n,e){if(n&&n.defaultProps){e=dn({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function nQ(n,e,r,o){e=n.memoizedState,r=r(o,e),r=r==null?e:dn({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var e2={isMounted:function(n){return(n=n._reactInternals)?_d(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var o=Ds(),a=Lc(n),h=fh(o,a);h.payload=e,r!=null&&(h.callback=r),e=jc(n,h,a),e!==null&&(ua(e,n,a,o),WS(e,n,a))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var o=Ds(),a=Lc(n),h=fh(o,a);h.tag=1,h.payload=e,r!=null&&(h.callback=r),e=jc(n,h,a),e!==null&&(ua(e,n,a,o),WS(e,n,a))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=Ds(),o=Lc(n),a=fh(r,o);a.tag=2,e!=null&&(a.callback=e),e=jc(n,a,o),e!==null&&(ua(e,n,o,r),WS(e,n,o))}};function vF(n,e,r,o,a,h,f){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,h,f):e.prototype&&e.prototype.isPureReactComponent?!tv(r,o)||!tv(a,h):!0}function W_(n,e,r){var o=!1,a=Fc,h=e.contextType;return typeof h=="object"&&h!==null?h=Ml(h):(a=uo(e)?Cd:Os.current,o=e.contextTypes,h=(o=o!=null)?Og(n,a):Fc),e=new e(r,h),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=e2,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=h),e}function xF(n,e,r,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==n&&e2.enqueueReplaceState(e,e.state,null)}function rQ(n,e,r,o){var a=n.stateNode;a.props=r,a.state=n.memoizedState,a.refs={},_j(n);var h=e.contextType;typeof h=="object"&&h!==null?a.context=Ml(h):(h=uo(e)?Cd:Os.current,a.context=Og(n,h)),a.state=n.memoizedState,h=e.getDerivedStateFromProps,typeof h=="function"&&(nQ(n,e,h,r),a.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&e2.enqueueReplaceState(a,a.state,null),_k(n,r,a,o),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function Sg(n,e){try{var r="",o=e;do r+=HH(o),o=o.return;while(o);var a=r}catch(h){a=`
Error generating stack: `+h.message+`
`+h.stack}return{value:n,source:e,stack:a,digest:null}}function aM(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function sQ(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var PJ=typeof WeakMap=="function"?WeakMap:Map;function q_(n,e,r){r=fh(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){qk||(qk=!0,mQ=o),sQ(n,e)},r}function G_(n,e,r){r=fh(-1,r),r.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;r.payload=function(){return o(a)},r.callback=function(){sQ(n,e)}}var h=n.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){sQ(n,e),typeof o!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var f=e.stack;this.componentDidCatch(e.value,{componentStack:f!==null?f:""})}),r}function wF(n,e,r){var o=n.pingCache;if(o===null){o=n.pingCache=new PJ;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(r)||(a.add(r),n=IJ.bind(null,n,e,r),e.then(n,n))}function SF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function kF(n,e,r,o,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fh(-1,1),e.tag=2,jc(r,e,1))),r.lanes|=1),n)}var bJ=Ch.ReactCurrentOwner,ro=!1;function Ls(n,e,r,o){e.child=n===null?b_(e,null,r,o):xg(e,n.child,r,o)}function PF(n,e,r,o,a){r=r.render;var h=e.ref;return Hm(e,a),o=qj(n,e,r,o,h,a),r=Gj(),n!==null&&!ro?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,vh(n,e,a)):(Gi&&r&&Dj(e),e.flags|=1,Ls(n,e,o,a),e.child)}function bF(n,e,r,o,a){if(n===null){var h=r.type;return typeof h=="function"&&!oR(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=h,H_(n,e,h,o,a)):(n=tk(r.type,null,o,e,e.mode,a),n.ref=e.ref,n.return=e,e.child=n)}if(h=n.child,!(n.lanes&a)){var f=h.memoizedProps;if(r=r.compare,r=r!==null?r:tv,r(f,o)&&n.ref===e.ref)return vh(n,e,a)}return e.flags|=1,n=Ec(h,o),n.ref=e.ref,n.return=e,e.child=n}function H_(n,e,r,o,a){if(n!==null){var h=n.memoizedProps;if(tv(h,o)&&n.ref===e.ref)if(ro=!1,e.pendingProps=o=h,(n.lanes&a)!==0)n.flags&131072&&(ro=!0);else return e.lanes=n.lanes,vh(n,e,a)}return oQ(n,e,r,o,a)}function K_(n,e,r){var o=e.pendingProps,a=o.children,h=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(Fm,jo),jo|=r;else{if(!(r&1073741824))return n=h!==null?h.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Li(Fm,jo),jo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:r,Li(Fm,jo),jo|=o}else h!==null?(o=h.baseLanes|r,e.memoizedState=null):o=r,Li(Fm,jo),jo|=o;return Ls(n,e,a,r),e.child}function J_(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function oQ(n,e,r,o,a){var h=uo(r)?Cd:Os.current;return h=Og(e,h),Hm(e,a),r=qj(n,e,r,o,h,a),o=Gj(),n!==null&&!ro?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,vh(n,e,a)):(Gi&&o&&Dj(e),e.flags|=1,Ls(n,e,r,a),e.child)}function TF(n,e,r,o,a){if(uo(r)){var h=!0;Fk(e)}else h=!1;if(Hm(e,a),e.stateNode===null)HS(n,e),W_(e,r,o),rQ(e,r,o,a),o=!0;else if(n===null){var f=e.stateNode,p=e.memoizedProps;f.props=p;var g=f.context,x=r.contextType;typeof x=="object"&&x!==null?x=Ml(x):(x=uo(r)?Cd:Os.current,x=Og(e,x));var v=r.getDerivedStateFromProps,S=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function";S||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==o||g!==x)&&xF(e,f,o,x),cc=!1;var b=e.memoizedState;f.state=b,_k(e,o,f,a),g=e.memoizedState,p!==o||b!==g||ao.current||cc?(typeof v=="function"&&(nQ(e,r,v,o),g=e.memoizedState),(p=cc||vF(e,r,p,o,b,g,x))?(S||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=g),f.props=o,f.state=g,f.context=x,o=p):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{f=e.stateNode,C_(n,e),p=e.memoizedProps,x=e.type===e.elementType?p:ia(e.type,p),f.props=x,S=e.pendingProps,b=f.context,g=r.contextType,typeof g=="object"&&g!==null?g=Ml(g):(g=uo(r)?Cd:Os.current,g=Og(e,g));var M=r.getDerivedStateFromProps;(v=typeof M=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==S||b!==g)&&xF(e,f,o,g),cc=!1,b=e.memoizedState,f.state=b,_k(e,o,f,a);var j=e.memoizedState;p!==S||b!==j||ao.current||cc?(typeof M=="function"&&(nQ(e,r,M,o),j=e.memoizedState),(x=cc||vF(e,r,x,o,b,j,g)||!1)?(v||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,g),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,g)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),o=!1)}return lQ(n,e,r,o,h,a)}function lQ(n,e,r,o,a,h){J_(n,e);var f=(e.flags&128)!==0;if(!o&&!f)return a&&cF(e,r,!1),vh(n,e,h);o=e.stateNode,bJ.current=e;var p=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&f?(e.child=xg(e,n.child,null,h),e.child=xg(e,null,p,h)):Ls(n,e,p,h),e.memoizedState=o.state,a&&cF(e,r,!0),e.child}function tU(n){var e=n.stateNode;e.pendingContext?hF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&hF(n,e.context,!1),Uj(n,e.containerInfo)}function CF(n,e,r,o,a){return vg(),Fj(a),e.flags|=256,Ls(n,e,r,o),e.child}var aQ={dehydrated:null,treeContext:null,retryLane:0};function uQ(n){return{baseLanes:n,cachePool:null,transitions:null}}function eU(n,e,r){var o=e.pendingProps,a=hn.current,h=!1,f=(e.flags&128)!==0,p;if((p=f)||(p=n!==null&&n.memoizedState===null?!1:(a&2)!==0),p?(h=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Li(hn,a&1),n===null)return eQ(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(f=o.children,n=o.fallback,h?(o=e.mode,h=e.child,f={mode:"hidden",children:f},!(o&1)&&h!==null?(h.childLanes=0,h.pendingProps=f):h=r2(f,o,0,null),n=Sd(n,o,r,null),h.return=e,n.return=e,h.sibling=n,e.child=h,e.child.memoizedState=uQ(r),e.memoizedState=aQ,n):Jj(e,f));if(a=n.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return TJ(n,e,f,o,p,a,r);if(h){h=o.fallback,f=e.mode,a=n.child,p=a.sibling;var g={mode:"hidden",children:o.children};return!(f&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=g,e.deletions=null):(o=Ec(a,g),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?h=Ec(p,h):(h=Sd(h,f,r,null),h.flags|=2),h.return=e,o.return=e,o.sibling=h,e.child=o,o=h,h=e.child,f=n.child.memoizedState,f=f===null?uQ(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=n.childLanes&~r,e.memoizedState=aQ,o}return h=n.child,n=h.sibling,o=Ec(h,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=o,e.memoizedState=null,o}function Jj(n,e){return e=r2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function nS(n,e,r,o){return o!==null&&Fj(o),xg(e,n.child,null,r),n=Jj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function TJ(n,e,r,o,a,h,f){if(r)return e.flags&256?(e.flags&=-257,o=aM(Error(Vt(422))),nS(n,e,f,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(h=o.fallback,a=e.mode,o=r2({mode:"visible",children:o.children},a,0,null),h=Sd(h,a,f,null),h.flags|=2,o.return=e,h.return=e,o.sibling=h,e.child=o,e.mode&1&&xg(e,n.child,null,f),e.child.memoizedState=uQ(f),e.memoizedState=aQ,h);if(!(e.mode&1))return nS(n,e,f,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,h=Error(Vt(419)),o=aM(h,o,void 0),nS(n,e,f,o)}if(p=(f&n.childLanes)!==0,ro||p){if(o=br,o!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|f)?0:a,a!==0&&a!==h.retryLane&&(h.retryLane=a,Oh(n,a),ua(o,n,a,-1))}return sR(),o=aM(Error(Vt(421))),nS(n,e,f,o)}return a.data==="$?"?(e.flags|=128,e.child=n.child,e=FJ.bind(null,n),a._reactRetry=e,null):(n=h.treeContext,$o=Ac(a.nextSibling),Fo=e,Gi=!0,la=null,n!==null&&(Ol[vl++]=hh,Ol[vl++]=ch,Ol[vl++]=Md,hh=n.id,ch=n.overflow,Md=e),e=Jj(e,o.children),e.flags|=4096,e)}function MF(n,e,r){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),iQ(n.return,e,r)}function uM(n,e,r,o,a){var h=n.memoizedState;h===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=r,h.tailMode=a)}function iU(n,e,r){var o=e.pendingProps,a=o.revealOrder,h=o.tail;if(Ls(n,e,o.children,r),o=hn.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&MF(n,r,e);else if(n.tag===19)MF(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(Li(hn,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)n=r.alternate,n!==null&&Uk(n)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),uM(e,!1,a,r,h);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(n=a.alternate,n!==null&&Uk(n)===null){e.child=a;break}n=a.sibling,a.sibling=r,r=a,a=n}uM(e,!0,r,null,h);break;case"together":uM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function HS(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function vh(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),Qd|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Vt(153));if(e.child!==null){for(n=e.child,r=Ec(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Ec(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function CJ(n,e,r){switch(e.tag){case 3:tU(e),vg();break;case 5:M_(e);break;case 1:uo(e.type)&&Fk(e);break;case 4:Uj(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;Li(Bk,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Li(hn,hn.current&1),e.flags|=128,null):r&e.child.childLanes?eU(n,e,r):(Li(hn,hn.current&1),n=vh(n,e,r),n!==null?n.sibling:null);Li(hn,hn.current&1);break;case 19:if(o=(r&e.childLanes)!==0,n.flags&128){if(o)return iU(n,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Li(hn,hn.current),o)break;return null;case 22:case 23:return e.lanes=0,K_(n,e,r)}return vh(n,e,r)}var nU,hQ,rU,sU;nU=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hQ=function(){};rU=function(n,e,r,o){var a=n.memoizedProps;if(a!==o){n=e.stateNode,ud(fu.current);var h=null;switch(r){case"input":a=jN(n,a),o=jN(n,o),h=[];break;case"select":a=dn({},a,{value:void 0}),o=dn({},o,{value:void 0}),h=[];break;case"textarea":a=EN(n,a),o=EN(n,o),h=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Dk)}DN(r,o);var f;r=null;for(x in a)if(!o.hasOwnProperty(x)&&a.hasOwnProperty(x)&&a[x]!=null)if(x==="style"){var p=a[x];for(f in p)p.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(YO.hasOwnProperty(x)?h||(h=[]):(h=h||[]).push(x,null));for(x in o){var g=o[x];if(p=a!=null?a[x]:void 0,o.hasOwnProperty(x)&&g!==p&&(g!=null||p!=null))if(x==="style")if(p){for(f in p)!p.hasOwnProperty(f)||g&&g.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in g)g.hasOwnProperty(f)&&p[f]!==g[f]&&(r||(r={}),r[f]=g[f])}else r||(h||(h=[]),h.push(x,r)),r=g;else x==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(h=h||[]).push(x,g)):x==="children"?typeof g!="string"&&typeof g!="number"||(h=h||[]).push(x,""+g):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(YO.hasOwnProperty(x)?(g!=null&&x==="onScroll"&&zi("scroll",n),h||p===g||(h=[])):(h=h||[]).push(x,g))}r&&(h=h||[]).push("style",r);var x=h;(e.updateQueue=x)&&(e.flags|=4)}};sU=function(n,e,r,o){r!==o&&(e.flags|=4)};function G0(n,e){if(!Gi)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function hs(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(e)for(var a=n.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=o,n.childLanes=r,e}function MJ(n,e,r){var o=e.pendingProps;switch(Ij(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(e),null;case 1:return uo(e.type)&&Ik(),hs(e),null;case 3:return o=e.stateNode,wg(),Xi(ao),Xi(Os),Yj(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(eS(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(OQ(la),la=null))),hQ(n,e),hs(e),null;case 5:Zj(e);var a=ud(sv.current);if(r=e.type,n!==null&&e.stateNode!=null)rU(n,e,r,o,a),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(Vt(166));return hs(e),null}if(n=ud(fu.current),eS(e)){o=e.stateNode,r=e.type;var h=e.memoizedProps;switch(o[ru]=e,o[nv]=h,n=(e.mode&1)!==0,r){case"dialog":zi("cancel",o),zi("close",o);break;case"iframe":case"object":case"embed":zi("load",o);break;case"video":case"audio":for(a=0;a<gO.length;a++)zi(gO[a],o);break;case"source":zi("error",o);break;case"img":case"image":case"link":zi("error",o),zi("load",o);break;case"details":zi("toggle",o);break;case"input":DI(o,h),zi("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},zi("invalid",o);break;case"textarea":FI(o,h),zi("invalid",o)}DN(r,h),a=null;for(var f in h)if(h.hasOwnProperty(f)){var p=h[f];f==="children"?typeof p=="string"?o.textContent!==p&&(h.suppressHydrationWarning!==!0&&tS(o.textContent,p,n),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(h.suppressHydrationWarning!==!0&&tS(o.textContent,p,n),a=["children",""+p]):YO.hasOwnProperty(f)&&p!=null&&f==="onScroll"&&zi("scroll",o)}switch(r){case"input":Zw(o),II(o,h,!0);break;case"textarea":Zw(o),VI(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Dk)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=RX(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=f.createElement(r,{is:o.is}):(n=f.createElement(r),r==="select"&&(f=n,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):n=f.createElementNS(n,r),n[ru]=e,n[nv]=o,nU(n,e,!1,!1),e.stateNode=n;t:{switch(f=IN(r,o),r){case"dialog":zi("cancel",n),zi("close",n),a=o;break;case"iframe":case"object":case"embed":zi("load",n),a=o;break;case"video":case"audio":for(a=0;a<gO.length;a++)zi(gO[a],n);a=o;break;case"source":zi("error",n),a=o;break;case"img":case"image":case"link":zi("error",n),zi("load",n),a=o;break;case"details":zi("toggle",n),a=o;break;case"input":DI(n,o),a=jN(n,o),zi("invalid",n);break;case"option":a=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},a=dn({},o,{value:void 0}),zi("invalid",n);break;case"textarea":FI(n,o),a=EN(n,o),zi("invalid",n);break;default:a=o}DN(r,a),p=a;for(h in p)if(p.hasOwnProperty(h)){var g=p[h];h==="style"?$X(n,g):h==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&LX(n,g)):h==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&WO(n,g):typeof g=="number"&&WO(n,""+g):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(YO.hasOwnProperty(h)?g!=null&&h==="onScroll"&&zi("scroll",n):g!=null&&kj(n,h,g,f))}switch(r){case"input":Zw(n),II(n,o,!1);break;case"textarea":Zw(n),VI(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Ic(o.value));break;case"select":n.multiple=!!o.multiple,h=o.value,h!=null?Ym(n,!!o.multiple,h,!1):o.defaultValue!=null&&Ym(n,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Dk)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hs(e),null;case 6:if(n&&e.stateNode!=null)sU(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(Vt(166));if(r=ud(sv.current),ud(fu.current),eS(e)){if(o=e.stateNode,r=e.memoizedProps,o[ru]=e,(h=o.nodeValue!==r)&&(n=Fo,n!==null))switch(n.tag){case 3:tS(o.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&tS(o.nodeValue,r,(n.mode&1)!==0)}h&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[ru]=e,e.stateNode=o}return hs(e),null;case 13:if(Xi(hn),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Gi&&$o!==null&&e.mode&1&&!(e.flags&128))k_(),vg(),e.flags|=98560,h=!1;else if(h=eS(e),o!==null&&o.dehydrated!==null){if(n===null){if(!h)throw Error(Vt(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(Vt(317));h[ru]=e}else vg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hs(e),h=!1}else la!==null&&(OQ(la),la=null),h=!0;if(!h)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||hn.current&1?hr===0&&(hr=3):sR())),e.updateQueue!==null&&(e.flags|=4),hs(e),null);case 4:return wg(),hQ(n,e),n===null&&ev(e.stateNode.containerInfo),hs(e),null;case 10:return Bj(e.type._context),hs(e),null;case 17:return uo(e.type)&&Ik(),hs(e),null;case 19:if(Xi(hn),h=e.memoizedState,h===null)return hs(e),null;if(o=(e.flags&128)!==0,f=h.rendering,f===null)if(o)G0(h,!1);else{if(hr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(f=Uk(n),f!==null){for(e.flags|=128,G0(h,!1),o=f.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)h=r,n=o,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=n,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,n=f.dependencies,h.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Li(hn,hn.current&1|2),e.child}n=n.sibling}h.tail!==null&&Rn()>kg&&(e.flags|=128,o=!0,G0(h,!1),e.lanes=4194304)}else{if(!o)if(n=Uk(f),n!==null){if(e.flags|=128,o=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),G0(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Gi)return hs(e),null}else 2*Rn()-h.renderingStartTime>kg&&r!==1073741824&&(e.flags|=128,o=!0,G0(h,!1),e.lanes=4194304);h.isBackwards?(f.sibling=e.child,e.child=f):(r=h.last,r!==null?r.sibling=f:e.child=f,h.last=f)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=Rn(),e.sibling=null,r=hn.current,Li(hn,o?r&1|2:r&1),e):(hs(e),null);case 22:case 23:return rR(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?jo&1073741824&&(hs(e),e.subtreeFlags&6&&(e.flags|=8192)):hs(e),null;case 24:return null;case 25:return null}throw Error(Vt(156,e.tag))}function NJ(n,e){switch(Ij(e),e.tag){case 1:return uo(e.type)&&Ik(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return wg(),Xi(ao),Xi(Os),Yj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Zj(e),null;case 13:if(Xi(hn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Vt(340));vg()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Xi(hn),null;case 4:return wg(),null;case 10:return Bj(e.type._context),null;case 22:case 23:return rR(),null;case 24:return null;default:return null}}var rS=!1,ps=!1,QJ=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Im(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Tn(n,e,o)}else r.current=null}function cQ(n,e,r){try{r()}catch(o){Tn(n,e,o)}}var NF=!1;function AJ(n,e){if(WN=Lk,n=h_(),$j(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var f=0,p=-1,g=-1,x=0,v=0,S=n,b=null;e:for(;;){for(var M;S!==r||a!==0&&S.nodeType!==3||(p=f+a),S!==h||o!==0&&S.nodeType!==3||(g=f+o),S.nodeType===3&&(f+=S.nodeValue.length),(M=S.firstChild)!==null;)b=S,S=M;for(;;){if(S===n)break e;if(b===r&&++x===a&&(p=f),b===h&&++v===o&&(g=f),(M=S.nextSibling)!==null)break;S=b,b=S.parentNode}S=M}r=p===-1||g===-1?null:{start:p,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(qN={focusedElem:n,selectionRange:r},Lk=!1,ee=e;ee!==null;)if(e=ee,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ee=n;else for(;ee!==null;){e=ee;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var Q=j.memoizedProps,R=j.memoizedState,L=e.stateNode,$=L.getSnapshotBeforeUpdate(e.elementType===e.type?Q:ia(e.type,Q),R);L.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var V=e.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Vt(163))}}catch(D){Tn(e,e.return,D)}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}return j=NF,NF=!1,j}function QO(n,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&n)===n){var h=a.destroy;a.destroy=void 0,h!==void 0&&cQ(e,r,h)}a=a.next}while(a!==o)}}function i2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function fQ(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function oU(n){var e=n.alternate;e!==null&&(n.alternate=null,oU(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ru],delete e[nv],delete e[KN],delete e[dJ],delete e[pJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lU(n){return n.tag===5||n.tag===3||n.tag===4}function QF(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||lU(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dQ(n,e,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Dk));else if(o!==4&&(n=n.child,n!==null))for(dQ(n,e,r),n=n.sibling;n!==null;)dQ(n,e,r),n=n.sibling}function pQ(n,e,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(pQ(n,e,r),n=n.sibling;n!==null;)pQ(n,e,r),n=n.sibling}var Ir=null,oa=!1;function sc(n,e,r){for(r=r.child;r!==null;)aU(n,e,r),r=r.sibling}function aU(n,e,r){if(cu&&typeof cu.onCommitFiberUnmount=="function")try{cu.onCommitFiberUnmount(WP,r)}catch{}switch(r.tag){case 5:ps||Im(r,e);case 6:var o=Ir,a=oa;Ir=null,sc(n,e,r),Ir=o,oa=a,Ir!==null&&(oa?(n=Ir,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):Ir.removeChild(r.stateNode));break;case 18:Ir!==null&&(oa?(n=Ir,r=r.stateNode,n.nodeType===8?iM(n.parentNode,r):n.nodeType===1&&iM(n,r),KO(n)):iM(Ir,r.stateNode));break;case 4:o=Ir,a=oa,Ir=r.stateNode.containerInfo,oa=!0,sc(n,e,r),Ir=o,oa=a;break;case 0:case 11:case 14:case 15:if(!ps&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var h=a,f=h.destroy;h=h.tag,f!==void 0&&(h&2||h&4)&&cQ(r,e,f),a=a.next}while(a!==o)}sc(n,e,r);break;case 1:if(!ps&&(Im(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(p){Tn(r,e,p)}sc(n,e,r);break;case 21:sc(n,e,r);break;case 22:r.mode&1?(ps=(o=ps)||r.memoizedState!==null,sc(n,e,r),ps=o):sc(n,e,r);break;default:sc(n,e,r)}}function AF(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new QJ),e.forEach(function(o){var a=VJ.bind(null,n,o);r.has(o)||(r.add(o),o.then(a,a))})}}function Jl(n,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var h=n,f=e,p=f;t:for(;p!==null;){switch(p.tag){case 5:Ir=p.stateNode,oa=!1;break t;case 3:Ir=p.stateNode.containerInfo,oa=!0;break t;case 4:Ir=p.stateNode.containerInfo,oa=!0;break t}p=p.return}if(Ir===null)throw Error(Vt(160));aU(h,f,a),Ir=null,oa=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(x){Tn(a,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uU(e,n),e=e.sibling}function uU(n,e){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jl(e,n),Ya(n),o&4){try{QO(3,n,n.return),i2(3,n)}catch(Q){Tn(n,n.return,Q)}try{QO(5,n,n.return)}catch(Q){Tn(n,n.return,Q)}}break;case 1:Jl(e,n),Ya(n),o&512&&r!==null&&Im(r,r.return);break;case 5:if(Jl(e,n),Ya(n),o&512&&r!==null&&Im(r,r.return),n.flags&32){var a=n.stateNode;try{WO(a,"")}catch(Q){Tn(n,n.return,Q)}}if(o&4&&(a=n.stateNode,a!=null)){var h=n.memoizedProps,f=r!==null?r.memoizedProps:h,p=n.type,g=n.updateQueue;if(n.updateQueue=null,g!==null)try{p==="input"&&h.type==="radio"&&h.name!=null&&AX(a,h),IN(p,f);var x=IN(p,h);for(f=0;f<g.length;f+=2){var v=g[f],S=g[f+1];v==="style"?$X(a,S):v==="dangerouslySetInnerHTML"?LX(a,S):v==="children"?WO(a,S):kj(a,v,S,x)}switch(p){case"input":RN(a,h);break;case"textarea":jX(a,h);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!h.multiple;var M=h.value;M!=null?Ym(a,!!h.multiple,M,!1):b!==!!h.multiple&&(h.defaultValue!=null?Ym(a,!!h.multiple,h.defaultValue,!0):Ym(a,!!h.multiple,h.multiple?[]:"",!1))}a[nv]=h}catch(Q){Tn(n,n.return,Q)}}break;case 6:if(Jl(e,n),Ya(n),o&4){if(n.stateNode===null)throw Error(Vt(162));a=n.stateNode,h=n.memoizedProps;try{a.nodeValue=h}catch(Q){Tn(n,n.return,Q)}}break;case 3:if(Jl(e,n),Ya(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{KO(e.containerInfo)}catch(Q){Tn(n,n.return,Q)}break;case 4:Jl(e,n),Ya(n);break;case 13:Jl(e,n),Ya(n),a=n.child,a.flags&8192&&(h=a.memoizedState!==null,a.stateNode.isHidden=h,!h||a.alternate!==null&&a.alternate.memoizedState!==null||(iR=Rn())),o&4&&AF(n);break;case 22:if(v=r!==null&&r.memoizedState!==null,n.mode&1?(ps=(x=ps)||v,Jl(e,n),ps=x):Jl(e,n),Ya(n),o&8192){if(x=n.memoizedState!==null,(n.stateNode.isHidden=x)&&!v&&n.mode&1)for(ee=n,v=n.child;v!==null;){for(S=ee=v;ee!==null;){switch(b=ee,M=b.child,b.tag){case 0:case 11:case 14:case 15:QO(4,b,b.return);break;case 1:Im(b,b.return);var j=b.stateNode;if(typeof j.componentWillUnmount=="function"){o=b,r=b.return;try{e=o,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(Q){Tn(o,r,Q)}}break;case 5:Im(b,b.return);break;case 22:if(b.memoizedState!==null){RF(S);continue}}M!==null?(M.return=b,ee=M):RF(S)}v=v.sibling}t:for(v=null,S=n;;){if(S.tag===5){if(v===null){v=S;try{a=S.stateNode,x?(h=a.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(p=S.stateNode,g=S.memoizedProps.style,f=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=EX("display",f))}catch(Q){Tn(n,n.return,Q)}}}else if(S.tag===6){if(v===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(Q){Tn(n,n.return,Q)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===n)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break t;for(;S.sibling===null;){if(S.return===null||S.return===n)break t;v===S&&(v=null),S=S.return}v===S&&(v=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Jl(e,n),Ya(n),o&4&&AF(n);break;case 21:break;default:Jl(e,n),Ya(n)}}function Ya(n){var e=n.flags;if(e&2){try{t:{for(var r=n.return;r!==null;){if(lU(r)){var o=r;break t}r=r.return}throw Error(Vt(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(WO(a,""),o.flags&=-33);var h=QF(n);pQ(n,h,a);break;case 3:case 4:var f=o.stateNode.containerInfo,p=QF(n);dQ(n,p,f);break;default:throw Error(Vt(161))}}catch(g){Tn(n,n.return,g)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function jJ(n,e,r){ee=n,hU(n)}function hU(n,e,r){for(var o=(n.mode&1)!==0;ee!==null;){var a=ee,h=a.child;if(a.tag===22&&o){var f=a.memoizedState!==null||rS;if(!f){var p=a.alternate,g=p!==null&&p.memoizedState!==null||ps;p=rS;var x=ps;if(rS=f,(ps=g)&&!x)for(ee=a;ee!==null;)f=ee,g=f.child,f.tag===22&&f.memoizedState!==null?LF(a):g!==null?(g.return=f,ee=g):LF(a);for(;h!==null;)ee=h,hU(h),h=h.sibling;ee=a,rS=p,ps=x}jF(n)}else a.subtreeFlags&8772&&h!==null?(h.return=a,ee=h):jF(n)}}function jF(n){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ps||i2(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ps)if(r===null)o.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ia(e.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=e.updateQueue;h!==null&&gF(e,h,o);break;case 3:var f=e.updateQueue;if(f!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}gF(e,f,r)}break;case 5:var p=e.stateNode;if(r===null&&e.flags&4){r=p;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var v=x.memoizedState;if(v!==null){var S=v.dehydrated;S!==null&&KO(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Vt(163))}ps||e.flags&512&&fQ(e)}catch(b){Tn(e,e.return,b)}}if(e===n){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function RF(n){for(;ee!==null;){var e=ee;if(e===n){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function LF(n){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{i2(4,e)}catch(g){Tn(e,r,g)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(g){Tn(e,a,g)}}var h=e.return;try{fQ(e)}catch(g){Tn(e,h,g)}break;case 5:var f=e.return;try{fQ(e)}catch(g){Tn(e,f,g)}}}catch(g){Tn(e,e.return,g)}if(e===n){ee=null;break}var p=e.sibling;if(p!==null){p.return=e.return,ee=p;break}ee=e.return}}var RJ=Math.ceil,Wk=Ch.ReactCurrentDispatcher,tR=Ch.ReactCurrentOwner,bl=Ch.ReactCurrentBatchConfig,oi=0,br=null,Wn=null,_r=0,jo=0,Fm=ef(0),hr=0,uv=null,Qd=0,n2=0,eR=0,AO=null,to=null,iR=0,kg=1/0,sh=null,qk=!1,mQ=null,Rc=null,sS=!1,kc=null,Gk=0,jO=0,gQ=null,KS=-1,JS=0;function Ds(){return oi&6?Rn():KS!==-1?KS:KS=Rn()}function Lc(n){return n.mode&1?oi&2&&_r!==0?_r&-_r:gJ.transition!==null?(JS===0&&(JS=WX()),JS):(n=yi,n!==0||(n=window.event,n=n===void 0?16:e_(n.type)),n):1}function ua(n,e,r,o){if(50<jO)throw jO=0,gQ=null,Error(Vt(185));ex(n,r,o),(!(oi&2)||n!==br)&&(n===br&&(!(oi&2)&&(n2|=r),hr===4&&mc(n,_r)),ho(n,o),r===1&&oi===0&&!(e.mode&1)&&(kg=Rn()+500,JP&&nf()))}function ho(n,e){var r=n.callbackNode;gK(n,e);var o=Rk(n,n===br?_r:0);if(o===0)r!==null&&XI(r),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(r!=null&&XI(r),e===1)n.tag===0?mJ(EF.bind(null,n)):x_(EF.bind(null,n)),cJ(function(){!(oi&6)&&nf()}),r=null;else{switch(qX(o)){case 1:r=Mj;break;case 4:r=ZX;break;case 16:r=jk;break;case 536870912:r=YX;break;default:r=jk}r=OU(r,cU.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function cU(n,e){if(KS=-1,JS=0,oi&6)throw Error(Vt(327));var r=n.callbackNode;if(Km()&&n.callbackNode!==r)return null;var o=Rk(n,n===br?_r:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=Hk(n,o);else{e=o;var a=oi;oi|=2;var h=dU();(br!==n||_r!==e)&&(sh=null,kg=Rn()+500,wd(n,e));do try{$J();break}catch(p){fU(n,p)}while(!0);zj(),Wk.current=h,oi=a,Wn!==null?e=0:(br=null,_r=0,e=hr)}if(e!==0){if(e===2&&(a=XN(n),a!==0&&(o=a,e=yQ(n,a))),e===1)throw r=uv,wd(n,0),mc(n,o),ho(n,Rn()),r;if(e===6)mc(n,o);else{if(a=n.current.alternate,!(o&30)&&!LJ(a)&&(e=Hk(n,o),e===2&&(h=XN(n),h!==0&&(o=h,e=yQ(n,h))),e===1))throw r=uv,wd(n,0),mc(n,o),ho(n,Rn()),r;switch(n.finishedWork=a,n.finishedLanes=o,e){case 0:case 1:throw Error(Vt(345));case 2:nd(n,to,sh);break;case 3:if(mc(n,o),(o&130023424)===o&&(e=iR+500-Rn(),10<e)){if(Rk(n,0)!==0)break;if(a=n.suspendedLanes,(a&o)!==o){Ds(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=HN(nd.bind(null,n,to,sh),e);break}nd(n,to,sh);break;case 4:if(mc(n,o),(o&4194240)===o)break;for(e=n.eventTimes,a=-1;0<o;){var f=31-aa(o);h=1<<f,f=e[f],f>a&&(a=f),o&=~h}if(o=a,o=Rn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*RJ(o/1960))-o,10<o){n.timeoutHandle=HN(nd.bind(null,n,to,sh),o);break}nd(n,to,sh);break;case 5:nd(n,to,sh);break;default:throw Error(Vt(329))}}}return ho(n,Rn()),n.callbackNode===r?cU.bind(null,n):null}function yQ(n,e){var r=AO;return n.current.memoizedState.isDehydrated&&(wd(n,e).flags|=256),n=Hk(n,e),n!==2&&(e=to,to=r,e!==null&&OQ(e)),n}function OQ(n){to===null?to=n:to.push.apply(to,n)}function LJ(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],h=a.getSnapshot;a=a.value;try{if(!ca(h(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mc(n,e){for(e&=~eR,e&=~n2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-aa(e),o=1<<r;n[r]=-1,e&=~o}}function EF(n){if(oi&6)throw Error(Vt(327));Km();var e=Rk(n,0);if(!(e&1))return ho(n,Rn()),null;var r=Hk(n,e);if(n.tag!==0&&r===2){var o=XN(n);o!==0&&(e=o,r=yQ(n,o))}if(r===1)throw r=uv,wd(n,0),mc(n,e),ho(n,Rn()),r;if(r===6)throw Error(Vt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,nd(n,to,sh),ho(n,Rn()),null}function nR(n,e){var r=oi;oi|=1;try{return n(e)}finally{oi=r,oi===0&&(kg=Rn()+500,JP&&nf())}}function Ad(n){kc!==null&&kc.tag===0&&!(oi&6)&&Km();var e=oi;oi|=1;var r=bl.transition,o=yi;try{if(bl.transition=null,yi=1,n)return n()}finally{yi=o,bl.transition=r,oi=e,!(oi&6)&&nf()}}function rR(){jo=Fm.current,Xi(Fm)}function wd(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,hJ(r)),Wn!==null)for(r=Wn.return;r!==null;){var o=r;switch(Ij(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ik();break;case 3:wg(),Xi(ao),Xi(Os),Yj();break;case 5:Zj(o);break;case 4:wg();break;case 13:Xi(hn);break;case 19:Xi(hn);break;case 10:Bj(o.type._context);break;case 22:case 23:rR()}r=r.return}if(br=n,Wn=n=Ec(n.current,null),_r=jo=e,hr=0,uv=null,eR=n2=Qd=0,to=AO=null,ad!==null){for(e=0;e<ad.length;e++)if(r=ad[e],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,h=r.pending;if(h!==null){var f=h.next;h.next=a,o.next=f}r.pending=o}ad=null}return n}function fU(n,e){do{var r=Wn;try{if(zj(),qS.current=Yk,Zk){for(var o=cn.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Zk=!1}if(Nd=0,wr=ar=cn=null,NO=!1,ov=0,tR.current=null,r===null||r.return===null){hr=1,uv=e,Wn=null;break}t:{var h=n,f=r.return,p=r,g=e;if(e=_r,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var x=g,v=p,S=v.tag;if(!(v.mode&1)&&(S===0||S===11||S===15)){var b=v.alternate;b?(v.updateQueue=b.updateQueue,v.memoizedState=b.memoizedState,v.lanes=b.lanes):(v.updateQueue=null,v.memoizedState=null)}var M=SF(f);if(M!==null){M.flags&=-257,kF(M,f,p,h,e),M.mode&1&&wF(h,x,e),e=M,g=x;var j=e.updateQueue;if(j===null){var Q=new Set;Q.add(g),e.updateQueue=Q}else j.add(g);break t}else{if(!(e&1)){wF(h,x,e),sR();break t}g=Error(Vt(426))}}else if(Gi&&p.mode&1){var R=SF(f);if(R!==null){!(R.flags&65536)&&(R.flags|=256),kF(R,f,p,h,e),Fj(Sg(g,p));break t}}h=g=Sg(g,p),hr!==4&&(hr=2),AO===null?AO=[h]:AO.push(h),h=f;do{switch(h.tag){case 3:h.flags|=65536,e&=-e,h.lanes|=e;var L=q_(h,g,e);mF(h,L);break t;case 1:p=g;var $=h.type,V=h.stateNode;if(!(h.flags&128)&&(typeof $.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Rc===null||!Rc.has(V)))){h.flags|=65536,e&=-e,h.lanes|=e;var D=G_(h,p,e);mF(h,D);break t}}h=h.return}while(h!==null)}mU(r)}catch(X){e=X,Wn===r&&r!==null&&(Wn=r=r.return);continue}break}while(!0)}function dU(){var n=Wk.current;return Wk.current=Yk,n===null?Yk:n}function sR(){(hr===0||hr===3||hr===2)&&(hr=4),br===null||!(Qd&268435455)&&!(n2&268435455)||mc(br,_r)}function Hk(n,e){var r=oi;oi|=2;var o=dU();(br!==n||_r!==e)&&(sh=null,wd(n,e));do try{EJ();break}catch(a){fU(n,a)}while(!0);if(zj(),oi=r,Wk.current=o,Wn!==null)throw Error(Vt(261));return br=null,_r=0,hr}function EJ(){for(;Wn!==null;)pU(Wn)}function $J(){for(;Wn!==null&&!lK();)pU(Wn)}function pU(n){var e=yU(n.alternate,n,jo);n.memoizedProps=n.pendingProps,e===null?mU(n):Wn=e,tR.current=null}function mU(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=NJ(r,e),r!==null){r.flags&=32767,Wn=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{hr=6,Wn=null;return}}else if(r=MJ(r,e,jo),r!==null){Wn=r;return}if(e=e.sibling,e!==null){Wn=e;return}Wn=e=n}while(e!==null);hr===0&&(hr=5)}function nd(n,e,r){var o=yi,a=bl.transition;try{bl.transition=null,yi=1,DJ(n,e,r,o)}finally{bl.transition=a,yi=o}return null}function DJ(n,e,r,o){do Km();while(kc!==null);if(oi&6)throw Error(Vt(327));r=n.finishedWork;var a=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Vt(177));n.callbackNode=null,n.callbackPriority=0;var h=r.lanes|r.childLanes;if(yK(n,h),n===br&&(Wn=br=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sS||(sS=!0,OU(jk,function(){return Km(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=bl.transition,bl.transition=null;var f=yi;yi=1;var p=oi;oi|=4,tR.current=null,AJ(n,r),uU(r,n),nJ(qN),Lk=!!WN,qN=WN=null,n.current=r,jJ(r),aK(),oi=p,yi=f,bl.transition=h}else n.current=r;if(sS&&(sS=!1,kc=n,Gk=a),h=n.pendingLanes,h===0&&(Rc=null),cK(r.stateNode),ho(n,Rn()),e!==null)for(o=n.onRecoverableError,r=0;r<e.length;r++)a=e[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(qk)throw qk=!1,n=mQ,mQ=null,n;return Gk&1&&n.tag!==0&&Km(),h=n.pendingLanes,h&1?n===gQ?jO++:(jO=0,gQ=n):jO=0,nf(),null}function Km(){if(kc!==null){var n=qX(Gk),e=bl.transition,r=yi;try{if(bl.transition=null,yi=16>n?16:n,kc===null)var o=!1;else{if(n=kc,kc=null,Gk=0,oi&6)throw Error(Vt(331));var a=oi;for(oi|=4,ee=n.current;ee!==null;){var h=ee,f=h.child;if(ee.flags&16){var p=h.deletions;if(p!==null){for(var g=0;g<p.length;g++){var x=p[g];for(ee=x;ee!==null;){var v=ee;switch(v.tag){case 0:case 11:case 15:QO(8,v,h)}var S=v.child;if(S!==null)S.return=v,ee=S;else for(;ee!==null;){v=ee;var b=v.sibling,M=v.return;if(oU(v),v===x){ee=null;break}if(b!==null){b.return=M,ee=b;break}ee=M}}}var j=h.alternate;if(j!==null){var Q=j.child;if(Q!==null){j.child=null;do{var R=Q.sibling;Q.sibling=null,Q=R}while(Q!==null)}}ee=h}}if(h.subtreeFlags&2064&&f!==null)f.return=h,ee=f;else t:for(;ee!==null;){if(h=ee,h.flags&2048)switch(h.tag){case 0:case 11:case 15:QO(9,h,h.return)}var L=h.sibling;if(L!==null){L.return=h.return,ee=L;break t}ee=h.return}}var $=n.current;for(ee=$;ee!==null;){f=ee;var V=f.child;if(f.subtreeFlags&2064&&V!==null)V.return=f,ee=V;else t:for(f=$;ee!==null;){if(p=ee,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:i2(9,p)}}catch(X){Tn(p,p.return,X)}if(p===f){ee=null;break t}var D=p.sibling;if(D!==null){D.return=p.return,ee=D;break t}ee=p.return}}if(oi=a,nf(),cu&&typeof cu.onPostCommitFiberRoot=="function")try{cu.onPostCommitFiberRoot(WP,n)}catch{}o=!0}return o}finally{yi=r,bl.transition=e}}return!1}function $F(n,e,r){e=Sg(r,e),e=q_(n,e,1),n=jc(n,e,1),e=Ds(),n!==null&&(ex(n,1,e),ho(n,e))}function Tn(n,e,r){if(n.tag===3)$F(n,n,r);else for(;e!==null;){if(e.tag===3){$F(e,n,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rc===null||!Rc.has(o))){n=Sg(r,n),n=G_(e,n,1),e=jc(e,n,1),n=Ds(),e!==null&&(ex(e,1,n),ho(e,n));break}}e=e.return}}function IJ(n,e,r){var o=n.pingCache;o!==null&&o.delete(e),e=Ds(),n.pingedLanes|=n.suspendedLanes&r,br===n&&(_r&r)===r&&(hr===4||hr===3&&(_r&130023424)===_r&&500>Rn()-iR?wd(n,0):eR|=r),ho(n,e)}function gU(n,e){e===0&&(n.mode&1?(e=qw,qw<<=1,!(qw&130023424)&&(qw=4194304)):e=1);var r=Ds();n=Oh(n,e),n!==null&&(ex(n,e,r),ho(n,r))}function FJ(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),gU(n,r)}function VJ(n,e){var r=0;switch(n.tag){case 13:var o=n.stateNode,a=n.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(Vt(314))}o!==null&&o.delete(e),gU(n,r)}var yU;yU=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ao.current)ro=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return ro=!1,CJ(n,e,r);ro=!!(n.flags&131072)}else ro=!1,Gi&&e.flags&1048576&&w_(e,zk,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;HS(n,e),n=e.pendingProps;var a=Og(e,Os.current);Hm(e,r),a=qj(null,e,o,n,a,r);var h=Gj();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,uo(o)?(h=!0,Fk(e)):h=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,_j(e),a.updater=e2,e.stateNode=a,a._reactInternals=e,rQ(e,o,n,r),e=lQ(null,e,o,!0,h,r)):(e.tag=0,Gi&&h&&Dj(e),Ls(null,e,a,r),e=e.child),e;case 16:o=e.elementType;t:{switch(HS(n,e),n=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=BJ(o),n=ia(o,n),a){case 0:e=oQ(null,e,o,n,r);break t;case 1:e=TF(null,e,o,n,r);break t;case 11:e=PF(null,e,o,n,r);break t;case 14:e=bF(null,e,o,ia(o.type,n),r);break t}throw Error(Vt(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ia(o,a),oQ(n,e,o,a,r);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ia(o,a),TF(n,e,o,a,r);case 3:t:{if(tU(e),n===null)throw Error(Vt(387));o=e.pendingProps,h=e.memoizedState,a=h.element,C_(n,e),_k(e,o,null,r);var f=e.memoizedState;if(o=f.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){a=Sg(Error(Vt(423)),e),e=CF(n,e,o,r,a);break t}else if(o!==a){a=Sg(Error(Vt(424)),e),e=CF(n,e,o,r,a);break t}else for($o=Ac(e.stateNode.containerInfo.firstChild),Fo=e,Gi=!0,la=null,r=b_(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vg(),o===a){e=vh(n,e,r);break t}Ls(n,e,o,r)}e=e.child}return e;case 5:return M_(e),n===null&&eQ(e),o=e.type,a=e.pendingProps,h=n!==null?n.memoizedProps:null,f=a.children,GN(o,a)?f=null:h!==null&&GN(o,h)&&(e.flags|=32),J_(n,e),Ls(n,e,f,r),e.child;case 6:return n===null&&eQ(e),null;case 13:return eU(n,e,r);case 4:return Uj(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=xg(e,null,o,r):Ls(n,e,o,r),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ia(o,a),PF(n,e,o,a,r);case 7:return Ls(n,e,e.pendingProps,r),e.child;case 8:return Ls(n,e,e.pendingProps.children,r),e.child;case 12:return Ls(n,e,e.pendingProps.children,r),e.child;case 10:t:{if(o=e.type._context,a=e.pendingProps,h=e.memoizedProps,f=a.value,Li(Bk,o._currentValue),o._currentValue=f,h!==null)if(ca(h.value,f)){if(h.children===a.children&&!ao.current){e=vh(n,e,r);break t}}else for(h=e.child,h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){f=h.child;for(var g=p.firstContext;g!==null;){if(g.context===o){if(h.tag===1){g=fh(-1,r&-r),g.tag=2;var x=h.updateQueue;if(x!==null){x=x.shared;var v=x.pending;v===null?g.next=g:(g.next=v.next,v.next=g),x.pending=g}}h.lanes|=r,g=h.alternate,g!==null&&(g.lanes|=r),iQ(h.return,r,e),p.lanes|=r;break}g=g.next}}else if(h.tag===10)f=h.type===e.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(Vt(341));f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),iQ(f,r,e),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===e){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}Ls(n,e,a.children,r),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Hm(e,r),a=Ml(a),o=o(a),e.flags|=1,Ls(n,e,o,r),e.child;case 14:return o=e.type,a=ia(o,e.pendingProps),a=ia(o.type,a),bF(n,e,o,a,r);case 15:return H_(n,e,e.type,e.pendingProps,r);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ia(o,a),HS(n,e),e.tag=1,uo(o)?(n=!0,Fk(e)):n=!1,Hm(e,r),W_(e,o,a),rQ(e,o,a,r),lQ(null,e,o,!0,n,r);case 19:return iU(n,e,r);case 22:return K_(n,e,r)}throw Error(Vt(156,e.tag))};function OU(n,e){return UX(n,e)}function zJ(n,e,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(n,e,r,o){return new zJ(n,e,r,o)}function oR(n){return n=n.prototype,!(!n||!n.isReactComponent)}function BJ(n){if(typeof n=="function")return oR(n)?1:0;if(n!=null){if(n=n.$$typeof,n===bj)return 11;if(n===Tj)return 14}return 2}function Ec(n,e){var r=n.alternate;return r===null?(r=xl(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function tk(n,e,r,o,a,h){var f=2;if(o=n,typeof n=="function")oR(n)&&(f=1);else if(typeof n=="string")f=5;else t:switch(n){case Nm:return Sd(r.children,a,h,e);case Pj:f=8,a|=8;break;case MN:return n=xl(12,r,e,a|2),n.elementType=MN,n.lanes=h,n;case NN:return n=xl(13,r,e,a),n.elementType=NN,n.lanes=h,n;case QN:return n=xl(19,r,e,a),n.elementType=QN,n.lanes=h,n;case MX:return r2(r,a,h,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TX:f=10;break t;case CX:f=9;break t;case bj:f=11;break t;case Tj:f=14;break t;case hc:f=16,o=null;break t}throw Error(Vt(130,n==null?n:typeof n,""))}return e=xl(f,r,e,a),e.elementType=n,e.type=o,e.lanes=h,e}function Sd(n,e,r,o){return n=xl(7,n,o,e),n.lanes=r,n}function r2(n,e,r,o){return n=xl(22,n,o,e),n.elementType=MX,n.lanes=r,n.stateNode={isHidden:!1},n}function hM(n,e,r){return n=xl(6,n,null,e),n.lanes=r,n}function cM(n,e,r){return e=xl(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XJ(n,e,r,o,a){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=UC(0),this.expirationTimes=UC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=UC(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function lR(n,e,r,o,a,h,f,p,g){return n=new XJ(n,e,r,p,g),e===1?(e=1,h===!0&&(e|=8)):e=0,h=xl(3,null,null,e),n.current=h,h.stateNode=n,h.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_j(h),n}function _J(n,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mm,key:o==null?null:""+o,children:n,containerInfo:e,implementation:r}}function vU(n){if(!n)return Fc;n=n._reactInternals;t:{if(_d(n)!==n||n.tag!==1)throw Error(Vt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(uo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(Vt(171))}if(n.tag===1){var r=n.type;if(uo(r))return v_(n,r,e)}return e}function xU(n,e,r,o,a,h,f,p,g){return n=lR(r,o,!0,n,a,h,f,p,g),n.context=vU(null),r=n.current,o=Ds(),a=Lc(r),h=fh(o,a),h.callback=e??null,jc(r,h,a),n.current.lanes=a,ex(n,a,o),ho(n,o),n}function s2(n,e,r,o){var a=e.current,h=Ds(),f=Lc(a);return r=vU(r),e.context===null?e.context=r:e.pendingContext=r,e=fh(h,f),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=jc(a,e,f),n!==null&&(ua(n,a,f,h),WS(n,a,f)),f}function Kk(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function DF(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function aR(n,e){DF(n,e),(n=n.alternate)&&DF(n,e)}function UJ(){return null}var wU=typeof reportError=="function"?reportError:function(n){console.error(n)};function uR(n){this._internalRoot=n}o2.prototype.render=uR.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Vt(409));s2(n,e,null,null)};o2.prototype.unmount=uR.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ad(function(){s2(null,n,null,null)}),e[yh]=null}};function o2(n){this._internalRoot=n}o2.prototype.unstable_scheduleHydration=function(n){if(n){var e=KX();n={blockedOn:null,target:n,priority:e};for(var r=0;r<pc.length&&e!==0&&e<pc[r].priority;r++);pc.splice(r,0,n),r===0&&t_(n)}};function hR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function IF(){}function ZJ(n,e,r,o,a){if(a){if(typeof o=="function"){var h=o;o=function(){var x=Kk(f);h.call(x)}}var f=xU(e,o,n,0,null,!1,!1,"",IF);return n._reactRootContainer=f,n[yh]=f.current,ev(n.nodeType===8?n.parentNode:n),Ad(),f}for(;a=n.lastChild;)n.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var x=Kk(g);p.call(x)}}var g=lR(n,0,!1,null,null,!1,!1,"",IF);return n._reactRootContainer=g,n[yh]=g.current,ev(n.nodeType===8?n.parentNode:n),Ad(function(){s2(e,g,r,o)}),g}function a2(n,e,r,o,a){var h=r._reactRootContainer;if(h){var f=h;if(typeof a=="function"){var p=a;a=function(){var g=Kk(f);p.call(g)}}s2(e,f,n,a)}else f=ZJ(r,e,n,a,o);return Kk(f)}GX=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=mO(e.pendingLanes);r!==0&&(Nj(e,r|1),ho(e,Rn()),!(oi&6)&&(kg=Rn()+500,nf()))}break;case 13:Ad(function(){var o=Oh(n,1);if(o!==null){var a=Ds();ua(o,n,1,a)}}),aR(n,1)}};Qj=function(n){if(n.tag===13){var e=Oh(n,134217728);if(e!==null){var r=Ds();ua(e,n,134217728,r)}aR(n,134217728)}};HX=function(n){if(n.tag===13){var e=Lc(n),r=Oh(n,e);if(r!==null){var o=Ds();ua(r,n,e,o)}aR(n,e)}};KX=function(){return yi};JX=function(n,e){var r=yi;try{return yi=n,e()}finally{yi=r}};VN=function(n,e,r){switch(e){case"input":if(RN(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==n&&o.form===n.form){var a=KP(o);if(!a)throw Error(Vt(90));QX(o),RN(o,a)}}}break;case"textarea":jX(n,r);break;case"select":e=r.value,e!=null&&Ym(n,!!r.multiple,e,!1)}};FX=nR;VX=Ad;var YJ={usingClientEntryPoint:!1,Events:[nx,Rm,KP,DX,IX,nR]},H0={findFiberByHostInstance:ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WJ={bundleType:H0.bundleType,version:H0.version,rendererPackageName:H0.rendererPackageName,rendererConfig:H0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ch.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=XX(n),n===null?null:n.stateNode},findFiberByHostInstance:H0.findFiberByHostInstance||UJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oS.isDisabled&&oS.supportsFiber)try{WP=oS.inject(WJ),cu=oS}catch{}}Xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YJ;Xo.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hR(e))throw Error(Vt(200));return _J(n,e,null,r)};Xo.createRoot=function(n,e){if(!hR(n))throw Error(Vt(299));var r=!1,o="",a=wU;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=lR(n,1,!1,null,null,r,!1,o,a),n[yh]=e.current,ev(n.nodeType===8?n.parentNode:n),new uR(e)};Xo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Vt(188)):(n=Object.keys(n).join(","),Error(Vt(268,n)));return n=XX(e),n=n===null?null:n.stateNode,n};Xo.flushSync=function(n){return Ad(n)};Xo.hydrate=function(n,e,r){if(!l2(e))throw Error(Vt(200));return a2(null,n,e,!0,r)};Xo.hydrateRoot=function(n,e,r){if(!hR(n))throw Error(Vt(405));var o=r!=null&&r.hydratedSources||null,a=!1,h="",f=wU;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),e=xU(e,null,n,1,r??null,a,!1,h,f),n[yh]=e.current,ev(n),o)for(n=0;n<o.length;n++)r=o[n],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new o2(e)};Xo.render=function(n,e,r){if(!l2(e))throw Error(Vt(200));return a2(null,n,e,!1,r)};Xo.unmountComponentAtNode=function(n){if(!l2(n))throw Error(Vt(40));return n._reactRootContainer?(Ad(function(){a2(null,null,n,!1,function(){n._reactRootContainer=null,n[yh]=null})}),!0):!1};Xo.unstable_batchedUpdates=nR;Xo.unstable_renderSubtreeIntoContainer=function(n,e,r,o){if(!l2(r))throw Error(Vt(200));if(n==null||n._reactInternals===void 0)throw Error(Vt(38));return a2(n,e,r,!1,o)};Xo.version="18.3.1-next-f1338f8080-20240426";function SU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SU)}catch(n){console.error(n)}}SU(),SX.exports=Xo;var sx=SX.exports;const kU=hX(sx);var PU,FF=sx;PU=FF.createRoot,FF.hydrateRoot;const qJ=1,GJ=1e6;let fM=0;function HJ(){return fM=(fM+1)%Number.MAX_SAFE_INTEGER,fM.toString()}const dM=new Map,VF=n=>{if(dM.has(n))return;const e=setTimeout(()=>{dM.delete(n),RO({type:"REMOVE_TOAST",toastId:n})},GJ);dM.set(n,e)},KJ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,qJ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?VF(r):n.toasts.forEach(o=>{VF(o.id)}),{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(r=>r.id!==e.toastId)}}},ek=[];let ik={toasts:[]};function RO(n){ik=KJ(ik,n),ek.forEach(e=>{e(ik)})}function JJ({...n}){const e=HJ(),r=a=>RO({type:"UPDATE_TOAST",toast:{...a,id:e}}),o=()=>RO({type:"DISMISS_TOAST",toastId:e});return RO({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:a=>{a||o()}}}),{id:e,dismiss:o,update:r}}function ttt(){const[n,e]=U.useState(ik);return U.useEffect(()=>(ek.push(e),()=>{const r=ek.indexOf(e);r>-1&&ek.splice(r,1)}),[n]),{...n,toast:JJ,dismiss:r=>RO({type:"DISMISS_TOAST",toastId:r})}}function Ln(n,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(n==null||n(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function zF(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bU(...n){return e=>{let r=!1;const o=n.map(a=>{const h=zF(a,e);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let a=0;a<o.length;a++){const h=o[a];typeof h=="function"?h():zF(n[a],null)}}}}function Bo(...n){return U.useCallback(bU(...n),n)}function Ud(n,e=[]){let r=[];function o(h,f){const p=U.createContext(f),g=r.length;r=[...r,f];const x=S=>{var L;const{scope:b,children:M,...j}=S,Q=((L=b==null?void 0:b[n])==null?void 0:L[g])||p,R=U.useMemo(()=>j,Object.values(j));return N.jsx(Q.Provider,{value:R,children:M})};x.displayName=h+"Provider";function v(S,b){var Q;const M=((Q=b==null?void 0:b[n])==null?void 0:Q[g])||p,j=U.useContext(M);if(j)return j;if(f!==void 0)return f;throw new Error(`\`${S}\` must be used within \`${h}\``)}return[x,v]}const a=()=>{const h=r.map(f=>U.createContext(f));return function(p){const g=(p==null?void 0:p[n])||h;return U.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return a.scopeName=n,[o,ett(a,...e)]}function ett(...n){const e=n[0];if(n.length===1)return e;const r=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(h){const f=o.reduce((p,{useScope:g,scopeName:x})=>{const S=g(h)[`__scope${x}`];return{...p,...S}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:f}),[f])}};return r.scopeName=e.scopeName,r}function Jk(n){const e=ntt(n),r=U.forwardRef((o,a)=>{const{children:h,...f}=o,p=U.Children.toArray(h),g=p.find(stt);if(g){const x=g.props.children,v=p.map(S=>S===g?U.Children.count(x)>1?U.Children.only(null):U.isValidElement(x)?x.props.children:null:S);return N.jsx(e,{...f,ref:a,children:U.isValidElement(x)?U.cloneElement(x,void 0,v):null})}return N.jsx(e,{...f,ref:a,children:h})});return r.displayName=`${n}.Slot`,r}var itt=Jk("Slot");function ntt(n){const e=U.forwardRef((r,o)=>{const{children:a,...h}=r;if(U.isValidElement(a)){const f=ltt(a),p=ott(h,a.props);return a.type!==U.Fragment&&(p.ref=o?bU(o,f):f),U.cloneElement(a,p)}return U.Children.count(a)>1?U.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var TU=Symbol("radix.slottable");function rtt(n){const e=({children:r})=>N.jsx(N.Fragment,{children:r});return e.displayName=`${n}.Slottable`,e.__radixId=TU,e}function stt(n){return U.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TU}function ott(n,e){const r={...e};for(const o in e){const a=n[o],h=e[o];/^on[A-Z]/.test(o)?a&&h?r[o]=(...p)=>{const g=h(...p);return a(...p),g}:a&&(r[o]=a):o==="style"?r[o]={...a,...h}:o==="className"&&(r[o]=[a,h].filter(Boolean).join(" "))}return{...n,...r}}function ltt(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}function CU(n){const e=n+"CollectionProvider",[r,o]=Ud(e),[a,h]=r(e,{collectionRef:{current:null},itemMap:new Map}),f=Q=>{const{scope:R,children:L}=Q,$=$t.useRef(null),V=$t.useRef(new Map).current;return N.jsx(a,{scope:R,itemMap:V,collectionRef:$,children:L})};f.displayName=e;const p=n+"CollectionSlot",g=Jk(p),x=$t.forwardRef((Q,R)=>{const{scope:L,children:$}=Q,V=h(p,L),D=Bo(R,V.collectionRef);return N.jsx(g,{ref:D,children:$})});x.displayName=p;const v=n+"CollectionItemSlot",S="data-radix-collection-item",b=Jk(v),M=$t.forwardRef((Q,R)=>{const{scope:L,children:$,...V}=Q,D=$t.useRef(null),X=Bo(R,D),W=h(v,L);return $t.useEffect(()=>(W.itemMap.set(D,{ref:D,...V}),()=>void W.itemMap.delete(D))),N.jsx(b,{[S]:"",ref:X,children:$})});M.displayName=v;function j(Q){const R=h(n+"CollectionConsumer",Q);return $t.useCallback(()=>{const $=R.collectionRef.current;if(!$)return[];const V=Array.from($.querySelectorAll(`[${S}]`));return Array.from(R.itemMap.values()).sort((W,K)=>V.indexOf(W.ref.current)-V.indexOf(K.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:f,Slot:x,ItemSlot:M},j,o]}var att=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fn=att.reduce((n,e)=>{const r=Jk(`Primitive.${e}`),o=U.forwardRef((a,h)=>{const{asChild:f,...p}=a,g=f?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),N.jsx(g,{...p,ref:h})});return o.displayName=`Primitive.${e}`,{...n,[e]:o}},{});function MU(n,e){n&&sx.flushSync(()=>n.dispatchEvent(e))}function Vc(n){const e=U.useRef(n);return U.useEffect(()=>{e.current=n}),U.useMemo(()=>(...r)=>{var o;return(o=e.current)==null?void 0:o.call(e,...r)},[])}function utt(n,e=globalThis==null?void 0:globalThis.document){const r=Vc(n);U.useEffect(()=>{const o=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[r,e])}var htt="DismissableLayer",vQ="dismissableLayer.update",ctt="dismissableLayer.pointerDownOutside",ftt="dismissableLayer.focusOutside",BF,NU=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cR=U.forwardRef((n,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h,onInteractOutside:f,onDismiss:p,...g}=n,x=U.useContext(NU),[v,S]=U.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,M]=U.useState({}),j=Bo(e,K=>S(K)),Q=Array.from(x.layers),[R]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),L=Q.indexOf(R),$=v?Q.indexOf(v):-1,V=x.layersWithOutsidePointerEventsDisabled.size>0,D=$>=L,X=ptt(K=>{const tt=K.target,rt=[...x.branches].some(Ot=>Ot.contains(tt));!D||rt||(a==null||a(K),f==null||f(K),K.defaultPrevented||p==null||p())},b),W=mtt(K=>{const tt=K.target;[...x.branches].some(Ot=>Ot.contains(tt))||(h==null||h(K),f==null||f(K),K.defaultPrevented||p==null||p())},b);return utt(K=>{$===x.layers.size-1&&(o==null||o(K),!K.defaultPrevented&&p&&(K.preventDefault(),p()))},b),U.useEffect(()=>{if(v)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(BF=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(v)),x.layers.add(v),XF(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=BF)}},[v,b,r,x]),U.useEffect(()=>()=>{v&&(x.layers.delete(v),x.layersWithOutsidePointerEventsDisabled.delete(v),XF())},[v,x]),U.useEffect(()=>{const K=()=>M({});return document.addEventListener(vQ,K),()=>document.removeEventListener(vQ,K)},[]),N.jsx(Fn.div,{...g,ref:j,style:{pointerEvents:V?D?"auto":"none":void 0,...n.style},onFocusCapture:Ln(n.onFocusCapture,W.onFocusCapture),onBlurCapture:Ln(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Ln(n.onPointerDownCapture,X.onPointerDownCapture)})});cR.displayName=htt;var dtt="DismissableLayerBranch",QU=U.forwardRef((n,e)=>{const r=U.useContext(NU),o=U.useRef(null),a=Bo(e,o);return U.useEffect(()=>{const h=o.current;if(h)return r.branches.add(h),()=>{r.branches.delete(h)}},[r.branches]),N.jsx(Fn.div,{...n,ref:a})});QU.displayName=dtt;function ptt(n,e=globalThis==null?void 0:globalThis.document){const r=Vc(n),o=U.useRef(!1),a=U.useRef(()=>{});return U.useEffect(()=>{const h=p=>{if(p.target&&!o.current){let g=function(){AU(ctt,r,x,{discrete:!0})};const x={originalEvent:p};p.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=g,e.addEventListener("click",a.current,{once:!0})):g()}else e.removeEventListener("click",a.current);o.current=!1},f=window.setTimeout(()=>{e.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(f),e.removeEventListener("pointerdown",h),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>o.current=!0}}function mtt(n,e=globalThis==null?void 0:globalThis.document){const r=Vc(n),o=U.useRef(!1);return U.useEffect(()=>{const a=h=>{h.target&&!o.current&&AU(ftt,r,{originalEvent:h},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function XF(){const n=new CustomEvent(vQ);document.dispatchEvent(n)}function AU(n,e,r,{discrete:o}){const a=r.originalEvent.target,h=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(n,e,{once:!0}),o?MU(a,h):a.dispatchEvent(h)}var gtt=cR,ytt=QU,Ou=globalThis!=null&&globalThis.document?U.useLayoutEffect:()=>{},Ott="Portal",jU=U.forwardRef((n,e)=>{var p;const{container:r,...o}=n,[a,h]=U.useState(!1);Ou(()=>h(!0),[]);const f=r||a&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?kU.createPortal(N.jsx(Fn.div,{...o,ref:e}),f):null});jU.displayName=Ott;function vtt(n,e){return U.useReducer((r,o)=>e[r][o]??r,n)}var u2=n=>{const{present:e,children:r}=n,o=xtt(e),a=typeof r=="function"?r({present:o.isPresent}):U.Children.only(r),h=Bo(o.ref,wtt(a));return typeof r=="function"||o.isPresent?U.cloneElement(a,{ref:h}):null};u2.displayName="Presence";function xtt(n){const[e,r]=U.useState(),o=U.useRef(null),a=U.useRef(n),h=U.useRef("none"),f=n?"mounted":"unmounted",[p,g]=vtt(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const x=lS(o.current);h.current=p==="mounted"?x:"none"},[p]),Ou(()=>{const x=o.current,v=a.current;if(v!==n){const b=h.current,M=lS(x);n?g("MOUNT"):M==="none"||(x==null?void 0:x.display)==="none"?g("UNMOUNT"):g(v&&b!==M?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,g]),Ou(()=>{if(e){let x;const v=e.ownerDocument.defaultView??window,S=M=>{const Q=lS(o.current).includes(M.animationName);if(M.target===e&&Q&&(g("ANIMATION_END"),!a.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",x=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},b=M=>{M.target===e&&(h.current=lS(o.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",S),e.addEventListener("animationend",S),()=>{v.clearTimeout(x),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",S),e.removeEventListener("animationend",S)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:U.useCallback(x=>{o.current=x?getComputedStyle(x):null,r(x)},[])}}function lS(n){return(n==null?void 0:n.animationName)||"none"}function wtt(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}var Stt=xj[" useInsertionEffect ".trim().toString()]||Ou;function ox({prop:n,defaultProp:e,onChange:r=()=>{},caller:o}){const[a,h,f]=ktt({defaultProp:e,onChange:r}),p=n!==void 0,g=p?n:a;{const v=U.useRef(n!==void 0);U.useEffect(()=>{const S=v.current;S!==p&&console.warn(`${o} is changing from ${S?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=p},[p,o])}const x=U.useCallback(v=>{var S;if(p){const b=Ptt(v)?v(n):v;b!==n&&((S=f.current)==null||S.call(f,b))}else h(v)},[p,n,h,f]);return[g,x]}function ktt({defaultProp:n,onChange:e}){const[r,o]=U.useState(n),a=U.useRef(r),h=U.useRef(e);return Stt(()=>{h.current=e},[e]),U.useEffect(()=>{var f;a.current!==r&&((f=h.current)==null||f.call(h,r),a.current=r)},[r,a]),[r,o,h]}function Ptt(n){return typeof n=="function"}var btt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ttt="VisuallyHidden",h2=U.forwardRef((n,e)=>N.jsx(Fn.span,{...n,ref:e,style:{...btt,...n.style}}));h2.displayName=Ttt;var Ctt=h2,fR="ToastProvider",[dR,Mtt,Ntt]=CU("Toast"),[RU,Tkt]=Ud("Toast",[Ntt]),[Qtt,c2]=RU(fR),LU=n=>{const{__scopeToast:e,label:r="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:h=50,children:f}=n,[p,g]=U.useState(null),[x,v]=U.useState(0),S=U.useRef(!1),b=U.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fR}\`. Expected non-empty \`string\`.`),N.jsx(dR.Provider,{scope:e,children:N.jsx(Qtt,{scope:e,label:r,duration:o,swipeDirection:a,swipeThreshold:h,toastCount:x,viewport:p,onViewportChange:g,onToastAdd:U.useCallback(()=>v(M=>M+1),[]),onToastRemove:U.useCallback(()=>v(M=>M-1),[]),isFocusedToastEscapeKeyDownRef:S,isClosePausedRef:b,children:f})})};LU.displayName=fR;var EU="ToastViewport",Att=["F8"],xQ="toast.viewportPause",wQ="toast.viewportResume",$U=U.forwardRef((n,e)=>{const{__scopeToast:r,hotkey:o=Att,label:a="Notifications ({hotkey})",...h}=n,f=c2(EU,r),p=Mtt(r),g=U.useRef(null),x=U.useRef(null),v=U.useRef(null),S=U.useRef(null),b=Bo(e,S,f.onViewportChange),M=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=f.toastCount>0;U.useEffect(()=>{const R=L=>{var V;o.length!==0&&o.every(D=>L[D]||L.code===D)&&((V=S.current)==null||V.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[o]),U.useEffect(()=>{const R=g.current,L=S.current;if(j&&R&&L){const $=()=>{if(!f.isClosePausedRef.current){const W=new CustomEvent(xQ);L.dispatchEvent(W),f.isClosePausedRef.current=!0}},V=()=>{if(f.isClosePausedRef.current){const W=new CustomEvent(wQ);L.dispatchEvent(W),f.isClosePausedRef.current=!1}},D=W=>{!R.contains(W.relatedTarget)&&V()},X=()=>{R.contains(document.activeElement)||V()};return R.addEventListener("focusin",$),R.addEventListener("focusout",D),R.addEventListener("pointermove",$),R.addEventListener("pointerleave",X),window.addEventListener("blur",$),window.addEventListener("focus",V),()=>{R.removeEventListener("focusin",$),R.removeEventListener("focusout",D),R.removeEventListener("pointermove",$),R.removeEventListener("pointerleave",X),window.removeEventListener("blur",$),window.removeEventListener("focus",V)}}},[j,f.isClosePausedRef]);const Q=U.useCallback(({tabbingDirection:R})=>{const $=p().map(V=>{const D=V.ref.current,X=[D,..._tt(D)];return R==="forwards"?X:X.reverse()});return(R==="forwards"?$.reverse():$).flat()},[p]);return U.useEffect(()=>{const R=S.current;if(R){const L=$=>{var X,W,K;const V=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!V){const tt=document.activeElement,rt=$.shiftKey;if($.target===R&&rt){(X=x.current)==null||X.focus();return}const wt=Q({tabbingDirection:rt?"backwards":"forwards"}),St=wt.findIndex(mt=>mt===tt);pM(wt.slice(St+1))?$.preventDefault():rt?(W=x.current)==null||W.focus():(K=v.current)==null||K.focus()}};return R.addEventListener("keydown",L),()=>R.removeEventListener("keydown",L)}},[p,Q]),N.jsxs(ytt,{ref:g,role:"region","aria-label":a.replace("{hotkey}",M),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&N.jsx(SQ,{ref:x,onFocusFromOutsideViewport:()=>{const R=Q({tabbingDirection:"forwards"});pM(R)}}),N.jsx(dR.Slot,{scope:r,children:N.jsx(Fn.ol,{tabIndex:-1,...h,ref:b})}),j&&N.jsx(SQ,{ref:v,onFocusFromOutsideViewport:()=>{const R=Q({tabbingDirection:"backwards"});pM(R)}})]})});$U.displayName=EU;var DU="ToastFocusProxy",SQ=U.forwardRef((n,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...a}=n,h=c2(DU,r);return N.jsx(h2,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:f=>{var x;const p=f.relatedTarget;!((x=h.viewport)!=null&&x.contains(p))&&o()}})});SQ.displayName=DU;var lx="Toast",jtt="toast.swipeStart",Rtt="toast.swipeMove",Ltt="toast.swipeCancel",Ett="toast.swipeEnd",IU=U.forwardRef((n,e)=>{const{forceMount:r,open:o,defaultOpen:a,onOpenChange:h,...f}=n,[p,g]=ox({prop:o,defaultProp:a??!0,onChange:h,caller:lx});return N.jsx(u2,{present:r||p,children:N.jsx(Itt,{open:p,...f,ref:e,onClose:()=>g(!1),onPause:Vc(n.onPause),onResume:Vc(n.onResume),onSwipeStart:Ln(n.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ln(n.onSwipeMove,x=>{const{x:v,y:S}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${S}px`)}),onSwipeCancel:Ln(n.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ln(n.onSwipeEnd,x=>{const{x:v,y:S}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${S}px`),g(!1)})})})});IU.displayName=lx;var[$tt,Dtt]=RU(lx,{onClose(){}}),Itt=U.forwardRef((n,e)=>{const{__scopeToast:r,type:o="foreground",duration:a,open:h,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:x,onSwipeStart:v,onSwipeMove:S,onSwipeCancel:b,onSwipeEnd:M,...j}=n,Q=c2(lx,r),[R,L]=U.useState(null),$=Bo(e,mt=>L(mt)),V=U.useRef(null),D=U.useRef(null),X=a||Q.duration,W=U.useRef(0),K=U.useRef(X),tt=U.useRef(0),{onToastAdd:rt,onToastRemove:Ot}=Q,bt=Vc(()=>{var Ft;(R==null?void 0:R.contains(document.activeElement))&&((Ft=Q.viewport)==null||Ft.focus()),f()}),wt=U.useCallback(mt=>{!mt||mt===1/0||(window.clearTimeout(tt.current),W.current=new Date().getTime(),tt.current=window.setTimeout(bt,mt))},[bt]);U.useEffect(()=>{const mt=Q.viewport;if(mt){const Ft=()=>{wt(K.current),x==null||x()},Nt=()=>{const Rt=new Date().getTime()-W.current;K.current=K.current-Rt,window.clearTimeout(tt.current),g==null||g()};return mt.addEventListener(xQ,Nt),mt.addEventListener(wQ,Ft),()=>{mt.removeEventListener(xQ,Nt),mt.removeEventListener(wQ,Ft)}}},[Q.viewport,X,g,x,wt]),U.useEffect(()=>{h&&!Q.isClosePausedRef.current&&wt(X)},[h,X,Q.isClosePausedRef,wt]),U.useEffect(()=>(rt(),()=>Ot()),[rt,Ot]);const St=U.useMemo(()=>R?UU(R):null,[R]);return Q.viewport?N.jsxs(N.Fragment,{children:[St&&N.jsx(Ftt,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:St}),N.jsx($tt,{scope:r,onClose:bt,children:sx.createPortal(N.jsx(dR.ItemSlot,{scope:r,children:N.jsx(gtt,{asChild:!0,onEscapeKeyDown:Ln(p,()=>{Q.isFocusedToastEscapeKeyDownRef.current||bt(),Q.isFocusedToastEscapeKeyDownRef.current=!1}),children:N.jsx(Fn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":Q.swipeDirection,...j,ref:$,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ln(n.onKeyDown,mt=>{mt.key==="Escape"&&(p==null||p(mt.nativeEvent),mt.nativeEvent.defaultPrevented||(Q.isFocusedToastEscapeKeyDownRef.current=!0,bt()))}),onPointerDown:Ln(n.onPointerDown,mt=>{mt.button===0&&(V.current={x:mt.clientX,y:mt.clientY})}),onPointerMove:Ln(n.onPointerMove,mt=>{if(!V.current)return;const Ft=mt.clientX-V.current.x,Nt=mt.clientY-V.current.y,Rt=!!D.current,dt=["left","right"].includes(Q.swipeDirection),ht=["left","up"].includes(Q.swipeDirection)?Math.min:Math.max,yt=dt?ht(0,Ft):0,Dt=dt?0:ht(0,Nt),qt=mt.pointerType==="touch"?10:2,it={x:yt,y:Dt},xe={originalEvent:mt,delta:it};Rt?(D.current=it,aS(Rtt,S,xe,{discrete:!1})):_F(it,Q.swipeDirection,qt)?(D.current=it,aS(jtt,v,xe,{discrete:!1}),mt.target.setPointerCapture(mt.pointerId)):(Math.abs(Ft)>qt||Math.abs(Nt)>qt)&&(V.current=null)}),onPointerUp:Ln(n.onPointerUp,mt=>{const Ft=D.current,Nt=mt.target;if(Nt.hasPointerCapture(mt.pointerId)&&Nt.releasePointerCapture(mt.pointerId),D.current=null,V.current=null,Ft){const Rt=mt.currentTarget,dt={originalEvent:mt,delta:Ft};_F(Ft,Q.swipeDirection,Q.swipeThreshold)?aS(Ett,M,dt,{discrete:!0}):aS(Ltt,b,dt,{discrete:!0}),Rt.addEventListener("click",ht=>ht.preventDefault(),{once:!0})}})})})}),Q.viewport)})]}):null}),Ftt=n=>{const{__scopeToast:e,children:r,...o}=n,a=c2(lx,e),[h,f]=U.useState(!1),[p,g]=U.useState(!1);return Btt(()=>f(!0)),U.useEffect(()=>{const x=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(x)},[]),p?null:N.jsx(jU,{asChild:!0,children:N.jsx(h2,{...o,children:h&&N.jsxs(N.Fragment,{children:[a.label," ",r]})})})},Vtt="ToastTitle",FU=U.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n;return N.jsx(Fn.div,{...o,ref:e})});FU.displayName=Vtt;var ztt="ToastDescription",VU=U.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n;return N.jsx(Fn.div,{...o,ref:e})});VU.displayName=ztt;var zU="ToastAction",BU=U.forwardRef((n,e)=>{const{altText:r,...o}=n;return r.trim()?N.jsx(_U,{altText:r,asChild:!0,children:N.jsx(pR,{...o,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zU}\`. Expected non-empty \`string\`.`),null)});BU.displayName=zU;var XU="ToastClose",pR=U.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n,a=Dtt(XU,r);return N.jsx(_U,{asChild:!0,children:N.jsx(Fn.button,{type:"button",...o,ref:e,onClick:Ln(n.onClick,a.onClose)})})});pR.displayName=XU;var _U=U.forwardRef((n,e)=>{const{__scopeToast:r,altText:o,...a}=n;return N.jsx(Fn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:e})});function UU(n){const e=[];return Array.from(n.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&e.push(o.textContent),Xtt(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",h=o.dataset.radixToastAnnounceExclude==="";if(!a)if(h){const f=o.dataset.radixToastAnnounceAlt;f&&e.push(f)}else e.push(...UU(o))}}),e}function aS(n,e,r,{discrete:o}){const a=r.originalEvent.currentTarget,h=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(n,e,{once:!0}),o?MU(a,h):a.dispatchEvent(h)}var _F=(n,e,r=0)=>{const o=Math.abs(n.x),a=Math.abs(n.y),h=o>a;return e==="left"||e==="right"?h&&o>r:!h&&a>r};function Btt(n=()=>{}){const e=Vc(n);Ou(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[e])}function Xtt(n){return n.nodeType===n.ELEMENT_NODE}function _tt(n){const e=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function pM(n){const e=document.activeElement;return n.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Utt=LU,ZU=$U,YU=IU,WU=FU,qU=VU,GU=BU,HU=pR;function KU(n){var e,r,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=KU(n[e]))&&(o&&(o+=" "),o+=r)}else for(r in n)n[r]&&(o&&(o+=" "),o+=r);return o}function Do(){for(var n,e,r=0,o="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=KU(n))&&(o&&(o+=" "),o+=e);return o}const UF=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ZF=Do,mR=(n,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return ZF(n,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:h}=e,f=Object.keys(a).map(x=>{const v=r==null?void 0:r[x],S=h==null?void 0:h[x];if(v===null)return null;const b=UF(v)||UF(S);return a[x][b]}),p=r&&Object.entries(r).reduce((x,v)=>{let[S,b]=v;return b===void 0||(x[S]=b),x},{}),g=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((x,v)=>{let{class:S,className:b,...M}=v;return Object.entries(M).every(j=>{let[Q,R]=j;return Array.isArray(R)?R.includes({...h,...p}[Q]):{...h,...p}[Q]===R})?[...x,S,b]:x},[]);return ZF(n,f,g,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ztt=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JU=(...n)=>n.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ytt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wtt=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:h,iconNode:f,...p},g)=>U.createElement("svg",{ref:g,...Ytt,width:e,height:e,stroke:n,strokeWidth:o?Number(r)*24/Number(e):r,className:JU("lucide",a),...p},[...f.map(([x,v])=>U.createElement(x,v)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const r=U.forwardRef(({className:o,...a},h)=>U.createElement(Wtt,{ref:h,iconNode:e,className:JU(`lucide-${Ztt(n)}`,o),...a}));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=Je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qtt=Je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gtt=Je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Htt=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ktt=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jtt=Je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tet=Je("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Je("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Je("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eet=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=Je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iet=Je("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Je("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const net=Je("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ret=Je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=Je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const set=Je("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oet=Je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=Je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=Je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aet=Je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uet=Je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const het=Je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cet=Je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=Je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=Je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yR="-",fet=n=>{const e=pet(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:f=>{const p=f.split(yR);return p[0]===""&&p.length!==1&&p.shift(),nZ(p,e)||det(f)},getConflictingClassGroupIds:(f,p)=>{const g=r[f]||[];return p&&o[f]?[...g,...o[f]]:g}}},nZ=(n,e)=>{var f;if(n.length===0)return e.classGroupId;const r=n[0],o=e.nextPart.get(r),a=o?nZ(n.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const h=n.join(yR);return(f=e.validators.find(({validator:p})=>p(h)))==null?void 0:f.classGroupId},JF=/^\[(.+)\]$/,det=n=>{if(JF.test(n)){const e=JF.exec(n)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},pet=n=>{const{theme:e,prefix:r}=n,o={nextPart:new Map,validators:[]};return get(Object.entries(n.classGroups),r).forEach(([h,f])=>{PQ(f,o,h,e)}),o},PQ=(n,e,r,o)=>{n.forEach(a=>{if(typeof a=="string"){const h=a===""?e:tV(e,a);h.classGroupId=r;return}if(typeof a=="function"){if(met(a)){PQ(a(o),e,r,o);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([h,f])=>{PQ(f,tV(e,h),r,o)})})},tV=(n,e)=>{let r=n;return e.split(yR).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},met=n=>n.isThemeGetter,get=(n,e)=>e?n.map(([r,o])=>{const a=o.map(h=>typeof h=="string"?e+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([f,p])=>[e+f,p])):h);return[r,a]}):n,yet=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const a=(h,f)=>{r.set(h,f),e++,e>n&&(e=0,o=r,r=new Map)};return{get(h){let f=r.get(h);if(f!==void 0)return f;if((f=o.get(h))!==void 0)return a(h,f),f},set(h,f){r.has(h)?r.set(h,f):a(h,f)}}},rZ="!",Oet=n=>{const{separator:e,experimentalParseClassName:r}=n,o=e.length===1,a=e[0],h=e.length,f=p=>{const g=[];let x=0,v=0,S;for(let R=0;R<p.length;R++){let L=p[R];if(x===0){if(L===a&&(o||p.slice(R,R+h)===e)){g.push(p.slice(v,R)),v=R+h;continue}if(L==="/"){S=R;continue}}L==="["?x++:L==="]"&&x--}const b=g.length===0?p:p.substring(v),M=b.startsWith(rZ),j=M?b.substring(1):b,Q=S&&S>v?S-v:void 0;return{modifiers:g,hasImportantModifier:M,baseClassName:j,maybePostfixModifierPosition:Q}};return r?p=>r({className:p,parseClassName:f}):f},vet=n=>{if(n.length<=1)return n;const e=[];let r=[];return n.forEach(o=>{o[0]==="["?(e.push(...r.sort(),o),r=[]):r.push(o)}),e.push(...r.sort()),e},xet=n=>({cache:yet(n.cacheSize),parseClassName:Oet(n),...fet(n)}),wet=/\s+/,ket=(n,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:a}=e,h=[],f=n.trim().split(wet);let p="";for(let g=f.length-1;g>=0;g-=1){const x=f[g],{modifiers:v,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:M}=r(x);let j=!!M,Q=o(j?b.substring(0,M):b);if(!Q){if(!j){p=x+(p.length>0?" "+p:p);continue}if(Q=o(b),!Q){p=x+(p.length>0?" "+p:p);continue}j=!1}const R=vet(v).join(":"),L=S?R+rZ:R,$=L+Q;if(h.includes($))continue;h.push($);const V=a(Q,j);for(let D=0;D<V.length;++D){const X=V[D];h.push(L+X)}p=x+(p.length>0?" "+p:p)}return p};function Pet(){let n=0,e,r,o="";for(;n<arguments.length;)(e=arguments[n++])&&(r=sZ(e))&&(o&&(o+=" "),o+=r);return o}const sZ=n=>{if(typeof n=="string")return n;let e,r="";for(let o=0;o<n.length;o++)n[o]&&(e=sZ(n[o]))&&(r&&(r+=" "),r+=e);return r};function bet(n,...e){let r,o,a,h=f;function f(g){const x=e.reduce((v,S)=>S(v),n());return r=xet(x),o=r.cache.get,a=r.cache.set,h=p,p(g)}function p(g){const x=o(g);if(x)return x;const v=ket(g,r);return a(g,v),v}return function(){return h(Pet.apply(null,arguments))}}const Vi=n=>{const e=r=>r[n]||[];return e.isThemeGetter=!0,e},oZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tet=/^\d+\/\d+$/,Cet=new Set(["px","full","screen"]),Met=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Net=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qet=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aet=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jet=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hu=n=>Jm(n)||Cet.has(n)||Tet.test(n),oc=n=>Ug(n,"length",Vet),Jm=n=>!!n&&!Number.isNaN(Number(n)),mM=n=>Ug(n,"number",Jm),K0=n=>!!n&&Number.isInteger(Number(n)),Ret=n=>n.endsWith("%")&&Jm(n.slice(0,-1)),Le=n=>oZ.test(n),lc=n=>Met.test(n),Let=new Set(["length","size","percentage"]),Eet=n=>Ug(n,Let,lZ),$et=n=>Ug(n,"position",lZ),Det=new Set(["image","url"]),Iet=n=>Ug(n,Det,Bet),Fet=n=>Ug(n,"",zet),J0=()=>!0,Ug=(n,e,r)=>{const o=oZ.exec(n);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):r(o[2]):!1},Vet=n=>Net.test(n)&&!Qet.test(n),lZ=()=>!1,zet=n=>Aet.test(n),Bet=n=>jet.test(n),Xet=()=>{const n=Vi("colors"),e=Vi("spacing"),r=Vi("blur"),o=Vi("brightness"),a=Vi("borderColor"),h=Vi("borderRadius"),f=Vi("borderSpacing"),p=Vi("borderWidth"),g=Vi("contrast"),x=Vi("grayscale"),v=Vi("hueRotate"),S=Vi("invert"),b=Vi("gap"),M=Vi("gradientColorStops"),j=Vi("gradientColorStopPositions"),Q=Vi("inset"),R=Vi("margin"),L=Vi("opacity"),$=Vi("padding"),V=Vi("saturate"),D=Vi("scale"),X=Vi("sepia"),W=Vi("skew"),K=Vi("space"),tt=Vi("translate"),rt=()=>["auto","contain","none"],Ot=()=>["auto","hidden","clip","visible","scroll"],bt=()=>["auto",Le,e],wt=()=>[Le,e],St=()=>["",Hu,oc],mt=()=>["auto",Jm,Le],Ft=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Nt=()=>["solid","dashed","dotted","double","none"],Rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],dt=()=>["start","end","center","between","around","evenly","stretch"],ht=()=>["","0",Le],yt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Dt=()=>[Jm,Le];return{cacheSize:500,separator:":",theme:{colors:[J0],spacing:[Hu,oc],blur:["none","",lc,Le],brightness:Dt(),borderColor:[n],borderRadius:["none","","full",lc,Le],borderSpacing:wt(),borderWidth:St(),contrast:Dt(),grayscale:ht(),hueRotate:Dt(),invert:ht(),gap:wt(),gradientColorStops:[n],gradientColorStopPositions:[Ret,oc],inset:bt(),margin:bt(),opacity:Dt(),padding:wt(),saturate:Dt(),scale:Dt(),sepia:ht(),skew:Dt(),space:wt(),translate:wt()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[lc]}],"break-after":[{"break-after":yt()}],"break-before":[{"break-before":yt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ft(),Le]}],overflow:[{overflow:Ot()}],"overflow-x":[{"overflow-x":Ot()}],"overflow-y":[{"overflow-y":Ot()}],overscroll:[{overscroll:rt()}],"overscroll-x":[{"overscroll-x":rt()}],"overscroll-y":[{"overscroll-y":rt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Q]}],"inset-x":[{"inset-x":[Q]}],"inset-y":[{"inset-y":[Q]}],start:[{start:[Q]}],end:[{end:[Q]}],top:[{top:[Q]}],right:[{right:[Q]}],bottom:[{bottom:[Q]}],left:[{left:[Q]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",K0,Le]}],basis:[{basis:bt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:ht()}],shrink:[{shrink:ht()}],order:[{order:["first","last","none",K0,Le]}],"grid-cols":[{"grid-cols":[J0]}],"col-start-end":[{col:["auto",{span:["full",K0,Le]},Le]}],"col-start":[{"col-start":mt()}],"col-end":[{"col-end":mt()}],"grid-rows":[{"grid-rows":[J0]}],"row-start-end":[{row:["auto",{span:[K0,Le]},Le]}],"row-start":[{"row-start":mt()}],"row-end":[{"row-end":mt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...dt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...dt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...dt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[lc]},lc]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lc,oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mM]}],"font-family":[{font:[J0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Jm,mM]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hu,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[L]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Nt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hu,oc]}],"underline-offset":[{"underline-offset":["auto",Hu,Le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:wt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[L]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ft(),$et]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Eet]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Iet]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[M]}],"gradient-via":[{via:[M]}],"gradient-to":[{to:[M]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[L]}],"border-style":[{border:[...Nt(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[L]}],"divide-style":[{divide:Nt()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Nt()]}],"outline-offset":[{"outline-offset":[Hu,Le]}],"outline-w":[{outline:[Hu,oc]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:St()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[L]}],"ring-offset-w":[{"ring-offset":[Hu,oc]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",lc,Fet]}],"shadow-color":[{shadow:[J0]}],opacity:[{opacity:[L]}],"mix-blend":[{"mix-blend":[...Rt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Rt()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",lc,Le]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[S]}],saturate:[{saturate:[V]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[S]}],"backdrop-opacity":[{"backdrop-opacity":[L]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:Dt()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:Dt()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[K0,Le]}],"translate-x":[{"translate-x":[tt]}],"translate-y":[{"translate-y":[tt]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":wt()}],"scroll-mx":[{"scroll-mx":wt()}],"scroll-my":[{"scroll-my":wt()}],"scroll-ms":[{"scroll-ms":wt()}],"scroll-me":[{"scroll-me":wt()}],"scroll-mt":[{"scroll-mt":wt()}],"scroll-mr":[{"scroll-mr":wt()}],"scroll-mb":[{"scroll-mb":wt()}],"scroll-ml":[{"scroll-ml":wt()}],"scroll-p":[{"scroll-p":wt()}],"scroll-px":[{"scroll-px":wt()}],"scroll-py":[{"scroll-py":wt()}],"scroll-ps":[{"scroll-ps":wt()}],"scroll-pe":[{"scroll-pe":wt()}],"scroll-pt":[{"scroll-pt":wt()}],"scroll-pr":[{"scroll-pr":wt()}],"scroll-pb":[{"scroll-pb":wt()}],"scroll-pl":[{"scroll-pl":wt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Hu,oc,mM]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_et=bet(Xet);function $n(...n){return _et(Do(n))}const Uet=Utt,aZ=U.forwardRef(({className:n,...e},r)=>N.jsx(ZU,{ref:r,className:$n("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));aZ.displayName=ZU.displayName;const Zet=mR("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uZ=U.forwardRef(({className:n,variant:e,...r},o)=>N.jsx(YU,{ref:o,className:$n(Zet({variant:e}),n),...r}));uZ.displayName=YU.displayName;const Yet=U.forwardRef(({className:n,...e},r)=>N.jsx(GU,{ref:r,className:$n("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Yet.displayName=GU.displayName;const hZ=U.forwardRef(({className:n,...e},r)=>N.jsx(HU,{ref:r,className:$n("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:N.jsx(d2,{className:"h-4 w-4"})}));hZ.displayName=HU.displayName;const cZ=U.forwardRef(({className:n,...e},r)=>N.jsx(WU,{ref:r,className:$n("text-sm font-semibold",n),...e}));cZ.displayName=WU.displayName;const fZ=U.forwardRef(({className:n,...e},r)=>N.jsx(qU,{ref:r,className:$n("text-sm opacity-90",n),...e}));fZ.displayName=qU.displayName;function Wet(){const{toasts:n}=ttt();return N.jsxs(Uet,{children:[n.map(function({id:e,title:r,description:o,action:a,...h}){return N.jsxs(uZ,{...h,children:[N.jsxs("div",{className:"grid gap-1",children:[r&&N.jsx(cZ,{children:r}),o&&N.jsx(fZ,{children:o})]}),a,N.jsx(hZ,{})]},e)}),N.jsx(aZ,{})]})}var eV=["light","dark"],qet="(prefers-color-scheme: dark)",Get=U.createContext(void 0),Het={setTheme:n=>{},themes:[]},Ket=()=>{var n;return(n=U.useContext(Get))!=null?n:Het};U.memo(({forcedTheme:n,storageKey:e,attribute:r,enableSystem:o,enableColorScheme:a,defaultTheme:h,value:f,attrs:p,nonce:g})=>{let x=h==="system",v=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,S=a?eV.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(j,Q=!1,R=!0)=>{let L=f?f[j]:j,$=Q?j+"|| ''":`'${L}'`,V="";return a&&R&&!Q&&eV.includes(j)&&(V+=`d.style.colorScheme = '${j}';`),r==="class"?Q||L?V+=`c.add(${$})`:V+="null":L&&(V+=`d[s](n,${$})`),V},M=n?`!function(){${v}${b(n)}}()`:o?`!function(){try{${v}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${x})){var t='${qet}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${b(f?"x[e]":"e",!0)}}${x?"":"else{"+b(h,!1,!1)+"}"}${S}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${e}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${b(f?"x[e]":"e",!0)}}else{${b(h,!1,!1)};}${S}}catch(t){}}();`;return U.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:M}})});function Jet(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const tit=n=>{switch(n){case"success":return nit;case"info":return sit;case"warning":return rit;case"error":return oit;default:return null}},eit=Array(12).fill(0),iit=({visible:n,className:e})=>$t.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},$t.createElement("div",{className:"sonner-spinner"},eit.map((r,o)=>$t.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),nit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$t.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$t.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ait=()=>{const[n,e]=$t.useState(document.hidden);return $t.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let bQ=1;class uit{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:o,...a}=e,h=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:bQ++,f=this.toasts.find(g=>g.id===h),p=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),f?this.toasts=this.toasts.map(g=>g.id===h?(this.publish({...g,...e,id:h,title:o}),{...g,...e,id:h,dismissible:p,title:o}):g):this.addToast({title:o,...a,dismissible:p,id:h}),h},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let h=o!==void 0,f;const p=a.then(async x=>{if(f=["resolve",x],$t.isValidElement(x))h=!1,this.create({id:o,type:"default",message:x});else if(cit(x)&&!x.ok){h=!1;const S=typeof r.error=="function"?await r.error(`HTTP error! status: ${x.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${x.status}`):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"error",description:b,...j})}else if(x instanceof Error){h=!1;const S=typeof r.error=="function"?await r.error(x):r.error,b=typeof r.description=="function"?await r.description(x):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"error",description:b,...j})}else if(r.success!==void 0){h=!1;const S=typeof r.success=="function"?await r.success(x):r.success,b=typeof r.description=="function"?await r.description(x):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"success",description:b,...j})}}).catch(async x=>{if(f=["reject",x],r.error!==void 0){h=!1;const v=typeof r.error=="function"?await r.error(x):r.error,S=typeof r.description=="function"?await r.description(x):r.description,M=typeof v=="object"&&!$t.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:S,...M})}}).finally(()=>{h&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),g=()=>new Promise((x,v)=>p.then(()=>f[0]==="reject"?v(f[1]):x(f[1])).catch(v));return typeof o!="string"&&typeof o!="number"?{unwrap:g}:Object.assign(o,{unwrap:g})},this.custom=(e,r)=>{const o=(r==null?void 0:r.id)||bQ++;return this.create({jsx:e(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Js=new uit,hit=(n,e)=>{const r=(e==null?void 0:e.id)||bQ++;return Js.addToast({title:n,...e,id:r}),r},cit=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",fit=hit,dit=()=>Js.toasts,pit=()=>Js.getActiveToasts(),an=Object.assign(fit,{success:Js.success,info:Js.info,warning:Js.warning,error:Js.error,custom:Js.custom,message:Js.message,promise:Js.promise,dismiss:Js.dismiss,loading:Js.loading},{getHistory:dit,getToasts:pit});Jet("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uS(n){return n.label!==void 0}const mit=3,git="24px",yit="16px",iV=4e3,Oit=356,vit=14,xit=45,wit=200;function Wa(...n){return n.filter(Boolean).join(" ")}function Sit(n){const[e,r]=n.split("-"),o=[];return e&&o.push(e),r&&o.push(r),o}const kit=n=>{var e,r,o,a,h,f,p,g,x;const{invert:v,toast:S,unstyled:b,interacting:M,setHeights:j,visibleToasts:Q,heights:R,index:L,toasts:$,expanded:V,removeToast:D,defaultRichColors:X,closeButton:W,style:K,cancelButtonStyle:tt,actionButtonStyle:rt,className:Ot="",descriptionClassName:bt="",duration:wt,position:St,gap:mt,expandByDefault:Ft,classNames:Nt,icons:Rt,closeButtonAriaLabel:dt="Close toast"}=n,[ht,yt]=$t.useState(null),[Dt,qt]=$t.useState(null),[it,xe]=$t.useState(!1),[Be,le]=$t.useState(!1),[Ni,Ie]=$t.useState(!1),[fi,Xe]=$t.useState(!1),[ti,Oi]=$t.useState(!1),[ct,gi]=$t.useState(0),[ut,Ye]=$t.useState(0),ws=$t.useRef(S.duration||wt||iV),Qi=$t.useRef(null),pn=$t.useRef(null),Ei=L===0,Ae=L+1<=Q,_e=S.type,Zo=S.dismissible!==!1,Ui=S.className||"",jt=S.descriptionClassName||"",F=$t.useMemo(()=>R.findIndex(ge=>ge.toastId===S.id)||0,[R,S.id]),po=$t.useMemo(()=>{var ge;return(ge=S.closeButton)!=null?ge:W},[S.closeButton,W]),Wd=$t.useMemo(()=>S.duration||wt||iV,[S.duration,wt]),hf=$t.useRef(0),wa=$t.useRef(0),cf=$t.useRef(0),Tu=$t.useRef(null),[bx,Tx]=St.split("-"),$i=$t.useMemo(()=>R.reduce((ge,Cn,Vn)=>Vn>=F?ge:ge+Cn.height,0),[R,F]),Di=ait(),mo=S.invert||v,ff=_e==="loading";wa.current=$t.useMemo(()=>F*mt+$i,[F,$i]),$t.useEffect(()=>{ws.current=Wd},[Wd]),$t.useEffect(()=>{xe(!0)},[]),$t.useEffect(()=>{const ge=pn.current;if(ge){const Cn=ge.getBoundingClientRect().height;return Ye(Cn),j(Vn=>[{toastId:S.id,height:Cn,position:S.position},...Vn]),()=>j(Vn=>Vn.filter(fr=>fr.toastId!==S.id))}},[j,S.id]),$t.useLayoutEffect(()=>{if(!it)return;const ge=pn.current,Cn=ge.style.height;ge.style.height="auto";const Vn=ge.getBoundingClientRect().height;ge.style.height=Cn,Ye(Vn),j(fr=>fr.find(zn=>zn.toastId===S.id)?fr.map(zn=>zn.toastId===S.id?{...zn,height:Vn}:zn):[{toastId:S.id,height:Vn,position:S.position},...fr])},[it,S.title,S.description,j,S.id]);const Yo=$t.useCallback(()=>{le(!0),gi(wa.current),j(ge=>ge.filter(Cn=>Cn.toastId!==S.id)),setTimeout(()=>{D(S)},wit)},[S,D,j,wa]);$t.useEffect(()=>{if(S.promise&&_e==="loading"||S.duration===1/0||S.type==="loading")return;let ge;return V||M||Di?(()=>{if(cf.current<hf.current){const fr=new Date().getTime()-hf.current;ws.current=ws.current-fr}cf.current=new Date().getTime()})():(()=>{ws.current!==1/0&&(hf.current=new Date().getTime(),ge=setTimeout(()=>{S.onAutoClose==null||S.onAutoClose.call(S,S),Yo()},ws.current))})(),()=>clearTimeout(ge)},[V,M,S,_e,Di,Yo]),$t.useEffect(()=>{S.delete&&Yo()},[Yo,S.delete]);function At(){var ge;if(Rt!=null&&Rt.loading){var Cn;return $t.createElement("div",{className:Wa(Nt==null?void 0:Nt.loader,S==null||(Cn=S.classNames)==null?void 0:Cn.loader,"sonner-loader"),"data-visible":_e==="loading"},Rt.loading)}return $t.createElement(iit,{className:Wa(Nt==null?void 0:Nt.loader,S==null||(ge=S.classNames)==null?void 0:ge.loader),visible:_e==="loading"})}const Cu=S.icon||(Rt==null?void 0:Rt[_e])||tit(_e);var df,qd;return $t.createElement("li",{tabIndex:0,ref:pn,className:Wa(Ot,Ui,Nt==null?void 0:Nt.toast,S==null||(e=S.classNames)==null?void 0:e.toast,Nt==null?void 0:Nt.default,Nt==null?void 0:Nt[_e],S==null||(r=S.classNames)==null?void 0:r[_e]),"data-sonner-toast":"","data-rich-colors":(df=S.richColors)!=null?df:X,"data-styled":!(S.jsx||S.unstyled||b),"data-mounted":it,"data-promise":!!S.promise,"data-swiped":ti,"data-removed":Be,"data-visible":Ae,"data-y-position":bx,"data-x-position":Tx,"data-index":L,"data-front":Ei,"data-swiping":Ni,"data-dismissible":Zo,"data-type":_e,"data-invert":mo,"data-swipe-out":fi,"data-swipe-direction":Dt,"data-expanded":!!(V||Ft&&it),style:{"--index":L,"--toasts-before":L,"--z-index":$.length-L,"--offset":`${Be?ct:wa.current}px`,"--initial-height":Ft?"auto":`${ut}px`,...K,...S.style},onDragEnd:()=>{Ie(!1),yt(null),Tu.current=null},onPointerDown:ge=>{ff||!Zo||(Qi.current=new Date,gi(wa.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(Ie(!0),Tu.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,Cn,Vn;if(fi||!Zo)return;Tu.current=null;const fr=Number(((ge=pn.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pf=Number(((Cn=pn.current)==null?void 0:Cn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zn=new Date().getTime()-((Vn=Qi.current)==null?void 0:Vn.getTime()),Ss=ht==="x"?fr:pf,J=Math.abs(Ss)/zn;if(Math.abs(Ss)>=xit||J>.11){gi(wa.current),S.onDismiss==null||S.onDismiss.call(S,S),qt(ht==="x"?fr>0?"right":"left":pf>0?"down":"up"),Yo(),Xe(!0);return}else{var Ji,Bs;(Ji=pn.current)==null||Ji.style.setProperty("--swipe-amount-x","0px"),(Bs=pn.current)==null||Bs.style.setProperty("--swipe-amount-y","0px")}Oi(!1),Ie(!1),yt(null)},onPointerMove:ge=>{var Cn,Vn,fr;if(!Tu.current||!Zo||((Cn=window.getSelection())==null?void 0:Cn.toString().length)>0)return;const zn=ge.clientY-Tu.current.y,Ss=ge.clientX-Tu.current.x;var J;const Ji=(J=n.swipeDirections)!=null?J:Sit(St);!ht&&(Math.abs(Ss)>1||Math.abs(zn)>1)&&yt(Math.abs(Ss)>Math.abs(zn)?"x":"y");let Bs={x:0,y:0};const hy=Rl=>1/(1.5+Math.abs(Rl)/20);if(ht==="y"){if(Ji.includes("top")||Ji.includes("bottom"))if(Ji.includes("top")&&zn<0||Ji.includes("bottom")&&zn>0)Bs.y=zn;else{const Rl=zn*hy(zn);Bs.y=Math.abs(Rl)<Math.abs(zn)?Rl:zn}}else if(ht==="x"&&(Ji.includes("left")||Ji.includes("right")))if(Ji.includes("left")&&Ss<0||Ji.includes("right")&&Ss>0)Bs.x=Ss;else{const Rl=Ss*hy(Ss);Bs.x=Math.abs(Rl)<Math.abs(Ss)?Rl:Ss}(Math.abs(Bs.x)>0||Math.abs(Bs.y)>0)&&Oi(!0),(Vn=pn.current)==null||Vn.style.setProperty("--swipe-amount-x",`${Bs.x}px`),(fr=pn.current)==null||fr.style.setProperty("--swipe-amount-y",`${Bs.y}px`)}},po&&!S.jsx&&_e!=="loading"?$t.createElement("button",{"aria-label":dt,"data-disabled":ff,"data-close-button":!0,onClick:ff||!Zo?()=>{}:()=>{Yo(),S.onDismiss==null||S.onDismiss.call(S,S)},className:Wa(Nt==null?void 0:Nt.closeButton,S==null||(o=S.classNames)==null?void 0:o.closeButton)},(qd=Rt==null?void 0:Rt.close)!=null?qd:lit):null,(_e||S.icon||S.promise)&&S.icon!==null&&((Rt==null?void 0:Rt[_e])!==null||S.icon)?$t.createElement("div",{"data-icon":"",className:Wa(Nt==null?void 0:Nt.icon,S==null||(a=S.classNames)==null?void 0:a.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||At():null,S.type!=="loading"?Cu:null):null,$t.createElement("div",{"data-content":"",className:Wa(Nt==null?void 0:Nt.content,S==null||(h=S.classNames)==null?void 0:h.content)},$t.createElement("div",{"data-title":"",className:Wa(Nt==null?void 0:Nt.title,S==null||(f=S.classNames)==null?void 0:f.title)},S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title),S.description?$t.createElement("div",{"data-description":"",className:Wa(bt,jt,Nt==null?void 0:Nt.description,S==null||(p=S.classNames)==null?void 0:p.description)},typeof S.description=="function"?S.description():S.description):null),$t.isValidElement(S.cancel)?S.cancel:S.cancel&&uS(S.cancel)?$t.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||tt,onClick:ge=>{uS(S.cancel)&&Zo&&(S.cancel.onClick==null||S.cancel.onClick.call(S.cancel,ge),Yo())},className:Wa(Nt==null?void 0:Nt.cancelButton,S==null||(g=S.classNames)==null?void 0:g.cancelButton)},S.cancel.label):null,$t.isValidElement(S.action)?S.action:S.action&&uS(S.action)?$t.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||rt,onClick:ge=>{uS(S.action)&&(S.action.onClick==null||S.action.onClick.call(S.action,ge),!ge.defaultPrevented&&Yo())},className:Wa(Nt==null?void 0:Nt.actionButton,S==null||(x=S.classNames)==null?void 0:x.actionButton)},S.action.label):null)};function nV(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Pit(n,e){const r={};return[n,e].forEach((o,a)=>{const h=a===1,f=h?"--mobile-offset":"--offset",p=h?yit:git;function g(x){["top","right","bottom","left"].forEach(v=>{r[`${f}-${v}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?g(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?r[`${f}-${x}`]=p:r[`${f}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):g(p)}),r}const bit=$t.forwardRef(function(e,r){const{invert:o,position:a="bottom-right",hotkey:h=["altKey","KeyT"],expand:f,closeButton:p,className:g,offset:x,mobileOffset:v,theme:S="light",richColors:b,duration:M,style:j,visibleToasts:Q=mit,toastOptions:R,dir:L=nV(),gap:$=vit,icons:V,containerAriaLabel:D="Notifications"}=e,[X,W]=$t.useState([]),K=$t.useMemo(()=>Array.from(new Set([a].concat(X.filter(Dt=>Dt.position).map(Dt=>Dt.position)))),[X,a]),[tt,rt]=$t.useState([]),[Ot,bt]=$t.useState(!1),[wt,St]=$t.useState(!1),[mt,Ft]=$t.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Nt=$t.useRef(null),Rt=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=$t.useRef(null),ht=$t.useRef(!1),yt=$t.useCallback(Dt=>{W(qt=>{var it;return(it=qt.find(xe=>xe.id===Dt.id))!=null&&it.delete||Js.dismiss(Dt.id),qt.filter(({id:xe})=>xe!==Dt.id)})},[]);return $t.useEffect(()=>Js.subscribe(Dt=>{if(Dt.dismiss){requestAnimationFrame(()=>{W(qt=>qt.map(it=>it.id===Dt.id?{...it,delete:!0}:it))});return}setTimeout(()=>{kU.flushSync(()=>{W(qt=>{const it=qt.findIndex(xe=>xe.id===Dt.id);return it!==-1?[...qt.slice(0,it),{...qt[it],...Dt},...qt.slice(it+1)]:[Dt,...qt]})})})}),[X]),$t.useEffect(()=>{if(S!=="system"){Ft(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ft("dark"):Ft("light")),typeof window>"u")return;const Dt=window.matchMedia("(prefers-color-scheme: dark)");try{Dt.addEventListener("change",({matches:qt})=>{Ft(qt?"dark":"light")})}catch{Dt.addListener(({matches:it})=>{try{Ft(it?"dark":"light")}catch(xe){console.error(xe)}})}},[S]),$t.useEffect(()=>{X.length<=1&&bt(!1)},[X]),$t.useEffect(()=>{const Dt=qt=>{var it;if(h.every(le=>qt[le]||qt.code===le)){var Be;bt(!0),(Be=Nt.current)==null||Be.focus()}qt.code==="Escape"&&(document.activeElement===Nt.current||(it=Nt.current)!=null&&it.contains(document.activeElement))&&bt(!1)};return document.addEventListener("keydown",Dt),()=>document.removeEventListener("keydown",Dt)},[h]),$t.useEffect(()=>{if(Nt.current)return()=>{dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null,ht.current=!1)}},[Nt.current]),$t.createElement("section",{ref:r,"aria-label":`${D} ${Rt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((Dt,qt)=>{var it;const[xe,Be]=Dt.split("-");return X.length?$t.createElement("ol",{key:Dt,dir:L==="auto"?nV():L,tabIndex:-1,ref:Nt,className:g,"data-sonner-toaster":!0,"data-sonner-theme":mt,"data-y-position":xe,"data-lifted":Ot&&X.length>1&&!f,"data-x-position":Be,style:{"--front-toast-height":`${((it=tt[0])==null?void 0:it.height)||0}px`,"--width":`${Oit}px`,"--gap":`${$}px`,...j,...Pit(x,v)},onBlur:le=>{ht.current&&!le.currentTarget.contains(le.relatedTarget)&&(ht.current=!1,dt.current&&(dt.current.focus({preventScroll:!0}),dt.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||ht.current||(ht.current=!0,dt.current=le.relatedTarget)},onMouseEnter:()=>bt(!0),onMouseMove:()=>bt(!0),onMouseLeave:()=>{wt||bt(!1)},onDragEnd:()=>bt(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||St(!0)},onPointerUp:()=>St(!1)},X.filter(le=>!le.position&&qt===0||le.position===Dt).map((le,Ni)=>{var Ie,fi;return $t.createElement(kit,{key:le.id,icons:V,index:Ni,toast:le,defaultRichColors:b,duration:(Ie=R==null?void 0:R.duration)!=null?Ie:M,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:o,visibleToasts:Q,closeButton:(fi=R==null?void 0:R.closeButton)!=null?fi:p,interacting:wt,position:Dt,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:yt,toasts:X.filter(Xe=>Xe.position==le.position),heights:tt.filter(Xe=>Xe.position==le.position),setHeights:rt,expandByDefault:f,gap:$,expanded:Ot,swipeDirections:e.swipeDirections})})):null}))}),Tit=({...n})=>{const{theme:e="system"}=Ket();return N.jsx(bit,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var Cit=xj[" useId ".trim().toString()]||(()=>{}),Mit=0;function OR(n){const[e,r]=U.useState(Cit());return Ou(()=>{r(o=>o??String(Mit++))},[n]),e?`radix-${e}`:""}const Nit=["top","right","bottom","left"],Bc=Math.min,Lo=Math.max,nP=Math.round,hS=Math.floor,du=n=>({x:n,y:n}),Qit={left:"right",right:"left",bottom:"top",top:"bottom"},Ait={start:"end",end:"start"};function TQ(n,e,r){return Lo(n,Bc(e,r))}function xh(n,e){return typeof n=="function"?n(e):n}function wh(n){return n.split("-")[0]}function Zg(n){return n.split("-")[1]}function vR(n){return n==="x"?"y":"x"}function xR(n){return n==="y"?"height":"width"}function dh(n){return["top","bottom"].includes(wh(n))?"y":"x"}function wR(n){return vR(dh(n))}function jit(n,e,r){r===void 0&&(r=!1);const o=Zg(n),a=wR(n),h=xR(a);let f=a==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[h]>e.floating[h]&&(f=rP(f)),[f,rP(f)]}function Rit(n){const e=rP(n);return[CQ(n),e,CQ(e)]}function CQ(n){return n.replace(/start|end/g,e=>Ait[e])}function Lit(n,e,r){const o=["left","right"],a=["right","left"],h=["top","bottom"],f=["bottom","top"];switch(n){case"top":case"bottom":return r?e?a:o:e?o:a;case"left":case"right":return e?h:f;default:return[]}}function Eit(n,e,r,o){const a=Zg(n);let h=Lit(wh(n),r==="start",o);return a&&(h=h.map(f=>f+"-"+a),e&&(h=h.concat(h.map(CQ)))),h}function rP(n){return n.replace(/left|right|bottom|top/g,e=>Qit[e])}function $it(n){return{top:0,right:0,bottom:0,left:0,...n}}function dZ(n){return typeof n!="number"?$it(n):{top:n,right:n,bottom:n,left:n}}function sP(n){const{x:e,y:r,width:o,height:a}=n;return{width:o,height:a,top:r,left:e,right:e+o,bottom:r+a,x:e,y:r}}function rV(n,e,r){let{reference:o,floating:a}=n;const h=dh(e),f=wR(e),p=xR(f),g=wh(e),x=h==="y",v=o.x+o.width/2-a.width/2,S=o.y+o.height/2-a.height/2,b=o[p]/2-a[p]/2;let M;switch(g){case"top":M={x:v,y:o.y-a.height};break;case"bottom":M={x:v,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:S};break;case"left":M={x:o.x-a.width,y:S};break;default:M={x:o.x,y:o.y}}switch(Zg(e)){case"start":M[f]-=b*(r&&x?-1:1);break;case"end":M[f]+=b*(r&&x?-1:1);break}return M}const Dit=async(n,e,r)=>{const{placement:o="bottom",strategy:a="absolute",middleware:h=[],platform:f}=r,p=h.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(e));let x=await f.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:S}=rV(x,o,g),b=o,M={},j=0;for(let Q=0;Q<p.length;Q++){const{name:R,fn:L}=p[Q],{x:$,y:V,data:D,reset:X}=await L({x:v,y:S,initialPlacement:o,placement:b,strategy:a,middlewareData:M,rects:x,platform:f,elements:{reference:n,floating:e}});v=$??v,S=V??S,M={...M,[R]:{...M[R],...D}},X&&j<=50&&(j++,typeof X=="object"&&(X.placement&&(b=X.placement),X.rects&&(x=X.rects===!0?await f.getElementRects({reference:n,floating:e,strategy:a}):X.rects),{x:v,y:S}=rV(x,b,g)),Q=-1)}return{x:v,y:S,placement:b,strategy:a,middlewareData:M}};async function hv(n,e){var r;e===void 0&&(e={});const{x:o,y:a,platform:h,rects:f,elements:p,strategy:g}=n,{boundary:x="clippingAncestors",rootBoundary:v="viewport",elementContext:S="floating",altBoundary:b=!1,padding:M=0}=xh(e,n),j=dZ(M),R=p[b?S==="floating"?"reference":"floating":S],L=sP(await h.getClippingRect({element:(r=await(h.isElement==null?void 0:h.isElement(R)))==null||r?R:R.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(p.floating)),boundary:x,rootBoundary:v,strategy:g})),$=S==="floating"?{x:o,y:a,width:f.floating.width,height:f.floating.height}:f.reference,V=await(h.getOffsetParent==null?void 0:h.getOffsetParent(p.floating)),D=await(h.isElement==null?void 0:h.isElement(V))?await(h.getScale==null?void 0:h.getScale(V))||{x:1,y:1}:{x:1,y:1},X=sP(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:$,offsetParent:V,strategy:g}):$);return{top:(L.top-X.top+j.top)/D.y,bottom:(X.bottom-L.bottom+j.bottom)/D.y,left:(L.left-X.left+j.left)/D.x,right:(X.right-L.right+j.right)/D.x}}const Iit=n=>({name:"arrow",options:n,async fn(e){const{x:r,y:o,placement:a,rects:h,platform:f,elements:p,middlewareData:g}=e,{element:x,padding:v=0}=xh(n,e)||{};if(x==null)return{};const S=dZ(v),b={x:r,y:o},M=wR(a),j=xR(M),Q=await f.getDimensions(x),R=M==="y",L=R?"top":"left",$=R?"bottom":"right",V=R?"clientHeight":"clientWidth",D=h.reference[j]+h.reference[M]-b[M]-h.floating[j],X=b[M]-h.reference[M],W=await(f.getOffsetParent==null?void 0:f.getOffsetParent(x));let K=W?W[V]:0;(!K||!await(f.isElement==null?void 0:f.isElement(W)))&&(K=p.floating[V]||h.floating[j]);const tt=D/2-X/2,rt=K/2-Q[j]/2-1,Ot=Bc(S[L],rt),bt=Bc(S[$],rt),wt=Ot,St=K-Q[j]-bt,mt=K/2-Q[j]/2+tt,Ft=TQ(wt,mt,St),Nt=!g.arrow&&Zg(a)!=null&&mt!==Ft&&h.reference[j]/2-(mt<wt?Ot:bt)-Q[j]/2<0,Rt=Nt?mt<wt?mt-wt:mt-St:0;return{[M]:b[M]+Rt,data:{[M]:Ft,centerOffset:mt-Ft-Rt,...Nt&&{alignmentOffset:Rt}},reset:Nt}}}),Fit=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var r,o;const{placement:a,middlewareData:h,rects:f,initialPlacement:p,platform:g,elements:x}=e,{mainAxis:v=!0,crossAxis:S=!0,fallbackPlacements:b,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:Q=!0,...R}=xh(n,e);if((r=h.arrow)!=null&&r.alignmentOffset)return{};const L=wh(a),$=dh(p),V=wh(p)===p,D=await(g.isRTL==null?void 0:g.isRTL(x.floating)),X=b||(V||!Q?[rP(p)]:Rit(p)),W=j!=="none";!b&&W&&X.push(...Eit(p,Q,j,D));const K=[p,...X],tt=await hv(e,R),rt=[];let Ot=((o=h.flip)==null?void 0:o.overflows)||[];if(v&&rt.push(tt[L]),S){const Ft=jit(a,f,D);rt.push(tt[Ft[0]],tt[Ft[1]])}if(Ot=[...Ot,{placement:a,overflows:rt}],!rt.every(Ft=>Ft<=0)){var bt,wt;const Ft=(((bt=h.flip)==null?void 0:bt.index)||0)+1,Nt=K[Ft];if(Nt){var St;const dt=S==="alignment"?$!==dh(Nt):!1,ht=((St=Ot[0])==null?void 0:St.overflows[0])>0;if(!dt||ht)return{data:{index:Ft,overflows:Ot},reset:{placement:Nt}}}let Rt=(wt=Ot.filter(dt=>dt.overflows[0]<=0).sort((dt,ht)=>dt.overflows[1]-ht.overflows[1])[0])==null?void 0:wt.placement;if(!Rt)switch(M){case"bestFit":{var mt;const dt=(mt=Ot.filter(ht=>{if(W){const yt=dh(ht.placement);return yt===$||yt==="y"}return!0}).map(ht=>[ht.placement,ht.overflows.filter(yt=>yt>0).reduce((yt,Dt)=>yt+Dt,0)]).sort((ht,yt)=>ht[1]-yt[1])[0])==null?void 0:mt[0];dt&&(Rt=dt);break}case"initialPlacement":Rt=p;break}if(a!==Rt)return{reset:{placement:Rt}}}return{}}}};function sV(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function oV(n){return Nit.some(e=>n[e]>=0)}const Vit=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:r}=e,{strategy:o="referenceHidden",...a}=xh(n,e);switch(o){case"referenceHidden":{const h=await hv(e,{...a,elementContext:"reference"}),f=sV(h,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:oV(f)}}}case"escaped":{const h=await hv(e,{...a,altBoundary:!0}),f=sV(h,r.floating);return{data:{escapedOffsets:f,escaped:oV(f)}}}default:return{}}}}};async function zit(n,e){const{placement:r,platform:o,elements:a}=n,h=await(o.isRTL==null?void 0:o.isRTL(a.floating)),f=wh(r),p=Zg(r),g=dh(r)==="y",x=["left","top"].includes(f)?-1:1,v=h&&g?-1:1,S=xh(e,n);let{mainAxis:b,crossAxis:M,alignmentAxis:j}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:S.mainAxis||0,crossAxis:S.crossAxis||0,alignmentAxis:S.alignmentAxis};return p&&typeof j=="number"&&(M=p==="end"?j*-1:j),g?{x:M*v,y:b*x}:{x:b*x,y:M*v}}const Bit=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var r,o;const{x:a,y:h,placement:f,middlewareData:p}=e,g=await zit(e,n);return f===((r=p.offset)==null?void 0:r.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:a+g.x,y:h+g.y,data:{...g,placement:f}}}}},Xit=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:r,y:o,placement:a}=e,{mainAxis:h=!0,crossAxis:f=!1,limiter:p={fn:R=>{let{x:L,y:$}=R;return{x:L,y:$}}},...g}=xh(n,e),x={x:r,y:o},v=await hv(e,g),S=dh(wh(a)),b=vR(S);let M=x[b],j=x[S];if(h){const R=b==="y"?"top":"left",L=b==="y"?"bottom":"right",$=M+v[R],V=M-v[L];M=TQ($,M,V)}if(f){const R=S==="y"?"top":"left",L=S==="y"?"bottom":"right",$=j+v[R],V=j-v[L];j=TQ($,j,V)}const Q=p.fn({...e,[b]:M,[S]:j});return{...Q,data:{x:Q.x-r,y:Q.y-o,enabled:{[b]:h,[S]:f}}}}}},_it=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:r,y:o,placement:a,rects:h,middlewareData:f}=e,{offset:p=0,mainAxis:g=!0,crossAxis:x=!0}=xh(n,e),v={x:r,y:o},S=dh(a),b=vR(S);let M=v[b],j=v[S];const Q=xh(p,e),R=typeof Q=="number"?{mainAxis:Q,crossAxis:0}:{mainAxis:0,crossAxis:0,...Q};if(g){const V=b==="y"?"height":"width",D=h.reference[b]-h.floating[V]+R.mainAxis,X=h.reference[b]+h.reference[V]-R.mainAxis;M<D?M=D:M>X&&(M=X)}if(x){var L,$;const V=b==="y"?"width":"height",D=["top","left"].includes(wh(a)),X=h.reference[S]-h.floating[V]+(D&&((L=f.offset)==null?void 0:L[S])||0)+(D?0:R.crossAxis),W=h.reference[S]+h.reference[V]+(D?0:(($=f.offset)==null?void 0:$[S])||0)-(D?R.crossAxis:0);j<X?j=X:j>W&&(j=W)}return{[b]:M,[S]:j}}}},Uit=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var r,o;const{placement:a,rects:h,platform:f,elements:p}=e,{apply:g=()=>{},...x}=xh(n,e),v=await hv(e,x),S=wh(a),b=Zg(a),M=dh(a)==="y",{width:j,height:Q}=h.floating;let R,L;S==="top"||S==="bottom"?(R=S,L=b===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(L=S,R=b==="end"?"top":"bottom");const $=Q-v.top-v.bottom,V=j-v.left-v.right,D=Bc(Q-v[R],$),X=Bc(j-v[L],V),W=!e.middlewareData.shift;let K=D,tt=X;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(tt=V),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(K=$),W&&!b){const Ot=Lo(v.left,0),bt=Lo(v.right,0),wt=Lo(v.top,0),St=Lo(v.bottom,0);M?tt=j-2*(Ot!==0||bt!==0?Ot+bt:Lo(v.left,v.right)):K=Q-2*(wt!==0||St!==0?wt+St:Lo(v.top,v.bottom))}await g({...e,availableWidth:tt,availableHeight:K});const rt=await f.getDimensions(p.floating);return j!==rt.width||Q!==rt.height?{reset:{rects:!0}}:{}}}};function p2(){return typeof window<"u"}function Yg(n){return pZ(n)?(n.nodeName||"").toLowerCase():"#document"}function Vo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wu(n){var e;return(e=(pZ(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function pZ(n){return p2()?n instanceof Node||n instanceof Vo(n).Node:!1}function fa(n){return p2()?n instanceof Element||n instanceof Vo(n).Element:!1}function vu(n){return p2()?n instanceof HTMLElement||n instanceof Vo(n).HTMLElement:!1}function lV(n){return!p2()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Vo(n).ShadowRoot}function ax(n){const{overflow:e,overflowX:r,overflowY:o,display:a}=da(n);return/auto|scroll|overlay|hidden|clip/.test(e+o+r)&&!["inline","contents"].includes(a)}function Zit(n){return["table","td","th"].includes(Yg(n))}function m2(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function SR(n){const e=kR(),r=fa(n)?da(n):n;return["transform","translate","scale","rotate","perspective"].some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function Yit(n){let e=Xc(n);for(;vu(e)&&!Pg(e);){if(SR(e))return e;if(m2(e))return null;e=Xc(e)}return null}function kR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pg(n){return["html","body","#document"].includes(Yg(n))}function da(n){return Vo(n).getComputedStyle(n)}function g2(n){return fa(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Xc(n){if(Yg(n)==="html")return n;const e=n.assignedSlot||n.parentNode||lV(n)&&n.host||wu(n);return lV(e)?e.host:e}function mZ(n){const e=Xc(n);return Pg(e)?n.ownerDocument?n.ownerDocument.body:n.body:vu(e)&&ax(e)?e:mZ(e)}function cv(n,e,r){var o;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=mZ(n),h=a===((o=n.ownerDocument)==null?void 0:o.body),f=Vo(a);if(h){const p=MQ(f);return e.concat(f,f.visualViewport||[],ax(a)?a:[],p&&r?cv(p):[])}return e.concat(a,cv(a,[],r))}function MQ(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function gZ(n){const e=da(n);let r=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=vu(n),h=a?n.offsetWidth:r,f=a?n.offsetHeight:o,p=nP(r)!==h||nP(o)!==f;return p&&(r=h,o=f),{width:r,height:o,$:p}}function PR(n){return fa(n)?n:n.contextElement}function tg(n){const e=PR(n);if(!vu(e))return du(1);const r=e.getBoundingClientRect(),{width:o,height:a,$:h}=gZ(e);let f=(h?nP(r.width):r.width)/o,p=(h?nP(r.height):r.height)/a;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Wit=du(0);function yZ(n){const e=Vo(n);return!kR()||!e.visualViewport?Wit:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qit(n,e,r){return e===void 0&&(e=!1),!r||e&&r!==Vo(n)?!1:e}function Rd(n,e,r,o){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=n.getBoundingClientRect(),h=PR(n);let f=du(1);e&&(o?fa(o)&&(f=tg(o)):f=tg(n));const p=qit(h,r,o)?yZ(h):du(0);let g=(a.left+p.x)/f.x,x=(a.top+p.y)/f.y,v=a.width/f.x,S=a.height/f.y;if(h){const b=Vo(h),M=o&&fa(o)?Vo(o):o;let j=b,Q=MQ(j);for(;Q&&o&&M!==j;){const R=tg(Q),L=Q.getBoundingClientRect(),$=da(Q),V=L.left+(Q.clientLeft+parseFloat($.paddingLeft))*R.x,D=L.top+(Q.clientTop+parseFloat($.paddingTop))*R.y;g*=R.x,x*=R.y,v*=R.x,S*=R.y,g+=V,x+=D,j=Vo(Q),Q=MQ(j)}}return sP({width:v,height:S,x:g,y:x})}function bR(n,e){const r=g2(n).scrollLeft;return e?e.left+r:Rd(wu(n)).left+r}function OZ(n,e,r){r===void 0&&(r=!1);const o=n.getBoundingClientRect(),a=o.left+e.scrollLeft-(r?0:bR(n,o)),h=o.top+e.scrollTop;return{x:a,y:h}}function Git(n){let{elements:e,rect:r,offsetParent:o,strategy:a}=n;const h=a==="fixed",f=wu(o),p=e?m2(e.floating):!1;if(o===f||p&&h)return r;let g={scrollLeft:0,scrollTop:0},x=du(1);const v=du(0),S=vu(o);if((S||!S&&!h)&&((Yg(o)!=="body"||ax(f))&&(g=g2(o)),vu(o))){const M=Rd(o);x=tg(o),v.x=M.x+o.clientLeft,v.y=M.y+o.clientTop}const b=f&&!S&&!h?OZ(f,g,!0):du(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-g.scrollLeft*x.x+v.x+b.x,y:r.y*x.y-g.scrollTop*x.y+v.y+b.y}}function Hit(n){return Array.from(n.getClientRects())}function Kit(n){const e=wu(n),r=g2(n),o=n.ownerDocument.body,a=Lo(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),h=Lo(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let f=-r.scrollLeft+bR(n);const p=-r.scrollTop;return da(o).direction==="rtl"&&(f+=Lo(e.clientWidth,o.clientWidth)-a),{width:a,height:h,x:f,y:p}}function Jit(n,e){const r=Vo(n),o=wu(n),a=r.visualViewport;let h=o.clientWidth,f=o.clientHeight,p=0,g=0;if(a){h=a.width,f=a.height;const x=kR();(!x||x&&e==="fixed")&&(p=a.offsetLeft,g=a.offsetTop)}return{width:h,height:f,x:p,y:g}}function tnt(n,e){const r=Rd(n,!0,e==="fixed"),o=r.top+n.clientTop,a=r.left+n.clientLeft,h=vu(n)?tg(n):du(1),f=n.clientWidth*h.x,p=n.clientHeight*h.y,g=a*h.x,x=o*h.y;return{width:f,height:p,x:g,y:x}}function aV(n,e,r){let o;if(e==="viewport")o=Jit(n,r);else if(e==="document")o=Kit(wu(n));else if(fa(e))o=tnt(e,r);else{const a=yZ(n);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return sP(o)}function vZ(n,e){const r=Xc(n);return r===e||!fa(r)||Pg(r)?!1:da(r).position==="fixed"||vZ(r,e)}function ent(n,e){const r=e.get(n);if(r)return r;let o=cv(n,[],!1).filter(p=>fa(p)&&Yg(p)!=="body"),a=null;const h=da(n).position==="fixed";let f=h?Xc(n):n;for(;fa(f)&&!Pg(f);){const p=da(f),g=SR(f);!g&&p.position==="fixed"&&(a=null),(h?!g&&!a:!g&&p.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ax(f)&&!g&&vZ(n,f))?o=o.filter(v=>v!==f):a=p,f=Xc(f)}return e.set(n,o),o}function int(n){let{element:e,boundary:r,rootBoundary:o,strategy:a}=n;const f=[...r==="clippingAncestors"?m2(e)?[]:ent(e,this._c):[].concat(r),o],p=f[0],g=f.reduce((x,v)=>{const S=aV(e,v,a);return x.top=Lo(S.top,x.top),x.right=Bc(S.right,x.right),x.bottom=Bc(S.bottom,x.bottom),x.left=Lo(S.left,x.left),x},aV(e,p,a));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function nnt(n){const{width:e,height:r}=gZ(n);return{width:e,height:r}}function rnt(n,e,r){const o=vu(e),a=wu(e),h=r==="fixed",f=Rd(n,!0,h,e);let p={scrollLeft:0,scrollTop:0};const g=du(0);function x(){g.x=bR(a)}if(o||!o&&!h)if((Yg(e)!=="body"||ax(a))&&(p=g2(e)),o){const M=Rd(e,!0,h,e);g.x=M.x+e.clientLeft,g.y=M.y+e.clientTop}else a&&x();h&&!o&&a&&x();const v=a&&!o&&!h?OZ(a,p):du(0),S=f.left+p.scrollLeft-g.x-v.x,b=f.top+p.scrollTop-g.y-v.y;return{x:S,y:b,width:f.width,height:f.height}}function gM(n){return da(n).position==="static"}function uV(n,e){if(!vu(n)||da(n).position==="fixed")return null;if(e)return e(n);let r=n.offsetParent;return wu(n)===r&&(r=r.ownerDocument.body),r}function xZ(n,e){const r=Vo(n);if(m2(n))return r;if(!vu(n)){let a=Xc(n);for(;a&&!Pg(a);){if(fa(a)&&!gM(a))return a;a=Xc(a)}return r}let o=uV(n,e);for(;o&&Zit(o)&&gM(o);)o=uV(o,e);return o&&Pg(o)&&gM(o)&&!SR(o)?r:o||Yit(n)||r}const snt=async function(n){const e=this.getOffsetParent||xZ,r=this.getDimensions,o=await r(n.floating);return{reference:rnt(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function ont(n){return da(n).direction==="rtl"}const lnt={convertOffsetParentRelativeRectToViewportRelativeRect:Git,getDocumentElement:wu,getClippingRect:int,getOffsetParent:xZ,getElementRects:snt,getClientRects:Hit,getDimensions:nnt,getScale:tg,isElement:fa,isRTL:ont};function wZ(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ant(n,e){let r=null,o;const a=wu(n);function h(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),h();const x=n.getBoundingClientRect(),{left:v,top:S,width:b,height:M}=x;if(p||e(),!b||!M)return;const j=hS(S),Q=hS(a.clientWidth-(v+b)),R=hS(a.clientHeight-(S+M)),L=hS(v),V={rootMargin:-j+"px "+-Q+"px "+-R+"px "+-L+"px",threshold:Lo(0,Bc(1,g))||1};let D=!0;function X(W){const K=W[0].intersectionRatio;if(K!==g){if(!D)return f();K?f(!1,K):o=setTimeout(()=>{f(!1,1e-7)},1e3)}K===1&&!wZ(x,n.getBoundingClientRect())&&f(),D=!1}try{r=new IntersectionObserver(X,{...V,root:a.ownerDocument})}catch{r=new IntersectionObserver(X,V)}r.observe(n)}return f(!0),h}function unt(n,e,r,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:h=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,x=PR(n),v=a||h?[...x?cv(x):[],...cv(e)]:[];v.forEach(L=>{a&&L.addEventListener("scroll",r,{passive:!0}),h&&L.addEventListener("resize",r)});const S=x&&p?ant(x,r):null;let b=-1,M=null;f&&(M=new ResizeObserver(L=>{let[$]=L;$&&$.target===x&&M&&(M.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var V;(V=M)==null||V.observe(e)})),r()}),x&&!g&&M.observe(x),M.observe(e));let j,Q=g?Rd(n):null;g&&R();function R(){const L=Rd(n);Q&&!wZ(Q,L)&&r(),Q=L,j=requestAnimationFrame(R)}return r(),()=>{var L;v.forEach($=>{a&&$.removeEventListener("scroll",r),h&&$.removeEventListener("resize",r)}),S==null||S(),(L=M)==null||L.disconnect(),M=null,g&&cancelAnimationFrame(j)}}const hnt=Bit,cnt=Xit,fnt=Fit,dnt=Uit,pnt=Vit,hV=Iit,mnt=_it,gnt=(n,e,r)=>{const o=new Map,a={platform:lnt,...r},h={...a.platform,_c:o};return Dit(n,e,{...a,platform:h})};var nk=typeof document<"u"?U.useLayoutEffect:U.useEffect;function oP(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let r,o,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(r=n.length,r!==e.length)return!1;for(o=r;o--!==0;)if(!oP(n[o],e[o]))return!1;return!0}if(a=Object.keys(n),r=a.length,r!==Object.keys(e).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=r;o--!==0;){const h=a[o];if(!(h==="_owner"&&n.$$typeof)&&!oP(n[h],e[h]))return!1}return!0}return n!==n&&e!==e}function SZ(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function cV(n,e){const r=SZ(n);return Math.round(e*r)/r}function yM(n){const e=U.useRef(n);return nk(()=>{e.current=n}),e}function ynt(n){n===void 0&&(n={});const{placement:e="bottom",strategy:r="absolute",middleware:o=[],platform:a,elements:{reference:h,floating:f}={},transform:p=!0,whileElementsMounted:g,open:x}=n,[v,S]=U.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[b,M]=U.useState(o);oP(b,o)||M(o);const[j,Q]=U.useState(null),[R,L]=U.useState(null),$=U.useCallback(dt=>{dt!==W.current&&(W.current=dt,Q(dt))},[]),V=U.useCallback(dt=>{dt!==K.current&&(K.current=dt,L(dt))},[]),D=h||j,X=f||R,W=U.useRef(null),K=U.useRef(null),tt=U.useRef(v),rt=g!=null,Ot=yM(g),bt=yM(a),wt=yM(x),St=U.useCallback(()=>{if(!W.current||!K.current)return;const dt={placement:e,strategy:r,middleware:b};bt.current&&(dt.platform=bt.current),gnt(W.current,K.current,dt).then(ht=>{const yt={...ht,isPositioned:wt.current!==!1};mt.current&&!oP(tt.current,yt)&&(tt.current=yt,sx.flushSync(()=>{S(yt)}))})},[b,e,r,bt,wt]);nk(()=>{x===!1&&tt.current.isPositioned&&(tt.current.isPositioned=!1,S(dt=>({...dt,isPositioned:!1})))},[x]);const mt=U.useRef(!1);nk(()=>(mt.current=!0,()=>{mt.current=!1}),[]),nk(()=>{if(D&&(W.current=D),X&&(K.current=X),D&&X){if(Ot.current)return Ot.current(D,X,St);St()}},[D,X,St,Ot,rt]);const Ft=U.useMemo(()=>({reference:W,floating:K,setReference:$,setFloating:V}),[$,V]),Nt=U.useMemo(()=>({reference:D,floating:X}),[D,X]),Rt=U.useMemo(()=>{const dt={position:r,left:0,top:0};if(!Nt.floating)return dt;const ht=cV(Nt.floating,v.x),yt=cV(Nt.floating,v.y);return p?{...dt,transform:"translate("+ht+"px, "+yt+"px)",...SZ(Nt.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ht,top:yt}},[r,p,Nt.floating,v.x,v.y]);return U.useMemo(()=>({...v,update:St,refs:Ft,elements:Nt,floatingStyles:Rt}),[v,St,Ft,Nt,Rt])}const Ont=n=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){const{element:o,padding:a}=typeof n=="function"?n(r):n;return o&&e(o)?o.current!=null?hV({element:o.current,padding:a}).fn(r):{}:o?hV({element:o,padding:a}).fn(r):{}}}},vnt=(n,e)=>({...hnt(n),options:[n,e]}),xnt=(n,e)=>({...cnt(n),options:[n,e]}),wnt=(n,e)=>({...mnt(n),options:[n,e]}),Snt=(n,e)=>({...fnt(n),options:[n,e]}),knt=(n,e)=>({...dnt(n),options:[n,e]}),Pnt=(n,e)=>({...pnt(n),options:[n,e]}),bnt=(n,e)=>({...Ont(n),options:[n,e]});var Tnt="Arrow",kZ=U.forwardRef((n,e)=>{const{children:r,width:o=10,height:a=5,...h}=n;return N.jsx(Fn.svg,{...h,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?r:N.jsx("polygon",{points:"0,0 30,0 15,10"})})});kZ.displayName=Tnt;var Cnt=kZ;function Mnt(n){const[e,r]=U.useState(void 0);return Ou(()=>{if(n){r({width:n.offsetWidth,height:n.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const h=a[0];let f,p;if("borderBoxSize"in h){const g=h.borderBoxSize,x=Array.isArray(g)?g[0]:g;f=x.inlineSize,p=x.blockSize}else f=n.offsetWidth,p=n.offsetHeight;r({width:f,height:p})});return o.observe(n,{box:"border-box"}),()=>o.unobserve(n)}else r(void 0)},[n]),e}var TR="Popper",[PZ,bZ]=Ud(TR),[Nnt,TZ]=PZ(TR),CZ=n=>{const{__scopePopper:e,children:r}=n,[o,a]=U.useState(null);return N.jsx(Nnt,{scope:e,anchor:o,onAnchorChange:a,children:r})};CZ.displayName=TR;var MZ="PopperAnchor",NZ=U.forwardRef((n,e)=>{const{__scopePopper:r,virtualRef:o,...a}=n,h=TZ(MZ,r),f=U.useRef(null),p=Bo(e,f);return U.useEffect(()=>{h.onAnchorChange((o==null?void 0:o.current)||f.current)}),o?null:N.jsx(Fn.div,{...a,ref:p})});NZ.displayName=MZ;var CR="PopperContent",[Qnt,Ant]=PZ(CR),QZ=U.forwardRef((n,e)=>{var Ni,Ie,fi,Xe,ti,Oi;const{__scopePopper:r,side:o="bottom",sideOffset:a=0,align:h="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:x=[],collisionPadding:v=0,sticky:S="partial",hideWhenDetached:b=!1,updatePositionStrategy:M="optimized",onPlaced:j,...Q}=n,R=TZ(CR,r),[L,$]=U.useState(null),V=Bo(e,ct=>$(ct)),[D,X]=U.useState(null),W=Mnt(D),K=(W==null?void 0:W.width)??0,tt=(W==null?void 0:W.height)??0,rt=o+(h!=="center"?"-"+h:""),Ot=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},bt=Array.isArray(x)?x:[x],wt=bt.length>0,St={padding:Ot,boundary:bt.filter(Rnt),altBoundary:wt},{refs:mt,floatingStyles:Ft,placement:Nt,isPositioned:Rt,middlewareData:dt}=ynt({strategy:"fixed",placement:rt,whileElementsMounted:(...ct)=>unt(...ct,{animationFrame:M==="always"}),elements:{reference:R.anchor},middleware:[vnt({mainAxis:a+tt,alignmentAxis:f}),g&&xnt({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?wnt():void 0,...St}),g&&Snt({...St}),knt({...St,apply:({elements:ct,rects:gi,availableWidth:ut,availableHeight:Ye})=>{const{width:ws,height:Qi}=gi.reference,pn=ct.floating.style;pn.setProperty("--radix-popper-available-width",`${ut}px`),pn.setProperty("--radix-popper-available-height",`${Ye}px`),pn.setProperty("--radix-popper-anchor-width",`${ws}px`),pn.setProperty("--radix-popper-anchor-height",`${Qi}px`)}}),D&&bnt({element:D,padding:p}),Lnt({arrowWidth:K,arrowHeight:tt}),b&&Pnt({strategy:"referenceHidden",...St})]}),[ht,yt]=RZ(Nt),Dt=Vc(j);Ou(()=>{Rt&&(Dt==null||Dt())},[Rt,Dt]);const qt=(Ni=dt.arrow)==null?void 0:Ni.x,it=(Ie=dt.arrow)==null?void 0:Ie.y,xe=((fi=dt.arrow)==null?void 0:fi.centerOffset)!==0,[Be,le]=U.useState();return Ou(()=>{L&&le(window.getComputedStyle(L).zIndex)},[L]),N.jsx("div",{ref:mt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ft,transform:Rt?Ft.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(Xe=dt.transformOrigin)==null?void 0:Xe.x,(ti=dt.transformOrigin)==null?void 0:ti.y].join(" "),...((Oi=dt.hide)==null?void 0:Oi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:N.jsx(Qnt,{scope:r,placedSide:ht,onArrowChange:X,arrowX:qt,arrowY:it,shouldHideArrow:xe,children:N.jsx(Fn.div,{"data-side":ht,"data-align":yt,...Q,ref:V,style:{...Q.style,animation:Rt?void 0:"none"}})})})});QZ.displayName=CR;var AZ="PopperArrow",jnt={top:"bottom",right:"left",bottom:"top",left:"right"},jZ=U.forwardRef(function(e,r){const{__scopePopper:o,...a}=e,h=Ant(AZ,o),f=jnt[h.placedSide];return N.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:N.jsx(Cnt,{...a,ref:r,style:{...a.style,display:"block"}})})});jZ.displayName=AZ;function Rnt(n){return n!==null}var Lnt=n=>({name:"transformOrigin",options:n,fn(e){var R,L,$;const{placement:r,rects:o,middlewareData:a}=e,f=((R=a.arrow)==null?void 0:R.centerOffset)!==0,p=f?0:n.arrowWidth,g=f?0:n.arrowHeight,[x,v]=RZ(r),S={start:"0%",center:"50%",end:"100%"}[v],b=(((L=a.arrow)==null?void 0:L.x)??0)+p/2,M=((($=a.arrow)==null?void 0:$.y)??0)+g/2;let j="",Q="";return x==="bottom"?(j=f?S:`${b}px`,Q=`${-g}px`):x==="top"?(j=f?S:`${b}px`,Q=`${o.floating.height+g}px`):x==="right"?(j=`${-g}px`,Q=f?S:`${M}px`):x==="left"&&(j=`${o.floating.width+g}px`,Q=f?S:`${M}px`),{data:{x:j,y:Q}}}});function RZ(n){const[e,r="center"]=n.split("-");return[e,r]}var Ent=CZ,$nt=NZ,Dnt=QZ,Int=jZ,[y2,Ckt]=Ud("Tooltip",[bZ]),O2=bZ(),LZ="TooltipProvider",Fnt=700,NQ="tooltip.open",[Vnt,MR]=y2(LZ),EZ=n=>{const{__scopeTooltip:e,delayDuration:r=Fnt,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:h}=n,f=U.useRef(!0),p=U.useRef(!1),g=U.useRef(0);return U.useEffect(()=>{const x=g.current;return()=>window.clearTimeout(x)},[]),N.jsx(Vnt,{scope:e,isOpenDelayedRef:f,delayDuration:r,onOpen:U.useCallback(()=>{window.clearTimeout(g.current),f.current=!1},[]),onClose:U.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>f.current=!0,o)},[o]),isPointerInTransitRef:p,onPointerInTransitChange:U.useCallback(x=>{p.current=x},[]),disableHoverableContent:a,children:h})};EZ.displayName=LZ;var fv="Tooltip",[znt,v2]=y2(fv),$Z=n=>{const{__scopeTooltip:e,children:r,open:o,defaultOpen:a,onOpenChange:h,disableHoverableContent:f,delayDuration:p}=n,g=MR(fv,n.__scopeTooltip),x=O2(e),[v,S]=U.useState(null),b=OR(),M=U.useRef(0),j=f??g.disableHoverableContent,Q=p??g.delayDuration,R=U.useRef(!1),[L,$]=ox({prop:o,defaultProp:a??!1,onChange:K=>{K?(g.onOpen(),document.dispatchEvent(new CustomEvent(NQ))):g.onClose(),h==null||h(K)},caller:fv}),V=U.useMemo(()=>L?R.current?"delayed-open":"instant-open":"closed",[L]),D=U.useCallback(()=>{window.clearTimeout(M.current),M.current=0,R.current=!1,$(!0)},[$]),X=U.useCallback(()=>{window.clearTimeout(M.current),M.current=0,$(!1)},[$]),W=U.useCallback(()=>{window.clearTimeout(M.current),M.current=window.setTimeout(()=>{R.current=!0,$(!0),M.current=0},Q)},[Q,$]);return U.useEffect(()=>()=>{M.current&&(window.clearTimeout(M.current),M.current=0)},[]),N.jsx(Ent,{...x,children:N.jsx(znt,{scope:e,contentId:b,open:L,stateAttribute:V,trigger:v,onTriggerChange:S,onTriggerEnter:U.useCallback(()=>{g.isOpenDelayedRef.current?W():D()},[g.isOpenDelayedRef,W,D]),onTriggerLeave:U.useCallback(()=>{j?X():(window.clearTimeout(M.current),M.current=0)},[X,j]),onOpen:D,onClose:X,disableHoverableContent:j,children:r})})};$Z.displayName=fv;var QQ="TooltipTrigger",DZ=U.forwardRef((n,e)=>{const{__scopeTooltip:r,...o}=n,a=v2(QQ,r),h=MR(QQ,r),f=O2(r),p=U.useRef(null),g=Bo(e,p,a.onTriggerChange),x=U.useRef(!1),v=U.useRef(!1),S=U.useCallback(()=>x.current=!1,[]);return U.useEffect(()=>()=>document.removeEventListener("pointerup",S),[S]),N.jsx($nt,{asChild:!0,...f,children:N.jsx(Fn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...o,ref:g,onPointerMove:Ln(n.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!h.isPointerInTransitRef.current&&(a.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ln(n.onPointerLeave,()=>{a.onTriggerLeave(),v.current=!1}),onPointerDown:Ln(n.onPointerDown,()=>{a.open&&a.onClose(),x.current=!0,document.addEventListener("pointerup",S,{once:!0})}),onFocus:Ln(n.onFocus,()=>{x.current||a.onOpen()}),onBlur:Ln(n.onBlur,a.onClose),onClick:Ln(n.onClick,a.onClose)})})});DZ.displayName=QQ;var Bnt="TooltipPortal",[Mkt,Xnt]=y2(Bnt,{forceMount:void 0}),bg="TooltipContent",IZ=U.forwardRef((n,e)=>{const r=Xnt(bg,n.__scopeTooltip),{forceMount:o=r.forceMount,side:a="top",...h}=n,f=v2(bg,n.__scopeTooltip);return N.jsx(u2,{present:o||f.open,children:f.disableHoverableContent?N.jsx(FZ,{side:a,...h,ref:e}):N.jsx(_nt,{side:a,...h,ref:e})})}),_nt=U.forwardRef((n,e)=>{const r=v2(bg,n.__scopeTooltip),o=MR(bg,n.__scopeTooltip),a=U.useRef(null),h=Bo(e,a),[f,p]=U.useState(null),{trigger:g,onClose:x}=r,v=a.current,{onPointerInTransitChange:S}=o,b=U.useCallback(()=>{p(null),S(!1)},[S]),M=U.useCallback((j,Q)=>{const R=j.currentTarget,L={x:j.clientX,y:j.clientY},$=qnt(L,R.getBoundingClientRect()),V=Gnt(L,$),D=Hnt(Q.getBoundingClientRect()),X=Jnt([...V,...D]);p(X),S(!0)},[S]);return U.useEffect(()=>()=>b(),[b]),U.useEffect(()=>{if(g&&v){const j=R=>M(R,v),Q=R=>M(R,g);return g.addEventListener("pointerleave",j),v.addEventListener("pointerleave",Q),()=>{g.removeEventListener("pointerleave",j),v.removeEventListener("pointerleave",Q)}}},[g,v,M,b]),U.useEffect(()=>{if(f){const j=Q=>{const R=Q.target,L={x:Q.clientX,y:Q.clientY},$=(g==null?void 0:g.contains(R))||(v==null?void 0:v.contains(R)),V=!Knt(L,f);$?b():V&&(b(),x())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[g,v,f,x,b]),N.jsx(FZ,{...n,ref:h})}),[Unt,Znt]=y2(fv,{isInside:!1}),Ynt=rtt("TooltipContent"),FZ=U.forwardRef((n,e)=>{const{__scopeTooltip:r,children:o,"aria-label":a,onEscapeKeyDown:h,onPointerDownOutside:f,...p}=n,g=v2(bg,r),x=O2(r),{onClose:v}=g;return U.useEffect(()=>(document.addEventListener(NQ,v),()=>document.removeEventListener(NQ,v)),[v]),U.useEffect(()=>{if(g.trigger){const S=b=>{const M=b.target;M!=null&&M.contains(g.trigger)&&v()};return window.addEventListener("scroll",S,{capture:!0}),()=>window.removeEventListener("scroll",S,{capture:!0})}},[g.trigger,v]),N.jsx(cR,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:S=>S.preventDefault(),onDismiss:v,children:N.jsxs(Dnt,{"data-state":g.stateAttribute,...x,...p,ref:e,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[N.jsx(Ynt,{children:o}),N.jsx(Unt,{scope:r,isInside:!0,children:N.jsx(Ctt,{id:g.contentId,role:"tooltip",children:a||o})})]})})});IZ.displayName=bg;var VZ="TooltipArrow",Wnt=U.forwardRef((n,e)=>{const{__scopeTooltip:r,...o}=n,a=O2(r);return Znt(VZ,r).isInside?null:N.jsx(Int,{...a,...o,ref:e})});Wnt.displayName=VZ;function qnt(n,e){const r=Math.abs(e.top-n.y),o=Math.abs(e.bottom-n.y),a=Math.abs(e.right-n.x),h=Math.abs(e.left-n.x);switch(Math.min(r,o,a,h)){case h:return"left";case a:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Gnt(n,e,r=5){const o=[];switch(e){case"top":o.push({x:n.x-r,y:n.y+r},{x:n.x+r,y:n.y+r});break;case"bottom":o.push({x:n.x-r,y:n.y-r},{x:n.x+r,y:n.y-r});break;case"left":o.push({x:n.x+r,y:n.y-r},{x:n.x+r,y:n.y+r});break;case"right":o.push({x:n.x-r,y:n.y-r},{x:n.x-r,y:n.y+r});break}return o}function Hnt(n){const{top:e,right:r,bottom:o,left:a}=n;return[{x:a,y:e},{x:r,y:e},{x:r,y:o},{x:a,y:o}]}function Knt(n,e){const{x:r,y:o}=n;let a=!1;for(let h=0,f=e.length-1;h<e.length;f=h++){const p=e[h],g=e[f],x=p.x,v=p.y,S=g.x,b=g.y;v>o!=b>o&&r<(S-x)*(o-v)/(b-v)+x&&(a=!a)}return a}function Jnt(n){const e=n.slice();return e.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),trt(e)}function trt(n){if(n.length<=1)return n.slice();const e=[];for(let o=0;o<n.length;o++){const a=n[o];for(;e.length>=2;){const h=e[e.length-1],f=e[e.length-2];if((h.x-f.x)*(a.y-f.y)>=(h.y-f.y)*(a.x-f.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let o=n.length-1;o>=0;o--){const a=n[o];for(;r.length>=2;){const h=r[r.length-1],f=r[r.length-2];if((h.x-f.x)*(a.y-f.y)>=(h.y-f.y)*(a.x-f.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var ert=EZ,irt=$Z,nrt=DZ,zZ=IZ;const Tg=ert,dv=irt,pv=nrt,Cg=U.forwardRef(({className:n,sideOffset:e=4,...r},o)=>N.jsx(zZ,{ref:o,sideOffset:e,className:$n("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r}));Cg.displayName=zZ.displayName;var x2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},w2=typeof window>"u"||"Deno"in globalThis;function na(){}function rrt(n,e){return typeof n=="function"?n(e):n}function srt(n){return typeof n=="number"&&n>=0&&n!==1/0}function ort(n,e){return Math.max(n+(e||0)-Date.now(),0)}function fV(n,e){return typeof n=="function"?n(e):n}function lrt(n,e){return typeof n=="function"?n(e):n}function dV(n,e){const{type:r="all",exact:o,fetchStatus:a,predicate:h,queryKey:f,stale:p}=n;if(f){if(o){if(e.queryHash!==NR(f,e.options))return!1}else if(!gv(e.queryKey,f))return!1}if(r!=="all"){const g=e.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||a&&a!==e.state.fetchStatus||h&&!h(e))}function pV(n,e){const{exact:r,status:o,predicate:a,mutationKey:h}=n;if(h){if(!e.options.mutationKey)return!1;if(r){if(mv(e.options.mutationKey)!==mv(h))return!1}else if(!gv(e.options.mutationKey,h))return!1}return!(o&&e.state.status!==o||a&&!a(e))}function NR(n,e){return((e==null?void 0:e.queryKeyHashFn)||mv)(n)}function mv(n){return JSON.stringify(n,(e,r)=>AQ(r)?Object.keys(r).sort().reduce((o,a)=>(o[a]=r[a],o),{}):r)}function gv(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>gv(n[r],e[r])):!1}function BZ(n,e){if(n===e)return n;const r=mV(n)&&mV(e);if(r||AQ(n)&&AQ(e)){const o=r?n:Object.keys(n),a=o.length,h=r?e:Object.keys(e),f=h.length,p=r?[]:{};let g=0;for(let x=0;x<f;x++){const v=r?x:h[x];(!r&&o.includes(v)||r)&&n[v]===void 0&&e[v]===void 0?(p[v]=void 0,g++):(p[v]=BZ(n[v],e[v]),p[v]===n[v]&&n[v]!==void 0&&g++)}return a===f&&g===a?n:p}return e}function mV(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function AQ(n){if(!gV(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!gV(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function gV(n){return Object.prototype.toString.call(n)==="[object Object]"}function art(n){return new Promise(e=>{setTimeout(e,n)})}function urt(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?BZ(n,e):e}function hrt(n,e,r=0){const o=[...n,e];return r&&o.length>r?o.slice(1):o}function crt(n,e,r=0){const o=[e,...n];return r&&o.length>r?o.slice(0,-1):o}var QR=Symbol();function XZ(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===QR?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var gd,yc,ag,iX,frt=(iX=class extends x2{constructor(){super();ai(this,gd);ai(this,yc);ai(this,ag);Ne(this,ag,e=>{if(!w2&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Mt(this,yc)||this.setEventListener(Mt(this,ag))}onUnsubscribe(){var e;this.hasListeners()||((e=Mt(this,yc))==null||e.call(this),Ne(this,yc,void 0))}setEventListener(e){var r;Ne(this,ag,e),(r=Mt(this,yc))==null||r.call(this),Ne(this,yc,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){Mt(this,gd)!==e&&(Ne(this,gd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Mt(this,gd)=="boolean"?Mt(this,gd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gd=new WeakMap,yc=new WeakMap,ag=new WeakMap,iX),_Z=new frt,ug,Oc,hg,nX,drt=(nX=class extends x2{constructor(){super();ai(this,ug,!0);ai(this,Oc);ai(this,hg);Ne(this,hg,e=>{if(!w2&&window.addEventListener){const r=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){Mt(this,Oc)||this.setEventListener(Mt(this,hg))}onUnsubscribe(){var e;this.hasListeners()||((e=Mt(this,Oc))==null||e.call(this),Ne(this,Oc,void 0))}setEventListener(e){var r;Ne(this,hg,e),(r=Mt(this,Oc))==null||r.call(this),Ne(this,Oc,e(this.setOnline.bind(this)))}setOnline(e){Mt(this,ug)!==e&&(Ne(this,ug,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return Mt(this,ug)}},ug=new WeakMap,Oc=new WeakMap,hg=new WeakMap,nX),lP=new drt;function prt(){let n,e;const r=new Promise((a,h)=>{n=a,e=h});r.status="pending",r.catch(()=>{});function o(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{o({status:"fulfilled",value:a}),n(a)},r.reject=a=>{o({status:"rejected",reason:a}),e(a)},r}function mrt(n){return Math.min(1e3*2**n,3e4)}function UZ(n){return(n??"online")==="online"?lP.isOnline():!0}var ZZ=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function OM(n){return n instanceof ZZ}function YZ(n){let e=!1,r=0,o=!1,a;const h=prt(),f=Q=>{var R;o||(b(new ZZ(Q)),(R=n.abort)==null||R.call(n))},p=()=>{e=!0},g=()=>{e=!1},x=()=>_Z.isFocused()&&(n.networkMode==="always"||lP.isOnline())&&n.canRun(),v=()=>UZ(n.networkMode)&&n.canRun(),S=Q=>{var R;o||(o=!0,(R=n.onSuccess)==null||R.call(n,Q),a==null||a(),h.resolve(Q))},b=Q=>{var R;o||(o=!0,(R=n.onError)==null||R.call(n,Q),a==null||a(),h.reject(Q))},M=()=>new Promise(Q=>{var R;a=L=>{(o||x())&&Q(L)},(R=n.onPause)==null||R.call(n)}).then(()=>{var Q;a=void 0,o||(Q=n.onContinue)==null||Q.call(n)}),j=()=>{if(o)return;let Q;const R=r===0?n.initialPromise:void 0;try{Q=R??n.fn()}catch(L){Q=Promise.reject(L)}Promise.resolve(Q).then(S).catch(L=>{var W;if(o)return;const $=n.retry??(w2?0:3),V=n.retryDelay??mrt,D=typeof V=="function"?V(r,L):V,X=$===!0||typeof $=="number"&&r<$||typeof $=="function"&&$(r,L);if(e||!X){b(L);return}r++,(W=n.onFail)==null||W.call(n,r,L),art(D).then(()=>x()?void 0:M()).then(()=>{e?b(L):j()})})};return{promise:h,cancel:f,continue:()=>(a==null||a(),h),cancelRetry:p,continueRetry:g,canStart:v,start:()=>(v()?j():M().then(j),h)}}var grt=n=>setTimeout(n,0);function yrt(){let n=[],e=0,r=p=>{p()},o=p=>{p()},a=grt;const h=p=>{e?n.push(p):a(()=>{r(p)})},f=()=>{const p=n;n=[],p.length&&a(()=>{o(()=>{p.forEach(g=>{r(g)})})})};return{batch:p=>{let g;e++;try{g=p()}finally{e--,e||f()}return g},batchCalls:p=>(...g)=>{h(()=>{p(...g)})},schedule:h,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{o=p},setScheduler:p=>{a=p}}}var Es=yrt(),yd,rX,WZ=(rX=class{constructor(){ai(this,yd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),srt(this.gcTime)&&Ne(this,yd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(w2?1/0:5*60*1e3))}clearGcTimeout(){Mt(this,yd)&&(clearTimeout(Mt(this,yd)),Ne(this,yd,void 0))}},yd=new WeakMap,rX),cg,fg,gl,Od,cs,Kv,vd,ra,th,sX,Ort=(sX=class extends WZ{constructor(e){super();ai(this,ra);ai(this,cg);ai(this,fg);ai(this,gl);ai(this,Od);ai(this,cs);ai(this,Kv);ai(this,vd);Ne(this,vd,!1),Ne(this,Kv,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ne(this,Od,e.client),Ne(this,gl,Mt(this,Od).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ne(this,cg,xrt(this.options)),this.state=e.state??Mt(this,cg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Mt(this,cs))==null?void 0:e.promise}setOptions(e){this.options={...Mt(this,Kv),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Mt(this,gl).remove(this)}setData(e,r){const o=urt(this.state.data,e,this.options);return as(this,ra,th).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(e,r){as(this,ra,th).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var o,a;const r=(o=Mt(this,cs))==null?void 0:o.promise;return(a=Mt(this,cs))==null||a.cancel(e),r?r.then(na).catch(na):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Mt(this,cg))}isActive(){return this.observers.some(e=>lrt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ort(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Mt(this,cs))==null||r.continue()}onOnline(){var r;const e=this.observers.find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Mt(this,cs))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Mt(this,gl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Mt(this,cs)&&(Mt(this,vd)?Mt(this,cs).cancel({revert:!0}):Mt(this,cs).cancelRetry()),this.scheduleGc()),Mt(this,gl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||as(this,ra,th).call(this,{type:"invalidate"})}fetch(e,r){var g,x,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Mt(this,cs))return Mt(this,cs).continueRetry(),Mt(this,cs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(b=>b.options.queryFn);S&&this.setOptions(S.options)}const o=new AbortController,a=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ne(this,vd,!0),o.signal)})},h=()=>{const S=XZ(this.options,r),b={client:Mt(this,Od),queryKey:this.queryKey,meta:this.meta};return a(b),Ne(this,vd,!1),this.options.persister?this.options.persister(S,b,this):S(b)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Mt(this,Od),state:this.state,fetchFn:h};a(f),(g=this.options.behavior)==null||g.onFetch(f,this),Ne(this,fg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=f.fetchOptions)==null?void 0:x.meta))&&as(this,ra,th).call(this,{type:"fetch",meta:(v=f.fetchOptions)==null?void 0:v.meta});const p=S=>{var b,M,j,Q;OM(S)&&S.silent||as(this,ra,th).call(this,{type:"error",error:S}),OM(S)||((M=(b=Mt(this,gl).config).onError)==null||M.call(b,S,this),(Q=(j=Mt(this,gl).config).onSettled)==null||Q.call(j,this.state.data,S,this)),this.scheduleGc()};return Ne(this,cs,YZ({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:o.abort.bind(o),onSuccess:S=>{var b,M,j,Q;if(S===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(S)}catch(R){p(R);return}(M=(b=Mt(this,gl).config).onSuccess)==null||M.call(b,S,this),(Q=(j=Mt(this,gl).config).onSettled)==null||Q.call(j,S,this.state.error,this),this.scheduleGc()},onError:p,onFail:(S,b)=>{as(this,ra,th).call(this,{type:"failed",failureCount:S,error:b})},onPause:()=>{as(this,ra,th).call(this,{type:"pause"})},onContinue:()=>{as(this,ra,th).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Mt(this,cs).start()}},cg=new WeakMap,fg=new WeakMap,gl=new WeakMap,Od=new WeakMap,cs=new WeakMap,Kv=new WeakMap,vd=new WeakMap,ra=new WeakSet,th=function(e){const r=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...vrt(o.data,this.options),fetchMeta:e.meta??null};case"success":return{...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return OM(a)&&a.revert&&Mt(this,fg)?{...Mt(this,fg),fetchStatus:"idle"}:{...o,error:a,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=r(this.state),Es.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),Mt(this,gl).notify({query:this,type:"updated",action:e})})},sX);function vrt(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UZ(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function xrt(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,o=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var eu,oX,wrt=(oX=class extends x2{constructor(e={}){super();ai(this,eu);this.config=e,Ne(this,eu,new Map)}build(e,r,o){const a=r.queryKey,h=r.queryHash??NR(a,r);let f=this.get(h);return f||(f=new Ort({client:e,queryKey:a,queryHash:h,options:e.defaultQueryOptions(r),state:o,defaultOptions:e.getQueryDefaults(a)}),this.add(f)),f}add(e){Mt(this,eu).has(e.queryHash)||(Mt(this,eu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Mt(this,eu).get(e.queryHash);r&&(e.destroy(),r===e&&Mt(this,eu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Mt(this,eu).get(e)}getAll(){return[...Mt(this,eu).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(o=>dV(r,o))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(o=>dV(e,o)):r}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},eu=new WeakMap,oX),iu,Rs,xd,nu,ac,lX,Srt=(lX=class extends WZ{constructor(e){super();ai(this,nu);ai(this,iu);ai(this,Rs);ai(this,xd);this.mutationId=e.mutationId,Ne(this,Rs,e.mutationCache),Ne(this,iu,[]),this.state=e.state||krt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Mt(this,iu).includes(e)||(Mt(this,iu).push(e),this.clearGcTimeout(),Mt(this,Rs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ne(this,iu,Mt(this,iu).filter(r=>r!==e)),this.scheduleGc(),Mt(this,Rs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Mt(this,iu).length||(this.state.status==="pending"?this.scheduleGc():Mt(this,Rs).remove(this))}continue(){var e;return((e=Mt(this,xd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var h,f,p,g,x,v,S,b,M,j,Q,R,L,$,V,D,X,W,K,tt;const r=()=>{as(this,nu,ac).call(this,{type:"continue"})};Ne(this,xd,YZ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(rt,Ot)=>{as(this,nu,ac).call(this,{type:"failed",failureCount:rt,error:Ot})},onPause:()=>{as(this,nu,ac).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Mt(this,Rs).canRun(this)}));const o=this.state.status==="pending",a=!Mt(this,xd).canStart();try{if(o)r();else{as(this,nu,ac).call(this,{type:"pending",variables:e,isPaused:a}),await((f=(h=Mt(this,Rs).config).onMutate)==null?void 0:f.call(h,e,this));const Ot=await((g=(p=this.options).onMutate)==null?void 0:g.call(p,e));Ot!==this.state.context&&as(this,nu,ac).call(this,{type:"pending",context:Ot,variables:e,isPaused:a})}const rt=await Mt(this,xd).start();return await((v=(x=Mt(this,Rs).config).onSuccess)==null?void 0:v.call(x,rt,e,this.state.context,this)),await((b=(S=this.options).onSuccess)==null?void 0:b.call(S,rt,e,this.state.context)),await((j=(M=Mt(this,Rs).config).onSettled)==null?void 0:j.call(M,rt,null,this.state.variables,this.state.context,this)),await((R=(Q=this.options).onSettled)==null?void 0:R.call(Q,rt,null,e,this.state.context)),as(this,nu,ac).call(this,{type:"success",data:rt}),rt}catch(rt){try{throw await(($=(L=Mt(this,Rs).config).onError)==null?void 0:$.call(L,rt,e,this.state.context,this)),await((D=(V=this.options).onError)==null?void 0:D.call(V,rt,e,this.state.context)),await((W=(X=Mt(this,Rs).config).onSettled)==null?void 0:W.call(X,void 0,rt,this.state.variables,this.state.context,this)),await((tt=(K=this.options).onSettled)==null?void 0:tt.call(K,void 0,rt,e,this.state.context)),rt}finally{as(this,nu,ac).call(this,{type:"error",error:rt})}}finally{Mt(this,Rs).runNext(this)}}},iu=new WeakMap,Rs=new WeakMap,xd=new WeakMap,nu=new WeakSet,ac=function(e){const r=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Es.batch(()=>{Mt(this,iu).forEach(o=>{o.onMutationUpdate(e)}),Mt(this,Rs).notify({mutation:this,type:"updated",action:e})})},lX);function krt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ah,sa,Jv,aX,Prt=(aX=class extends x2{constructor(e={}){super();ai(this,ah);ai(this,sa);ai(this,Jv);this.config=e,Ne(this,ah,new Set),Ne(this,sa,new Map),Ne(this,Jv,0)}build(e,r,o){const a=new Srt({mutationCache:this,mutationId:++Xw(this,Jv)._,options:e.defaultMutationOptions(r),state:o});return this.add(a),a}add(e){Mt(this,ah).add(e);const r=cS(e);if(typeof r=="string"){const o=Mt(this,sa).get(r);o?o.push(e):Mt(this,sa).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Mt(this,ah).delete(e)){const r=cS(e);if(typeof r=="string"){const o=Mt(this,sa).get(r);if(o)if(o.length>1){const a=o.indexOf(e);a!==-1&&o.splice(a,1)}else o[0]===e&&Mt(this,sa).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=cS(e);if(typeof r=="string"){const o=Mt(this,sa).get(r),a=o==null?void 0:o.find(h=>h.state.status==="pending");return!a||a===e}else return!0}runNext(e){var o;const r=cS(e);if(typeof r=="string"){const a=(o=Mt(this,sa).get(r))==null?void 0:o.find(h=>h!==e&&h.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Es.batch(()=>{Mt(this,ah).forEach(e=>{this.notify({type:"removed",mutation:e})}),Mt(this,ah).clear(),Mt(this,sa).clear()})}getAll(){return Array.from(Mt(this,ah))}find(e){const r={exact:!0,...e};return this.getAll().find(o=>pV(r,o))}findAll(e={}){return this.getAll().filter(r=>pV(e,r))}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Es.batch(()=>Promise.all(e.map(r=>r.continue().catch(na))))}},ah=new WeakMap,sa=new WeakMap,Jv=new WeakMap,aX);function cS(n){var e;return(e=n.options.scope)==null?void 0:e.id}function yV(n){return{onFetch:(e,r)=>{var v,S,b,M,j;const o=e.options,a=(b=(S=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:S.fetchMore)==null?void 0:b.direction,h=((M=e.state.data)==null?void 0:M.pages)||[],f=((j=e.state.data)==null?void 0:j.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const x=async()=>{let Q=!1;const R=V=>{Object.defineProperty(V,"signal",{enumerable:!0,get:()=>(e.signal.aborted?Q=!0:e.signal.addEventListener("abort",()=>{Q=!0}),e.signal)})},L=XZ(e.options,e.fetchOptions),$=async(V,D,X)=>{if(Q)return Promise.reject();if(D==null&&V.pages.length)return Promise.resolve(V);const W={client:e.client,queryKey:e.queryKey,pageParam:D,direction:X?"backward":"forward",meta:e.options.meta};R(W);const K=await L(W),{maxPages:tt}=e.options,rt=X?crt:hrt;return{pages:rt(V.pages,K,tt),pageParams:rt(V.pageParams,D,tt)}};if(a&&h.length){const V=a==="backward",D=V?brt:OV,X={pages:h,pageParams:f},W=D(o,X);p=await $(X,W,V)}else{const V=n??h.length;do{const D=g===0?f[0]??o.initialPageParam:OV(o,p);if(g>0&&D==null)break;p=await $(p,D),g++}while(g<V)}return p};e.options.persister?e.fetchFn=()=>{var Q,R;return(R=(Q=e.options).persister)==null?void 0:R.call(Q,x,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=x}}}function OV(n,{pages:e,pageParams:r}){const o=e.length-1;return e.length>0?n.getNextPageParam(e[o],e,r[o],r):void 0}function brt(n,{pages:e,pageParams:r}){var o;return e.length>0?(o=n.getPreviousPageParam)==null?void 0:o.call(n,e[0],e,r[0],r):void 0}var kn,vc,xc,dg,pg,wc,mg,gg,uX,Trt=(uX=class{constructor(n={}){ai(this,kn);ai(this,vc);ai(this,xc);ai(this,dg);ai(this,pg);ai(this,wc);ai(this,mg);ai(this,gg);Ne(this,kn,n.queryCache||new wrt),Ne(this,vc,n.mutationCache||new Prt),Ne(this,xc,n.defaultOptions||{}),Ne(this,dg,new Map),Ne(this,pg,new Map),Ne(this,wc,0)}mount(){Xw(this,wc)._++,Mt(this,wc)===1&&(Ne(this,mg,_Z.subscribe(async n=>{n&&(await this.resumePausedMutations(),Mt(this,kn).onFocus())})),Ne(this,gg,lP.subscribe(async n=>{n&&(await this.resumePausedMutations(),Mt(this,kn).onOnline())})))}unmount(){var n,e;Xw(this,wc)._--,Mt(this,wc)===0&&((n=Mt(this,mg))==null||n.call(this),Ne(this,mg,void 0),(e=Mt(this,gg))==null||e.call(this),Ne(this,gg,void 0))}isFetching(n){return Mt(this,kn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Mt(this,vc).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=Mt(this,kn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=Mt(this,kn).build(this,e),o=r.state.data;return o===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(fV(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(o))}getQueriesData(n){return Mt(this,kn).findAll(n).map(({queryKey:e,state:r})=>{const o=r.data;return[e,o]})}setQueryData(n,e,r){const o=this.defaultQueryOptions({queryKey:n}),a=Mt(this,kn).get(o.queryHash),h=a==null?void 0:a.state.data,f=rrt(e,h);if(f!==void 0)return Mt(this,kn).build(this,o).setData(f,{...r,manual:!0})}setQueriesData(n,e,r){return Es.batch(()=>Mt(this,kn).findAll(n).map(({queryKey:o})=>[o,this.setQueryData(o,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=Mt(this,kn).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=Mt(this,kn);Es.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=Mt(this,kn);return Es.batch(()=>(r.findAll(n).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},o=Es.batch(()=>Mt(this,kn).findAll(n).map(a=>a.cancel(r)));return Promise.all(o).then(na).catch(na)}invalidateQueries(n,e={}){return Es.batch(()=>(Mt(this,kn).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},o=Es.batch(()=>Mt(this,kn).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let h=a.fetch(void 0,r);return r.throwOnError||(h=h.catch(na)),a.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(na)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=Mt(this,kn).build(this,e);return r.isStaleByTime(fV(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(na).catch(na)}fetchInfiniteQuery(n){return n.behavior=yV(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(na).catch(na)}ensureInfiniteQueryData(n){return n.behavior=yV(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return lP.isOnline()?Mt(this,vc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Mt(this,kn)}getMutationCache(){return Mt(this,vc)}getDefaultOptions(){return Mt(this,xc)}setDefaultOptions(n){Ne(this,xc,n)}setQueryDefaults(n,e){Mt(this,dg).set(mv(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Mt(this,dg).values()],r={};return e.forEach(o=>{gv(n,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(n,e){Mt(this,pg).set(mv(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Mt(this,pg).values()],r={};return e.forEach(o=>{gv(n,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Mt(this,xc).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=NR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===QR&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Mt(this,xc).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Mt(this,kn).clear(),Mt(this,vc).clear()}},kn=new WeakMap,vc=new WeakMap,xc=new WeakMap,dg=new WeakMap,pg=new WeakMap,wc=new WeakMap,mg=new WeakMap,gg=new WeakMap,uX),Crt=U.createContext(void 0),Mrt=({client:n,children:e})=>(U.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),N.jsx(Crt.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yv(){return yv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},yv.apply(this,arguments)}var Pc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pc||(Pc={}));const vV="popstate";function Nrt(n){n===void 0&&(n={});function e(o,a){let{pathname:h,search:f,hash:p}=o.location;return jQ("",{pathname:h,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:aP(a)}return Art(e,r,null,n)}function En(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qZ(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qrt(){return Math.random().toString(36).substr(2,8)}function xV(n,e){return{usr:n.state,key:n.key,idx:e}}function jQ(n,e,r,o){return r===void 0&&(r=null),yv({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wg(e):e,{state:r,key:e&&e.key||o||Qrt()})}function aP(n){let{pathname:e="/",search:r="",hash:o=""}=n;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Wg(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let o=n.indexOf("?");o>=0&&(e.search=n.substr(o),n=n.substr(0,o)),n&&(e.pathname=n)}return e}function Art(n,e,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:h=!1}=o,f=a.history,p=Pc.Pop,g=null,x=v();x==null&&(x=0,f.replaceState(yv({},f.state,{idx:x}),""));function v(){return(f.state||{idx:null}).idx}function S(){p=Pc.Pop;let R=v(),L=R==null?null:R-x;x=R,g&&g({action:p,location:Q.location,delta:L})}function b(R,L){p=Pc.Push;let $=jQ(Q.location,R,L);x=v()+1;let V=xV($,x),D=Q.createHref($);try{f.pushState(V,"",D)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(D)}h&&g&&g({action:p,location:Q.location,delta:1})}function M(R,L){p=Pc.Replace;let $=jQ(Q.location,R,L);x=v();let V=xV($,x),D=Q.createHref($);f.replaceState(V,"",D),h&&g&&g({action:p,location:Q.location,delta:0})}function j(R){let L=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof R=="string"?R:aP(R);return $=$.replace(/ $/,"%20"),En(L,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,L)}let Q={get action(){return p},get location(){return n(a,f)},listen(R){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(vV,S),g=R,()=>{a.removeEventListener(vV,S),g=null}},createHref(R){return e(a,R)},createURL:j,encodeLocation(R){let L=j(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:M,go(R){return f.go(R)}};return Q}var wV;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wV||(wV={}));function jrt(n,e,r){return r===void 0&&(r="/"),Rrt(n,e,r)}function Rrt(n,e,r,o){let a=typeof e=="string"?Wg(e):e,h=AR(a.pathname||"/",r);if(h==null)return null;let f=GZ(n);Lrt(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let x=Zrt(h);p=Xrt(f[g],x)}return p}function GZ(n,e,r,o){e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o="");let a=(h,f,p)=>{let g={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};g.relativePath.startsWith("/")&&(En(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let x=$c([o,g.relativePath]),v=r.concat(g);h.children&&h.children.length>0&&(En(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),GZ(h.children,e,v,x)),!(h.path==null&&!h.index)&&e.push({path:x,score:zrt(x,h.index),routesMeta:v})};return n.forEach((h,f)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))a(h,f);else for(let g of HZ(h.path))a(h,f,g)}),e}function HZ(n){let e=n.split("/");if(e.length===0)return[];let[r,...o]=e,a=r.endsWith("?"),h=r.replace(/\?$/,"");if(o.length===0)return a?[h,""]:[h];let f=HZ(o.join("/")),p=[];return p.push(...f.map(g=>g===""?h:[h,g].join("/"))),a&&p.push(...f),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function Lrt(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Brt(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Ert=/^:[\w-]+$/,$rt=3,Drt=2,Irt=1,Frt=10,Vrt=-2,SV=n=>n==="*";function zrt(n,e){let r=n.split("/"),o=r.length;return r.some(SV)&&(o+=Vrt),e&&(o+=Drt),r.filter(a=>!SV(a)).reduce((a,h)=>a+(Ert.test(h)?$rt:h===""?Irt:Frt),o)}function Brt(n,e){return n.length===e.length&&n.slice(0,-1).every((o,a)=>o===e[a])?n[n.length-1]-e[e.length-1]:0}function Xrt(n,e,r){let{routesMeta:o}=n,a={},h="/",f=[];for(let p=0;p<o.length;++p){let g=o[p],x=p===o.length-1,v=h==="/"?e:e.slice(h.length)||"/",S=_rt({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},v),b=g.route;if(!S)return null;Object.assign(a,S.params),f.push({params:a,pathname:$c([h,S.pathname]),pathnameBase:Grt($c([h,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(h=$c([h,S.pathnameBase]))}return f}function _rt(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,o]=Urt(n.path,n.caseSensitive,n.end),a=e.match(r);if(!a)return null;let h=a[0],f=h.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((x,v,S)=>{let{paramName:b,isOptional:M}=v;if(b==="*"){let Q=p[S]||"";f=h.slice(0,h.length-Q.length).replace(/(.)\/+$/,"$1")}const j=p[S];return M&&!j?x[b]=void 0:x[b]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:f,pattern:n}}function Urt(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),qZ(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Zrt(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qZ(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function AR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=n.charAt(r);return o&&o!=="/"?null:n.slice(r)||"/"}function Yrt(n,e){e===void 0&&(e="/");let{pathname:r,search:o="",hash:a=""}=typeof n=="string"?Wg(n):n;return{pathname:r?r.startsWith("/")?r:Wrt(r,e):e,search:Hrt(o),hash:Krt(a)}}function Wrt(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function vM(n,e,r,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qrt(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jR(n,e){let r=qrt(n);return e?r.map((o,a)=>a===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function RR(n,e,r,o){o===void 0&&(o=!1);let a;typeof n=="string"?a=Wg(n):(a=yv({},n),En(!a.pathname||!a.pathname.includes("?"),vM("?","pathname","search",a)),En(!a.pathname||!a.pathname.includes("#"),vM("#","pathname","hash",a)),En(!a.search||!a.search.includes("#"),vM("#","search","hash",a)));let h=n===""||a.pathname==="",f=h?"/":a.pathname,p;if(f==null)p=r;else{let S=e.length-1;if(!o&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;a.pathname=b.join("/")}p=S>=0?e[S]:"/"}let g=Yrt(a,p),x=f&&f!=="/"&&f.endsWith("/"),v=(h||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(x||v)&&(g.pathname+="/"),g}const $c=n=>n.join("/").replace(/\/\/+/g,"/"),Grt=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Hrt=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Krt=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Jrt(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const KZ=["post","put","patch","delete"];new Set(KZ);const tst=["get",...KZ];new Set(tst);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov(){return Ov=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ov.apply(this,arguments)}const LR=U.createContext(null),est=U.createContext(null),rf=U.createContext(null),S2=U.createContext(null),sf=U.createContext({outlet:null,matches:[],isDataRoute:!1}),JZ=U.createContext(null);function ist(n,e){let{relative:r}=e===void 0?{}:e;qg()||En(!1);let{basename:o,navigator:a}=U.useContext(rf),{hash:h,pathname:f,search:p}=eY(n,{relative:r}),g=f;return o!=="/"&&(g=f==="/"?o:$c([o,f])),a.createHref({pathname:g,search:p,hash:h})}function qg(){return U.useContext(S2)!=null}function Uo(){return qg()||En(!1),U.useContext(S2).location}function tY(n){U.useContext(rf).static||U.useLayoutEffect(n)}function ya(){let{isDataRoute:n}=U.useContext(sf);return n?mst():nst()}function nst(){qg()||En(!1);let n=U.useContext(LR),{basename:e,future:r,navigator:o}=U.useContext(rf),{matches:a}=U.useContext(sf),{pathname:h}=Uo(),f=JSON.stringify(jR(a,r.v7_relativeSplatPath)),p=U.useRef(!1);return tY(()=>{p.current=!0}),U.useCallback(function(x,v){if(v===void 0&&(v={}),!p.current)return;if(typeof x=="number"){o.go(x);return}let S=RR(x,JSON.parse(f),h,v.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:$c([e,S.pathname])),(v.replace?o.replace:o.push)(S,v.state,v)},[e,o,f,h,n])}function eY(n,e){let{relative:r}=e===void 0?{}:e,{future:o}=U.useContext(rf),{matches:a}=U.useContext(sf),{pathname:h}=Uo(),f=JSON.stringify(jR(a,o.v7_relativeSplatPath));return U.useMemo(()=>RR(n,JSON.parse(f),h,r==="path"),[n,f,h,r])}function rst(n,e){return sst(n,e)}function sst(n,e,r,o){qg()||En(!1);let{navigator:a}=U.useContext(rf),{matches:h}=U.useContext(sf),f=h[h.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let x=Uo(),v;if(e){var S;let R=typeof e=="string"?Wg(e):e;g==="/"||(S=R.pathname)!=null&&S.startsWith(g)||En(!1),v=R}else v=x;let b=v.pathname||"/",M=b;if(g!=="/"){let R=g.replace(/^\//,"").split("/");M="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let j=jrt(n,{pathname:M}),Q=hst(j&&j.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:$c([g,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:$c([g,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),h,r,o);return e&&Q?U.createElement(S2.Provider,{value:{location:Ov({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Pc.Pop}},Q):Q}function ost(){let n=pst(),e=Jrt(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:a},r):null,null)}const lst=U.createElement(ost,null);class ast extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?U.createElement(sf.Provider,{value:this.props.routeContext},U.createElement(JZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ust(n){let{routeContext:e,match:r,children:o}=n,a=U.useContext(LR);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(sf.Provider,{value:e},o)}function hst(n,e,r,o){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),o===void 0&&(o=null),n==null){var h;if(!r)return null;if(r.errors)n=r.matches;else if((h=o)!=null&&h.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let f=n,p=(a=r)==null?void 0:a.errors;if(p!=null){let v=f.findIndex(S=>S.route.id&&(p==null?void 0:p[S.route.id])!==void 0);v>=0||En(!1),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,x=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<f.length;v++){let S=f[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(x=v),S.route.id){let{loaderData:b,errors:M}=r,j=S.route.loader&&b[S.route.id]===void 0&&(!M||M[S.route.id]===void 0);if(S.route.lazy||j){g=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}return f.reduceRight((v,S,b)=>{let M,j=!1,Q=null,R=null;r&&(M=p&&S.route.id?p[S.route.id]:void 0,Q=S.route.errorElement||lst,g&&(x<0&&b===0?(gst("route-fallback"),j=!0,R=null):x===b&&(j=!0,R=S.route.hydrateFallbackElement||null)));let L=e.concat(f.slice(0,b+1)),$=()=>{let V;return M?V=Q:j?V=R:S.route.Component?V=U.createElement(S.route.Component,null):S.route.element?V=S.route.element:V=v,U.createElement(ust,{match:S,routeContext:{outlet:v,matches:L,isDataRoute:r!=null},children:V})};return r&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?U.createElement(ast,{location:r.location,revalidation:r.revalidation,component:Q,error:M,children:$(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):$()},null)}var iY=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(iY||{}),nY=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(nY||{});function cst(n){let e=U.useContext(LR);return e||En(!1),e}function fst(n){let e=U.useContext(est);return e||En(!1),e}function dst(n){let e=U.useContext(sf);return e||En(!1),e}function rY(n){let e=dst(),r=e.matches[e.matches.length-1];return r.route.id||En(!1),r.route.id}function pst(){var n;let e=U.useContext(JZ),r=fst(),o=rY();return e!==void 0?e:(n=r.errors)==null?void 0:n[o]}function mst(){let{router:n}=cst(iY.UseNavigateStable),e=rY(nY.UseNavigateStable),r=U.useRef(!1);return tY(()=>{r.current=!0}),U.useCallback(function(a,h){h===void 0&&(h={}),r.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,Ov({fromRouteId:e},h)))},[n,e])}const kV={};function gst(n,e,r){kV[n]||(kV[n]=!0)}function yst(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function sY(n){let{to:e,replace:r,state:o,relative:a}=n;qg()||En(!1);let{future:h,static:f}=U.useContext(rf),{matches:p}=U.useContext(sf),{pathname:g}=Uo(),x=ya(),v=RR(e,jR(p,h.v7_relativeSplatPath),g,a==="path"),S=JSON.stringify(v);return U.useEffect(()=>x(JSON.parse(S),{replace:r,state:o,relative:a}),[x,S,a,r,o]),null}function ta(n){En(!1)}function Ost(n){let{basename:e="/",children:r=null,location:o,navigationType:a=Pc.Pop,navigator:h,static:f=!1,future:p}=n;qg()&&En(!1);let g=e.replace(/^\/*/,"/"),x=U.useMemo(()=>({basename:g,navigator:h,static:f,future:Ov({v7_relativeSplatPath:!1},p)}),[g,p,h,f]);typeof o=="string"&&(o=Wg(o));let{pathname:v="/",search:S="",hash:b="",state:M=null,key:j="default"}=o,Q=U.useMemo(()=>{let R=AR(v,g);return R==null?null:{location:{pathname:R,search:S,hash:b,state:M,key:j},navigationType:a}},[g,v,S,b,M,j,a]);return Q==null?null:U.createElement(rf.Provider,{value:x},U.createElement(S2.Provider,{children:r,value:Q}))}function vst(n){let{children:e,location:r}=n;return rst(RQ(e),r)}new Promise(()=>{});function RQ(n,e){e===void 0&&(e=[]);let r=[];return U.Children.forEach(n,(o,a)=>{if(!U.isValidElement(o))return;let h=[...e,a];if(o.type===U.Fragment){r.push.apply(r,RQ(o.props.children,h));return}o.type!==ta&&En(!1),!o.props.index||!o.props.children||En(!1);let f={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=RQ(o.props.children,h)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LQ(){return LQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},LQ.apply(this,arguments)}function xst(n,e){if(n==null)return{};var r={},o=Object.keys(n),a,h;for(h=0;h<o.length;h++)a=o[h],!(e.indexOf(a)>=0)&&(r[a]=n[a]);return r}function wst(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Sst(n,e){return n.button===0&&(!e||e==="_self")&&!wst(n)}const kst=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pst="6";try{window.__reactRouterVersion=Pst}catch{}const bst="startTransition",PV=xj[bst];function Tst(n){let{basename:e,children:r,future:o,window:a}=n,h=U.useRef();h.current==null&&(h.current=Nrt({window:a,v5Compat:!0}));let f=h.current,[p,g]=U.useState({action:f.action,location:f.location}),{v7_startTransition:x}=o||{},v=U.useCallback(S=>{x&&PV?PV(()=>g(S)):g(S)},[g,x]);return U.useLayoutEffect(()=>f.listen(v),[f,v]),U.useEffect(()=>yst(o),[o]),U.createElement(Ost,{basename:e,children:r,location:p.location,navigationType:p.action,navigator:f,future:o})}const Cst=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mst=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oY=U.forwardRef(function(e,r){let{onClick:o,relative:a,reloadDocument:h,replace:f,state:p,target:g,to:x,preventScrollReset:v,viewTransition:S}=e,b=xst(e,kst),{basename:M}=U.useContext(rf),j,Q=!1;if(typeof x=="string"&&Mst.test(x)&&(j=x,Cst))try{let V=new URL(window.location.href),D=x.startsWith("//")?new URL(V.protocol+x):new URL(x),X=AR(D.pathname,M);D.origin===V.origin&&X!=null?x=X+D.search+D.hash:Q=!0}catch{}let R=ist(x,{relative:a}),L=Nst(x,{replace:f,state:p,target:g,preventScrollReset:v,relative:a,viewTransition:S});function $(V){o&&o(V),V.defaultPrevented||L(V)}return U.createElement("a",LQ({},b,{href:j||R,onClick:Q||h?o:$,ref:r,target:g}))});var bV;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(bV||(bV={}));var TV;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TV||(TV={}));function Nst(n,e){let{target:r,replace:o,state:a,preventScrollReset:h,relative:f,viewTransition:p}=e===void 0?{}:e,g=ya(),x=Uo(),v=eY(n,{relative:f});return U.useCallback(S=>{if(Sst(S,r)){S.preventDefault();let b=o!==void 0?o:aP(x)===aP(v);g(n,{replace:b,state:a,preventScrollReset:h,relative:f,viewTransition:p})}},[x,g,v,o,a,r,n,h,f,p])}function lY(n,e){return function(){return n.apply(e,arguments)}}const{toString:Qst}=Object.prototype,{getPrototypeOf:ER}=Object,{iterator:k2,toStringTag:aY}=Symbol,P2=(n=>e=>{const r=Qst.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Oa=n=>(n=n.toLowerCase(),e=>P2(e)===n),b2=n=>e=>typeof e===n,{isArray:Gg}=Array,vv=b2("undefined");function Ast(n){return n!==null&&!vv(n)&&n.constructor!==null&&!vv(n.constructor)&&co(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const uY=Oa("ArrayBuffer");function jst(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&uY(n.buffer),e}const Rst=b2("string"),co=b2("function"),hY=b2("number"),T2=n=>n!==null&&typeof n=="object",Lst=n=>n===!0||n===!1,rk=n=>{if(P2(n)!=="object")return!1;const e=ER(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(aY in n)&&!(k2 in n)},Est=Oa("Date"),$st=Oa("File"),Dst=Oa("Blob"),Ist=Oa("FileList"),Fst=n=>T2(n)&&co(n.pipe),Vst=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||co(n.append)&&((e=P2(n))==="formdata"||e==="object"&&co(n.toString)&&n.toString()==="[object FormData]"))},zst=Oa("URLSearchParams"),[Bst,Xst,_st,Ust]=["ReadableStream","Request","Response","Headers"].map(Oa),Zst=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ux(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let o,a;if(typeof n!="object"&&(n=[n]),Gg(n))for(o=0,a=n.length;o<a;o++)e.call(null,n[o],o,n);else{const h=r?Object.getOwnPropertyNames(n):Object.keys(n),f=h.length;let p;for(o=0;o<f;o++)p=h[o],e.call(null,n[p],p,n)}}function cY(n,e){e=e.toLowerCase();const r=Object.keys(n);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fY=n=>!vv(n)&&n!==hd;function EQ(){const{caseless:n}=fY(this)&&this||{},e={},r=(o,a)=>{const h=n&&cY(e,a)||a;rk(e[h])&&rk(o)?e[h]=EQ(e[h],o):rk(o)?e[h]=EQ({},o):Gg(o)?e[h]=o.slice():e[h]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&ux(arguments[o],r);return e}const Yst=(n,e,r,{allOwnKeys:o}={})=>(ux(e,(a,h)=>{r&&co(a)?n[h]=lY(a,r):n[h]=a},{allOwnKeys:o}),n),Wst=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),qst=(n,e,r,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},Gst=(n,e,r,o)=>{let a,h,f;const p={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),h=a.length;h-- >0;)f=a[h],(!o||o(f,n,e))&&!p[f]&&(e[f]=n[f],p[f]=!0);n=r!==!1&&ER(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},Hst=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const o=n.indexOf(e,r);return o!==-1&&o===r},Kst=n=>{if(!n)return null;if(Gg(n))return n;let e=n.length;if(!hY(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},Jst=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ER(Uint8Array)),tot=(n,e)=>{const o=(n&&n[k2]).call(n);let a;for(;(a=o.next())&&!a.done;){const h=a.value;e.call(n,h[0],h[1])}},eot=(n,e)=>{let r;const o=[];for(;(r=n.exec(e))!==null;)o.push(r);return o},iot=Oa("HTMLFormElement"),not=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),CV=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),rot=Oa("RegExp"),dY=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),o={};ux(r,(a,h)=>{let f;(f=e(a,h,n))!==!1&&(o[h]=f||a)}),Object.defineProperties(n,o)},sot=n=>{dY(n,(e,r)=>{if(co(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=n[r];if(co(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},oot=(n,e)=>{const r={},o=a=>{a.forEach(h=>{r[h]=!0})};return Gg(n)?o(n):o(String(n).split(e)),r},lot=()=>{},aot=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function uot(n){return!!(n&&co(n.append)&&n[aY]==="FormData"&&n[k2])}const hot=n=>{const e=new Array(10),r=(o,a)=>{if(T2(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const h=Gg(o)?[]:{};return ux(o,(f,p)=>{const g=r(f,a+1);!vv(g)&&(h[p]=g)}),e[a]=void 0,h}}return o};return r(n,0)},cot=Oa("AsyncFunction"),fot=n=>n&&(T2(n)||co(n))&&co(n.then)&&co(n.catch),pY=((n,e)=>n?setImmediate:e?((r,o)=>(hd.addEventListener("message",({source:a,data:h})=>{a===hd&&h===r&&o.length&&o.shift()()},!1),a=>{o.push(a),hd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",co(hd.postMessage)),dot=typeof queueMicrotask<"u"?queueMicrotask.bind(hd):typeof process<"u"&&process.nextTick||pY,pot=n=>n!=null&&co(n[k2]),Pt={isArray:Gg,isArrayBuffer:uY,isBuffer:Ast,isFormData:Vst,isArrayBufferView:jst,isString:Rst,isNumber:hY,isBoolean:Lst,isObject:T2,isPlainObject:rk,isReadableStream:Bst,isRequest:Xst,isResponse:_st,isHeaders:Ust,isUndefined:vv,isDate:Est,isFile:$st,isBlob:Dst,isRegExp:rot,isFunction:co,isStream:Fst,isURLSearchParams:zst,isTypedArray:Jst,isFileList:Ist,forEach:ux,merge:EQ,extend:Yst,trim:Zst,stripBOM:Wst,inherits:qst,toFlatObject:Gst,kindOf:P2,kindOfTest:Oa,endsWith:Hst,toArray:Kst,forEachEntry:tot,matchAll:eot,isHTMLForm:iot,hasOwnProperty:CV,hasOwnProp:CV,reduceDescriptors:dY,freezeMethods:sot,toObjectSet:oot,toCamelCase:not,noop:lot,toFiniteNumber:aot,findKey:cY,global:hd,isContextDefined:fY,isSpecCompliantForm:uot,toJSONObject:hot,isAsyncFn:cot,isThenable:fot,setImmediate:pY,asap:dot,isIterable:pot};function Qe(n,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}Pt.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.status}}});const mY=Qe.prototype,gY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{gY[n]={value:n}});Object.defineProperties(Qe,gY);Object.defineProperty(mY,"isAxiosError",{value:!0});Qe.from=(n,e,r,o,a,h)=>{const f=Object.create(mY);return Pt.toFlatObject(n,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Qe.call(f,n.message,e,r,o,a),f.cause=n,f.name=n.name,h&&Object.assign(f,h),f};const mot=null;function $Q(n){return Pt.isPlainObject(n)||Pt.isArray(n)}function yY(n){return Pt.endsWith(n,"[]")?n.slice(0,-2):n}function MV(n,e,r){return n?n.concat(e).map(function(a,h){return a=yY(a),!r&&h?"["+a+"]":a}).join(r?".":""):e}function got(n){return Pt.isArray(n)&&!n.some($Q)}const yot=Pt.toFlatObject(Pt,{},null,function(e){return/^is[A-Z]/.test(e)});function C2(n,e,r){if(!Pt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=Pt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,R){return!Pt.isUndefined(R[Q])});const o=r.metaTokens,a=r.visitor||v,h=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(e);if(!Pt.isFunction(a))throw new TypeError("visitor must be a function");function x(j){if(j===null)return"";if(Pt.isDate(j))return j.toISOString();if(!g&&Pt.isBlob(j))throw new Qe("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(j)||Pt.isTypedArray(j)?g&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function v(j,Q,R){let L=j;if(j&&!R&&typeof j=="object"){if(Pt.endsWith(Q,"{}"))Q=o?Q:Q.slice(0,-2),j=JSON.stringify(j);else if(Pt.isArray(j)&&got(j)||(Pt.isFileList(j)||Pt.endsWith(Q,"[]"))&&(L=Pt.toArray(j)))return Q=yY(Q),L.forEach(function(V,D){!(Pt.isUndefined(V)||V===null)&&e.append(f===!0?MV([Q],D,h):f===null?Q:Q+"[]",x(V))}),!1}return $Q(j)?!0:(e.append(MV(R,Q,h),x(j)),!1)}const S=[],b=Object.assign(yot,{defaultVisitor:v,convertValue:x,isVisitable:$Q});function M(j,Q){if(!Pt.isUndefined(j)){if(S.indexOf(j)!==-1)throw Error("Circular reference detected in "+Q.join("."));S.push(j),Pt.forEach(j,function(L,$){(!(Pt.isUndefined(L)||L===null)&&a.call(e,L,Pt.isString($)?$.trim():$,Q,b))===!0&&M(L,Q?Q.concat($):[$])}),S.pop()}}if(!Pt.isObject(n))throw new TypeError("data must be an object");return M(n),e}function NV(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function $R(n,e){this._pairs=[],n&&C2(n,this,e)}const OY=$R.prototype;OY.append=function(e,r){this._pairs.push([e,r])};OY.toString=function(e){const r=e?function(o){return e.call(this,o,NV)}:NV;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Oot(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vY(n,e,r){if(!e)return n;const o=r&&r.encode||Oot;Pt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let h;if(a?h=a(e,r):h=Pt.isURLSearchParams(e)?e.toString():new $R(e,r).toString(o),h){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class QV{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pt.forEach(this.handlers,function(o){o!==null&&e(o)})}}const xY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vot=typeof URLSearchParams<"u"?URLSearchParams:$R,xot=typeof FormData<"u"?FormData:null,wot=typeof Blob<"u"?Blob:null,Sot={isBrowser:!0,classes:{URLSearchParams:vot,FormData:xot,Blob:wot},protocols:["http","https","file","blob","url","data"]},DR=typeof window<"u"&&typeof document<"u",DQ=typeof navigator=="object"&&navigator||void 0,kot=DR&&(!DQ||["ReactNative","NativeScript","NS"].indexOf(DQ.product)<0),Pot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bot=DR&&window.location.href||"http://localhost",Tot=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DR,hasStandardBrowserEnv:kot,hasStandardBrowserWebWorkerEnv:Pot,navigator:DQ,origin:bot},Symbol.toStringTag,{value:"Module"})),ms={...Tot,...Sot};function Cot(n,e){return C2(n,new ms.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,h){return ms.isNode&&Pt.isBuffer(r)?(this.append(o,r.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},e))}function Mot(n){return Pt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Not(n){const e={},r=Object.keys(n);let o;const a=r.length;let h;for(o=0;o<a;o++)h=r[o],e[h]=n[h];return e}function wY(n){function e(r,o,a,h){let f=r[h++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=h>=r.length;return f=!f&&Pt.isArray(a)?a.length:f,g?(Pt.hasOwnProp(a,f)?a[f]=[a[f],o]:a[f]=o,!p):((!a[f]||!Pt.isObject(a[f]))&&(a[f]=[]),e(r,o,a[f],h)&&Pt.isArray(a[f])&&(a[f]=Not(a[f])),!p)}if(Pt.isFormData(n)&&Pt.isFunction(n.entries)){const r={};return Pt.forEachEntry(n,(o,a)=>{e(Mot(o),a,r,0)}),r}return null}function Qot(n,e,r){if(Pt.isString(n))try{return(e||JSON.parse)(n),Pt.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(n)}const hx={transitional:xY,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,h=Pt.isObject(e);if(h&&Pt.isHTMLForm(e)&&(e=new FormData(e)),Pt.isFormData(e))return a?JSON.stringify(wY(e)):e;if(Pt.isArrayBuffer(e)||Pt.isBuffer(e)||Pt.isStream(e)||Pt.isFile(e)||Pt.isBlob(e)||Pt.isReadableStream(e))return e;if(Pt.isArrayBufferView(e))return e.buffer;if(Pt.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Cot(e,this.formSerializer).toString();if((p=Pt.isFileList(e))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return C2(p?{"files[]":e}:e,g&&new g,this.formSerializer)}}return h||a?(r.setContentType("application/json",!1),Qot(e)):e}],transformResponse:[function(e){const r=this.transitional||hx.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Pt.isResponse(e)||Pt.isReadableStream(e))return e;if(e&&Pt.isString(e)&&(o&&!this.responseType||a)){const f=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(f)throw p.name==="SyntaxError"?Qe.from(p,Qe.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ms.classes.FormData,Blob:ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],n=>{hx.headers[n]={}});const Aot=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jot=n=>{const e={};let r,o,a;return n&&n.split(`
`).forEach(function(f){a=f.indexOf(":"),r=f.substring(0,a).trim().toLowerCase(),o=f.substring(a+1).trim(),!(!r||e[r]&&Aot[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},AV=Symbol("internals");function tO(n){return n&&String(n).trim().toLowerCase()}function sk(n){return n===!1||n==null?n:Pt.isArray(n)?n.map(sk):String(n)}function Rot(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(n);)e[o[1]]=o[2];return e}const Lot=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function xM(n,e,r,o,a){if(Pt.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!Pt.isString(e)){if(Pt.isString(o))return e.indexOf(o)!==-1;if(Pt.isRegExp(o))return o.test(e)}}function Eot(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function $ot(n,e){const r=Pt.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+r,{value:function(a,h,f){return this[o].call(this,e,a,h,f)},configurable:!0})})}let fo=class{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function h(p,g,x){const v=tO(g);if(!v)throw new Error("header name must be a non-empty string");const S=Pt.findKey(a,v);(!S||a[S]===void 0||x===!0||x===void 0&&a[S]!==!1)&&(a[S||g]=sk(p))}const f=(p,g)=>Pt.forEach(p,(x,v)=>h(x,v,g));if(Pt.isPlainObject(e)||e instanceof this.constructor)f(e,r);else if(Pt.isString(e)&&(e=e.trim())&&!Lot(e))f(jot(e),r);else if(Pt.isObject(e)&&Pt.isIterable(e)){let p={},g,x;for(const v of e){if(!Pt.isArray(v))throw TypeError("Object iterator must return a key-value pair");p[x=v[0]]=(g=p[x])?Pt.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}f(p,r)}else e!=null&&h(r,e,o);return this}get(e,r){if(e=tO(e),e){const o=Pt.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return Rot(a);if(Pt.isFunction(r))return r.call(this,a,o);if(Pt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=tO(e),e){const o=Pt.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||xM(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function h(f){if(f=tO(f),f){const p=Pt.findKey(o,f);p&&(!r||xM(o,o[p],p,r))&&(delete o[p],a=!0)}}return Pt.isArray(e)?e.forEach(h):h(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const h=r[o];(!e||xM(this,this[h],h,e,!0))&&(delete this[h],a=!0)}return a}normalize(e){const r=this,o={};return Pt.forEach(this,(a,h)=>{const f=Pt.findKey(o,h);if(f){r[f]=sk(a),delete r[h];return}const p=e?Eot(h):String(h).trim();p!==h&&delete r[h],r[p]=sk(a),o[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Pt.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&Pt.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[AV]=this[AV]={accessors:{}}).accessors,a=this.prototype;function h(f){const p=tO(f);o[p]||($ot(a,f),o[p]=!0)}return Pt.isArray(e)?e.forEach(h):h(e),this}};fo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(fo.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[r]=o}}});Pt.freezeMethods(fo);function wM(n,e){const r=this||hx,o=e||r,a=fo.from(o.headers);let h=o.data;return Pt.forEach(n,function(p){h=p.call(r,h,a.normalize(),e?e.status:void 0)}),a.normalize(),h}function SY(n){return!!(n&&n.__CANCEL__)}function Hg(n,e,r){Qe.call(this,n??"canceled",Qe.ERR_CANCELED,e,r),this.name="CanceledError"}Pt.inherits(Hg,Qe,{__CANCEL__:!0});function kY(n,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?n(r):e(new Qe("Request failed with status code "+r.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Dot(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Iot(n,e){n=n||10;const r=new Array(n),o=new Array(n);let a=0,h=0,f;return e=e!==void 0?e:1e3,function(g){const x=Date.now(),v=o[h];f||(f=x),r[a]=g,o[a]=x;let S=h,b=0;for(;S!==a;)b+=r[S++],S=S%n;if(a=(a+1)%n,a===h&&(h=(h+1)%n),x-f<e)return;const M=v&&x-v;return M?Math.round(b*1e3/M):void 0}}function Fot(n,e){let r=0,o=1e3/e,a,h;const f=(x,v=Date.now())=>{r=v,a=null,h&&(clearTimeout(h),h=null),n.apply(null,x)};return[(...x)=>{const v=Date.now(),S=v-r;S>=o?f(x,v):(a=x,h||(h=setTimeout(()=>{h=null,f(a)},o-S)))},()=>a&&f(a)]}const uP=(n,e,r=3)=>{let o=0;const a=Iot(50,250);return Fot(h=>{const f=h.loaded,p=h.lengthComputable?h.total:void 0,g=f-o,x=a(g),v=f<=p;o=f;const S={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:x||void 0,estimated:x&&p&&v?(p-f)/x:void 0,event:h,lengthComputable:p!=null,[e?"download":"upload"]:!0};n(S)},r)},jV=(n,e)=>{const r=n!=null;return[o=>e[0]({lengthComputable:r,total:n,loaded:o}),e[1]]},RV=n=>(...e)=>Pt.asap(()=>n(...e)),Vot=ms.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,ms.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(ms.origin),ms.navigator&&/(msie|trident)/i.test(ms.navigator.userAgent)):()=>!0,zot=ms.hasStandardBrowserEnv?{write(n,e,r,o,a,h){const f=[n+"="+encodeURIComponent(e)];Pt.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),Pt.isString(o)&&f.push("path="+o),Pt.isString(a)&&f.push("domain="+a),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bot(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Xot(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function PY(n,e,r){let o=!Bot(e);return n&&(o||r==!1)?Xot(n,e):e}const LV=n=>n instanceof fo?{...n}:n;function Ld(n,e){e=e||{};const r={};function o(x,v,S,b){return Pt.isPlainObject(x)&&Pt.isPlainObject(v)?Pt.merge.call({caseless:b},x,v):Pt.isPlainObject(v)?Pt.merge({},v):Pt.isArray(v)?v.slice():v}function a(x,v,S,b){if(Pt.isUndefined(v)){if(!Pt.isUndefined(x))return o(void 0,x,S,b)}else return o(x,v,S,b)}function h(x,v){if(!Pt.isUndefined(v))return o(void 0,v)}function f(x,v){if(Pt.isUndefined(v)){if(!Pt.isUndefined(x))return o(void 0,x)}else return o(void 0,v)}function p(x,v,S){if(S in e)return o(x,v);if(S in n)return o(void 0,x)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(x,v,S)=>a(LV(x),LV(v),S,!0)};return Pt.forEach(Object.keys(Object.assign({},n,e)),function(v){const S=g[v]||a,b=S(n[v],e[v],v);Pt.isUndefined(b)&&S!==p||(r[v]=b)}),r}const bY=n=>{const e=Ld({},n);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:h,headers:f,auth:p}=e;e.headers=f=fo.from(f),e.url=vY(PY(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(Pt.isFormData(r)){if(ms.hasStandardBrowserEnv||ms.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[x,...v]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];f.setContentType([x||"multipart/form-data",...v].join("; "))}}if(ms.hasStandardBrowserEnv&&(o&&Pt.isFunction(o)&&(o=o(e)),o||o!==!1&&Vot(e.url))){const x=a&&h&&zot.read(h);x&&f.set(a,x)}return e},_ot=typeof XMLHttpRequest<"u",Uot=_ot&&function(n){return new Promise(function(r,o){const a=bY(n);let h=a.data;const f=fo.from(a.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:x}=a,v,S,b,M,j;function Q(){M&&M(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function L(){if(!R)return;const V=fo.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),X={data:!p||p==="text"||p==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:V,config:n,request:R};kY(function(K){r(K),Q()},function(K){o(K),Q()},X),R=null}"onloadend"in R?R.onloadend=L:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(L)},R.onabort=function(){R&&(o(new Qe("Request aborted",Qe.ECONNABORTED,n,R)),R=null)},R.onerror=function(){o(new Qe("Network Error",Qe.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let D=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const X=a.transitional||xY;a.timeoutErrorMessage&&(D=a.timeoutErrorMessage),o(new Qe(D,X.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,n,R)),R=null},h===void 0&&f.setContentType(null),"setRequestHeader"in R&&Pt.forEach(f.toJSON(),function(D,X){R.setRequestHeader(X,D)}),Pt.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),p&&p!=="json"&&(R.responseType=a.responseType),x&&([b,j]=uP(x,!0),R.addEventListener("progress",b)),g&&R.upload&&([S,M]=uP(g),R.upload.addEventListener("progress",S),R.upload.addEventListener("loadend",M)),(a.cancelToken||a.signal)&&(v=V=>{R&&(o(!V||V.type?new Hg(null,n,R):V),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const $=Dot(a.url);if($&&ms.protocols.indexOf($)===-1){o(new Qe("Unsupported protocol "+$+":",Qe.ERR_BAD_REQUEST,n));return}R.send(h||null)})},Zot=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let o=new AbortController,a;const h=function(x){if(!a){a=!0,p();const v=x instanceof Error?x:this.reason;o.abort(v instanceof Qe?v:new Hg(v instanceof Error?v.message:v))}};let f=e&&setTimeout(()=>{f=null,h(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const p=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(x=>{x.unsubscribe?x.unsubscribe(h):x.removeEventListener("abort",h)}),n=null)};n.forEach(x=>x.addEventListener("abort",h));const{signal:g}=o;return g.unsubscribe=()=>Pt.asap(p),g}},Yot=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let o=0,a;for(;o<r;)a=o+e,yield n.slice(o,a),o=a},Wot=async function*(n,e){for await(const r of qot(n))yield*Yot(r,e)},qot=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},EV=(n,e,r,o)=>{const a=Wot(n,e);let h=0,f,p=g=>{f||(f=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:x,value:v}=await a.next();if(x){p(),g.close();return}let S=v.byteLength;if(r){let b=h+=S;r(b)}g.enqueue(new Uint8Array(v))}catch(x){throw p(x),x}},cancel(g){return p(g),a.return()}},{highWaterMark:2})},M2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TY=M2&&typeof ReadableStream=="function",Got=M2&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),CY=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Hot=TY&&CY(()=>{let n=!1;const e=new Request(ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$V=64*1024,IQ=TY&&CY(()=>Pt.isReadableStream(new Response("").body)),hP={stream:IQ&&(n=>n.body)};M2&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hP[e]&&(hP[e]=Pt.isFunction(n[e])?r=>r[e]():(r,o)=>{throw new Qe(`Response type '${e}' is not supported`,Qe.ERR_NOT_SUPPORT,o)})})})(new Response);const Kot=async n=>{if(n==null)return 0;if(Pt.isBlob(n))return n.size;if(Pt.isSpecCompliantForm(n))return(await new Request(ms.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Pt.isArrayBufferView(n)||Pt.isArrayBuffer(n))return n.byteLength;if(Pt.isURLSearchParams(n)&&(n=n+""),Pt.isString(n))return(await Got(n)).byteLength},Jot=async(n,e)=>{const r=Pt.toFiniteNumber(n.getContentLength());return r??Kot(e)},tlt=M2&&(async n=>{let{url:e,method:r,data:o,signal:a,cancelToken:h,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:x,headers:v,withCredentials:S="same-origin",fetchOptions:b}=bY(n);x=x?(x+"").toLowerCase():"text";let M=Zot([a,h&&h.toAbortSignal()],f),j;const Q=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let R;try{if(g&&Hot&&r!=="get"&&r!=="head"&&(R=await Jot(v,o))!==0){let X=new Request(e,{method:"POST",body:o,duplex:"half"}),W;if(Pt.isFormData(o)&&(W=X.headers.get("content-type"))&&v.setContentType(W),X.body){const[K,tt]=jV(R,uP(RV(g)));o=EV(X.body,$V,K,tt)}}Pt.isString(S)||(S=S?"include":"omit");const L="credentials"in Request.prototype;j=new Request(e,{...b,signal:M,method:r.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:L?S:void 0});let $=await fetch(j);const V=IQ&&(x==="stream"||x==="response");if(IQ&&(p||V&&Q)){const X={};["status","statusText","headers"].forEach(rt=>{X[rt]=$[rt]});const W=Pt.toFiniteNumber($.headers.get("content-length")),[K,tt]=p&&jV(W,uP(RV(p),!0))||[];$=new Response(EV($.body,$V,K,()=>{tt&&tt(),Q&&Q()}),X)}x=x||"text";let D=await hP[Pt.findKey(hP,x)||"text"]($,n);return!V&&Q&&Q(),await new Promise((X,W)=>{kY(X,W,{data:D,headers:fo.from($.headers),status:$.status,statusText:$.statusText,config:n,request:j})})}catch(L){throw Q&&Q(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,n,j),{cause:L.cause||L}):Qe.from(L,L&&L.code,n,j)}}),FQ={http:mot,xhr:Uot,fetch:tlt};Pt.forEach(FQ,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const DV=n=>`- ${n}`,elt=n=>Pt.isFunction(n)||n===null||n===!1,MY={getAdapter:n=>{n=Pt.isArray(n)?n:[n];const{length:e}=n;let r,o;const a={};for(let h=0;h<e;h++){r=n[h];let f;if(o=r,!elt(r)&&(o=FQ[(f=String(r)).toLowerCase()],o===void 0))throw new Qe(`Unknown adapter '${f}'`);if(o)break;a[f||"#"+h]=o}if(!o){const h=Object.entries(a).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=e?h.length>1?`since :
`+h.map(DV).join(`
`):" "+DV(h[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:FQ};function SM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Hg(null,n)}function IV(n){return SM(n),n.headers=fo.from(n.headers),n.data=wM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),MY.getAdapter(n.adapter||hx.adapter)(n).then(function(o){return SM(n),o.data=wM.call(n,n.transformResponse,o),o.headers=fo.from(o.headers),o},function(o){return SY(o)||(SM(n),o&&o.response&&(o.response.data=wM.call(n,n.transformResponse,o.response),o.response.headers=fo.from(o.response.headers))),Promise.reject(o)})}const NY="1.9.0",N2={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{N2[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const FV={};N2.transitional=function(e,r,o){function a(h,f){return"[Axios v"+NY+"] Transitional option '"+h+"'"+f+(o?". "+o:"")}return(h,f,p)=>{if(e===!1)throw new Qe(a(f," has been removed"+(r?" in "+r:"")),Qe.ERR_DEPRECATED);return r&&!FV[f]&&(FV[f]=!0,console.warn(a(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(h,f,p):!0}};N2.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function ilt(n,e,r){if(typeof n!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let a=o.length;for(;a-- >0;){const h=o[a],f=e[h];if(f){const p=n[h],g=p===void 0||f(p,h,n);if(g!==!0)throw new Qe("option "+h+" must be "+g,Qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qe("Unknown option "+h,Qe.ERR_BAD_OPTION)}}const ok={assertOptions:ilt,validators:N2},qa=ok.validators;let kd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new QV,response:new QV}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const h=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ld(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:h}=r;o!==void 0&&ok.assertOptions(o,{silentJSONParsing:qa.transitional(qa.boolean),forcedJSONParsing:qa.transitional(qa.boolean),clarifyTimeoutError:qa.transitional(qa.boolean)},!1),a!=null&&(Pt.isFunction(a)?r.paramsSerializer={serialize:a}:ok.assertOptions(a,{encode:qa.function,serialize:qa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ok.assertOptions(r,{baseUrl:qa.spelling("baseURL"),withXsrfToken:qa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=h&&Pt.merge(h.common,h[r.method]);h&&Pt.forEach(["delete","get","head","post","put","patch","common"],j=>{delete h[j]}),r.headers=fo.concat(f,h);const p=[];let g=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(r)===!1||(g=g&&Q.synchronous,p.unshift(Q.fulfilled,Q.rejected))});const x=[];this.interceptors.response.forEach(function(Q){x.push(Q.fulfilled,Q.rejected)});let v,S=0,b;if(!g){const j=[IV.bind(this),void 0];for(j.unshift.apply(j,p),j.push.apply(j,x),b=j.length,v=Promise.resolve(r);S<b;)v=v.then(j[S++],j[S++]);return v}b=p.length;let M=r;for(S=0;S<b;){const j=p[S++],Q=p[S++];try{M=j(M)}catch(R){Q.call(this,R);break}}try{v=IV.call(this,M)}catch(j){return Promise.reject(j)}for(S=0,b=x.length;S<b;)v=v.then(x[S++],x[S++]);return v}getUri(e){e=Ld(this.defaults,e);const r=PY(e.baseURL,e.url,e.allowAbsoluteUrls);return vY(r,e.params,e.paramsSerializer)}};Pt.forEach(["delete","get","head","options"],function(e){kd.prototype[e]=function(r,o){return this.request(Ld(o||{},{method:e,url:r,data:(o||{}).data}))}});Pt.forEach(["post","put","patch"],function(e){function r(o){return function(h,f,p){return this.request(Ld(p||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}kd.prototype[e]=r(),kd.prototype[e+"Form"]=r(!0)});let nlt=class QY{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(h){r=h});const o=this;this.promise.then(a=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](a);o._listeners=null}),this.promise.then=a=>{let h;const f=new Promise(p=>{o.subscribe(p),h=p}).then(a);return f.cancel=function(){o.unsubscribe(h)},f},e(function(h,f,p){o.reason||(o.reason=new Hg(h,f,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new QY(function(a){e=a}),cancel:e}}};function rlt(n){return function(r){return n.apply(null,r)}}function slt(n){return Pt.isObject(n)&&n.isAxiosError===!0}const VQ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VQ).forEach(([n,e])=>{VQ[e]=n});function AY(n){const e=new kd(n),r=lY(kd.prototype.request,e);return Pt.extend(r,kd.prototype,e,{allOwnKeys:!0}),Pt.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return AY(Ld(n,a))},r}const Dn=AY(hx);Dn.Axios=kd;Dn.CanceledError=Hg;Dn.CancelToken=nlt;Dn.isCancel=SY;Dn.VERSION=NY;Dn.toFormData=C2;Dn.AxiosError=Qe;Dn.Cancel=Dn.CanceledError;Dn.all=function(e){return Promise.all(e)};Dn.spread=rlt;Dn.isAxiosError=slt;Dn.mergeConfig=Ld;Dn.AxiosHeaders=fo;Dn.formToJSON=n=>wY(Pt.isHTMLForm(n)?new FormData(n):n);Dn.getAdapter=MY.getAdapter;Dn.HttpStatusCode=VQ;Dn.default=Dn;const{Axios:Akt,AxiosError:jkt,CanceledError:Rkt,isCancel:Lkt,CancelToken:Ekt,VERSION:$kt,all:Dkt,Cancel:Ikt,isAxiosError:Fkt,spread:Vkt,toFormData:zkt,AxiosHeaders:Bkt,HttpStatusCode:Xkt,formToJSON:_kt,getAdapter:Ukt,mergeConfig:Zkt}=Dn,Zd=Dn.create({baseURL:"http://localhost:5001",withCredentials:!0,headers:{"Content-Type":"application/json"}});Zd.interceptors.request.use(n=>n,n=>Promise.reject(n));Zd.interceptors.response.use(n=>n,n=>{var e,r,o,a,h,f;return((e=n.response)==null?void 0:e.status)===401?console.warn("Unauthorized request:",(r=n.response.data)==null?void 0:r.message):((o=n.response)==null?void 0:o.status)===403?console.warn("Forbidden request:",(a=n.response.data)==null?void 0:a.message):((h=n.response)==null?void 0:h.status)>=500&&console.error("Server error:",(f=n.response.data)==null?void 0:f.message),Promise.reject(n)});const olt=(n,e,r)=>Zd.post("/api/auth/signup",{username:n,email:e,password:r}),llt=(n,e)=>Zd.post("/api/auth/login",{username:n,password:e}),alt=()=>Zd.get("/api/auth/user"),ult=()=>Zd.post("/api/auth/logout"),hlt=()=>{window.location.href="http://localhost:5001/api/auth/google"},clt=()=>Zd.get("/api/auth/check"),jY=U.createContext(void 0),flt=({children:n})=>{const[e,r]=U.useState(null),[o,a]=U.useState(!0),h=e!==null,f=async()=>{try{const M=await alt();M.data.status==="success"?r(M.data.user):r(null)}catch(M){console.error("Failed to refresh user:",M),r(null)}},p=async(M,j)=>{try{a(!0);const Q=await llt(M,j);if(Q.data.status==="success")r(Q.data.user);else throw new Error(Q.data.message||"Login failed")}catch(Q){throw console.error("Login failed:",Q),Q}finally{a(!1)}},g=async(M,j,Q)=>{try{a(!0);const R=await olt(M,j,Q);if(R.data.status==="success")r(R.data.user);else throw new Error(R.data.message||"Signup failed")}catch(R){throw console.error("Signup failed:",R),R}finally{a(!1)}},x=()=>{hlt()},v=async()=>{try{a(!0),await ult(),r(null)}catch(M){console.error("Logout failed:",M),r(null)}finally{a(!1)}},S=async()=>{try{(await clt()).data.authenticated?await f():r(null)}catch(M){console.error("Auth check failed:",M),r(null)}};U.useEffect(()=>{(async()=>{try{a(!0),await f()}catch(j){console.error("Failed to initialize auth:",j),r(null)}finally{a(!1)}})()},[]),U.useEffect(()=>{const M=()=>{!o&&e&&f()};return window.addEventListener("focus",M),()=>window.removeEventListener("focus",M)},[o,e]),U.useEffect(()=>{if(!e)return;const M=setInterval(()=>{S()},5*60*1e3);return()=>clearInterval(M)},[e]);const b={user:e,loading:o,login:p,signup:g,logout:v,refreshUser:f,loginWithGoogle:x,isAuthenticated:h};return N.jsx(jY.Provider,{value:b,children:n})},Kg=()=>{const n=U.useContext(jY);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},fS=({children:n})=>{const{user:e,loading:r}=Kg(),o=Uo();return r?N.jsx("div",{children:"Loading..."}):e?n:N.jsx(sY,{to:"/login",state:{from:o},replace:!0})},IR=U.createContext({});function FR(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const VR=typeof window<"u",RY=VR?U.useLayoutEffect:U.useEffect,Q2=U.createContext(null),zR=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function LY(n){return typeof n=="object"&&n!==null}function BR(n){return LY(n)&&"offsetHeight"in n}class dlt extends U.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=r.offsetParent,a=BR(o)&&o.offsetWidth||0,h=this.props.sizeRef.current;h.height=r.offsetHeight||0,h.width=r.offsetWidth||0,h.top=r.offsetTop,h.left=r.offsetLeft,h.right=a-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function plt({children:n,isPresent:e,anchorX:r}){const o=U.useId(),a=U.useRef(null),h=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=U.useContext(zR);return U.useInsertionEffect(()=>{const{width:p,height:g,top:x,left:v,right:S}=h.current;if(e||!a.current||!p||!g)return;const b=r==="left"?`left: ${v}`:`right: ${S}`;a.current.dataset.motionPopId=o;const M=document.createElement("style");return f&&(M.nonce=f),document.head.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.contains(M)&&document.head.removeChild(M)}},[e]),N.jsx(dlt,{isPresent:e,childRef:a,sizeRef:h,children:U.cloneElement(n,{ref:a})})}const mlt=({children:n,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:h,mode:f,anchorX:p})=>{const g=FR(glt),x=U.useId();let v=!0,S=U.useMemo(()=>(v=!1,{id:x,initial:e,isPresent:r,custom:a,onExitComplete:b=>{g.set(b,!0);for(const M of g.values())if(!M)return;o&&o()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[r,g,o]);return h&&v&&(S={...S}),U.useMemo(()=>{g.forEach((b,M)=>g.set(M,!1))},[r]),U.useEffect(()=>{!r&&!g.size&&o&&o()},[r]),f==="popLayout"&&(n=N.jsx(plt,{isPresent:r,anchorX:p,children:n})),N.jsx(Q2.Provider,{value:S,children:n})};function glt(){return new Map}function EY(n=!0){const e=U.useContext(Q2);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:a}=e,h=U.useId();U.useEffect(()=>{if(n)return a(h)},[n]);const f=U.useCallback(()=>n&&o&&o(h),[h,o,n]);return!r&&o?[!1,f]:[!0]}const dS=n=>n.key||"";function VV(n){const e=[];return U.Children.forEach(n,r=>{U.isValidElement(r)&&e.push(r)}),e}const ylt=({children:n,custom:e,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:h="sync",propagate:f=!1,anchorX:p="left"})=>{const[g,x]=EY(f),v=U.useMemo(()=>VV(n),[n]),S=f&&!g?[]:v.map(dS),b=U.useRef(!0),M=U.useRef(v),j=FR(()=>new Map),[Q,R]=U.useState(v),[L,$]=U.useState(v);RY(()=>{b.current=!1,M.current=v;for(let X=0;X<L.length;X++){const W=dS(L[X]);S.includes(W)?j.delete(W):j.get(W)!==!0&&j.set(W,!1)}},[L,S.length,S.join("-")]);const V=[];if(v!==Q){let X=[...v];for(let W=0;W<L.length;W++){const K=L[W],tt=dS(K);S.includes(tt)||(X.splice(W,0,K),V.push(K))}return h==="wait"&&V.length&&(X=V),$(VV(X)),R(v),null}const{forceRender:D}=U.useContext(IR);return N.jsx(N.Fragment,{children:L.map(X=>{const W=dS(X),K=f&&!g?!1:v===L||S.includes(W),tt=()=>{if(j.has(W))j.set(W,!0);else return;let rt=!0;j.forEach(Ot=>{Ot||(rt=!1)}),rt&&(D==null||D(),$(M.current),f&&(x==null||x()),o&&o())};return N.jsx(mlt,{isPresent:K,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:h,onExitComplete:K?void 0:tt,anchorX:p,children:X},W)})})},pS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Olt(n,e){let r=new Set,o=new Set,a=!1,h=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(v){f.has(v)&&(x.schedule(v),n()),v(p)}const x={schedule:(v,S=!1,b=!1)=>{const j=b&&a?r:o;return S&&f.add(v),j.has(v)||j.add(v),v},cancel:v=>{o.delete(v),f.delete(v)},process:v=>{if(p=v,a){h=!0;return}a=!0,[r,o]=[o,r],r.forEach(g),r.clear(),a=!1,h&&(h=!1,x.process(v))}};return x}const Sh={},vlt=40;function $Y(n,e){let r=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,f=pS.reduce((V,D)=>(V[D]=Olt(h),V),{}),{setup:p,read:g,resolveKeyframes:x,preUpdate:v,update:S,preRender:b,render:M,postRender:j}=f,Q=()=>{const V=Sh.useManualTiming?a.timestamp:performance.now();r=!1,Sh.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(V-a.timestamp,vlt),1)),a.timestamp=V,a.isProcessing=!0,p.process(a),g.process(a),x.process(a),v.process(a),S.process(a),b.process(a),M.process(a),j.process(a),a.isProcessing=!1,r&&e&&(o=!1,n(Q))},R=()=>{r=!0,o=!0,a.isProcessing||n(Q)};return{schedule:pS.reduce((V,D)=>{const X=f[D];return V[D]=(W,K=!1,tt=!1)=>(r||R(),X.schedule(W,K,tt)),V},{}),cancel:V=>{for(let D=0;D<pS.length;D++)f[pS[D]].cancel(V)},state:a,steps:f}}const Tl=n=>n,{schedule:fn,cancel:_c,state:Fr,steps:kM}=$Y(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tl,!0),DY=U.createContext({strict:!1}),zV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mg={};for(const n in zV)Mg[n]={isEnabled:e=>zV[n].some(r=>!!e[r])};function xlt(n){for(const e in n)Mg[e]={...Mg[e],...n[e]}}const wlt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cP(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||wlt.has(n)}let IY=n=>!cP(n);function Slt(n){n&&(IY=e=>e.startsWith("on")?!cP(e):n(e))}try{Slt(require("@emotion/is-prop-valid").default)}catch{}function klt(n,e,r){const o={};for(const a in n)a==="values"&&typeof n.values=="object"||(IY(a)||r===!0&&cP(a)||!e&&!cP(a)||n.draggable&&a.startsWith("onDrag"))&&(o[a]=n[a]);return o}function Plt(n){if(typeof Proxy>"u")return n;const e=new Map,r=(...o)=>n(...o);return new Proxy(r,{get:(o,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const A2=U.createContext({});function j2(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function xv(n){return typeof n=="string"||Array.isArray(n)}const XR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_R=["initial",...XR];function R2(n){return j2(n.animate)||_R.some(e=>xv(n[e]))}function FY(n){return!!(R2(n)||n.variants)}function blt(n,e){if(R2(n)){const{initial:r,animate:o}=n;return{initial:r===!1||xv(r)?r:void 0,animate:xv(o)?o:void 0}}return n.inherit!==!1?e:{}}function Tlt(n){const{initial:e,animate:r}=blt(n,U.useContext(A2));return U.useMemo(()=>({initial:e,animate:r}),[BV(e),BV(r)])}function BV(n){return Array.isArray(n)?n.join(" "):n}const Clt=Symbol.for("motionComponentSymbol");function Vm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Mlt(n,e,r){return U.useCallback(o=>{o&&n.onMount&&n.onMount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):Vm(r)&&(r.current=o))},[e])}const UR=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nlt="framerAppearId",VY="data-"+UR(Nlt),zY=U.createContext({}),{schedule:ZR}=$Y(queueMicrotask,!1);function Qlt(n,e,r,o,a){var Q,R;const{visualElement:h}=U.useContext(A2),f=U.useContext(DY),p=U.useContext(Q2),g=U.useContext(zR).reducedMotion,x=U.useRef(null);o=o||f.renderer,!x.current&&o&&(x.current=o(n,{visualState:e,parent:h,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const v=x.current,S=U.useContext(zY);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Alt(x.current,r,a,S);const b=U.useRef(!1);U.useInsertionEffect(()=>{v&&b.current&&v.update(r,p)});const M=r[VY],j=U.useRef(!!M&&!((Q=window.MotionHandoffIsComplete)!=null&&Q.call(window,M))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,M)));return RY(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),ZR.render(v.render),j.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,M)}),j.current=!1))}),v}function Alt(n,e,r,o){const{layoutId:a,layout:h,drag:f,dragConstraints:p,layoutScroll:g,layoutRoot:x,layoutCrossfade:v}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:BY(n.parent)),n.projection.setOptions({layoutId:a,layout:h,alwaysMeasureLayout:!!f||p&&Vm(p),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:v,layoutScroll:g,layoutRoot:x})}function BY(n){if(n)return n.options.allowProjection!==!1?n.projection:BY(n.parent)}let YR=()=>{};function jlt({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:o,Component:a}){n&&xlt(n);function h(p,g){let x;const v={...U.useContext(zR),...p,layoutId:Rlt(p)},{isStatic:S}=v,b=Tlt(p),M=o(p,S);if(!S&&VR){Llt();const j=Elt(v);x=j.MeasureLayout,b.visualElement=Qlt(a,M,v,e,j.ProjectionNode)}return N.jsxs(A2.Provider,{value:b,children:[x&&b.visualElement?N.jsx(x,{visualElement:b.visualElement,...v}):null,r(a,p,Mlt(M,b.visualElement,g),M,S,b.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=U.forwardRef(h);return f[Clt]=a,f}function Rlt({layoutId:n}){const e=U.useContext(IR).id;return e&&n!==void 0?e+"-"+n:n}function Llt(n,e){U.useContext(DY).strict}function Elt(n){const{drag:e,layout:r}=Mg;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const XY=n=>e=>typeof e=="string"&&e.startsWith(n),WR=XY("--"),$lt=XY("var(--"),qR=n=>$lt(n)?Dlt.test(n.split("/*")[0].trim()):!1,Dlt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wv={};function Ilt(n){for(const e in n)wv[e]=n[e],WR(e)&&(wv[e].isCSSVariable=!0)}const Jg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ty=new Set(Jg);function _Y(n,{layout:e,layoutId:r}){return ty.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!wv[n]||n==="opacity")}const UY=(n,e)=>e&&typeof n=="number"?e.transform(n):n,kh=(n,e,r)=>r>e?e:r<n?n:r,ey={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sv={...ey,transform:n=>kh(0,1,n)},mS={...ey,default:1},XV={...ey,transform:Math.round},cx=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),uc=cx("deg"),pu=cx("%"),Oe=cx("px"),Flt=cx("vh"),Vlt=cx("vw"),_V={...pu,parse:n=>pu.parse(n)/100,transform:n=>pu.transform(n*100)},zlt={rotate:uc,rotateX:uc,rotateY:uc,rotateZ:uc,scale:mS,scaleX:mS,scaleY:mS,scaleZ:mS,skew:uc,skewX:uc,skewY:uc,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Sv,originX:_V,originY:_V,originZ:Oe},GR={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...zlt,zIndex:XV,fillOpacity:Sv,strokeOpacity:Sv,numOctaves:XV},Blt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xlt=Jg.length;function _lt(n,e,r){let o="",a=!0;for(let h=0;h<Xlt;h++){const f=Jg[h],p=n[f];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(f.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||r){const x=UY(p,GR[f]);if(!g){a=!1;const v=Blt[f]||f;o+=`${v}(${x}) `}r&&(e[f]=x)}}return o=o.trim(),r?o=r(e,a?"":o):a&&(o="none"),o}function HR(n,e,r){const{style:o,vars:a,transformOrigin:h}=n;let f=!1,p=!1;for(const g in e){const x=e[g];if(ty.has(g)){f=!0;continue}else if(WR(g)){a[g]=x;continue}else{const v=UY(x,GR[g]);g.startsWith("origin")?(p=!0,h[g]=v):o[g]=v}}if(e.transform||(f||r?o.transform=_lt(e,n.transform,r):o.transform&&(o.transform="none")),p){const{originX:g="50%",originY:x="50%",originZ:v=0}=h;o.transformOrigin=`${g} ${x} ${v}`}}const KR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Pr=n=>!!(n&&n.getVelocity);function ZY(n,e,r){for(const o in e)!Pr(e[o])&&!_Y(o,r)&&(n[o]=e[o])}function Ult({transformTemplate:n},e){return U.useMemo(()=>{const r=KR();return HR(r,e,n),Object.assign({},r.vars,r.style)},[e])}function Zlt(n,e){const r=n.style||{},o={};return ZY(o,r,n),Object.assign(o,Ult(n,e)),o}function Ylt(n,e){const r={},o=Zlt(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}const Wlt={offset:"stroke-dashoffset",array:"stroke-dasharray"},qlt={offset:"strokeDashoffset",array:"strokeDasharray"};function Glt(n,e,r=1,o=0,a=!0){n.pathLength=1;const h=a?Wlt:qlt;n[h.offset]=Oe.transform(-o);const f=Oe.transform(e),p=Oe.transform(r);n[h.array]=`${f} ${p}`}function YY(n,{attrX:e,attrY:r,attrScale:o,pathLength:a,pathSpacing:h=1,pathOffset:f=0,...p},g,x,v){if(HR(n,p,x),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:b}=n;S.transform&&(b.transform=S.transform,delete S.transform),(b.transform||S.transformOrigin)&&(b.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),b.transform&&(b.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),r!==void 0&&(S.y=r),o!==void 0&&(S.scale=o),a!==void 0&&Glt(S,a,h,f,!1)}const WY=()=>({...KR(),attrs:{}}),qY=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Hlt(n,e,r,o){const a=U.useMemo(()=>{const h=WY();return YY(h,e,qY(o),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};ZY(h,n.style,n),a.style={...h,...a.style}}return a}const Klt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JR(n){return typeof n!="string"||n.includes("-")?!1:!!(Klt.indexOf(n)>-1||/[A-Z]/u.test(n))}function Jlt(n=!1){return(r,o,a,{latestValues:h},f)=>{const g=(JR(r)?Hlt:Ylt)(o,h,f,r),x=klt(o,typeof r=="string",n),v=r!==U.Fragment?{...x,...g,ref:a}:{},{children:S}=o,b=U.useMemo(()=>Pr(S)?S.get():S,[S]);return U.createElement(r,{...v,children:b})}}function UV(n){const e=[{},{}];return n==null||n.values.forEach((r,o)=>{e[0][o]=r.get(),e[1][o]=r.getVelocity()}),e}function t5(n,e,r,o){if(typeof e=="function"){const[a,h]=UV(o);e=e(r!==void 0?r:n.custom,a,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,h]=UV(o);e=e(r!==void 0?r:n.custom,a,h)}return e}function lk(n){return Pr(n)?n.get():n}function tat({scrapeMotionValuesFromProps:n,createRenderState:e},r,o,a){return{latestValues:eat(r,o,a,n),renderState:e()}}const GY=n=>(e,r)=>{const o=U.useContext(A2),a=U.useContext(Q2),h=()=>tat(n,e,o,a);return r?h():FR(h)};function eat(n,e,r,o){const a={},h=o(n,{});for(const b in h)a[b]=lk(h[b]);let{initial:f,animate:p}=n;const g=R2(n),x=FY(n);e&&x&&!g&&n.inherit!==!1&&(f===void 0&&(f=e.initial),p===void 0&&(p=e.animate));let v=r?r.initial===!1:!1;v=v||f===!1;const S=v?p:f;if(S&&typeof S!="boolean"&&!j2(S)){const b=Array.isArray(S)?S:[S];for(let M=0;M<b.length;M++){const j=t5(n,b[M]);if(j){const{transitionEnd:Q,transition:R,...L}=j;for(const $ in L){let V=L[$];if(Array.isArray(V)){const D=v?V.length-1:0;V=V[D]}V!==null&&(a[$]=V)}for(const $ in Q)a[$]=Q[$]}}}return a}function e5(n,e,r){var h;const{style:o}=n,a={};for(const f in o)(Pr(o[f])||e.style&&Pr(e.style[f])||_Y(f,n)||((h=r==null?void 0:r.getValue(f))==null?void 0:h.liveStyle)!==void 0)&&(a[f]=o[f]);return a}const iat={useVisualState:GY({scrapeMotionValuesFromProps:e5,createRenderState:KR})};function HY(n,e,r){const o=e5(n,e,r);for(const a in n)if(Pr(n[a])||Pr(e[a])){const h=Jg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[h]=n[a]}return o}const nat={useVisualState:GY({scrapeMotionValuesFromProps:HY,createRenderState:WY})};function rat(n,e){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const f={...JR(o)?nat:iat,preloadedFeatures:n,useRender:Jlt(a),createVisualElement:e,Component:o};return jlt(f)}}function kv(n,e,r){const o=n.getProps();return t5(o,e,r!==void 0?r:o.custom,n)}const zQ=n=>Array.isArray(n);let ak;function sat(){ak=void 0}const so={now:()=>(ak===void 0&&so.set(Fr.isProcessing||Sh.useManualTiming?Fr.timestamp:performance.now()),ak),set:n=>{ak=n,queueMicrotask(sat)}};function i5(n,e){n.indexOf(e)===-1&&n.push(e)}function L2(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}class n5{constructor(){this.subscriptions=[]}add(e){return i5(this.subscriptions,e),()=>L2(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let h=0;h<a;h++){const f=this.subscriptions[h];f&&f(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KY(n,e){return e?n*(1e3/e):0}const ZV=30,oat=n=>!isNaN(parseFloat(n));class lat{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{var f,p;const h=so.now();if(this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((f=this.events.change)==null||f.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty();a&&((p=this.events.renderRequest)==null||p.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=so.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new n5);const o=this.events[e].add(r);return e==="change"?()=>{o(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=so.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ZV)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZV);return KY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ng(n,e){return new lat(n,e)}function aat(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Ng(r))}function uat(n){return zQ(n)?n[n.length-1]||0:n}function hat(n,e){const r=kv(n,e);let{transitionEnd:o={},transition:a={},...h}=r||{};h={...h,...o};for(const f in h){const p=uat(h[f]);aat(n,f,p)}}function cat(n){return!!(Pr(n)&&n.add)}function BQ(n,e){const r=n.getValue("willChange");if(cat(r))return r.add(e);if(!r&&Sh.WillChange){const o=new Sh.WillChange("auto");n.addValue("willChange",o),o.add(e)}}function JY(n){return n.props[VY]}const fat=n=>n!==null;function dat(n,{repeat:e,repeatType:r="loop"},o){const a=n.filter(fat),h=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[h]}const pat={type:"spring",stiffness:500,damping:25,restSpeed:10},mat=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gat={type:"keyframes",duration:.8},yat={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oat=(n,{keyframes:e})=>e.length>2?gat:ty.has(n)?n.startsWith("scale")?mat(e[1]):pat:yat;function vat({when:n,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:h,repeatType:f,repeatDelay:p,from:g,elapsed:x,...v}){return!!Object.keys(v).length}function r5(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ha=n=>n*1e3,mu=n=>n/1e3,LO=n=>Math.round(n*1e5)/1e5,s5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xat(n){return n==null}const wat=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o5=(n,e)=>r=>!!(typeof r=="string"&&wat.test(r)&&r.startsWith(n)||e&&!xat(r)&&Object.prototype.hasOwnProperty.call(r,e)),t8=(n,e,r)=>o=>{if(typeof o!="string")return o;const[a,h,f,p]=o.match(s5);return{[n]:parseFloat(a),[e]:parseFloat(h),[r]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},Sat=n=>kh(0,255,n),PM={...ey,transform:n=>Math.round(Sat(n))},cd={test:o5("rgb","red"),parse:t8("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:o=1})=>"rgba("+PM.transform(n)+", "+PM.transform(e)+", "+PM.transform(r)+", "+LO(Sv.transform(o))+")"};function kat(n){let e="",r="",o="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),o=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),o=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const XQ={test:o5("#"),parse:kat,transform:cd.transform},zm={test:o5("hsl","hue"),parse:t8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(n)+", "+pu.transform(LO(e))+", "+pu.transform(LO(r))+", "+LO(Sv.transform(o))+")"},fs={test:n=>cd.test(n)||XQ.test(n)||zm.test(n),parse:n=>cd.test(n)?cd.parse(n):zm.test(n)?zm.parse(n):XQ.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?cd.transform(n):zm.transform(n)},Pat=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bat(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(s5))==null?void 0:e.length)||0)+(((r=n.match(Pat))==null?void 0:r.length)||0)>0}const e8="number",i8="color",Tat="var",Cat="var(",YV="${}",Mat=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pv(n){const e=n.toString(),r=[],o={color:[],number:[],var:[]},a=[];let h=0;const p=e.replace(Mat,g=>(fs.test(g)?(o.color.push(h),a.push(i8),r.push(fs.parse(g))):g.startsWith(Cat)?(o.var.push(h),a.push(Tat),r.push(g)):(o.number.push(h),a.push(e8),r.push(parseFloat(g))),++h,YV)).split(YV);return{values:r,split:p,indexes:o,types:a}}function n8(n){return Pv(n).values}function r8(n){const{split:e,types:r}=Pv(n),o=e.length;return a=>{let h="";for(let f=0;f<o;f++)if(h+=e[f],a[f]!==void 0){const p=r[f];p===e8?h+=LO(a[f]):p===i8?h+=fs.transform(a[f]):h+=a[f]}return h}}const Nat=n=>typeof n=="number"?0:n;function Qat(n){const e=n8(n);return r8(n)(e.map(Nat))}const Uc={test:bat,parse:n8,createTransformer:r8,getAnimatableNone:Qat};function bM(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function Aat({hue:n,saturation:e,lightness:r,alpha:o}){n/=360,e/=100,r/=100;let a=0,h=0,f=0;if(!e)a=h=f=r;else{const p=r<.5?r*(1+e):r+e-r*e,g=2*r-p;a=bM(g,p,n+1/3),h=bM(g,p,n),f=bM(g,p,n-1/3)}return{red:Math.round(a*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:o}}function fP(n,e){return r=>r>0?e:n}const Hi=(n,e,r)=>n+(e-n)*r,TM=(n,e,r)=>{const o=n*n,a=r*(e*e-o)+o;return a<0?0:Math.sqrt(a)},jat=[XQ,cd,zm],Rat=n=>jat.find(e=>e.test(n));function WV(n){const e=Rat(n);if(!e)return!1;let r=e.parse(n);return e===zm&&(r=Aat(r)),r}const qV=(n,e)=>{const r=WV(n),o=WV(e);if(!r||!o)return fP(n,e);const a={...r};return h=>(a.red=TM(r.red,o.red,h),a.green=TM(r.green,o.green,h),a.blue=TM(r.blue,o.blue,h),a.alpha=Hi(r.alpha,o.alpha,h),cd.transform(a))},_Q=new Set(["none","hidden"]);function Lat(n,e){return _Q.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}const Eat=(n,e)=>r=>e(n(r)),fx=(...n)=>n.reduce(Eat);function $at(n,e){return r=>Hi(n,e,r)}function l5(n){return typeof n=="number"?$at:typeof n=="string"?qR(n)?fP:fs.test(n)?qV:Fat:Array.isArray(n)?s8:typeof n=="object"?fs.test(n)?qV:Dat:fP}function s8(n,e){const r=[...n],o=r.length,a=n.map((h,f)=>l5(h)(h,e[f]));return h=>{for(let f=0;f<o;f++)r[f]=a[f](h);return r}}function Dat(n,e){const r={...n,...e},o={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(o[a]=l5(n[a])(n[a],e[a]));return a=>{for(const h in o)r[h]=o[h](a);return r}}function Iat(n,e){const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const h=e.types[a],f=n.indexes[h][o[h]],p=n.values[f]??0;r[a]=p,o[h]++}return r}const Fat=(n,e)=>{const r=Uc.createTransformer(e),o=Pv(n),a=Pv(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?_Q.has(n)&&!a.values.length||_Q.has(e)&&!o.values.length?Lat(n,e):fx(s8(Iat(o,a),a.values),r):fP(n,e)};function o8(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?Hi(n,e,r):l5(n)(n,e)}const Vat=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>fn.update(e,r),stop:()=>_c(e),now:()=>Fr.isProcessing?Fr.timestamp:so.now()}},l8=(n,e,r=10)=>{let o="";const a=Math.max(Math.round(e/r),2);for(let h=0;h<a;h++)o+=n(h/(a-1))+", ";return`linear(${o.substring(0,o.length-2)})`},dP=2e4;function a5(n){let e=0;const r=50;let o=n.next(e);for(;!o.done&&e<dP;)e+=r,o=n.next(e);return e>=dP?1/0:e}function a8(n,e=100,r){const o=r({...n,keyframes:[0,e]}),a=Math.min(a5(o),dP);return{type:"keyframes",ease:h=>o.next(a*h).value/e,duration:mu(a)}}const zat=5;function u8(n,e,r){const o=Math.max(e-zat,0);return KY(r-n(o),e-o)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},GV=.001;function Bat({duration:n=bn.duration,bounce:e=bn.bounce,velocity:r=bn.velocity,mass:o=bn.mass}){let a,h,f=1-e;f=kh(bn.minDamping,bn.maxDamping,f),n=kh(bn.minDuration,bn.maxDuration,mu(n)),f<1?(a=x=>{const v=x*f,S=v*n,b=v-r,M=UQ(x,f),j=Math.exp(-S);return GV-b/M*j},h=x=>{const S=x*f*n,b=S*r+r,M=Math.pow(f,2)*Math.pow(x,2)*n,j=Math.exp(-S),Q=UQ(Math.pow(x,2),f);return(-a(x)+GV>0?-1:1)*((b-M)*j)/Q}):(a=x=>{const v=Math.exp(-x*n),S=(x-r)*n+1;return-.001+v*S},h=x=>{const v=Math.exp(-x*n),S=(r-x)*(n*n);return v*S});const p=5/n,g=_at(a,h,p);if(n=ha(n),isNaN(g))return{stiffness:bn.stiffness,damping:bn.damping,duration:n};{const x=Math.pow(g,2)*o;return{stiffness:x,damping:f*2*Math.sqrt(o*x),duration:n}}}const Xat=12;function _at(n,e,r){let o=r;for(let a=1;a<Xat;a++)o=o-n(o)/e(o);return o}function UQ(n,e){return n*Math.sqrt(1-e*e)}const Uat=["duration","bounce"],Zat=["stiffness","damping","mass"];function HV(n,e){return e.some(r=>n[r]!==void 0)}function Yat(n){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...n};if(!HV(n,Zat)&&HV(n,Uat))if(n.visualDuration){const r=n.visualDuration,o=2*Math.PI/(r*1.2),a=o*o,h=2*kh(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:bn.mass,stiffness:a,damping:h}}else{const r=Bat(n);e={...e,...r,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function bv(n=bn.visualDuration,e=bn.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:a}=r;const h=r.keyframes[0],f=r.keyframes[r.keyframes.length-1],p={done:!1,value:h},{stiffness:g,damping:x,mass:v,duration:S,velocity:b,isResolvedFromDuration:M}=Yat({...r,velocity:-mu(r.velocity||0)}),j=b||0,Q=x/(2*Math.sqrt(g*v)),R=f-h,L=mu(Math.sqrt(g/v)),$=Math.abs(R)<5;o||(o=$?bn.restSpeed.granular:bn.restSpeed.default),a||(a=$?bn.restDelta.granular:bn.restDelta.default);let V;if(Q<1){const X=UQ(L,Q);V=W=>{const K=Math.exp(-Q*L*W);return f-K*((j+Q*L*R)/X*Math.sin(X*W)+R*Math.cos(X*W))}}else if(Q===1)V=X=>f-Math.exp(-L*X)*(R+(j+L*R)*X);else{const X=L*Math.sqrt(Q*Q-1);V=W=>{const K=Math.exp(-Q*L*W),tt=Math.min(X*W,300);return f-K*((j+Q*L*R)*Math.sinh(tt)+X*R*Math.cosh(tt))/X}}const D={calculatedDuration:M&&S||null,next:X=>{const W=V(X);if(M)p.done=X>=S;else{let K=X===0?j:0;Q<1&&(K=X===0?ha(j):u8(V,X,W));const tt=Math.abs(K)<=o,rt=Math.abs(f-W)<=a;p.done=tt&&rt}return p.value=p.done?f:W,p},toString:()=>{const X=Math.min(a5(D),dP),W=l8(K=>D.next(X*K).value,X,30);return X+"ms "+W},toTransition:()=>{}};return D}bv.applyToOptions=n=>{const e=a8(n,100,bv);return n.ease=e.ease,n.duration=ha(e.duration),n.type="keyframes",n};function ZQ({keyframes:n,velocity:e=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:h=500,modifyTarget:f,min:p,max:g,restDelta:x=.5,restSpeed:v}){const S=n[0],b={done:!1,value:S},M=tt=>p!==void 0&&tt<p||g!==void 0&&tt>g,j=tt=>p===void 0?g:g===void 0||Math.abs(p-tt)<Math.abs(g-tt)?p:g;let Q=r*e;const R=S+Q,L=f===void 0?R:f(R);L!==R&&(Q=L-S);const $=tt=>-Q*Math.exp(-tt/o),V=tt=>L+$(tt),D=tt=>{const rt=$(tt),Ot=V(tt);b.done=Math.abs(rt)<=x,b.value=b.done?L:Ot};let X,W;const K=tt=>{M(b.value)&&(X=tt,W=bv({keyframes:[b.value,j(b.value)],velocity:u8(V,tt,b.value),damping:a,stiffness:h,restDelta:x,restSpeed:v}))};return K(0),{calculatedDuration:null,next:tt=>{let rt=!1;return!W&&X===void 0&&(rt=!0,D(tt),K(tt)),X!==void 0&&tt>=X?W.next(tt-X):(!rt&&D(tt),b)}}}const Qg=(n,e,r)=>{const o=e-n;return o===0?1:(r-n)/o};function Wat(n,e,r){const o=[],a=r||Sh.mix||o8,h=n.length-1;for(let f=0;f<h;f++){let p=a(n[f],n[f+1]);if(e){const g=Array.isArray(e)?e[f]||Tl:e;p=fx(g,p)}o.push(p)}return o}function qat(n,e,{clamp:r=!0,ease:o,mixer:a}={}){const h=n.length;if(YR(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const f=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const p=Wat(e,o,a),g=p.length,x=v=>{if(f&&v<n[0])return e[0];let S=0;if(g>1)for(;S<n.length-2&&!(v<n[S+1]);S++);const b=Qg(n[S],n[S+1],v);return p[S](b)};return r?v=>x(kh(n[0],n[h-1],v)):x}function h8(n,e){const r=n[n.length-1];for(let o=1;o<=e;o++){const a=Qg(0,e,o);n.push(Hi(r,1,a))}}function c8(n){const e=[0];return h8(e,n.length-1),e}function Gat(n,e){return n.map(r=>r*e)}const f8=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,Hat=1e-7,Kat=12;function Jat(n,e,r,o,a){let h,f,p=0;do f=e+(r-e)/2,h=f8(f,o,a)-n,h>0?r=f:e=f;while(Math.abs(h)>Hat&&++p<Kat);return f}function dx(n,e,r,o){if(n===e&&r===o)return Tl;const a=h=>Jat(h,0,1,n,r);return h=>h===0||h===1?h:f8(a(h),e,o)}const tut=dx(.42,0,1,1),eut=dx(0,0,.58,1),d8=dx(.42,0,.58,1),p8=n=>Array.isArray(n)&&typeof n[0]!="number",m8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,g8=n=>e=>1-n(1-e),y8=dx(.33,1.53,.69,.99),u5=g8(y8),O8=m8(u5),v8=n=>(n*=2)<1?.5*u5(n):.5*(2-Math.pow(2,-10*(n-1))),h5=n=>1-Math.sin(Math.acos(n)),x8=g8(h5),w8=m8(h5),S8=n=>Array.isArray(n)&&typeof n[0]=="number",iut={linear:Tl,easeIn:tut,easeInOut:d8,easeOut:eut,circIn:h5,circInOut:w8,circOut:x8,backIn:u5,backInOut:O8,backOut:y8,anticipate:v8},nut=n=>typeof n=="string",KV=n=>{if(S8(n)){YR(n.length===4);const[e,r,o,a]=n;return dx(e,r,o,a)}else if(nut(n))return iut[n];return n};function rut(n,e){return n.map(()=>e||d8).splice(0,n.length-1)}function EO({duration:n=300,keyframes:e,times:r,ease:o="easeInOut"}){const a=p8(o)?o.map(KV):KV(o),h={done:!1,value:e[0]},f=Gat(r&&r.length===e.length?r:c8(e),n),p=qat(f,e,{ease:Array.isArray(a)?a:rut(e,a)});return{calculatedDuration:n,next:g=>(h.value=p(g),h.done=g>=n,h)}}const sut=n=>n!==null;function c5(n,{repeat:e,repeatType:r="loop"},o,a=1){const h=n.filter(sut),p=a<0||e&&r!=="loop"&&e%2===1?0:h.length-1;return!p||o===void 0?h[p]:o}const out={decay:ZQ,inertia:ZQ,tween:EO,keyframes:EO,spring:bv};function k8(n){typeof n.type=="string"&&(n.type=out[n.type])}class f5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const lut=n=>n/100;class d5 extends f5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,a;const{motionValue:r}=this.options;r&&r.updatedAt!==so.now()&&this.tick(so.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;k8(e);const{type:r=EO,repeat:o=0,repeatDelay:a=0,repeatType:h,velocity:f=0}=e;let{keyframes:p}=e;const g=r||EO;g!==EO&&typeof p[0]!="number"&&(this.mixKeyframes=fx(lut,o8(p[0],p[1])),p=[0,100]);const x=g({...e,keyframes:p});h==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...p].reverse(),velocity:-f})),x.calculatedDuration===null&&(x.calculatedDuration=a5(x));const{calculatedDuration:v}=x;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=x}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:o,totalDuration:a,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return o.next(0);const{delay:x=0,keyframes:v,repeat:S,repeatType:b,repeatDelay:M,type:j,onUpdate:Q,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const L=this.currentTime-x*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,D=o;if(S){const tt=Math.min(this.currentTime,a)/p;let rt=Math.floor(tt),Ot=tt%1;!Ot&&tt>=1&&(Ot=1),Ot===1&&rt--,rt=Math.min(rt,S+1),!!(rt%2)&&(b==="reverse"?(Ot=1-Ot,M&&(Ot-=M/p)):b==="mirror"&&(D=f)),V=kh(0,1,Ot)*p}const X=$?{done:!1,value:v[0]}:D.next(V);h&&(X.value=h(X.value));let{done:W}=X;!$&&g!==null&&(W=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return K&&j!==ZQ&&(X.value=c5(v,this.options,R,this.speed)),Q&&Q(X.value),K&&this.finish(),X}then(e,r){return this.finished.then(e,r)}get duration(){return mu(this.calculatedDuration)}get time(){return mu(this.currentTime)}set time(e){var r;e=ha(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(so.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=mu(this.currentTime))}play(){var a,h;if(this.isStopped)return;const{driver:e=Vat,startTime:r}=this.options;this.driver||(this.driver=e(f=>this.tick(f))),(h=(a=this.options).onPlay)==null||h.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(so.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function aut(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const fd=n=>n*180/Math.PI,YQ=n=>{const e=fd(Math.atan2(n[1],n[0]));return WQ(e)},uut={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:YQ,rotateZ:YQ,skewX:n=>fd(Math.atan(n[1])),skewY:n=>fd(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},WQ=n=>(n=n%360,n<0&&(n+=360),n),JV=YQ,tz=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ez=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),hut={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tz,scaleY:ez,scale:n=>(tz(n)+ez(n))/2,rotateX:n=>WQ(fd(Math.atan2(n[6],n[5]))),rotateY:n=>WQ(fd(Math.atan2(-n[2],n[0]))),rotateZ:JV,rotate:JV,skewX:n=>fd(Math.atan(n[4])),skewY:n=>fd(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function qQ(n){return n.includes("scale")?1:0}function GQ(n,e){if(!n||n==="none")return qQ(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(r)o=hut,a=r;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=uut,a=p}if(!a)return qQ(e);const h=o[e],f=a[1].split(",").map(fut);return typeof h=="function"?h(f):f[h]}const cut=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return GQ(r,e)};function fut(n){return parseFloat(n.trim())}const iz=n=>n===ey||n===Oe,dut=new Set(["x","y","z"]),put=Jg.filter(n=>!dut.has(n));function mut(n){const e=[];return put.forEach(r=>{const o=n.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e}const Pd={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>GQ(e,"x"),y:(n,{transform:e})=>GQ(e,"y")};Pd.translateX=Pd.x;Pd.translateY=Pd.y;const bd=new Set;let HQ=!1,KQ=!1,JQ=!1;function P8(){if(KQ){const n=Array.from(bd).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),r=new Map;e.forEach(o=>{const a=mut(o);a.length&&(r.set(o,a),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=r.get(o);a&&a.forEach(([h,f])=>{var p;(p=o.getValue(h))==null||p.set(f)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}KQ=!1,HQ=!1,bd.forEach(n=>n.complete(JQ)),bd.clear()}function b8(){bd.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(KQ=!0)})}function gut(){JQ=!0,b8(),P8(),JQ=!1}class p5{constructor(e,r,o,a,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=o,this.motionValue=a,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(bd.add(this),HQ||(HQ=!0,fn.read(b8),fn.resolveKeyframes(P8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:o,motionValue:a}=this;if(e[0]===null){const h=a==null?void 0:a.get(),f=e[e.length-1];if(h!==void 0)e[0]=h;else if(o&&r){const p=o.readValue(r,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),a&&h===void 0&&a.set(e[0])}aut(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bd.delete(this)}cancel(){this.state==="scheduled"&&(bd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yut=n=>n.startsWith("--");function Out(n,e,r){yut(e)?n.style.setProperty(e,r):n.style[e]=r}function m5(n){let e;return()=>(e===void 0&&(e=n()),e)}const vut=m5(()=>window.ScrollTimeline!==void 0),xut={};function wut(n,e){const r=m5(n);return()=>xut[e]??r()}const T8=wut(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yO=([n,e,r,o])=>`cubic-bezier(${n}, ${e}, ${r}, ${o})`,nz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yO([0,.65,.55,1]),circOut:yO([.55,0,1,.45]),backIn:yO([.31,.01,.66,-.59]),backOut:yO([.33,1.53,.69,.99])};function C8(n,e){if(n)return typeof n=="function"?T8()?l8(n,e):"ease-out":S8(n)?yO(n):Array.isArray(n)?n.map(r=>C8(r,e)||nz.easeOut):nz[n]}function Sut(n,e,r,{delay:o=0,duration:a=300,repeat:h=0,repeatType:f="loop",ease:p="easeOut",times:g}={},x=void 0){const v={[e]:r};g&&(v.offset=g);const S=C8(p,a);Array.isArray(S)&&(v.easing=S);const b={delay:o,duration:a,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return x&&(b.pseudoElement=x),n.animate(v,b)}function g5(n){return typeof n=="function"&&"applyToOptions"in n}function kut({type:n,...e}){return g5(n)&&T8()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Put extends f5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:o,keyframes:a,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:p,onComplete:g}=e;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=e,YR(typeof e.type!="string");const x=kut(e);this.animation=Sut(r,o,a,x,h),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const v=c5(a,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(v):Out(r,o,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,o;const e=((o=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:o.call(r).duration)||0;return mu(Number(e))}get time(){return mu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ha(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vut()?(this.animation.timeline=e,Tl):r(this)}}const M8={anticipate:v8,backInOut:O8,circInOut:w8};function but(n){return n in M8}function Tut(n){typeof n.ease=="string"&&but(n.ease)&&(n.ease=M8[n.ease])}const rz=10;class Cut extends Put{constructor(e){Tut(e),k8(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:o,onComplete:a,element:h,...f}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const p=new d5({...f,autoplay:!1}),g=ha(this.finishedTime??this.time);r.setWithVelocity(p.sample(g-rz).value,p.sample(g).value,rz),p.stop()}}const sz=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Uc.test(n)||n==="0")&&!n.startsWith("url("));function Mut(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function Nut(n,e,r,o){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],f=sz(a,e),p=sz(h,e);return!f||!p?!1:Mut(n)||(r==="spring"||g5(r))&&o}const Qut=new Set(["opacity","clipPath","filter","transform"]),Aut=m5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jut(n){var x;const{motionValue:e,name:r,repeatDelay:o,repeatType:a,damping:h,type:f}=n;if(!BR((x=e==null?void 0:e.owner)==null?void 0:x.current))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return Aut()&&r&&Qut.has(r)&&(r!=="transform"||!g)&&!p&&!o&&a!=="mirror"&&h!==0&&f!=="inertia"}const Rut=40;class Lut extends f5{constructor({autoplay:e=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:h=0,repeatType:f="loop",keyframes:p,name:g,motionValue:x,element:v,...S}){var j;super(),this.stop=()=>{var Q,R;this._animation&&(this._animation.stop(),(Q=this.stopTimeline)==null||Q.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=so.now();const b={autoplay:e,delay:r,type:o,repeat:a,repeatDelay:h,repeatType:f,name:g,motionValue:x,element:v,...S},M=(v==null?void 0:v.KeyframeResolver)||p5;this.keyframeResolver=new M(p,(Q,R,L)=>this.onKeyframesResolved(Q,R,b,!L),g,x,v),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,r,o,a){this.keyframeResolver=void 0;const{name:h,type:f,velocity:p,delay:g,isHandoff:x,onUpdate:v}=o;this.resolvedAt=so.now(),Nut(e,h,f,p)||((Sh.instantAnimations||!g)&&(v==null||v(c5(e,o,r))),e[0]=e[e.length-1],o.duration=0,o.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Rut?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:e},M=!x&&jut(b)?new Cut({...b,element:b.motionValue.owner.current}):new d5(b);M.finished.then(()=>this.notifyFinished()).catch(Tl),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),gut()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const y5=(n,e,r,o={},a,h)=>f=>{const p=r5(o,n)||{},g=p.delay||o.delay||0;let{elapsed:x=0}=o;x=x-ha(g);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-x,onUpdate:b=>{e.set(b),p.onUpdate&&p.onUpdate(b)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:n,motionValue:e,element:h?void 0:a};vat(p)||Object.assign(v,Oat(n,v)),v.duration&&(v.duration=ha(v.duration)),v.repeatDelay&&(v.repeatDelay=ha(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(S=!0)),(Sh.instantAnimations||Sh.skipAnimations)&&(S=!0,v.duration=0,v.delay=0),v.allowFlatten=!p.type&&!p.ease,S&&!h&&e.get()!==void 0){const b=dat(v.keyframes,p);if(b!==void 0){fn.update(()=>{v.onUpdate(b),v.onComplete()});return}}return p.isSync?new d5(v):new Lut(v)},N8=new Set(["width","height","top","left","right","bottom",...Jg]);function Eut({protectedKeys:n,needsAnimating:e},r){const o=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}function O5(n,e,{delay:r=0,transitionOverride:o,type:a}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:f,...p}=e;o&&(h=o);const g=[],x=a&&n.animationState&&n.animationState.getState()[a];for(const v in p){const S=n.getValue(v,n.latestValues[v]??null),b=p[v];if(b===void 0||x&&Eut(x,v))continue;const M={delay:r,...r5(h||{},v)},j=S.get();if(j!==void 0&&!S.isAnimating&&!Array.isArray(b)&&b===j&&!M.velocity)continue;let Q=!1;if(window.MotionHandoffAnimation){const L=JY(n);if(L){const $=window.MotionHandoffAnimation(L,v,fn);$!==null&&(M.startTime=$,Q=!0)}}BQ(n,v),S.start(y5(v,S,b,n.shouldReduceMotion&&N8.has(v)?{type:!1}:M,n,Q));const R=S.animation;R&&g.push(R)}return f&&Promise.all(g).then(()=>{fn.update(()=>{f&&hat(n,f)})}),g}function tA(n,e,r={}){var g;const o=kv(n,e,r.type==="exit"?(g=n.presenceContext)==null?void 0:g.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const h=o?()=>Promise.all(O5(n,o,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(x=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:b}=a;return $ut(n,e,v+x,S,b,r)}:()=>Promise.resolve(),{when:p}=a;if(p){const[x,v]=p==="beforeChildren"?[h,f]:[f,h];return x().then(()=>v())}else return Promise.all([h(),f(r.delay)])}function $ut(n,e,r=0,o=0,a=1,h){const f=[],p=(n.variantChildren.size-1)*o,g=a===1?(x=0)=>x*o:(x=0)=>p-x*o;return Array.from(n.variantChildren).sort(Dut).forEach((x,v)=>{x.notify("AnimationStart",e),f.push(tA(x,e,{...h,delay:r+g(v)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(f)}function Dut(n,e){return n.sortNodePosition(e)}function Iut(n,e,r={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(h=>tA(n,h,r));o=Promise.all(a)}else if(typeof e=="string")o=tA(n,e,r);else{const a=typeof e=="function"?kv(n,e,r.custom):e;o=Promise.all(O5(n,a,r))}return o.then(()=>{n.notify("AnimationComplete",e)})}function Q8(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let o=0;o<r;o++)if(e[o]!==n[o])return!1;return!0}const Fut=_R.length;function A8(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?A8(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<Fut;r++){const o=_R[r],a=n.props[o];(xv(a)||a===!1)&&(e[o]=a)}return e}const Vut=[...XR].reverse(),zut=XR.length;function But(n){return e=>Promise.all(e.map(({animation:r,options:o})=>Iut(n,r,o)))}function Xut(n){let e=But(n),r=oz(),o=!0;const a=g=>(x,v)=>{var b;const S=kv(n,v,g==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(S){const{transition:M,transitionEnd:j,...Q}=S;x={...x,...Q,...j}}return x};function h(g){e=g(n)}function f(g){const{props:x}=n,v=A8(n.parent)||{},S=[],b=new Set;let M={},j=1/0;for(let R=0;R<zut;R++){const L=Vut[R],$=r[L],V=x[L]!==void 0?x[L]:v[L],D=xv(V),X=L===g?$.isActive:null;X===!1&&(j=R);let W=V===v[L]&&V!==x[L]&&D;if(W&&o&&n.manuallyAnimateOnMount&&(W=!1),$.protectedKeys={...M},!$.isActive&&X===null||!V&&!$.prevProp||j2(V)||typeof V=="boolean")continue;const K=_ut($.prevProp,V);let tt=K||L===g&&$.isActive&&!W&&D||R>j&&D,rt=!1;const Ot=Array.isArray(V)?V:[V];let bt=Ot.reduce(a(L),{});X===!1&&(bt={});const{prevResolvedValues:wt={}}=$,St={...wt,...bt},mt=Rt=>{tt=!0,b.has(Rt)&&(rt=!0,b.delete(Rt)),$.needsAnimating[Rt]=!0;const dt=n.getValue(Rt);dt&&(dt.liveStyle=!1)};for(const Rt in St){const dt=bt[Rt],ht=wt[Rt];if(M.hasOwnProperty(Rt))continue;let yt=!1;zQ(dt)&&zQ(ht)?yt=!Q8(dt,ht):yt=dt!==ht,yt?dt!=null?mt(Rt):b.add(Rt):dt!==void 0&&b.has(Rt)?mt(Rt):$.protectedKeys[Rt]=!0}$.prevProp=V,$.prevResolvedValues=bt,$.isActive&&(M={...M,...bt}),o&&n.blockInitialAnimation&&(tt=!1),tt&&(!(W&&K)||rt)&&S.push(...Ot.map(Rt=>({animation:Rt,options:{type:L}})))}if(b.size){const R={};if(typeof x.initial!="boolean"){const L=kv(n,Array.isArray(x.initial)?x.initial[0]:x.initial);L&&L.transition&&(R.transition=L.transition)}b.forEach(L=>{const $=n.getBaseTarget(L),V=n.getValue(L);V&&(V.liveStyle=!0),R[L]=$??null}),S.push({animation:R})}let Q=!!S.length;return o&&(x.initial===!1||x.initial===x.animate)&&!n.manuallyAnimateOnMount&&(Q=!1),o=!1,Q?e(S):Promise.resolve()}function p(g,x){var S;if(r[g].isActive===x)return Promise.resolve();(S=n.variantChildren)==null||S.forEach(b=>{var M;return(M=b.animationState)==null?void 0:M.setActive(g,x)}),r[g].isActive=x;const v=f(g);for(const b in r)r[b].protectedKeys={};return v}return{animateChanges:f,setActive:p,setAnimateFunction:h,getState:()=>r,reset:()=>{r=oz(),o=!0}}}function _ut(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Q8(e,n):!1}function Jf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oz(){return{animate:Jf(!0),whileInView:Jf(),whileHover:Jf(),whileTap:Jf(),whileDrag:Jf(),whileFocus:Jf(),exit:Jf()}}class of{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Uut extends of{constructor(e){super(e),e.animationState||(e.animationState=Xut(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();j2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Zut=0;class Yut extends of{constructor(){super(...arguments),this.id=Zut++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wut={animation:{Feature:Uut},exit:{Feature:Yut}};function Tv(n,e,r,o={passive:!0}){return n.addEventListener(e,r,o),()=>n.removeEventListener(e,r)}const v5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function px(n){return{point:{x:n.pageX,y:n.pageY}}}const qut=n=>e=>v5(e)&&n(e,px(e));function $O(n,e,r,o){return Tv(n,e,qut(r),o)}function j8({top:n,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:n,max:o}}}function Gut({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Hut(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}const R8=1e-4,Kut=1-R8,Jut=1+R8,L8=.01,tht=0-L8,eht=0+L8;function $s(n){return n.max-n.min}function iht(n,e,r){return Math.abs(n-e)<=r}function lz(n,e,r,o=.5){n.origin=o,n.originPoint=Hi(e.min,e.max,n.origin),n.scale=$s(r)/$s(e),n.translate=Hi(r.min,r.max,n.origin)-n.originPoint,(n.scale>=Kut&&n.scale<=Jut||isNaN(n.scale))&&(n.scale=1),(n.translate>=tht&&n.translate<=eht||isNaN(n.translate))&&(n.translate=0)}function DO(n,e,r,o){lz(n.x,e.x,r.x,o?o.originX:void 0),lz(n.y,e.y,r.y,o?o.originY:void 0)}function az(n,e,r){n.min=r.min+e.min,n.max=n.min+$s(e)}function nht(n,e,r){az(n.x,e.x,r.x),az(n.y,e.y,r.y)}function uz(n,e,r){n.min=e.min-r.min,n.max=n.min+$s(e)}function IO(n,e,r){uz(n.x,e.x,r.x),uz(n.y,e.y,r.y)}const hz=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bm=()=>({x:hz(),y:hz()}),cz=()=>({min:0,max:0}),Pn=()=>({x:cz(),y:cz()});function ml(n){return[n("x"),n("y")]}function CM(n){return n===void 0||n===1}function eA({scale:n,scaleX:e,scaleY:r}){return!CM(n)||!CM(e)||!CM(r)}function rd(n){return eA(n)||E8(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function E8(n){return fz(n.x)||fz(n.y)}function fz(n){return n&&n!=="0%"}function pP(n,e,r){const o=n-r,a=e*o;return r+a}function dz(n,e,r,o,a){return a!==void 0&&(n=pP(n,a,o)),pP(n,r,o)+e}function iA(n,e=0,r=1,o,a){n.min=dz(n.min,e,r,o,a),n.max=dz(n.max,e,r,o,a)}function $8(n,{x:e,y:r}){iA(n.x,e.translate,e.scale,e.originPoint),iA(n.y,r.translate,r.scale,r.originPoint)}const pz=.999999999999,mz=1.0000000000001;function rht(n,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let h,f;for(let p=0;p<a;p++){h=r[p],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_m(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(e.x*=f.x.scale,e.y*=f.y.scale,$8(n,f)),o&&rd(h.latestValues)&&_m(n,h.latestValues))}e.x<mz&&e.x>pz&&(e.x=1),e.y<mz&&e.y>pz&&(e.y=1)}function Xm(n,e){n.min=n.min+e,n.max=n.max+e}function gz(n,e,r,o,a=.5){const h=Hi(n.min,n.max,a);iA(n,e,r,h,o)}function _m(n,e){gz(n.x,e.x,e.scaleX,e.scale,e.originX),gz(n.y,e.y,e.scaleY,e.scale,e.originY)}function D8(n,e){return j8(Hut(n.getBoundingClientRect(),e))}function sht(n,e,r){const o=D8(n,r),{scroll:a}=e;return a&&(Xm(o.x,a.offset.x),Xm(o.y,a.offset.y)),o}const I8=({current:n})=>n?n.ownerDocument.defaultView:null,yz=(n,e)=>Math.abs(n-e);function oht(n,e){const r=yz(n.x,e.x),o=yz(n.y,e.y);return Math.sqrt(r**2+o**2)}class F8{constructor(e,r,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=NM(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=oht(S.offset,{x:0,y:0})>=3;if(!b&&!M)return;const{point:j}=S,{timestamp:Q}=Fr;this.history.push({...j,timestamp:Q});const{onStart:R,onMove:L}=this.handlers;b||(R&&R(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=MM(b,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:M,onSessionEnd:j,resumeAnimation:Q}=this.handlers;if(this.dragSnapToOrigin&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=NM(S.type==="pointercancel"?this.lastMoveEventInfo:MM(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,R),j&&j(S,R)},!v5(e))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=o,this.contextWindow=a||window;const f=px(e),p=MM(f,this.transformPagePoint),{point:g}=p,{timestamp:x}=Fr;this.history=[{...g,timestamp:x}];const{onSessionStart:v}=r;v&&v(e,NM(p,this.history)),this.removeListeners=fx($O(this.contextWindow,"pointermove",this.handlePointerMove),$O(this.contextWindow,"pointerup",this.handlePointerUp),$O(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_c(this.updatePoint)}}function MM(n,e){return e?{point:e(n.point)}:n}function Oz(n,e){return{x:n.x-e.x,y:n.y-e.y}}function NM({point:n},e){return{point:n,delta:Oz(n,V8(e)),offset:Oz(n,lht(e)),velocity:aht(e,.1)}}function lht(n){return n[0]}function V8(n){return n[n.length-1]}function aht(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,o=null;const a=V8(n);for(;r>=0&&(o=n[r],!(a.timestamp-o.timestamp>ha(e)));)r--;if(!o)return{x:0,y:0};const h=mu(a.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const f={x:(a.x-o.x)/h,y:(a.y-o.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function uht(n,{min:e,max:r},o){return e!==void 0&&n<e?n=o?Hi(e,n,o.min):Math.max(n,e):r!==void 0&&n>r&&(n=o?Hi(r,n,o.max):Math.min(n,r)),n}function vz(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function hht(n,{top:e,left:r,bottom:o,right:a}){return{x:vz(n.x,r,a),y:vz(n.y,e,o)}}function xz(n,e){let r=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,o]=[o,r]),{min:r,max:o}}function cht(n,e){return{x:xz(n.x,e.x),y:xz(n.y,e.y)}}function fht(n,e){let r=.5;const o=$s(n),a=$s(e);return a>o?r=Qg(e.min,e.max-o,n.min):o>a&&(r=Qg(n.min,n.max-a,e.min)),kh(0,1,r)}function dht(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const nA=.35;function pht(n=nA){return n===!1?n=0:n===!0&&(n=nA),{x:wz(n,"left","right"),y:wz(n,"top","bottom")}}function wz(n,e,r){return{min:Sz(n,e),max:Sz(n,r)}}function Sz(n,e){return typeof n=="number"?n:n[e]||0}const ea={x:!1,y:!1};function z8(){return ea.x||ea.y}function mht(n){return n==="x"||n==="y"?ea[n]?null:(ea[n]=!0,()=>{ea[n]=!1}):ea.x||ea.y?null:(ea.x=ea.y=!0,()=>{ea.x=ea.y=!1})}const ght=new WeakMap;class yht{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(px(v).point)},h=(v,S)=>{const{drag:b,dragPropagation:M,onDragStart:j}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mht(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ml(R=>{let L=this.getAxisMotionValue(R).get()||0;if(pu.test(L)){const{projection:$}=this.visualElement;if($&&$.layout){const V=$.layout.layoutBox[R];V&&(L=$s(V)*(parseFloat(L)/100))}}this.originPoint[R]=L}),j&&fn.postRender(()=>j(v,S)),BQ(this.visualElement,"transform");const{animationState:Q}=this.visualElement;Q&&Q.setActive("whileDrag",!0)},f=(v,S)=>{const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:j,onDrag:Q}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=S;if(M&&this.currentDirection===null){this.currentDirection=Oht(R),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",S.point,R),this.updateAxis("y",S.point,R),this.visualElement.render(),Q&&Q(v,S)},p=(v,S)=>this.stop(v,S),g=()=>ml(v=>{var S;return this.getAnimationState(v)==="paused"&&((S=this.getAxisMotionValue(v).animation)==null?void 0:S.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new F8(e,{onSessionStart:a,onStart:h,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:I8(this.visualElement)})}stop(e,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:h}=this.getProps();h&&fn.postRender(()=>h(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!gS(e,a,this.currentDirection))return;const h=this.getAxisMotionValue(e);let f=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(f=uht(f,this.constraints[e],this.elastic[e])),h.set(f)}resolveConstraints(){var h;const{dragConstraints:e,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,a=this.constraints;e&&Vm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=hht(o.layoutBox,e):this.constraints=!1,this.elastic=pht(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&ml(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=dht(o.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Vm(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const h=sht(o,a.root,this.visualElement.getTransformPagePoint());let f=cht(a.layout.layoutBox,h);if(r){const p=r(Gut(f));this.hasMutatedConstraints=!!p,p&&(f=j8(p))}return f}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},x=ml(v=>{if(!gS(v,r,this.currentDirection))return;let S=g&&g[v]||{};f&&(S={min:0,max:0});const b=a?200:1e6,M=a?40:1e7,j={type:"inertia",velocity:o?e[v]:0,bounceStiffness:b,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...h,...S};return this.startAxisValueAnimation(v,j)});return Promise.all(x).then(p)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return BQ(this.visualElement,e),o.start(y5(e,o,0,r,this.visualElement,!1))}stopAnimation(){ml(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ml(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),a=o[r];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){ml(r=>{const{drag:o}=this.getProps();if(!gS(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,h=this.getAxisMotionValue(r);if(a&&a.layout){const{min:f,max:p}=a.layout.layoutBox[r];h.set(e[r]-Hi(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Vm(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ml(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const g=p.get();a[f]=fht({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),ml(f=>{if(!gS(f,e,null))return;const p=this.getAxisMotionValue(f),{min:g,max:x}=this.constraints[f];p.set(Hi(g,x,a[f]))})}addListeners(){if(!this.visualElement.current)return;ght.set(this.visualElement,this);const e=this.visualElement.current,r=$O(e,"pointerdown",g=>{const{drag:x,dragListener:v=!0}=this.getProps();x&&v&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();Vm(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,h=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),fn.read(o);const f=Tv(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(ml(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=g[v].translate,S.set(S.get()+g[v].translate))}),this.visualElement.render())});return()=>{f(),r(),h(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:h=!1,dragElastic:f=nA,dragMomentum:p=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:h,dragElastic:f,dragMomentum:p}}}function gS(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function Oht(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class vht extends of{constructor(e){super(e),this.removeGroupControls=Tl,this.removeListeners=Tl,this.controls=new yht(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tl}unmount(){this.removeGroupControls(),this.removeListeners()}}const kz=n=>(e,r)=>{n&&fn.postRender(()=>n(e,r))};class xht extends of{constructor(){super(...arguments),this.removePointerDownListener=Tl}onPointerDown(e){this.session=new F8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:kz(e),onStart:kz(r),onMove:o,onEnd:(h,f)=>{delete this.session,a&&fn.postRender(()=>a(h,f))}}}mount(){this.removePointerDownListener=$O(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pz(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const eO={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Oe.test(n))n=parseFloat(n);else return n;const r=Pz(n,e.target.x),o=Pz(n,e.target.y);return`${r}% ${o}%`}},wht={correct:(n,{treeScale:e,projectionDelta:r})=>{const o=n,a=Uc.parse(n);if(a.length>5)return o;const h=Uc.createTransformer(n),f=typeof a[0]!="number"?1:0,p=r.x.scale*e.x,g=r.y.scale*e.y;a[0+f]/=p,a[1+f]/=g;const x=Hi(p,g,.5);return typeof a[2+f]=="number"&&(a[2+f]/=x),typeof a[3+f]=="number"&&(a[3+f]/=x),h(a)}};class Sht extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:h}=e;Ilt(kht),h&&(r.group&&r.group.add(h),o&&o.register&&a&&o.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),uk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:h}=this.props,{projection:f}=o;return f&&(f.isPresent=h,a||e.layoutDependency!==r||r===void 0||e.isPresent!==h?f.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?f.promote():f.relegate()||fn.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B8(n){const[e,r]=EY(),o=U.useContext(IR);return N.jsx(Sht,{...n,layoutGroup:o,switchLayoutGroup:U.useContext(zY),isPresent:e,safeToRemove:r})}const kht={borderRadius:{...eO,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eO,borderTopRightRadius:eO,borderBottomLeftRadius:eO,borderBottomRightRadius:eO,boxShadow:wht};function X8(n,e,r){const o=Pr(n)?n:Ng(n);return o.start(y5("",o,e,r)),o.animation}const Pht=(n,e)=>n.depth-e.depth;class bht{constructor(){this.children=[],this.isDirty=!1}add(e){i5(this.children,e),this.isDirty=!0}remove(e){L2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pht),this.isDirty=!1,this.children.forEach(e)}}function Tht(n,e){const r=so.now(),o=({timestamp:a})=>{const h=a-r;h>=e&&(_c(o),n(h-e))};return fn.setup(o,!0),()=>_c(o)}const _8=["TopLeft","TopRight","BottomLeft","BottomRight"],Cht=_8.length,bz=n=>typeof n=="string"?parseFloat(n):n,Tz=n=>typeof n=="number"||Oe.test(n);function Mht(n,e,r,o,a,h){a?(n.opacity=Hi(0,r.opacity??1,Nht(o)),n.opacityExit=Hi(e.opacity??1,0,Qht(o))):h&&(n.opacity=Hi(e.opacity??1,r.opacity??1,o));for(let f=0;f<Cht;f++){const p=`border${_8[f]}Radius`;let g=Cz(e,p),x=Cz(r,p);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||Tz(g)===Tz(x)?(n[p]=Math.max(Hi(bz(g),bz(x),o),0),(pu.test(x)||pu.test(g))&&(n[p]+="%")):n[p]=x}(e.rotate||r.rotate)&&(n.rotate=Hi(e.rotate||0,r.rotate||0,o))}function Cz(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Nht=U8(0,.5,x8),Qht=U8(.5,.95,Tl);function U8(n,e,r){return o=>o<n?0:o>e?1:r(Qg(n,e,o))}function Mz(n,e){n.min=e.min,n.max=e.max}function dl(n,e){Mz(n.x,e.x),Mz(n.y,e.y)}function Nz(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Qz(n,e,r,o,a){return n-=e,n=pP(n,1/r,o),a!==void 0&&(n=pP(n,1/a,o)),n}function Aht(n,e=0,r=1,o=.5,a,h=n,f=n){if(pu.test(e)&&(e=parseFloat(e),e=Hi(f.min,f.max,e/100)-f.min),typeof e!="number")return;let p=Hi(h.min,h.max,o);n===h&&(p-=e),n.min=Qz(n.min,e,r,p,a),n.max=Qz(n.max,e,r,p,a)}function Az(n,e,[r,o,a],h,f){Aht(n,e[r],e[o],e[a],e.scale,h,f)}const jht=["x","scaleX","originX"],Rht=["y","scaleY","originY"];function jz(n,e,r,o){Az(n.x,e,jht,r?r.x:void 0,o?o.x:void 0),Az(n.y,e,Rht,r?r.y:void 0,o?o.y:void 0)}function Rz(n){return n.translate===0&&n.scale===1}function Z8(n){return Rz(n.x)&&Rz(n.y)}function Lz(n,e){return n.min===e.min&&n.max===e.max}function Lht(n,e){return Lz(n.x,e.x)&&Lz(n.y,e.y)}function Ez(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Y8(n,e){return Ez(n.x,e.x)&&Ez(n.y,e.y)}function $z(n){return $s(n.x)/$s(n.y)}function Dz(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Eht{constructor(){this.members=[]}add(e){i5(this.members,e),e.scheduleRender()}remove(e){if(L2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const h=this.members[a];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $ht(n,e,r){let o="";const a=n.x.translate/e.x,h=n.y.translate/e.y,f=(r==null?void 0:r.z)||0;if((a||h||f)&&(o=`translate3d(${a}px, ${h}px, ${f}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:x,rotate:v,rotateX:S,rotateY:b,skewX:M,skewY:j}=r;x&&(o=`perspective(${x}px) ${o}`),v&&(o+=`rotate(${v}deg) `),S&&(o+=`rotateX(${S}deg) `),b&&(o+=`rotateY(${b}deg) `),M&&(o+=`skewX(${M}deg) `),j&&(o+=`skewY(${j}deg) `)}const p=n.x.scale*e.x,g=n.y.scale*e.y;return(p!==1||g!==1)&&(o+=`scale(${p}, ${g})`),o||"none"}function x5(n){return LY(n)&&"ownerSVGElement"in n}function W8(n){return x5(n)&&n.tagName==="svg"}const QM=["","X","Y","Z"],Dht={visibility:"hidden"},Iht=1e3;let Fht=0;function AM(n,e,r,o){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),o&&(o[n]=0))}function q8(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=JY(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",fn,!(a||h))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&q8(o)}function G8({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(f={},p=e==null?void 0:e()){this.id=Fht++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bht),this.nodes.forEach(Yht),this.nodes.forEach(Wht),this.nodes.forEach(Xht)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new bht)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new n5),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const g=this.eventHandlers.get(f);g&&g.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=x5(f)&&!W8(f),this.instance=f;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),n){let v;const S=()=>this.root.updateBlockedByResize=!1;n(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=Tht(S,250),uk.hasAnimatedSinceResize&&(uk.hasAnimatedSinceResize=!1,this.nodes.forEach(Fz))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:b,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||x.getDefaultTransition()||Jht,{onLayoutAnimationStart:Q,onLayoutAnimationComplete:R}=x.getProps(),L=!this.targetLayout||!Y8(this.targetLayout,M),$=!S&&b;if(this.options.layoutRoot||this.resumeFrom||$||S&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...r5(j,"layout"),onPlay:Q,onComplete:R};(x.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(v,$)}else S||Fz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qht),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&q8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const S=this.path[v];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Iz);return}this.isUpdating||this.nodes.forEach(Uht),this.isUpdating=!1,this.nodes.forEach(Zht),this.nodes.forEach(Vht),this.nodes.forEach(zht),this.clearAllSnapshots();const p=so.now();Fr.delta=kh(0,1e3/60,p-Fr.timestamp),Fr.timestamp=p,Fr.isProcessing=!0,kM.update.process(Fr),kM.preRender.process(Fr),kM.render.process(Fr),Fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_ht),this.sharedNodes.forEach(Ght)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$s(this.snapshot.measuredBox.x)&&!$s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!Z8(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,v=x!==this.prevTransformTemplateValue;f&&this.instance&&(p||rd(this.latestValues)||v)&&(a(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return f&&(g=this.removeTransform(g)),tct(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:f}=this.options;if(!f)return Pn();const p=f.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(ect))){const{scroll:v}=this.root;v&&(Xm(p.x,v.offset.x),Xm(p.y,v.offset.y))}return p}removeElementScroll(f){var g;const p=Pn();if(dl(p,f),(g=this.scroll)!=null&&g.wasRoot)return p;for(let x=0;x<this.path.length;x++){const v=this.path[x],{scroll:S,options:b}=v;v!==this.root&&S&&b.layoutScroll&&(S.wasRoot&&dl(p,f),Xm(p.x,S.offset.x),Xm(p.y,S.offset.y))}return p}applyTransform(f,p=!1){const g=Pn();dl(g,f);for(let x=0;x<this.path.length;x++){const v=this.path[x];!p&&v.options.layoutScroll&&v.scroll&&v!==v.root&&_m(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),rd(v.latestValues)&&_m(g,v.latestValues)}return rd(this.latestValues)&&_m(g,this.latestValues),g}removeTransform(f){const p=Pn();dl(p,f);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!rd(x.latestValues))continue;eA(x.latestValues)&&x.updateSnapshot();const v=Pn(),S=x.measurePageBox();dl(v,S),jz(p,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,v)}return rd(this.latestValues)&&jz(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var b;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=Fr.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),IO(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nht(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dl(this.target,this.layout.layoutBox),$8(this.target,this.targetDelta)):dl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),IO(this.relativeTargetOrigin,this.target,M.target),dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eA(this.parent.latestValues)||E8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Fr.timestamp&&(g=!1),g)return;const{layout:x,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||v))return;dl(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,b=this.treeScale.y;rht(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Pn());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nz(this.prevProjectionDelta.x,this.projectionDelta.x),Nz(this.prevProjectionDelta.y,this.projectionDelta.y)),DO(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==b||!Dz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var p;if((p=this.options.visualElement)==null||p.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bm(),this.projectionDelta=Bm(),this.projectionDeltaWithTransform=Bm()}setAnimationOrigin(f,p=!1){const g=this.snapshot,x=g?g.latestValues:{},v={...this.latestValues},S=Bm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const b=Pn(),M=g?g.source:void 0,j=this.layout?this.layout.source:void 0,Q=M!==j,R=this.getStack(),L=!R||R.members.length<=1,$=!!(Q&&!L&&this.options.crossfade===!0&&!this.path.some(Kht));this.animationProgress=0;let V;this.mixTargetDelta=D=>{const X=D/1e3;Vz(S.x,f.x,X),Vz(S.y,f.y,X),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(IO(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hht(this.relativeTarget,this.relativeTargetOrigin,b,X),V&&Lht(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Pn()),dl(V,this.relativeTarget)),Q&&(this.animationValues=v,Mht(v,x,this.latestValues,X,$,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){var p,g,x;this.notifyListeners("animationStart"),(p=this.currentAnimation)==null||p.stop(),(x=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||x.stop(),this.pendingAnimation&&(_c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{uk.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ng(0)),this.currentAnimation=X8(this.motionValue,[0,1e3],{...f,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),f.onUpdate&&f.onUpdate(v)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iht),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:g,layout:x,latestValues:v}=f;if(!(!p||!g||!x)){if(this!==f&&this.layout&&x&&H8(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||Pn();const S=$s(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+S;const b=$s(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+b}dl(p,g),_m(p,v),DO(this.projectionDeltaWithTransform,this.layoutCorrected,p,v)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Eht),this.sharedNodes.get(f).add(p);const x=p.options.initialPromotionConfig;p.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var p;const{layoutId:f}=this.options;return f?((p=this.getStack())==null?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:f}=this.options;return f?(p=this.getStack())==null?void 0:p.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const x={};g.z&&AM("z",f,x,this.animationValues);for(let v=0;v<QM.length;v++)AM(`rotate${QM[v]}`,f,x,this.animationValues),AM(`skew${QM[v]}`,f,x,this.animationValues);f.render();for(const v in x)f.setStaticValue(v,x[v]),this.animationValues&&(this.animationValues[v]=x[v]);f.scheduleRender()}getProjectionStyles(f){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dht;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=lk(f==null?void 0:f.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=lk(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!rd(this.latestValues)&&(M.transform=g?g({},""):"none",this.hasProjected=!1),M}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=$ht(this.projectionDeltaWithTransform,this.treeScale,v),g&&(p.transform=g(v,p.transform));const{x:S,y:b}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${b.origin*100}% 0`,x.animationValues?p.opacity=x===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in wv){if(v[M]===void 0)continue;const{correct:j,applyTo:Q,isCSSVariable:R}=wv[M],L=p.transform==="none"?v[M]:j(v[M],x);if(Q){const $=Q.length;for(let V=0;V<$;V++)p[Q[V]]=L}else R?this.options.visualElement.renderState.vars[M]=L:p[M]=L}return this.options.layoutId&&(p.pointerEvents=x===this?lk(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var p;return(p=f.currentAnimation)==null?void 0:p.stop()}),this.root.nodes.forEach(Iz),this.root.sharedNodes.clear()}}}function Vht(n){n.updateLayout()}function zht(n){var r;const e=((r=n.resumeFrom)==null?void 0:r.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=n.layout,{animationType:h}=n.options,f=e.source!==n.layout.source;h==="size"?ml(S=>{const b=f?e.measuredBox[S]:e.layoutBox[S],M=$s(b);b.min=o[S].min,b.max=b.min+M}):H8(h,e.layoutBox,o)&&ml(S=>{const b=f?e.measuredBox[S]:e.layoutBox[S],M=$s(o[S]);b.max=b.min+M,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[S].max=n.relativeTarget[S].min+M)});const p=Bm();DO(p,o,e.layoutBox);const g=Bm();f?DO(g,n.applyTransform(a,!0),e.measuredBox):DO(g,o,e.layoutBox);const x=!Z8(p);let v=!1;if(!n.resumeFrom){const S=n.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:b,layout:M}=S;if(b&&M){const j=Pn();IO(j,e.layoutBox,b.layoutBox);const Q=Pn();IO(Q,o,M.layoutBox),Y8(j,Q)||(v=!0),S.options.layoutRoot&&(n.relativeTarget=Q,n.relativeTargetOrigin=j,n.relativeParent=S)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:g,layoutDelta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function Bht(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Xht(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _ht(n){n.clearSnapshot()}function Iz(n){n.clearMeasurements()}function Uht(n){n.isLayoutDirty=!1}function Zht(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Fz(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Yht(n){n.resolveTargetDelta()}function Wht(n){n.calcProjection()}function qht(n){n.resetSkewAndRotation()}function Ght(n){n.removeLeadSnapshot()}function Vz(n,e,r){n.translate=Hi(e.translate,0,r),n.scale=Hi(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function zz(n,e,r,o){n.min=Hi(e.min,r.min,o),n.max=Hi(e.max,r.max,o)}function Hht(n,e,r,o){zz(n.x,e.x,r.x,o),zz(n.y,e.y,r.y,o)}function Kht(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Jht={duration:.45,ease:[.4,0,.1,1]},Bz=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Xz=Bz("applewebkit/")&&!Bz("chrome/")?Math.round:Tl;function _z(n){n.min=Xz(n.min),n.max=Xz(n.max)}function tct(n){_z(n.x),_z(n.y)}function H8(n,e,r){return n==="position"||n==="preserve-aspect"&&!iht($z(e),$z(r),.2)}function ect(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const ict=G8({attachResizeListener:(n,e)=>Tv(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jM={current:void 0},K8=G8({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jM.current){const n=new ict({});n.mount(window),n.setOptions({layoutScroll:!0}),jM.current=n}return jM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nct={pan:{Feature:xht},drag:{Feature:vht,ProjectionNode:K8,MeasureLayout:B8}};function J8(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const a=(r==null?void 0:r[n])??o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function tW(n,e){const r=J8(n),o=new AbortController,a={passive:!0,...e,signal:o.signal};return[r,a,()=>o.abort()]}function Uz(n){return!(n.pointerType==="touch"||z8())}function rct(n,e,r={}){const[o,a,h]=tW(n,r),f=p=>{if(!Uz(p))return;const{target:g}=p,x=e(g,p);if(typeof x!="function"||!g)return;const v=S=>{Uz(S)&&(x(S),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,a)};return o.forEach(p=>{p.addEventListener("pointerenter",f,a)}),h}function Zz(n,e,r){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,h=o[a];h&&fn.postRender(()=>h(e,px(e)))}class sct extends of{mount(){const{current:e}=this.node;e&&(this.unmount=rct(e,(r,o)=>(Zz(this.node,o,"Start"),a=>Zz(this.node,a,"End"))))}unmount(){}}class oct extends of{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fx(Tv(this.node.current,"focus",()=>this.onFocus()),Tv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eW=(n,e)=>e?n===e?!0:eW(n,e.parentElement):!1,lct=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function act(n){return lct.has(n.tagName)||n.tabIndex!==-1}const hk=new WeakSet;function Yz(n){return e=>{e.key==="Enter"&&n(e)}}function RM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uct=(n,e)=>{const r=n.currentTarget;if(!r)return;const o=Yz(()=>{if(hk.has(r))return;RM(r,"down");const a=Yz(()=>{RM(r,"up")}),h=()=>RM(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",h,e)});r.addEventListener("keydown",o,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),e)};function Wz(n){return v5(n)&&!z8()}function hct(n,e,r={}){const[o,a,h]=tW(n,r),f=p=>{const g=p.currentTarget;if(!Wz(p))return;hk.add(g);const x=e(g,p),v=(M,j)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",b),hk.has(g)&&hk.delete(g),Wz(M)&&typeof x=="function"&&x(M,{success:j})},S=M=>{v(M,g===window||g===document||r.useGlobalTarget||eW(g,M.target))},b=M=>{v(M,!1)};window.addEventListener("pointerup",S,a),window.addEventListener("pointercancel",b,a)};return o.forEach(p=>{(r.useGlobalTarget?window:p).addEventListener("pointerdown",f,a),BR(p)&&(p.addEventListener("focus",x=>uct(x,a)),!act(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),h}function qz(n,e,r){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),h=o[a];h&&fn.postRender(()=>h(e,px(e)))}class cct extends of{mount(){const{current:e}=this.node;e&&(this.unmount=hct(e,(r,o)=>(qz(this.node,o,"Start"),(a,{success:h})=>qz(this.node,a,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rA=new WeakMap,LM=new WeakMap,fct=n=>{const e=rA.get(n.target);e&&e(n)},dct=n=>{n.forEach(fct)};function pct({root:n,...e}){const r=n||document;LM.has(r)||LM.set(r,{});const o=LM.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(dct,{root:n,...e})),o[a]}function mct(n,e,r){const o=pct(e);return rA.set(n,r),o.observe(n),()=>{rA.delete(n),o.unobserve(n)}}const gct={some:0,all:1};class yct extends of{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:h}=e,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:gct[a]},p=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,h&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),b=x?v:S;b&&b(g)};return mct(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Oct(e,r))&&this.startObserver()}unmount(){}}function Oct({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const vct={inView:{Feature:yct},tap:{Feature:cct},focus:{Feature:oct},hover:{Feature:sct}},xct={layout:{ProjectionNode:K8,MeasureLayout:B8}},sA={current:null},iW={current:!1};function wct(){if(iW.current=!0,!!VR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sA.current=n.matches;n.addListener(e),e()}else sA.current=!1}const Cv=new WeakMap;function Sct(n,e,r){for(const o in e){const a=e[o],h=r[o];if(Pr(a))n.addValue(o,a);else if(Pr(h))n.addValue(o,Ng(a,{owner:n}));else if(h!==a)if(n.hasValue(o)){const f=n.getValue(o);f.liveStyle===!0?f.jump(a):f.hasAnimated||f.set(a)}else{const f=n.getStaticValue(o);n.addValue(o,Ng(f!==void 0?f:a,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const nW=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),rW=n=>/^0[^.\s]+$/u.test(n),kct={test:n=>n==="auto",parse:n=>n},sW=n=>e=>e.test(n),oW=[ey,Oe,pu,uc,Vlt,Flt,kct],Gz=n=>oW.find(sW(n)),Pct=[...oW,fs,Uc],bct=n=>Pct.find(sW(n)),Tct=new Set(["brightness","contrast","saturate","opacity"]);function Cct(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=r.match(s5)||[];if(!o)return n;const a=r.replace(o,"");let h=Tct.has(e)?1:0;return o!==r&&(h*=100),e+"("+h+a+")"}const Mct=/\b([a-z-]*)\(.*?\)/gu,oA={...Uc,getAnimatableNone:n=>{const e=n.match(Mct);return e?e.map(Cct).join(" "):n}},Nct={...GR,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:oA,WebkitFilter:oA},lW=n=>Nct[n];function aW(n,e){let r=lW(n);return r!==oA&&(r=Uc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Hz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uW{scrapeMotionValuesFromProps(e,r,o){return{}}constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:h,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=so.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,fn.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=r.initial?{...g}:{},this.renderState=x,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!h,this.isControllingVariants=R2(r),this.isVariantNode=FY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in S){const M=S[b];g[b]!==void 0&&Pr(M)&&M.set(g[b],!1)}}mount(e){this.current=e,Cv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),iW.current||wct(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_c(this.notifyUpdate),_c(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=ty.has(e);o&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&fn.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),h=r.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),h(),f&&f(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mg){const r=Mg[e];if(!r)continue;const{isEnabled:o,Feature:a}=r;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Hz.length;o++){const a=Hz[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const h="on"+a,f=e[h];f&&(this.propEventSubscriptions[a]=this.on(a,f))}this.prevMotionValues=Sct(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const o=this.values.get(e);r!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=Ng(r===null?void 0:r,{owner:this}),this.addValue(e,o)),o}readValue(e,r){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(nW(o)||rW(o))?o=parseFloat(o):!bct(o)&&Uc.test(r)&&(o=aW(e,r)),this.setBaseTarget(e,Pr(o)?o.get():o)),Pr(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var h;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const f=t5(this.props,r,(h=this.presenceContext)==null?void 0:h.custom);f&&(o=f[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Pr(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new n5),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}const Qct=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Act(n){const e=Qct.exec(n);if(!e)return[,];const[,r,o,a]=e;return[`--${r??o}`,a]}function hW(n,e,r=1){const[o,a]=Act(n);if(!o)return;const h=window.getComputedStyle(e).getPropertyValue(o);if(h){const f=h.trim();return nW(f)?parseFloat(f):f}return qR(a)?hW(a,e,r+1):a}function jct(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||rW(n):!0}const Rct=new Set(["auto","none","0"]);function Lct(n,e,r){let o=0,a;for(;o<n.length&&!a;){const h=n[o];typeof h=="string"&&!Rct.has(h)&&Pv(h).values.length&&(a=n[o]),o++}if(a&&r)for(const h of e)n[h]=aW(r,a)}class Ect extends p5{constructor(e,r,o,a,h){super(e,r,o,a,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let x=e[g];if(typeof x=="string"&&(x=x.trim(),qR(x))){const v=hW(x,r.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!N8.has(o)||e.length!==2)return;const[a,h]=e,f=Gz(a),p=Gz(h);if(f!==p)if(iz(f)&&iz(p))for(let g=0;g<e.length;g++){const x=e[g];typeof x=="string"&&(e[g]=parseFloat(x))}else Pd[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,o=[];for(let a=0;a<e.length;a++)(e[a]===null||jct(e[a]))&&o.push(a);o.length&&Lct(e,o,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pd[o](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var p;const{element:e,name:r,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const h=o.length-1,f=o[h];o[h]=Pd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(p=this.removedTransforms)!=null&&p.length&&this.removedTransforms.forEach(([g,x])=>{e.getValue(g).set(x)}),this.resolveNoneKeyframes()}}class cW extends uW{constructor(){super(...arguments),this.KeyframeResolver=Ect}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function fW(n,{style:e,vars:r},o,a){Object.assign(n.style,e,a&&a.getProjectionStyles(o));for(const h in r)n.style.setProperty(h,r[h])}function $ct(n){return window.getComputedStyle(n)}class dW extends cW{constructor(){super(...arguments),this.type="html",this.renderInstance=fW}readValueFromInstance(e,r){var o;if(ty.has(r))return(o=this.projection)!=null&&o.isProjecting?qQ(r):cut(e,r);{const a=$ct(e),h=(WR(r)?a.getPropertyValue(r):a[r])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(e,{transformPagePoint:r}){return D8(e,r)}build(e,r,o){HR(e,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,r,o){return e5(e,r,o)}}const pW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dct(n,e,r,o){fW(n,e,void 0,o);for(const a in e.attrs)n.setAttribute(pW.has(a)?a:UR(a),e.attrs[a])}class mW extends cW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ty.has(r)){const o=lW(r);return o&&o.default||0}return r=pW.has(r)?r:UR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,o){return HY(e,r,o)}build(e,r,o){YY(e,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,r,o,a){Dct(e,r,o,a)}mount(e){this.isSVGTag=qY(e.tagName),super.mount(e)}}const Ict=(n,e)=>JR(n)?new mW(e):new dW(e,{allowProjection:n!==U.Fragment}),Fct=rat({...Wut,...vct,...nct,...xct},Ict),w5=Plt(Fct);function S5(n){return typeof n=="object"&&!Array.isArray(n)}function gW(n,e,r,o){return typeof n=="string"&&S5(e)?J8(n,r,o):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function Vct(n,e,r){return n*(e+1)}function Kz(n,e,r,o){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?r:o.get(e)??n}const zct=(n,e,r)=>{const o=e-n;return((r-n)%o+o)%o+n};function yW(n,e){return p8(n)?n[zct(0,n.length,e)]:n}function Bct(n,e,r){for(let o=0;o<n.length;o++){const a=n[o];a.at>e&&a.at<r&&(L2(n,a),o--)}}function Xct(n,e,r,o,a,h){Bct(n,a,h);for(let f=0;f<e.length;f++)n.push({value:e[f],at:Hi(a,h,o[f]),easing:yW(r,f)})}function _ct(n,e){for(let r=0;r<n.length;r++)n[r]=n[r]/(e+1)}function Uct(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Zct="easeInOut";function Yct(n,{defaultTransition:e={},...r}={},o,a){const h=e.duration||.3,f=new Map,p=new Map,g={},x=new Map;let v=0,S=0,b=0;for(let M=0;M<n.length;M++){const j=n[M];if(typeof j=="string"){x.set(j,S);continue}else if(!Array.isArray(j)){x.set(j.name,Kz(S,j.at,v,x));continue}let[Q,R,L={}]=j;L.at!==void 0&&(S=Kz(S,L.at,v,x));let $=0;const V=(D,X,W,K=0,tt=0)=>{const rt=Wct(D),{delay:Ot=0,times:bt=c8(rt),type:wt="keyframes",repeat:St,repeatType:mt,repeatDelay:Ft=0,...Nt}=X;let{ease:Rt=e.ease||"easeOut",duration:dt}=X;const ht=typeof Ot=="function"?Ot(K,tt):Ot,yt=rt.length,Dt=g5(wt)?wt:a==null?void 0:a[wt];if(yt<=2&&Dt){let Be=100;if(yt===2&&Hct(rt)){const Ie=rt[1]-rt[0];Be=Math.abs(Ie)}const le={...Nt};dt!==void 0&&(le.duration=ha(dt));const Ni=a8(le,Be,Dt);Rt=Ni.ease,dt=Ni.duration}dt??(dt=h);const qt=S+ht;bt.length===1&&bt[0]===0&&(bt[1]=1);const it=bt.length-rt.length;if(it>0&&h8(bt,it),rt.length===1&&rt.unshift(null),St){dt=Vct(dt,St);const Be=[...rt],le=[...bt];Rt=Array.isArray(Rt)?[...Rt]:[Rt];const Ni=[...Rt];for(let Ie=0;Ie<St;Ie++){rt.push(...Be);for(let fi=0;fi<Be.length;fi++)bt.push(le[fi]+(Ie+1)),Rt.push(fi===0?"linear":yW(Ni,fi-1))}_ct(bt,St)}const xe=qt+dt;Xct(W,rt,Rt,bt,qt,xe),$=Math.max(ht+dt,$),b=Math.max(xe,b)};if(Pr(Q)){const D=Jz(Q,p);V(R,L,t4("default",D))}else{const D=gW(Q,R,o,g),X=D.length;for(let W=0;W<X;W++){R=R,L=L;const K=D[W],tt=Jz(K,p);for(const rt in R)V(R[rt],qct(L,rt),t4(rt,tt),W,X)}}v=S,S+=$}return p.forEach((M,j)=>{for(const Q in M){const R=M[Q];R.sort(Uct);const L=[],$=[],V=[];for(let X=0;X<R.length;X++){const{at:W,value:K,easing:tt}=R[X];L.push(K),$.push(Qg(0,b,W)),V.push(tt||"easeOut")}$[0]!==0&&($.unshift(0),L.unshift(L[0]),V.unshift(Zct)),$[$.length-1]!==1&&($.push(1),L.push(null)),f.has(j)||f.set(j,{keyframes:{},transition:{}});const D=f.get(j);D.keyframes[Q]=L,D.transition[Q]={...e,duration:b,ease:V,times:$,...r}}}),f}function Jz(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function t4(n,e){return e[n]||(e[n]=[]),e[n]}function Wct(n){return Array.isArray(n)?n:[n]}function qct(n,e){return n&&n[e]?{...n,...n[e]}:{...n}}const Gct=n=>typeof n=="number",Hct=n=>n.every(Gct);function Kct(n,e){return n in e}class Jct extends uW{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,r){if(Kct(r,e)){const o=e[r];if(typeof o=="string"||typeof o=="number")return o}}getBaseTargetFromProps(){}removeValueFromRenderState(e,r){delete r.output[e]}measureInstanceViewportBox(){return Pn()}build(e,r){Object.assign(e.output,r)}renderInstance(e,{output:r}){Object.assign(e,r)}sortInstanceNodePosition(){return 0}}function tft(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=x5(n)&&!W8(n)?new mW(e):new dW(e);r.mount(n),Cv.set(n,r)}function eft(n){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Jct(e);r.mount(n),Cv.set(n,r)}function ift(n,e){return Pr(n)||typeof n=="number"||typeof n=="string"&&!S5(e)}function OW(n,e,r,o){const a=[];if(ift(n,e))a.push(X8(n,S5(e)&&e.default||e,r&&(r.default||r)));else{const h=gW(n,e,o),f=h.length;for(let p=0;p<f;p++){const g=h[p],x=g instanceof Element?tft:eft;Cv.has(g)||x(g);const v=Cv.get(g),S={...r};"delay"in S&&typeof S.delay=="function"&&(S.delay=S.delay(p,f)),a.push(...O5(v,{...e,transition:S},{}))}}return a}function nft(n,e,r){const o=[];return Yct(n,e,r,{spring:bv}).forEach(({keyframes:h,transition:f},p)=>{o.push(...OW(p,h,f))}),o}class rft{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let o=0;o<this.animations.length;o++)this.animations[o][e]=r}attachTimeline(e){const r=this.animations.map(o=>o.attachTimeline(e));return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sft extends rft{then(e,r){return this.finished.finally(e).then(()=>{})}}function oft(n){return Array.isArray(n)&&n.some(Array.isArray)}function lft(n){function e(r,o,a){let h=[];return oft(r)?h=nft(r,o,n):h=OW(r,o,a,n),new sft(h)}return e}const aft=lft();function uft(n,e){const r=-35+Math.random()*10;return{x:Math.random()*n*1.5-n*.25,y:Math.random()*e*1.5-e*.25,width:30+Math.random()*60,length:e*2.5,angle:r,speed:.6+Math.random()*1.2,opacity:.12+Math.random()*.16,hue:190+Math.random()*70,pulse:Math.random()*Math.PI*2,pulseSpeed:.02+Math.random()*.03}}function Mh({className:n,intensity:e="strong",children:r}){const o=U.useRef(null),a=U.useRef([]),h=U.useRef(0),f=20,p={subtle:.7,medium:.85,strong:1};return U.useEffect(()=>{const g=o.current;if(!g)return;const x=g.getContext("2d");if(!x)return;const v=()=>{const j=window.devicePixelRatio||1;g.width=window.innerWidth*j,g.height=window.innerHeight*j,g.style.width=`${window.innerWidth}px`,g.style.height=`${window.innerHeight}px`,x.scale(j,j);const Q=f*1.5;a.current=Array.from({length:Q},()=>uft(g.width,g.height))};v(),window.addEventListener("resize",v);function S(j,Q,R){if(!g)return j;const L=Q%3,$=g.width/3;return j.y=g.height+100,j.x=L*$+$/2+(Math.random()-.5)*$*.5,j.width=100+Math.random()*100,j.speed=.5+Math.random()*.4,j.hue=190+Q*70/R,j.opacity=.2+Math.random()*.1,j}function b(j,Q){j.save(),j.translate(Q.x,Q.y),j.rotate(Q.angle*Math.PI/180);const R=Q.opacity*(.8+Math.sin(Q.pulse)*.2)*p[e],L=j.createLinearGradient(0,0,0,Q.length);L.addColorStop(0,`hsla(${Q.hue}, 85%, 65%, 0)`),L.addColorStop(.1,`hsla(${Q.hue}, 85%, 65%, ${R*.5})`),L.addColorStop(.4,`hsla(${Q.hue}, 85%, 65%, ${R})`),L.addColorStop(.6,`hsla(${Q.hue}, 85%, 65%, ${R})`),L.addColorStop(.9,`hsla(${Q.hue}, 85%, 65%, ${R*.5})`),L.addColorStop(1,`hsla(${Q.hue}, 85%, 65%, 0)`),j.fillStyle=L,j.fillRect(-Q.width/2,0,Q.width,Q.length),j.restore()}function M(){if(!g||!x)return;x.clearRect(0,0,g.width,g.height),x.filter="blur(35px)";const j=a.current.length;a.current.forEach((Q,R)=>{Q.y-=Q.speed,Q.pulse+=Q.pulseSpeed,Q.y+Q.length<-100&&S(Q,R,j),b(x,Q)}),h.current=requestAnimationFrame(M)}return M(),()=>{window.removeEventListener("resize",v),h.current&&cancelAnimationFrame(h.current)}},[e]),N.jsxs("div",{className:$n("relative min-h-screen w-full overflow-hidden bg-neutral-950",n),children:[N.jsx("canvas",{ref:o,className:"absolute inset-0",style:{filter:"blur(15px)"}}),N.jsx(w5.div,{className:"absolute inset-0 bg-neutral-950/5",animate:{opacity:[.05,.15,.05]},transition:{duration:10,ease:"easeInOut",repeat:Number.POSITIVE_INFINITY},style:{backdropFilter:"blur(50px)"}}),N.jsx("div",{className:"relative z-10",children:r})]})}/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hft={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=(n,e,r,o)=>{const a=U.forwardRef(({color:h="currentColor",size:f=24,stroke:p=2,title:g,className:x,children:v,...S},b)=>U.createElement("svg",{ref:b,...hft[n],width:f,height:f,className:["tabler-icon",`tabler-icon-${e}`,x].join(" "),strokeWidth:p,stroke:h,...S},[g&&U.createElement("title",{key:"svg-title"},g),...o.map(([M,j])=>U.createElement(M,j)),...Array.isArray(v)?v:[v]]));return a.displayName=`${r}`,a};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xW=vW("outline","brand-google","IconBrandGoogle",[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cft=vW("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);const fft=()=>{const{login:n,loginWithGoogle:e}=Kg(),r=ya(),[o,a]=U.useState(""),[h,f]=U.useState(""),[p,g]=U.useState(null),x=async v=>{var S,b;v.preventDefault();try{await n(o,h),r("/")}catch(M){g(((b=(S=M.response)==null?void 0:S.data)==null?void 0:b.message)||"Login failed")}};return N.jsx(Mh,{children:N.jsxs("div",{className:"glassmorphic-login-container",children:[N.jsx("style",{children:`
        .glassmorphic-login-container {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 80vh;
          padding: 2rem;
        }
        
        .glassmorphic-login-card {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
          padding: 2rem;
          width: 100%;
          max-width: 420px;
          transition: all 0.3s ease;
        }
        
        .glassmorphic-login-card:hover {
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
          border-color: rgba(255, 255, 255, 0.15);
          background-color: rgba(15, 15, 30, 0.35);
        }
        
        .glass-title {
          color: rgba(255, 255, 255, 0.95);
          font-size: 1.75rem;
          font-weight: 600;
          margin-bottom: 1.5rem;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }
        
        .glass-input-group {
          margin-bottom: 1.5rem;
        }
        
        .glass-label {
          color: rgba(255, 255, 255, 0.8);
          display: block;
          font-size: 0.875rem;
          margin-bottom: 0.5rem;
        }
        
        .glass-input-wrapper {
          position: relative;
        }
        
        .glass-input {
          background-color: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          color: rgba(255, 255, 255, 0.9);
          font-size: 1rem;
          padding: 0.75rem 1rem 0.75rem 2.5rem;
          width: 100%;
          transition: all 0.2s ease;
        }
        
        .glass-input:focus {
          background-color: rgba(255, 255, 255, 0.08);
          border-color: rgba(255, 255, 255, 0.2);
          outline: none;
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }
        
        .glass-input::placeholder {
          color: rgba(255, 255, 255, 0.4);
        }
        
        .glass-input-icon {
          position: absolute;
          left: 0.75rem;
          top: 50%;
          transform: translateY(-50%);
          color: rgba(255, 255, 255, 0.5);
        }
        
        .glass-button {
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.6));
          border: 1px solid rgba(99, 102, 241, 0.3);
          border-radius: 8px;
          color: white;
          cursor: pointer;
          font-size: 1rem;
          font-weight: 500;
          padding: 0.75rem 1rem;
          width: 100%;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }
        
        .glass-button:hover {
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.7), rgba(79, 70, 229, 0.7));
          border-color: rgba(99, 102, 241, 0.4);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .glass-button:active {
          transform: translateY(0);
        }
        
        .glass-error {
          background-color: rgba(239, 68, 68, 0.15);
          border: 1px solid rgba(239, 68, 68, 0.3);
          border-radius: 8px;
          color: rgba(255, 255, 255, 0.9);
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 1.5rem;
          padding: 0.75rem;
        }

        .signup-link {
          text-align: center;
          margin-top: 1rem;
          color: rgba(255, 255, 255, 0.7);
          font-size: 0.875rem;
        }

        .signup-link a {
          color: rgba(99, 102, 241, 0.9);
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s ease;
        }

        .signup-link a:hover {
          color: rgba(99, 102, 241, 1);
          text-decoration: underline;
        }

        .oauth-divider {
  display: flex;
  align-items: center;
  margin: 1.5rem 0;
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.875rem;
}

.oauth-divider::before,
.oauth-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

.oauth-divider span {
  padding: 0 1rem;
}

.oauth-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  transition: all 0.2s ease;
  width: 100%;
  margin-bottom: 1rem;
}

.oauth-button:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(66, 133, 244, 0.4);
  transform: translateY(-1px);
}
      `}),N.jsxs("div",{className:"glassmorphic-login-card",children:[N.jsxs("h2",{className:"glass-title",children:[N.jsx(GF,{className:"h-6 w-6"}),N.jsx("span",{children:"Log In"})]}),p&&N.jsxs("div",{className:"glass-error",children:[N.jsx(eP,{className:"h-5 w-5"}),N.jsx("span",{children:p})]}),N.jsxs("button",{type:"button",className:"oauth-button",onClick:e,children:[N.jsx(xW,{className:"h-4 w-4"}),N.jsx("span",{children:"Continue with Google"})]}),N.jsx("div",{className:"oauth-divider",children:N.jsx("span",{children:"or continue with email"})}),N.jsxs("form",{onSubmit:x,children:[N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Username"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(iZ,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"text",value:o,onChange:v=>a(v.target.value),className:"glass-input",placeholder:"Enter your username",required:!0})]})]}),N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Password"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(kQ,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"password",value:h,onChange:v=>f(v.target.value),className:"glass-input",placeholder:"Enter your password",required:!0})]})]}),N.jsxs("button",{type:"submit",className:"glass-button",children:[N.jsx(GF,{className:"h-5 w-5"}),N.jsx("span",{children:"Log In"})]}),N.jsxs("div",{className:"signup-link",children:["Don't have an account? ",N.jsx("a",{href:"/signup",children:"Sign up"})]})]})]})]})})},dft=()=>{const{signup:n,loginWithGoogle:e}=Kg(),r=ya(),[o,a]=U.useState(""),[h,f]=U.useState(""),[p,g]=U.useState(""),[x,v]=U.useState(""),[S,b]=U.useState(null),M=async j=>{var Q,R;if(j.preventDefault(),p!==x){b("Passwords do not match");return}try{await n(o,h,p),r("/")}catch(L){b(((R=(Q=L.response)==null?void 0:Q.data)==null?void 0:R.message)||"Signup failed")}};return N.jsx(Mh,{children:N.jsxs("div",{className:"glassmorphic-signup-container",children:[N.jsx("style",{children:`
          .glassmorphic-signup-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
            padding: 2rem;
          }
          
          .glassmorphic-signup-card {
            backdrop-filter: blur(10px);
            background-color: rgba(15, 15, 30, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 2rem;
            width: 100%;
            max-width: 420px;
            transition: all 0.3s ease;
          }
          
          .glassmorphic-signup-card:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            border-color: rgba(255, 255, 255, 0.15);
            background-color: rgba(15, 15, 30, 0.35);
          }
          
          .glass-title {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
          }
          
          .glass-input-group {
            margin-bottom: 1.5rem;
          }
          
          .glass-label {
            color: rgba(255, 255, 255, 0.8);
            display: block;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
          }
          
          .glass-input-wrapper {
            position: relative;
          }
          
          .glass-input {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            width: 100%;
            transition: all 0.2s ease;
          }
          
          .glass-input:focus {
            background-color: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            outline: none;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
          }
          
          .glass-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
          }
          
          .glass-input-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
          }
          
          .glass-button {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.6), rgba(16, 185, 129, 0.6));
            border: 1px solid rgba(52, 211, 153, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
          }
          
          .glass-button:hover {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.7), rgba(16, 185, 129, 0.7));
            border-color: rgba(52, 211, 153, 0.4);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          
          .glass-button:active {
            transform: translateY(0);
          }
          
          .glass-error {
            background-color: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem;
          }

          .login-link {
            text-align: center;
            margin-top: 1rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
          }

          .login-link a {
            color: rgba(52, 211, 153, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
          }

          .login-link a:hover {
            color: rgba(52, 211, 153, 1);
            text-decoration: underline;
          }

          .oauth-divider {
  display: flex;
  align-items: center;
  margin: 1.5rem 0;
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.875rem;
}

.oauth-divider::before,
.oauth-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

.oauth-divider span {
  padding: 0 1rem;
}

.oauth-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  transition: all 0.2s ease;
  width: 100%;
  margin-bottom: 1rem;
}

.oauth-button:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(66, 133, 244, 0.4);
  transform: translateY(-1px);
}
        `}),N.jsxs("div",{className:"glassmorphic-signup-card",children:[N.jsxs("h2",{className:"glass-title",children:[N.jsx(KF,{className:"h-6 w-6"}),N.jsx("span",{children:"Sign Up"})]}),S&&N.jsxs("div",{className:"glass-error",children:[N.jsx(eP,{className:"h-5 w-5"}),N.jsx("span",{children:S})]}),N.jsxs("button",{type:"button",className:"oauth-button",onClick:e,children:[N.jsx(xW,{className:"h-4 w-4"}),N.jsx("span",{children:"Sign up with Google"})]}),N.jsx("div",{className:"oauth-divider",children:N.jsx("span",{children:"or sign up with email"})}),N.jsxs("form",{onSubmit:M,children:[N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Username"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(iZ,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"text",value:o,onChange:j=>a(j.target.value),className:"glass-input",placeholder:"Choose a username",required:!0})]})]}),N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Email"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(uet,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"email",value:h,onChange:j=>f(j.target.value),className:"glass-input",placeholder:"Enter your email",required:!0})]})]}),N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Password"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(kQ,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"password",value:p,onChange:j=>g(j.target.value),className:"glass-input",placeholder:"Create a password",required:!0})]})]}),N.jsxs("div",{className:"glass-input-group",children:[N.jsx("label",{className:"glass-label",children:"Confirm Password"}),N.jsxs("div",{className:"glass-input-wrapper",children:[N.jsx(kQ,{className:"h-4 w-4 glass-input-icon"}),N.jsx("input",{type:"password",value:x,onChange:j=>v(j.target.value),className:"glass-input",placeholder:"Confirm your password",required:!0})]})]}),N.jsxs("button",{type:"submit",className:"glass-button",children:[N.jsx(KF,{className:"h-5 w-5"}),N.jsx("span",{children:"Sign Up"})]}),N.jsxs("div",{className:"login-link",children:["Already have an account? ",N.jsx(oY,{to:"/login",children:"Log In"})]})]})]})]})})},pft=()=>{const{refreshUser:n,user:e}=Kg(),r=ya(),o=Uo(),[a,h]=U.useState("loading"),[f,p]=U.useState("Completing authentication...");U.useEffect(()=>{(async()=>{var v;try{h("loading"),p("Verifying your authentication..."),await new Promise(M=>setTimeout(M,1e3)),await n(),h("success"),p("Authentication successful! Redirecting..."),await new Promise(M=>setTimeout(M,2e3));const S=o.state,b=((v=S==null?void 0:S.from)==null?void 0:v.pathname)||"/";r(b,{replace:!0})}catch(S){console.error("OAuth success handling failed:",S),h("error"),p("Authentication failed. Please try again."),setTimeout(()=>{r("/login",{replace:!0})},3e3)}})()},[n,r,o.state]);const g=()=>{a==="error"?r("/login",{replace:!0}):a==="success"&&e&&r("/",{replace:!0})};return N.jsx(Mh,{children:N.jsxs("div",{className:"auth-success-container",children:[N.jsx("style",{children:`
          .auth-success-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
          }
          
          .auth-success-card {
            backdrop-filter: blur(10px);
            background-color: rgba(15, 15, 30, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            padding: 3rem 2rem;
            width: 100%;
            max-width: 420px;
            text-align: center;
            transition: all 0.3s ease;
          }
          
          .auth-success-card:hover {
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
            border-color: rgba(255, 255, 255, 0.15);
            background-color: rgba(15, 15, 30, 0.35);
          }
          
          .status-icon {
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
          }
          
          .status-icon.loading {
            color: rgba(99, 102, 241, 0.8);
          }
          
          .status-icon.success {
            color: rgba(52, 211, 153, 0.9);
          }
          
          .status-icon.error {
            color: rgba(239, 68, 68, 0.9);
          }
          
          .loading-spinner {
            animation: spin 1s linear infinite;
          }
          
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
          
          .status-title {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
          }
          
          .status-message {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 2rem;
          }
          
          .progress-bar {
            width: 100%;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 2rem;
          }
          
          .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.8));
            border-radius: 2px;
            transition: width 0.3s ease;
          }
          
          .progress-fill.loading {
            width: 60%;
            animation: pulse 2s ease-in-out infinite;
          }
          
          .progress-fill.success {
            width: 100%;
            background: linear-gradient(90deg, rgba(52, 211, 153, 0.6), rgba(16, 185, 129, 0.8));
          }
          
          .progress-fill.error {
            width: 100%;
            background: linear-gradient(90deg, rgba(239, 68, 68, 0.6), rgba(220, 38, 38, 0.8));
          }
          
          @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
          }
          
          .redirect-button {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.6));
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
          }
          
          .redirect-button:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.7), rgba(79, 70, 229, 0.7));
            border-color: rgba(99, 102, 241, 0.4);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          
          .redirect-button.error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.6), rgba(220, 38, 38, 0.6));
            border-color: rgba(239, 68, 68, 0.3);
          }
          
          .redirect-button.error:hover {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.7), rgba(220, 38, 38, 0.7));
            border-color: rgba(239, 68, 68, 0.4);
          }
          
          .user-welcome {
            background-color: rgba(52, 211, 153, 0.1);
            border: 1px solid rgba(52, 211, 153, 0.2);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
          }
          
          .user-welcome-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.875rem;
          }
          
          .user-name {
            color: rgba(52, 211, 153, 0.9);
            font-weight: 600;
          }
        `}),N.jsxs("div",{className:"auth-success-card",children:[N.jsxs("div",{className:`status-icon ${a}`,children:[a==="loading"&&N.jsx(oet,{className:"h-12 w-12 loading-spinner"}),a==="success"&&N.jsx(Jtt,{className:"h-12 w-12"}),a==="error"&&N.jsx(eP,{className:"h-12 w-12"})]}),N.jsxs("h2",{className:"status-title",children:[a==="loading"&&"Authenticating...",a==="success"&&"Welcome!",a==="error"&&"Authentication Failed"]}),a==="success"&&e&&N.jsx("div",{className:"user-welcome",children:N.jsxs("div",{className:"user-welcome-text",children:["Welcome back, ",N.jsx("span",{className:"user-name",children:e.first_name||e.username}),"!"]})}),N.jsx("p",{className:"status-message",children:f}),N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:`progress-fill ${a}`})}),(a==="error"||a==="success"&&e)&&N.jsx("button",{onClick:g,className:`redirect-button ${a}`,children:a==="error"?N.jsxs(N.Fragment,{children:[N.jsx(eP,{className:"h-4 w-4"}),N.jsx("span",{children:"Back to Login"})]}):N.jsxs(N.Fragment,{children:[N.jsx(ret,{className:"h-4 w-4"}),N.jsx("span",{children:"Go to Dashboard"})]})})]})]})})};function lA(){return lA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},lA.apply(null,arguments)}function mft(n,e){if(n==null)return{};var r={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(e.indexOf(o)!==-1)continue;r[o]=n[o]}return r}let aA=[],wW=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<n.length;e++)(e%2?wW:aA).push(r=r+n[e])})();function gft(n){if(n<768)return!1;for(let e=0,r=aA.length;;){let o=e+r>>1;if(n<aA[o])r=o;else if(n>=wW[o])e=o+1;else return!0;if(e==r)return!1}}function e4(n){return n>=127462&&n<=127487}const i4=8205;function yft(n,e,r=!0,o=!0){return(r?SW:Oft)(n,e,o)}function SW(n,e,r){if(e==n.length)return e;e&&kW(n.charCodeAt(e))&&PW(n.charCodeAt(e-1))&&e--;let o=EM(n,e);for(e+=n4(o);e<n.length;){let a=EM(n,e);if(o==i4||a==i4||r&&gft(a))e+=n4(a),o=a;else if(e4(a)){let h=0,f=e-2;for(;f>=0&&e4(EM(n,f));)h++,f-=2;if(h%2==0)break;e+=2}else break}return e}function Oft(n,e,r){for(;e>0;){let o=SW(n,e-2,r);if(o<e)return o;e--}return 0}function EM(n,e){let r=n.charCodeAt(e);if(!PW(r)||e+1==n.length)return r;let o=n.charCodeAt(e+1);return kW(o)?(r-55296<<10)+(o-56320)+65536:r}function kW(n){return n>=56320&&n<57344}function PW(n){return n>=55296&&n<56320}function n4(n){return n<65536?1:2}class Ke{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,o){[e,r]=Ag(this,e,r);let a=[];return this.decompose(0,e,a,2),o.length&&o.decompose(0,o.length,a,3),this.decompose(r,this.length,a,1),su.from(a,this.length-(r-e)+o.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=Ag(this,e,r);let o=[];return this.decompose(e,r,o,0),su.from(o,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),o=this.length-this.scanIdentical(e,-1),a=new FO(this),h=new FO(e);for(let f=r,p=r;;){if(a.next(f),h.next(f),f=0,a.lineBreak!=h.lineBreak||a.done!=h.done||a.value!=h.value)return!1;if(p+=a.value.length,a.done||p>=o)return!0}}iter(e=1){return new FO(this,e)}iterRange(e,r=this.length){return new bW(this,e,r)}iterLines(e,r){let o;if(e==null)o=this.iter();else{r==null&&(r=this.lines+1);let a=this.line(e).from;o=this.iterRange(a,Math.max(a,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new TW(o)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ke.empty:e.length<=32?new jn(e):su.from(jn.split(e,[]))}}class jn extends Ke{constructor(e,r=vft(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,o,a){for(let h=0;;h++){let f=this.text[h],p=a+f.length;if((r?o:p)>=e)return new xft(a,p,o,f);a=p+1,o++}}decompose(e,r,o,a){let h=e<=0&&r>=this.length?this:new jn(r4(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(a&1){let f=o.pop(),p=ck(h.text,f.text.slice(),0,h.length);if(p.length<=32)o.push(new jn(p,f.length+h.length));else{let g=p.length>>1;o.push(new jn(p.slice(0,g)),new jn(p.slice(g)))}}else o.push(h)}replace(e,r,o){if(!(o instanceof jn))return super.replace(e,r,o);[e,r]=Ag(this,e,r);let a=ck(this.text,ck(o.text,r4(this.text,0,e)),r),h=this.length+o.length-(r-e);return a.length<=32?new jn(a,h):su.from(jn.split(a,[]),h)}sliceString(e,r=this.length,o=`
`){[e,r]=Ag(this,e,r);let a="";for(let h=0,f=0;h<=r&&f<this.text.length;f++){let p=this.text[f],g=h+p.length;h>e&&f&&(a+=o),e<g&&r>h&&(a+=p.slice(Math.max(0,e-h),r-h)),h=g+1}return a}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let o=[],a=-1;for(let h of e)o.push(h),a+=h.length+1,o.length==32&&(r.push(new jn(o,a)),o=[],a=-1);return a>-1&&r.push(new jn(o,a)),r}}class su extends Ke{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let o of e)this.lines+=o.lines}lineInner(e,r,o,a){for(let h=0;;h++){let f=this.children[h],p=a+f.length,g=o+f.lines-1;if((r?g:p)>=e)return f.lineInner(e,r,o,a);a=p+1,o=g+1}}decompose(e,r,o,a){for(let h=0,f=0;f<=r&&h<this.children.length;h++){let p=this.children[h],g=f+p.length;if(e<=g&&r>=f){let x=a&((f<=e?1:0)|(g>=r?2:0));f>=e&&g<=r&&!x?o.push(p):p.decompose(e-f,r-f,o,x)}f=g+1}}replace(e,r,o){if([e,r]=Ag(this,e,r),o.lines<this.lines)for(let a=0,h=0;a<this.children.length;a++){let f=this.children[a],p=h+f.length;if(e>=h&&r<=p){let g=f.replace(e-h,r-h,o),x=this.lines-f.lines+g.lines;if(g.lines<x>>4&&g.lines>x>>6){let v=this.children.slice();return v[a]=g,new su(v,this.length-(r-e)+o.length)}return super.replace(h,p,g)}h=p+1}return super.replace(e,r,o)}sliceString(e,r=this.length,o=`
`){[e,r]=Ag(this,e,r);let a="";for(let h=0,f=0;h<this.children.length&&f<=r;h++){let p=this.children[h],g=f+p.length;f>e&&h&&(a+=o),e<g&&r>f&&(a+=p.sliceString(e-f,r-f,o)),f=g+1}return a}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof su))return 0;let o=0,[a,h,f,p]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=r,h+=r){if(a==f||h==p)return o;let g=this.children[a],x=e.children[h];if(g!=x)return o+g.scanIdentical(x,r);o+=g.length+1}}static from(e,r=e.reduce((o,a)=>o+a.length+1,-1)){let o=0;for(let M of e)o+=M.lines;if(o<32){let M=[];for(let j of e)j.flatten(M);return new jn(M,r)}let a=Math.max(32,o>>5),h=a<<1,f=a>>1,p=[],g=0,x=-1,v=[];function S(M){let j;if(M.lines>h&&M instanceof su)for(let Q of M.children)S(Q);else M.lines>f&&(g>f||!g)?(b(),p.push(M)):M instanceof jn&&g&&(j=v[v.length-1])instanceof jn&&M.lines+j.lines<=32?(g+=M.lines,x+=M.length+1,v[v.length-1]=new jn(j.text.concat(M.text),j.length+1+M.length)):(g+M.lines>a&&b(),g+=M.lines,x+=M.length+1,v.push(M))}function b(){g!=0&&(p.push(v.length==1?v[0]:su.from(v,x)),x=-1,g=v.length=0)}for(let M of e)S(M);return b(),p.length==1?p[0]:new su(p,r)}}Ke.empty=new jn([""],0);function vft(n){let e=-1;for(let r of n)e+=r.length+1;return e}function ck(n,e,r=0,o=1e9){for(let a=0,h=0,f=!0;h<n.length&&a<=o;h++){let p=n[h],g=a+p.length;g>=r&&(g>o&&(p=p.slice(0,o-a)),a<r&&(p=p.slice(r-a)),f?(e[e.length-1]+=p,f=!1):e.push(p)),a=g+1}return e}function r4(n,e,r){return ck(n,[""],e,r)}class FO{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof jn?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let o=this.nodes.length-1,a=this.nodes[o],h=this.offsets[o],f=h>>1,p=a instanceof jn?a.text.length:a.children.length;if(f==(r>0?p:0)){if(o==0)return this.done=!0,this.value="",this;r>0&&this.offsets[o-1]++,this.nodes.pop(),this.offsets.pop()}else if((h&1)==(r>0?0:1)){if(this.offsets[o]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof jn){let g=a.text[f+(r<0?-1:0)];if(this.offsets[o]+=r,g.length>Math.max(0,e))return this.value=e==0?g:r>0?g.slice(e):g.slice(0,g.length-e),this;e-=g.length}else{let g=a.children[f+(r<0?-1:0)];e>g.length?(e-=g.length,this.offsets[o]+=r):(r<0&&this.offsets[o]--,this.nodes.push(g),this.offsets.push(r>0?1:(g instanceof jn?g.text.length:g.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class bW{constructor(e,r,o){this.value="",this.done=!1,this.cursor=new FO(e,r>o?-1:1),this.pos=r>o?e.length:0,this.from=Math.min(r,o),this.to=Math.max(r,o)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let o=r<0?this.pos-this.from:this.to-this.pos;e>o&&(e=o),o-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*r,this.value=a.length<=o?a:r<0?a.slice(a.length-o):a.slice(0,o),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class TW{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:o,value:a}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ke.prototype[Symbol.iterator]=function(){return this.iter()},FO.prototype[Symbol.iterator]=bW.prototype[Symbol.iterator]=TW.prototype[Symbol.iterator]=function(){return this});let xft=class{constructor(e,r,o,a){this.from=e,this.to=r,this.number=o,this.text=a}get length(){return this.to-this.from}};function Ag(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}function Xr(n,e,r=!0,o=!0){return yft(n,e,r,o)}function wft(n){return n>=56320&&n<57344}function Sft(n){return n>=55296&&n<56320}function eo(n,e){let r=n.charCodeAt(e);if(!Sft(r)||e+1==n.length)return r;let o=n.charCodeAt(e+1);return wft(o)?(r-55296<<10)+(o-56320)+65536:r}function k5(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ou(n){return n<65536?1:2}const uA=/\r\n?|\n/;var Br=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Br||(Br={}));class gu{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r+1];e+=o<0?this.sections[r]:o}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,o=0,a=0;r<this.sections.length;){let h=this.sections[r++],f=this.sections[r++];f<0?(e(o,a,h),a+=h):a+=f,o+=h}}iterChangedRanges(e,r=!1){hA(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++];a<0?e.push(o,a):e.push(a,o)}return new gu(e)}composeDesc(e){return this.empty?e:e.empty?this:CW(this,e)}mapDesc(e,r=!1){return e.empty?this:cA(this,e,r)}mapPos(e,r=-1,o=Br.Simple){let a=0,h=0;for(let f=0;f<this.sections.length;){let p=this.sections[f++],g=this.sections[f++],x=a+p;if(g<0){if(x>e)return h+(e-a);h+=p}else{if(o!=Br.Simple&&x>=e&&(o==Br.TrackDel&&a<e&&x>e||o==Br.TrackBefore&&a<e||o==Br.TrackAfter&&x>e))return null;if(x>e||x==e&&r<0&&!p)return e==a||r<0?h:h+g;h+=g}a=x}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return h}touchesRange(e,r=e){for(let o=0,a=0;o<this.sections.length&&a<=r;){let h=this.sections[o++],f=this.sections[o++],p=a+h;if(f>=0&&a<=r&&p>=e)return a<e&&p>r?"cover":!0;a=p}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++];e+=(e?" ":"")+o+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new gu(e)}static create(e){return new gu(e)}}class ur extends gu{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return hA(this,(r,o,a,h,f)=>e=e.replace(a,a+(o-r),f),!1),e}mapDesc(e,r=!1){return cA(this,e,r,!0)}invert(e){let r=this.sections.slice(),o=[];for(let a=0,h=0;a<r.length;a+=2){let f=r[a],p=r[a+1];if(p>=0){r[a]=p,r[a+1]=f;let g=a>>1;for(;o.length<g;)o.push(Ke.empty);o.push(f?e.slice(h,h+f):Ke.empty)}h+=f}return new ur(r,o)}compose(e){return this.empty?e:e.empty?this:CW(this,e,!0)}map(e,r=!1){return e.empty?this:cA(this,e,r,!0)}iterChanges(e,r=!1){hA(this,e,r)}get desc(){return gu.create(this.sections)}filter(e){let r=[],o=[],a=[],h=new Mv(this);t:for(let f=0,p=0;;){let g=f==e.length?1e9:e[f++];for(;p<g||p==g&&h.len==0;){if(h.done)break t;let v=Math.min(h.len,g-p);ds(a,v,-1);let S=h.ins==-1?-1:h.off==0?h.ins:0;ds(r,v,S),S>0&&bc(o,r,h.text),h.forward(v),p+=v}let x=e[f++];for(;p<x;){if(h.done)break t;let v=Math.min(h.len,x-p);ds(r,v,-1),ds(a,v,h.ins==-1?-1:h.off==0?h.ins:0),h.forward(v),p+=v}}return{changes:new ur(r,o),filtered:gu.create(a)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r],a=this.sections[r+1];a<0?e.push(o):a==0?e.push([o]):e.push([o].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,o){let a=[],h=[],f=0,p=null;function g(v=!1){if(!v&&!a.length)return;f<r&&ds(a,r-f,-1);let S=new ur(a,h);p=p?p.compose(S.map(p)):S,a=[],h=[],f=0}function x(v){if(Array.isArray(v))for(let S of v)x(S);else if(v instanceof ur){if(v.length!=r)throw new RangeError(`Mismatched change set length (got ${v.length}, expected ${r})`);g(),p=p?p.compose(v.map(p)):v}else{let{from:S,to:b=S,insert:M}=v;if(S>b||S<0||b>r)throw new RangeError(`Invalid change range ${S} to ${b} (in doc of length ${r})`);let j=M?typeof M=="string"?Ke.of(M.split(o||uA)):M:Ke.empty,Q=j.length;if(S==b&&Q==0)return;S<f&&g(),S>f&&ds(a,S-f,-1),ds(a,b-S,Q),bc(h,a,j),f=b}}return x(e),g(!p),p}static empty(e){return new ur(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],o=[];for(let a=0;a<e.length;a++){let h=e[a];if(typeof h=="number")r.push(h,-1);else{if(!Array.isArray(h)||typeof h[0]!="number"||h.some((f,p)=>p&&typeof f!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(h.length==1)r.push(h[0],0);else{for(;o.length<a;)o.push(Ke.empty);o[a]=Ke.of(h.slice(1)),r.push(h[0],o[a].length)}}}return new ur(r,o)}static createSet(e,r){return new ur(e,r)}}function ds(n,e,r,o=!1){if(e==0&&r<=0)return;let a=n.length-2;a>=0&&r<=0&&r==n[a+1]?n[a]+=e:a>=0&&e==0&&n[a]==0?n[a+1]+=r:o?(n[a]+=e,n[a+1]+=r):n.push(e,r)}function bc(n,e,r){if(r.length==0)return;let o=e.length-2>>1;if(o<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<o;)n.push(Ke.empty);n.push(r)}}function hA(n,e,r){let o=n.inserted;for(let a=0,h=0,f=0;f<n.sections.length;){let p=n.sections[f++],g=n.sections[f++];if(g<0)a+=p,h+=p;else{let x=a,v=h,S=Ke.empty;for(;x+=p,v+=g,g&&o&&(S=S.append(o[f-2>>1])),!(r||f==n.sections.length||n.sections[f+1]<0);)p=n.sections[f++],g=n.sections[f++];e(a,x,h,v,S),a=x,h=v}}}function cA(n,e,r,o=!1){let a=[],h=o?[]:null,f=new Mv(n),p=new Mv(e);for(let g=-1;;){if(f.done&&p.len||p.done&&f.len)throw new Error("Mismatched change set lengths");if(f.ins==-1&&p.ins==-1){let x=Math.min(f.len,p.len);ds(a,x,-1),f.forward(x),p.forward(x)}else if(p.ins>=0&&(f.ins<0||g==f.i||f.off==0&&(p.len<f.len||p.len==f.len&&!r))){let x=p.len;for(ds(a,p.ins,-1);x;){let v=Math.min(f.len,x);f.ins>=0&&g<f.i&&f.len<=v&&(ds(a,0,f.ins),h&&bc(h,a,f.text),g=f.i),f.forward(v),x-=v}p.next()}else if(f.ins>=0){let x=0,v=f.len;for(;v;)if(p.ins==-1){let S=Math.min(v,p.len);x+=S,v-=S,p.forward(S)}else if(p.ins==0&&p.len<v)v-=p.len,p.next();else break;ds(a,x,g<f.i?f.ins:0),h&&g<f.i&&bc(h,a,f.text),g=f.i,f.forward(f.len-v)}else{if(f.done&&p.done)return h?ur.createSet(a,h):gu.create(a);throw new Error("Mismatched change set lengths")}}}function CW(n,e,r=!1){let o=[],a=r?[]:null,h=new Mv(n),f=new Mv(e);for(let p=!1;;){if(h.done&&f.done)return a?ur.createSet(o,a):gu.create(o);if(h.ins==0)ds(o,h.len,0,p),h.next();else if(f.len==0&&!f.done)ds(o,0,f.ins,p),a&&bc(a,o,f.text),f.next();else{if(h.done||f.done)throw new Error("Mismatched change set lengths");{let g=Math.min(h.len2,f.len),x=o.length;if(h.ins==-1){let v=f.ins==-1?-1:f.off?0:f.ins;ds(o,g,v,p),a&&v&&bc(a,o,f.text)}else f.ins==-1?(ds(o,h.off?0:h.len,g,p),a&&bc(a,o,h.textBit(g))):(ds(o,h.off?0:h.len,f.off?0:f.ins,p),a&&!f.off&&bc(a,o,f.text));p=(h.ins>g||f.ins>=0&&f.len>g)&&(p||o.length>x),h.forward2(g),f.forward(g)}}}}class Mv{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Ke.empty:e[r]}textBit(e){let{inserted:r}=this.set,o=this.i-2>>1;return o>=r.length&&!e?Ke.empty:r[o].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class dd{constructor(e,r,o){this.from=e,this.to=r,this.flags=o}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let o,a;return this.empty?o=a=e.mapPos(this.from,r):(o=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),o==this.from&&a==this.to?this:new dd(o,a,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Ct.range(e,r);let o=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Ct.range(this.anchor,o)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ct.range(e.anchor,e.head)}static create(e,r,o){return new dd(e,r,o)}}class Ct{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Ct.create(this.ranges.map(o=>o.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let o=0;o<this.ranges.length;o++)if(!this.ranges[o].eq(e.ranges[o],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ct([this.main],0)}addRange(e,r=!0){return Ct.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let o=this.ranges.slice();return o[r]=e,Ct.create(o,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ct(e.ranges.map(r=>dd.fromJSON(r)),e.main)}static single(e,r=e){return new Ct([Ct.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let o=0,a=0;a<e.length;a++){let h=e[a];if(h.empty?h.from<=o:h.from<o)return Ct.normalized(e.slice(),r);o=h.to}return new Ct(e,r)}static cursor(e,r=0,o,a){return dd.create(e,e,(r==0?0:r<0?8:16)|(o==null?7:Math.min(6,o))|(a??16777215)<<6)}static range(e,r,o,a){let h=(o??16777215)<<6|(a==null?7:Math.min(6,a));return r<e?dd.create(r,e,48|h):dd.create(e,r,(r>e?8:0)|h)}static normalized(e,r=0){let o=e[r];e.sort((a,h)=>a.from-h.from),r=e.indexOf(o);for(let a=1;a<e.length;a++){let h=e[a],f=e[a-1];if(h.empty?h.from<=f.to:h.from<f.to){let p=f.from,g=Math.max(h.to,f.to);a<=r&&r--,e.splice(--a,2,h.anchor>h.head?Ct.range(g,p):Ct.range(p,g))}}return new Ct(e,r)}}function MW(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let P5=0;class Ht{constructor(e,r,o,a,h){this.combine=e,this.compareInput=r,this.compare=o,this.isStatic=a,this.id=P5++,this.default=e([]),this.extensions=typeof h=="function"?h(this):h}get reader(){return this}static define(e={}){return new Ht(e.combine||(r=>r),e.compareInput||((r,o)=>r===o),e.compare||(e.combine?(r,o)=>r===o:b5),!!e.static,e.enables)}of(e){return new fk([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new fk(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new fk(e,this,2,r)}from(e,r){return r||(r=o=>o),this.compute([e],o=>r(o.field(e)))}}function b5(n,e){return n==e||n.length==e.length&&n.every((r,o)=>r===e[o])}class fk{constructor(e,r,o,a){this.dependencies=e,this.facet=r,this.type=o,this.value=a,this.id=P5++}dynamicSlot(e){var r;let o=this.value,a=this.facet.compareInput,h=this.id,f=e[h]>>1,p=this.type==2,g=!1,x=!1,v=[];for(let S of this.dependencies)S=="doc"?g=!0:S=="selection"?x=!0:((r=e[S.id])!==null&&r!==void 0?r:1)&1||v.push(e[S.id]);return{create(S){return S.values[f]=o(S),1},update(S,b){if(g&&b.docChanged||x&&(b.docChanged||b.selection)||fA(S,v)){let M=o(S);if(p?!s4(M,S.values[f],a):!a(M,S.values[f]))return S.values[f]=M,1}return 0},reconfigure:(S,b)=>{let M,j=b.config.address[h];if(j!=null){let Q=gP(b,j);if(this.dependencies.every(R=>R instanceof Ht?b.facet(R)===S.facet(R):R instanceof Tr?b.field(R,!1)==S.field(R,!1):!0)||(p?s4(M=o(S),Q,a):a(M=o(S),Q)))return S.values[f]=Q,0}else M=o(S);return S.values[f]=M,1}}}}function s4(n,e,r){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++)if(!r(n[o],e[o]))return!1;return!0}function fA(n,e){let r=!1;for(let o of e)VO(n,o)&1&&(r=!0);return r}function kft(n,e,r){let o=r.map(g=>n[g.id]),a=r.map(g=>g.type),h=o.filter(g=>!(g&1)),f=n[e.id]>>1;function p(g){let x=[];for(let v=0;v<o.length;v++){let S=gP(g,o[v]);if(a[v]==2)for(let b of S)x.push(b);else x.push(S)}return e.combine(x)}return{create(g){for(let x of o)VO(g,x);return g.values[f]=p(g),1},update(g,x){if(!fA(g,h))return 0;let v=p(g);return e.compare(v,g.values[f])?0:(g.values[f]=v,1)},reconfigure(g,x){let v=fA(g,o),S=x.config.facets[e.id],b=x.facet(e);if(S&&!v&&b5(r,S))return g.values[f]=b,0;let M=p(g);return e.compare(M,b)?(g.values[f]=b,0):(g.values[f]=M,1)}}}const yS=Ht.define({static:!0});class Tr{constructor(e,r,o,a,h){this.id=e,this.createF=r,this.updateF=o,this.compareF=a,this.spec=h,this.provides=void 0}static define(e){let r=new Tr(P5++,e.create,e.update,e.compare||((o,a)=>o===a),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(yS).find(o=>o.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:o=>(o.values[r]=this.create(o),1),update:(o,a)=>{let h=o.values[r],f=this.updateF(h,a);return this.compareF(h,f)?0:(o.values[r]=f,1)},reconfigure:(o,a)=>{let h=o.facet(yS),f=a.facet(yS),p;return(p=h.find(g=>g.field==this))&&p!=f.find(g=>g.field==this)?(o.values[r]=p.create(o),1):a.config.address[this.id]!=null?(o.values[r]=a.field(this),0):(o.values[r]=this.create(o),1)}}}init(e){return[this,yS.of({field:this,create:e})]}get extension(){return this}}const sd={lowest:4,low:3,default:2,high:1,highest:0};function iO(n){return e=>new NW(e,n)}const Nh={highest:iO(sd.highest),high:iO(sd.high),default:iO(sd.default),low:iO(sd.low),lowest:iO(sd.lowest)};class NW{constructor(e,r){this.inner=e,this.prec=r}}class E2{of(e){return new dA(this,e)}reconfigure(e){return E2.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class dA{constructor(e,r){this.compartment=e,this.inner=r}}class mP{constructor(e,r,o,a,h,f){for(this.base=e,this.compartments=r,this.dynamicSlots=o,this.address=a,this.staticValues=h,this.facets=f,this.statusTemplate=[];this.statusTemplate.length<o.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,o){let a=[],h=Object.create(null),f=new Map;for(let b of Pft(e,r,f))b instanceof Tr?a.push(b):(h[b.facet.id]||(h[b.facet.id]=[])).push(b);let p=Object.create(null),g=[],x=[];for(let b of a)p[b.id]=x.length<<1,x.push(M=>b.slot(M));let v=o==null?void 0:o.config.facets;for(let b in h){let M=h[b],j=M[0].facet,Q=v&&v[b]||[];if(M.every(R=>R.type==0))if(p[j.id]=g.length<<1|1,b5(Q,M))g.push(o.facet(j));else{let R=j.combine(M.map(L=>L.value));g.push(o&&j.compare(R,o.facet(j))?o.facet(j):R)}else{for(let R of M)R.type==0?(p[R.id]=g.length<<1|1,g.push(R.value)):(p[R.id]=x.length<<1,x.push(L=>R.dynamicSlot(L)));p[j.id]=x.length<<1,x.push(R=>kft(R,j,M))}}let S=x.map(b=>b(p));return new mP(e,f,S,p,g,h)}}function Pft(n,e,r){let o=[[],[],[],[],[]],a=new Map;function h(f,p){let g=a.get(f);if(g!=null){if(g<=p)return;let x=o[g].indexOf(f);x>-1&&o[g].splice(x,1),f instanceof dA&&r.delete(f.compartment)}if(a.set(f,p),Array.isArray(f))for(let x of f)h(x,p);else if(f instanceof dA){if(r.has(f.compartment))throw new RangeError("Duplicate use of compartment in extensions");let x=e.get(f.compartment)||f.inner;r.set(f.compartment,x),h(x,p)}else if(f instanceof NW)h(f.inner,f.prec);else if(f instanceof Tr)o[p].push(f),f.provides&&h(f.provides,p);else if(f instanceof fk)o[p].push(f),f.facet.extensions&&h(f.facet.extensions,sd.default);else{let x=f.extension;if(!x)throw new Error(`Unrecognized extension value in extension set (${f}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);h(x,p)}}return h(n,sd.default),o.reduce((f,p)=>f.concat(p))}function VO(n,e){if(e&1)return 2;let r=e>>1,o=n.status[r];if(o==4)throw new Error("Cyclic dependency between fields and/or facets");if(o&2)return o;n.status[r]=4;let a=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|a}function gP(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const QW=Ht.define(),pA=Ht.define({combine:n=>n.some(e=>e),static:!0}),AW=Ht.define({combine:n=>n.length?n[0]:void 0,static:!0}),jW=Ht.define(),RW=Ht.define(),LW=Ht.define(),EW=Ht.define({combine:n=>n.length?n[0]:!1});class Su{constructor(e,r){this.type=e,this.value=r}static define(){return new bft}}class bft{of(e){return new Su(this,e)}}class Tft{constructor(e){this.map=e}of(e){return new ke(this,e)}}class ke{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new ke(this.type,r)}is(e){return this.type==e}static define(e={}){return new Tft(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let o=[];for(let a of e){let h=a.map(r);h&&o.push(h)}return o}}ke.reconfigure=ke.define();ke.appendConfig=ke.define();class qn{constructor(e,r,o,a,h,f){this.startState=e,this.changes=r,this.selection=o,this.effects=a,this.annotations=h,this.scrollIntoView=f,this._doc=null,this._state=null,o&&MW(o,r.newLength),h.some(p=>p.type==qn.time)||(this.annotations=h.concat(qn.time.of(Date.now())))}static create(e,r,o,a,h,f){return new qn(e,r,o,a,h,f)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(qn.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}qn.time=Su.define();qn.userEvent=Su.define();qn.addToHistory=Su.define();qn.remote=Su.define();function Cft(n,e){let r=[];for(let o=0,a=0;;){let h,f;if(o<n.length&&(a==e.length||e[a]>=n[o]))h=n[o++],f=n[o++];else if(a<e.length)h=e[a++],f=e[a++];else return r;!r.length||r[r.length-1]<h?r.push(h,f):r[r.length-1]<f&&(r[r.length-1]=f)}}function $W(n,e,r){var o;let a,h,f;return r?(a=e.changes,h=ur.empty(e.changes.length),f=n.changes.compose(e.changes)):(a=e.changes.map(n.changes),h=n.changes.mapDesc(e.changes,!0),f=n.changes.compose(a)),{changes:f,selection:e.selection?e.selection.map(h):(o=n.selection)===null||o===void 0?void 0:o.map(a),effects:ke.mapEffects(n.effects,a).concat(ke.mapEffects(e.effects,h)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function mA(n,e,r){let o=e.selection,a=eg(e.annotations);return e.userEvent&&(a=a.concat(qn.userEvent.of(e.userEvent))),{changes:e.changes instanceof ur?e.changes:ur.of(e.changes||[],r,n.facet(AW)),selection:o&&(o instanceof Ct?o:Ct.single(o.anchor,o.head)),effects:eg(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function DW(n,e,r){let o=mA(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let h=1;h<e.length;h++){e[h].filter===!1&&(r=!1);let f=!!e[h].sequential;o=$W(o,mA(n,e[h],f?o.changes.newLength:n.doc.length),f)}let a=qn.create(n,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return Nft(r?Mft(a):a)}function Mft(n){let e=n.startState,r=!0;for(let a of e.facet(jW)){let h=a(n);if(h===!1){r=!1;break}Array.isArray(h)&&(r=r===!0?h:Cft(r,h))}if(r!==!0){let a,h;if(r===!1)h=n.changes.invertedDesc,a=ur.empty(e.doc.length);else{let f=n.changes.filter(r);a=f.changes,h=f.filtered.mapDesc(f.changes).invertedDesc}n=qn.create(e,a,n.selection&&n.selection.map(h),ke.mapEffects(n.effects,h),n.annotations,n.scrollIntoView)}let o=e.facet(RW);for(let a=o.length-1;a>=0;a--){let h=o[a](n);h instanceof qn?n=h:Array.isArray(h)&&h.length==1&&h[0]instanceof qn?n=h[0]:n=DW(e,eg(h),!1)}return n}function Nft(n){let e=n.startState,r=e.facet(LW),o=n;for(let a=r.length-1;a>=0;a--){let h=r[a](n);h&&Object.keys(h).length&&(o=$W(o,mA(e,h,n.changes.newLength),!0))}return o==n?n:qn.create(e,n.changes,n.selection,o.effects,o.annotations,o.scrollIntoView)}const Qft=[];function eg(n){return n==null?Qft:Array.isArray(n)?n:[n]}var Ki=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Ki||(Ki={}));const Aft=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let gA;try{gA=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function jft(n){if(gA)return gA.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Aft.test(r)))return!0}return!1}function Rft(n){return e=>{if(!/\S/.test(e))return Ki.Space;if(jft(e))return Ki.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return Ki.Word;return Ki.Other}}class Ze{constructor(e,r,o,a,h,f){this.config=e,this.doc=r,this.selection=o,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=h,f&&(f._state=this);for(let p=0;p<this.config.dynamicSlots.length;p++)VO(this,p<<1);this.computeSlot=null}field(e,r=!0){let o=this.config.address[e.id];if(o==null){if(r)throw new RangeError("Field is not present in this state");return}return VO(this,o),gP(this,o)}update(...e){return DW(this,e,!0)}applyTransaction(e){let r=this.config,{base:o,compartments:a}=r;for(let p of e.effects)p.is(E2.reconfigure)?(r&&(a=new Map,r.compartments.forEach((g,x)=>a.set(x,g)),r=null),a.set(p.value.compartment,p.value.extension)):p.is(ke.reconfigure)?(r=null,o=p.value):p.is(ke.appendConfig)&&(r=null,o=eg(o).concat(p.value));let h;r?h=e.startState.values.slice():(r=mP.resolve(o,a,this),h=new Ze(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(g,x)=>x.reconfigure(g,this),null).values);let f=e.startState.facet(pA)?e.newSelection:e.newSelection.asSingle();new Ze(r,e.newDoc,f,h,(p,g)=>g.update(p,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Ct.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,o=e(r.ranges[0]),a=this.changes(o.changes),h=[o.range],f=eg(o.effects);for(let p=1;p<r.ranges.length;p++){let g=e(r.ranges[p]),x=this.changes(g.changes),v=x.map(a);for(let b=0;b<p;b++)h[b]=h[b].map(v);let S=a.mapDesc(x,!0);h.push(g.range.map(S)),a=a.compose(v),f=ke.mapEffects(f,v).concat(ke.mapEffects(eg(g.effects),S))}return{changes:a,selection:Ct.create(h,r.mainIndex),effects:f}}changes(e=[]){return e instanceof ur?e:ur.of(e,this.doc.length,this.facet(Ze.lineSeparator))}toText(e){return Ke.of(e.split(this.facet(Ze.lineSeparator)||uA))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(VO(this,r),gP(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let o in e){let a=e[o];a instanceof Tr&&this.config.address[a.id]!=null&&(r[o]=a.spec.toJSON(this.field(e[o]),this))}return r}static fromJSON(e,r={},o){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(o){for(let h in o)if(Object.prototype.hasOwnProperty.call(e,h)){let f=o[h],p=e[h];a.push(f.init(g=>f.spec.fromJSON(p,g)))}}return Ze.create({doc:e.doc,selection:Ct.fromJSON(e.selection),extensions:r.extensions?a.concat([r.extensions]):a})}static create(e={}){let r=mP.resolve(e.extensions||[],new Map),o=e.doc instanceof Ke?e.doc:Ke.of((e.doc||"").split(r.staticFacet(Ze.lineSeparator)||uA)),a=e.selection?e.selection instanceof Ct?e.selection:Ct.single(e.selection.anchor,e.selection.head):Ct.single(0);return MW(a,o.length),r.staticFacet(pA)||(a=a.asSingle()),new Ze(r,o,a,r.dynamicSlots.map(()=>null),(h,f)=>f.create(h),null)}get tabSize(){return this.facet(Ze.tabSize)}get lineBreak(){return this.facet(Ze.lineSeparator)||`
`}get readOnly(){return this.facet(EW)}phrase(e,...r){for(let o of this.facet(Ze.phrases))if(Object.prototype.hasOwnProperty.call(o,e)){e=o[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(o,a)=>{if(a=="$")return"$";let h=+(a||1);return!h||h>r.length?o:r[h-1]})),e}languageDataAt(e,r,o=-1){let a=[];for(let h of this.facet(QW))for(let f of h(this,r,o))Object.prototype.hasOwnProperty.call(f,e)&&a.push(f[e]);return a}charCategorizer(e){return Rft(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:o,length:a}=this.doc.lineAt(e),h=this.charCategorizer(e),f=e-o,p=e-o;for(;f>0;){let g=Xr(r,f,!1);if(h(r.slice(g,f))!=Ki.Word)break;f=g}for(;p<a;){let g=Xr(r,p);if(h(r.slice(p,g))!=Ki.Word)break;p=g}return f==p?null:Ct.range(f+o,p+o)}}Ze.allowMultipleSelections=pA;Ze.tabSize=Ht.define({combine:n=>n.length?n[0]:4});Ze.lineSeparator=AW;Ze.readOnly=EW;Ze.phrases=Ht.define({compare(n,e){let r=Object.keys(n),o=Object.keys(e);return r.length==o.length&&r.every(a=>n[a]==e[a])}});Ze.languageData=QW;Ze.changeFilter=jW;Ze.transactionFilter=RW;Ze.transactionExtender=LW;E2.reconfigure=ke.define();function ku(n,e,r={}){let o={};for(let a of n)for(let h of Object.keys(a)){let f=a[h],p=o[h];if(p===void 0)o[h]=f;else if(!(p===f||f===void 0))if(Object.hasOwnProperty.call(r,h))o[h]=r[h](p,f);else throw new Error("Config merge conflict for field "+h)}for(let a in e)o[a]===void 0&&(o[a]=e[a]);return o}class Ed{eq(e){return this==e}range(e,r=e){return yA.create(e,r,this)}}Ed.prototype.startSide=Ed.prototype.endSide=0;Ed.prototype.point=!1;Ed.prototype.mapMode=Br.TrackDel;let yA=class IW{constructor(e,r,o){this.from=e,this.to=r,this.value=o}static create(e,r,o){return new IW(e,r,o)}};function OA(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class T5{constructor(e,r,o,a){this.from=e,this.to=r,this.value=o,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,r,o,a=0){let h=o?this.to:this.from;for(let f=a,p=h.length;;){if(f==p)return f;let g=f+p>>1,x=h[g]-e||(o?this.value[g].endSide:this.value[g].startSide)-r;if(g==f)return x>=0?f:p;x>=0?p=g:f=g+1}}between(e,r,o,a){for(let h=this.findIndex(r,-1e9,!0),f=this.findIndex(o,1e9,!1,h);h<f;h++)if(a(this.from[h]+e,this.to[h]+e,this.value[h])===!1)return!1}map(e,r){let o=[],a=[],h=[],f=-1,p=-1;for(let g=0;g<this.value.length;g++){let x=this.value[g],v=this.from[g]+e,S=this.to[g]+e,b,M;if(v==S){let j=r.mapPos(v,x.startSide,x.mapMode);if(j==null||(b=M=j,x.startSide!=x.endSide&&(M=r.mapPos(v,x.endSide),M<b)))continue}else if(b=r.mapPos(v,x.startSide),M=r.mapPos(S,x.endSide),b>M||b==M&&x.startSide>0&&x.endSide<=0)continue;(M-b||x.endSide-x.startSide)<0||(f<0&&(f=b),x.point&&(p=Math.max(p,M-b)),o.push(x),a.push(b-f),h.push(M-f))}return{mapped:o.length?new T5(a,h,o,p):null,pos:f}}}class si{constructor(e,r,o,a){this.chunkPos=e,this.chunk=r,this.nextLayer=o,this.maxPoint=a}static create(e,r,o,a){return new si(e,r,o,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:o=!1,filterFrom:a=0,filterTo:h=this.length}=e,f=e.filter;if(r.length==0&&!f)return this;if(o&&(r=r.slice().sort(OA)),this.isEmpty)return r.length?si.of(r):this;let p=new FW(this,null,-1).goto(0),g=0,x=[],v=new Ph;for(;p.value||g<r.length;)if(g<r.length&&(p.from-r[g].from||p.startSide-r[g].value.startSide)>=0){let S=r[g++];v.addInner(S.from,S.to,S.value)||x.push(S)}else p.rangeIndex==1&&p.chunkIndex<this.chunk.length&&(g==r.length||this.chunkEnd(p.chunkIndex)<r[g].from)&&(!f||a>this.chunkEnd(p.chunkIndex)||h<this.chunkPos[p.chunkIndex])&&v.addChunk(this.chunkPos[p.chunkIndex],this.chunk[p.chunkIndex])?p.nextChunk():((!f||a>p.to||h<p.from||f(p.from,p.to,p.value))&&(v.addInner(p.from,p.to,p.value)||x.push(yA.create(p.from,p.to,p.value))),p.next());return v.finishInner(this.nextLayer.isEmpty&&!x.length?si.empty:this.nextLayer.update({add:x,filter:f,filterFrom:a,filterTo:h}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],o=[],a=-1;for(let f=0;f<this.chunk.length;f++){let p=this.chunkPos[f],g=this.chunk[f],x=e.touchesRange(p,p+g.length);if(x===!1)a=Math.max(a,g.maxPoint),r.push(g),o.push(e.mapPos(p));else if(x===!0){let{mapped:v,pos:S}=g.map(p,e);v&&(a=Math.max(a,v.maxPoint),r.push(v),o.push(S))}}let h=this.nextLayer.map(e);return r.length==0?h:new si(o,r,h||si.empty,a)}between(e,r,o){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let h=this.chunkPos[a],f=this.chunk[a];if(r>=h&&e<=h+f.length&&f.between(h,e-h,r-h,o)===!1)return}this.nextLayer.between(e,r,o)}}iter(e=0){return Nv.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return Nv.from(e).goto(r)}static compare(e,r,o,a,h=-1){let f=e.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=h),p=r.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=h),g=o4(f,p,o),x=new nO(f,g,h),v=new nO(p,g,h);o.iterGaps((S,b,M)=>l4(x,S,v,b,M,a)),o.empty&&o.length==0&&l4(x,0,v,0,0,a)}static eq(e,r,o=0,a){a==null&&(a=999999999);let h=e.filter(v=>!v.isEmpty&&r.indexOf(v)<0),f=r.filter(v=>!v.isEmpty&&e.indexOf(v)<0);if(h.length!=f.length)return!1;if(!h.length)return!0;let p=o4(h,f),g=new nO(h,p,0).goto(o),x=new nO(f,p,0).goto(o);for(;;){if(g.to!=x.to||!vA(g.active,x.active)||g.point&&(!x.point||!g.point.eq(x.point)))return!1;if(g.to>a)return!0;g.next(),x.next()}}static spans(e,r,o,a,h=-1){let f=new nO(e,null,h).goto(r),p=r,g=f.openStart;for(;;){let x=Math.min(f.to,o);if(f.point){let v=f.activeForPoint(f.to),S=f.pointFrom<r?v.length+1:f.point.startSide<0?v.length:Math.min(v.length,g);a.point(p,x,f.point,v,S,f.pointRank),g=Math.min(f.openEnd(x),v.length)}else x>p&&(a.span(p,x,f.active,g),g=f.openEnd(x));if(f.to>o)return g+(f.point&&f.to>o?1:0);p=f.to,f.next()}}static of(e,r=!1){let o=new Ph;for(let a of e instanceof yA?[e]:r?Lft(e):e)o.add(a.from,a.to,a.value);return o.finish()}static join(e){if(!e.length)return si.empty;let r=e[e.length-1];for(let o=e.length-2;o>=0;o--)for(let a=e[o];a!=si.empty;a=a.nextLayer)r=new si(a.chunkPos,a.chunk,r,Math.max(a.maxPoint,r.maxPoint));return r}}si.empty=new si([],[],null,-1);function Lft(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let o=n[r];if(OA(e,o)>0)return n.slice().sort(OA);e=o}return n}si.empty.nextLayer=si.empty;class Ph{finishChunk(e){this.chunks.push(new T5(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,o){this.addInner(e,r,o)||(this.nextLayer||(this.nextLayer=new Ph)).add(e,r,o)}addInner(e,r,o){let a=e-this.lastTo||o.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||o.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=o,this.lastFrom=e,this.lastTo=r,this.value.push(o),o.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let o=r.value.length-1;return this.last=r.value[o],this.lastFrom=r.from[o]+e,this.lastTo=r.to[o]+e,!0}finish(){return this.finishInner(si.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=si.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function o4(n,e,r){let o=new Map;for(let h of n)for(let f=0;f<h.chunk.length;f++)h.chunk[f].maxPoint<=0&&o.set(h.chunk[f],h.chunkPos[f]);let a=new Set;for(let h of e)for(let f=0;f<h.chunk.length;f++){let p=o.get(h.chunk[f]);p!=null&&(r?r.mapPos(p):p)==h.chunkPos[f]&&!(r!=null&&r.touchesRange(p,p+h.chunk[f].length))&&a.add(h.chunk[f])}return a}class FW{constructor(e,r,o,a=0){this.layer=e,this.skip=r,this.minPoint=o,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,o){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,o=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!o||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],o=e+r.from[this.rangeIndex];if(this.from=o,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Nv{constructor(e){this.heap=e}static from(e,r=null,o=-1){let a=[];for(let h=0;h<e.length;h++)for(let f=e[h];!f.isEmpty;f=f.nextLayer)f.maxPoint>=o&&a.push(new FW(f,r,o,h));return a.length==1?a[0]:new Nv(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let o of this.heap)o.goto(e,r);for(let o=this.heap.length>>1;o>=0;o--)$M(this.heap,o);return this.next(),this}forward(e,r){for(let o of this.heap)o.forward(e,r);for(let o=this.heap.length>>1;o>=0;o--)$M(this.heap,o);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),$M(this.heap,0)}}}function $M(n,e){for(let r=n[e];;){let o=(e<<1)+1;if(o>=n.length)break;let a=n[o];if(o+1<n.length&&a.compare(n[o+1])>=0&&(a=n[o+1],o++),r.compare(a)<0)break;n[o]=r,n[e]=a,e=o}}class nO{constructor(e,r,o){this.minPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Nv.from(e,r,o)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){OS(this.active,e),OS(this.activeTo,e),OS(this.activeRank,e),this.minActive=a4(this.active,this.activeTo)}addActive(e){let r=0,{value:o,to:a,rank:h}=this.cursor;for(;r<this.activeRank.length&&(h-this.activeRank[r]||a-this.activeTo[r])>0;)r++;vS(this.active,r,o),vS(this.activeTo,r,a),vS(this.activeRank,r,h),e&&vS(e,r,this.cursor.from),this.minActive=a4(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let o=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),o&&OS(o,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let h=this.cursor.value;if(!h.point)this.addActive(o),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=h,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=h.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(o){this.openStart=0;for(let a=o.length-1;a>=0&&o[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let o=this.active.length-1;o>=0&&!(this.activeRank[o]<this.pointRank);o--)(this.activeTo[o]>e||this.activeTo[o]==e&&this.active[o].endSide>=this.point.endSide)&&r.push(this.active[o]);return r.reverse()}openEnd(e){let r=0;for(let o=this.activeTo.length-1;o>=0&&this.activeTo[o]>e;o--)r++;return r}}function l4(n,e,r,o,a,h){n.goto(e),r.goto(o);let f=o+a,p=o,g=o-e;for(;;){let x=n.to+g-r.to,v=x||n.endSide-r.endSide,S=v<0?n.to+g:r.to,b=Math.min(S,f);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&vA(n.activeForPoint(n.to),r.activeForPoint(r.to))||h.comparePoint(p,b,n.point,r.point):b>p&&!vA(n.active,r.active)&&h.compareRange(p,b,n.active,r.active),S>f)break;(x||n.openEnd!=r.openEnd)&&h.boundChange&&h.boundChange(S),p=S,v<=0&&n.next(),v>=0&&r.next()}}function vA(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function OS(n,e){for(let r=e,o=n.length-1;r<o;r++)n[r]=n[r+1];n.pop()}function vS(n,e,r){for(let o=n.length-1;o>=e;o--)n[o+1]=n[o];n[e]=r}function a4(n,e){let r=-1,o=1e9;for(let a=0;a<e.length;a++)(e[a]-o||n[a].endSide-n[r].endSide)<0&&(r=a,o=e[a]);return r}function pa(n,e,r=n.length){let o=0;for(let a=0;a<r&&a<n.length;)n.charCodeAt(a)==9?(o+=e-o%e,a++):(o++,a=Xr(n,a));return o}function xA(n,e,r,o){for(let a=0,h=0;;){if(h>=e)return a;if(a==n.length)break;h+=n.charCodeAt(a)==9?r-h%r:1,a=Xr(n,a)}return o===!0?-1:n.length}const wA="ͼ",u4=typeof Symbol>"u"?"__"+wA:Symbol.for(wA),SA=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),h4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Zc{constructor(e,r){this.rules=[];let{finish:o}=r||{};function a(f){return/^@/.test(f)?[f]:f.split(/,\s*/)}function h(f,p,g,x){let v=[],S=/^@(\w+)\b/.exec(f[0]),b=S&&S[1]=="keyframes";if(S&&p==null)return g.push(f[0]+";");for(let M in p){let j=p[M];if(/&/.test(M))h(M.split(/,\s*/).map(Q=>f.map(R=>Q.replace(/&/,R))).reduce((Q,R)=>Q.concat(R)),j,g);else if(j&&typeof j=="object"){if(!S)throw new RangeError("The value of a property ("+M+") should be a primitive value.");h(a(M),j,v,b)}else j!=null&&v.push(M.replace(/_.*/,"").replace(/[A-Z]/g,Q=>"-"+Q.toLowerCase())+": "+j+";")}(v.length||b)&&g.push((o&&!S&&!x?f.map(o):f).join(", ")+" {"+v.join(" ")+"}")}for(let f in e)h(a(f),e[f],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=h4[u4]||1;return h4[u4]=e+1,wA+e.toString(36)}static mount(e,r,o){let a=e[SA],h=o&&o.nonce;a?h&&a.setNonce(h):a=new Eft(e,h),a.mount(Array.isArray(r)?r:[r],e)}}let c4=new Map;class Eft{constructor(e,r){let o=e.ownerDocument||e,a=o.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let h=c4.get(o);if(h)return e[SA]=h;this.sheet=new a.CSSStyleSheet,c4.set(o,this)}else this.styleTag=o.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[SA]=this}mount(e,r){let o=this.sheet,a=0,h=0;for(let f=0;f<e.length;f++){let p=e[f],g=this.modules.indexOf(p);if(g<h&&g>-1&&(this.modules.splice(g,1),h--,g=-1),g==-1){if(this.modules.splice(h++,0,p),o)for(let x=0;x<p.rules.length;x++)o.insertRule(p.rules[x],a++)}else{for(;h<g;)a+=this.modules[h++].rules.length;a+=p.rules.length,h++}}if(o)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let f="";for(let g=0;g<this.modules.length;g++)f+=this.modules[g].getRules()+`
`;this.styleTag.textContent=f;let p=r.head||r;this.styleTag.parentNode!=p&&p.insertBefore(this.styleTag,p.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Yc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$ft=typeof navigator<"u"&&/Mac/.test(navigator.platform),Dft=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zr=0;zr<10;zr++)Yc[48+zr]=Yc[96+zr]=String(zr);for(var zr=1;zr<=24;zr++)Yc[zr+111]="F"+zr;for(var zr=65;zr<=90;zr++)Yc[zr]=String.fromCharCode(zr+32),Qv[zr]=String.fromCharCode(zr);for(var DM in Yc)Qv.hasOwnProperty(DM)||(Qv[DM]=Yc[DM]);function Ift(n){var e=$ft&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Dft&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?Qv:Yc)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function Av(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function kA(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function dk(n,e){if(!e.anchorNode)return!1;try{return kA(n,e.anchorNode)}catch{return!1}}function jg(n){return n.nodeType==3?Dd(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function zO(n,e,r,o){return r?f4(n,e,r,o,-1)||f4(n,e,r,o,1):!1}function $d(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function yP(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function f4(n,e,r,o,a){for(;;){if(n==r&&e==o)return!0;if(e==(a<0?0:xu(n))){if(n.nodeName=="DIV")return!1;let h=n.parentNode;if(!h||h.nodeType!=1)return!1;e=$d(n)+(a<0?0:1),n=h}else if(n.nodeType==1){if(n=n.childNodes[e+(a<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=a<0?xu(n):0}else return!1}}function xu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function mx(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function Fft(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function VW(n,e){let r=e.width/n.offsetWidth,o=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(o>.995&&o<1.005||!isFinite(o)||Math.abs(e.height-n.offsetHeight)<1)&&(o=1),{scaleX:r,scaleY:o}}function Vft(n,e,r,o,a,h,f,p){let g=n.ownerDocument,x=g.defaultView||window;for(let v=n,S=!1;v&&!S;)if(v.nodeType==1){let b,M=v==g.body,j=1,Q=1;if(M)b=Fft(x);else{if(/^(fixed|sticky)$/.test(getComputedStyle(v).position)&&(S=!0),v.scrollHeight<=v.clientHeight&&v.scrollWidth<=v.clientWidth){v=v.assignedSlot||v.parentNode;continue}let $=v.getBoundingClientRect();({scaleX:j,scaleY:Q}=VW(v,$)),b={left:$.left,right:$.left+v.clientWidth*j,top:$.top,bottom:$.top+v.clientHeight*Q}}let R=0,L=0;if(a=="nearest")e.top<b.top?(L=e.top-(b.top+f),r>0&&e.bottom>b.bottom+L&&(L=e.bottom-b.bottom+f)):e.bottom>b.bottom&&(L=e.bottom-b.bottom+f,r<0&&e.top-L<b.top&&(L=e.top-(b.top+f)));else{let $=e.bottom-e.top,V=b.bottom-b.top;L=(a=="center"&&$<=V?e.top+$/2-V/2:a=="start"||a=="center"&&r<0?e.top-f:e.bottom-V+f)-b.top}if(o=="nearest"?e.left<b.left?(R=e.left-(b.left+h),r>0&&e.right>b.right+R&&(R=e.right-b.right+h)):e.right>b.right&&(R=e.right-b.right+h,r<0&&e.left<b.left+R&&(R=e.left-(b.left+h))):R=(o=="center"?e.left+(e.right-e.left)/2-(b.right-b.left)/2:o=="start"==p?e.left-h:e.right-(b.right-b.left)+h)-b.left,R||L)if(M)x.scrollBy(R,L);else{let $=0,V=0;if(L){let D=v.scrollTop;v.scrollTop+=L/Q,V=(v.scrollTop-D)*Q}if(R){let D=v.scrollLeft;v.scrollLeft+=R/j,$=(v.scrollLeft-D)*j}e={left:e.left-$,top:e.top-V,right:e.right-$,bottom:e.bottom-V},$&&Math.abs($-R)<1&&(o="nearest"),V&&Math.abs(V-L)<1&&(a="nearest")}if(M)break;(e.top<b.top||e.bottom>b.bottom||e.left<b.left||e.right>b.right)&&(e={left:Math.max(e.left,b.left),right:Math.min(e.right,b.right),top:Math.max(e.top,b.top),bottom:Math.min(e.bottom,b.bottom)}),v=v.assignedSlot||v.parentNode}else if(v.nodeType==11)v=v.host;else break}function zft(n){let e=n.ownerDocument,r,o;for(let a=n.parentNode;a&&!(a==e.body||r&&o);)if(a.nodeType==1)!o&&a.scrollHeight>a.clientHeight&&(o=a),!r&&a.scrollWidth>a.clientWidth&&(r=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:r,y:o}}class Bft{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:o}=e;this.set(r,Math.min(e.anchorOffset,r?xu(r):0),o,Math.min(e.focusOffset,o?xu(o):0))}set(e,r,o,a){this.anchorNode=e,this.anchorOffset=r,this.focusNode=o,this.focusOffset=a}}let km=null;function zW(n){if(n.setActive)return n.setActive();if(km)return n.focus(km);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(km==null?{get preventScroll(){return km={preventScroll:!0},!0}}:void 0),!km){km=!1;for(let r=0;r<e.length;){let o=e[r++],a=e[r++],h=e[r++];o.scrollTop!=a&&(o.scrollTop=a),o.scrollLeft!=h&&(o.scrollLeft=h)}}}let d4;function Dd(n,e,r=e){let o=d4||(d4=document.createRange());return o.setEnd(n,r),o.setStart(n,e),o}function ig(n,e,r,o){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0};o&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=o);let h=new KeyboardEvent("keydown",a);h.synthetic=!0,n.dispatchEvent(h);let f=new KeyboardEvent("keyup",a);return f.synthetic=!0,n.dispatchEvent(f),h.defaultPrevented||f.defaultPrevented}function Xft(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function BW(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function _ft(n,e){let r=e.focusNode,o=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=o)return!1;for(o=Math.min(o,xu(r));;)if(o){if(r.nodeType!=1)return!1;let a=r.childNodes[o-1];a.contentEditable=="false"?o--:(r=a,o=xu(r))}else{if(r==n)return!0;o=$d(r),r=r.parentNode}}function XW(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function _W(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o>0)return{node:r,offset:o};if(r.nodeType==1&&o>0){if(r.contentEditable=="false")return null;r=r.childNodes[o-1],o=xu(r)}else if(r.parentNode&&!yP(r))o=$d(r),r=r.parentNode;else return null}}function UW(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o<r.nodeValue.length)return{node:r,offset:o};if(r.nodeType==1&&o<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[o],o=0}else if(r.parentNode&&!yP(r))o=$d(r)+1,r=r.parentNode;else return null}}class gs{constructor(e,r,o=!0){this.node=e,this.offset=r,this.precise=o}static before(e,r){return new gs(e.parentNode,$d(e),r)}static after(e,r){return new gs(e.parentNode,$d(e)+1,r)}}const C5=[];class Ci{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let o of this.children){if(o==e)return r;r+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let o=this.dom,a=null,h;for(let f of this.children){if(f.flags&7){if(!f.dom&&(h=a?a.nextSibling:o.firstChild)){let p=Ci.get(h);(!p||!p.parent&&p.canReuseDOM(f))&&f.reuseDOM(h)}f.sync(e,r),f.flags&=-8}if(h=a?a.nextSibling:o.firstChild,r&&!r.written&&r.node==o&&h!=f.dom&&(r.written=!0),f.dom.parentNode==o)for(;h&&h!=f.dom;)h=p4(h);else o.insertBefore(f.dom,h);a=f.dom}for(h=a?a.nextSibling:o.firstChild,h&&r&&r.node==o&&(r.written=!0);h;)h=p4(h)}else if(this.flags&1)for(let o of this.children)o.flags&7&&(o.sync(e,r),o.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let o;if(e==this.dom)o=this.dom.childNodes[r];else{let a=xu(e)==0?0:r==0?-1:1;for(;;){let h=e.parentNode;if(h==this.dom)break;a==0&&h.firstChild!=h.lastChild&&(e==h.firstChild?a=-1:a=1),e=h}a<0?o=e:o=e.nextSibling}if(o==this.dom.firstChild)return 0;for(;o&&!Ci.get(o);)o=o.nextSibling;if(!o)return this.length;for(let a=0,h=0;;a++){let f=this.children[a];if(f.dom==o)return h;h+=f.length+f.breakAfter}}domBoundsAround(e,r,o=0){let a=-1,h=-1,f=-1,p=-1;for(let g=0,x=o,v=o;g<this.children.length;g++){let S=this.children[g],b=x+S.length;if(x<e&&b>r)return S.domBoundsAround(e,r,x);if(b>=e&&a==-1&&(a=g,h=x),x>r&&S.dom.parentNode==this.dom){f=g,p=v;break}v=b,x=b+S.breakAfter}return{from:h,to:p<0?o+this.length:p,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length&&f>=0?this.children[f].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,o=C5){this.markDirty();for(let a=e;a<r;a++){let h=this.children[a];h.parent==this&&o.indexOf(h)<0&&h.destroy()}o.length<250?this.children.splice(e,r-e,...o):this.children=[].concat(this.children.slice(0,e),o,this.children.slice(r));for(let a=0;a<o.length;a++)o[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ZW(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,o,a,h,f){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ci.prototype.breakAfter=0;function p4(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ZW{constructor(e,r,o){this.children=e,this.pos=r,this.i=o,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let o=this.children[--this.i];this.pos-=o.length+o.breakAfter}}}function YW(n,e,r,o,a,h,f,p,g){let{children:x}=n,v=x.length?x[e]:null,S=h.length?h[h.length-1]:null,b=S?S.breakAfter:f;if(!(e==o&&v&&!f&&!b&&h.length<2&&v.merge(r,a,h.length?S:null,r==0,p,g))){if(o<x.length){let M=x[o];M&&(a<M.length||M.breakAfter&&(S!=null&&S.breakAfter))?(e==o&&(M=M.split(a),a=0),!b&&S&&M.merge(0,a,S,!0,0,g)?h[h.length-1]=M:((a||M.children.length&&!M.children[0].length)&&M.merge(0,a,null,!1,0,g),h.push(M))):M!=null&&M.breakAfter&&(S?S.breakAfter=1:f=1),o++}for(v&&(v.breakAfter=f,r>0&&(!f&&h.length&&v.merge(r,v.length,h[0],!1,p,0)?v.breakAfter=h.shift().breakAfter:(r<v.length||v.children.length&&v.children[v.children.length-1].length==0)&&v.merge(r,v.length,null,!1,p,0),e++));e<o&&h.length;)if(x[o-1].become(h[h.length-1]))o--,h.pop(),g=h.length?0:p;else if(x[e].become(h[0]))e++,h.shift(),p=h.length?0:g;else break;!h.length&&e&&o<x.length&&!x[e-1].breakAfter&&x[o].merge(0,0,x[e-1],!1,p,g)&&e--,(e<o||h.length)&&n.replaceChildren(e,o,h)}}function WW(n,e,r,o,a,h){let f=n.childCursor(),{i:p,off:g}=f.findPos(r,1),{i:x,off:v}=f.findPos(e,-1),S=e-r;for(let b of o)S+=b.length;n.length+=S,YW(n,x,v,p,g,o,0,a,h)}let io=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},PA=typeof document<"u"?document:{documentElement:{style:{}}};const bA=/Edge\/(\d+)/.exec(io.userAgent),qW=/MSIE \d/.test(io.userAgent),TA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(io.userAgent),$2=!!(qW||TA||bA),m4=!$2&&/gecko\/(\d+)/i.test(io.userAgent),IM=!$2&&/Chrome\/(\d+)/.exec(io.userAgent),Uft="webkitFontSmoothing"in PA.documentElement.style,GW=!$2&&/Apple Computer/.test(io.vendor),g4=GW&&(/Mobile\/\w+/.test(io.userAgent)||io.maxTouchPoints>2);var te={mac:g4||/Mac/.test(io.platform),windows:/Win/.test(io.platform),linux:/Linux|X11/.test(io.platform),ie:$2,ie_version:qW?PA.documentMode||6:TA?+TA[1]:bA?+bA[1]:0,gecko:m4,gecko_version:m4?+(/Firefox\/(\d+)/.exec(io.userAgent)||[0,0])[1]:0,chrome:!!IM,chrome_version:IM?+IM[1]:0,ios:g4,android:/Android\b/.test(io.userAgent),safari:GW,webkit_version:Uft?+(/\bAppleWebKit\/(\d+)/.exec(io.userAgent)||[0,0])[1]:0,tabSize:PA.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Zft=256;class ma extends Ci{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,o){return this.flags&8||o&&(!(o instanceof ma)||this.length-(r-e)+o.length>Zft||o.flags&8)?!1:(this.text=this.text.slice(0,e)+(o?o.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new ma(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new gs(this.dom,e)}domBoundsAround(e,r,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return Yft(this.dom,e,r)}}class bh extends Ci{constructor(e,r=[],o=0){super(),this.mark=e,this.children=r,this.length=o;for(let a of r)a.setParent(this)}setAttrs(e){if(BW(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,o,a,h,f){return o&&(!(o instanceof bh&&o.mark.eq(this.mark))||e&&h<=0||r<this.length&&f<=0)?!1:(WW(this,e,r,o?o.children.slice():[],h-1,f-1),this.markDirty(),!0)}split(e){let r=[],o=0,a=-1,h=0;for(let p of this.children){let g=o+p.length;g>e&&r.push(o<e?p.split(e-o):p),a<0&&o>=e&&(a=h),o=g,h++}let f=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new bh(this.mark,r,f)}domAtPos(e){return HW(this,e)}coordsAt(e,r){return JW(this,e,r)}}function Yft(n,e,r){let o=n.nodeValue.length;e>o&&(e=o);let a=e,h=e,f=0;e==0&&r<0||e==o&&r>=0?te.chrome||te.gecko||(e?(a--,f=1):h<o&&(h++,f=-1)):r<0?a--:h<o&&h++;let p=Dd(n,a,h).getClientRects();if(!p.length)return null;let g=p[(f?f<0:r>=0)?0:p.length-1];return te.safari&&!f&&g.width==0&&(g=Array.prototype.find.call(p,x=>x.width)||g),f?mx(g,f<0):g||null}class Tc extends Ci{static create(e,r,o){return new Tc(e,r,o)}constructor(e,r,o){super(),this.widget=e,this.length=r,this.side=o,this.prevWidget=null}split(e){let r=Tc.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,o,a,h,f){return o&&(!(o instanceof Tc)||!this.widget.compare(o.widget)||e>0&&h<=0||r<this.length&&f<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}become(e){return e instanceof Tc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ke.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,o=r&&r.state.doc,a=this.posAtStart;return o?o.slice(a,a+this.length):Ke.empty}domAtPos(e){return(this.length?e==0:this.side>0)?gs.before(this.dom):gs.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let o=this.widget.coordsAt(this.dom,e,r);if(o)return o;let a=this.dom.getClientRects(),h=null;if(!a.length)return null;let f=this.side?this.side<0:e>0;for(let p=f?a.length-1:0;h=a[p],!(e>0?p==0:p==a.length-1||h.top<h.bottom);p+=f?-1:1);return mx(h,!f)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Rg extends Ci{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Rg&&e.side==this.side}split(){return new Rg(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?gs.before(this.dom):gs.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ke.empty}get isHidden(){return!0}}ma.prototype.children=Tc.prototype.children=Rg.prototype.children=C5;function HW(n,e){let r=n.dom,{children:o}=n,a=0;for(let h=0;a<o.length;a++){let f=o[a],p=h+f.length;if(!(p==h&&f.getSide()<=0)){if(e>h&&e<p&&f.dom.parentNode==r)return f.domAtPos(e-h);if(e<=h)break;h=p}}for(let h=a;h>0;h--){let f=o[h-1];if(f.dom.parentNode==r)return f.domAtPos(f.length)}for(let h=a;h<o.length;h++){let f=o[h];if(f.dom.parentNode==r)return f.domAtPos(0)}return new gs(r,0)}function KW(n,e,r){let o,{children:a}=n;r>0&&e instanceof bh&&a.length&&(o=a[a.length-1])instanceof bh&&o.mark.eq(e.mark)?KW(o,e.children[0],r-1):(a.push(e),e.setParent(n)),n.length+=e.length}function JW(n,e,r){let o=null,a=-1,h=null,f=-1;function p(x,v){for(let S=0,b=0;S<x.children.length&&b<=v;S++){let M=x.children[S],j=b+M.length;j>=v&&(M.children.length?p(M,v-b):(!h||h.isHidden&&(r>0||qft(h,M)))&&(j>v||b==j&&M.getSide()>0)?(h=M,f=v-b):(b<v||b==j&&M.getSide()<0&&!M.isHidden)&&(o=M,a=v-b)),b=j}}p(n,e);let g=(r<0?o:h)||o||h;return g?g.coordsAt(Math.max(0,g==o?a:f),r):Wft(n)}function Wft(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=jg(e);return r[r.length-1]||null}function qft(n,e){let r=n.coordsAt(0,1),o=e.coordsAt(0,1);return r&&o&&o.top<r.bottom}function CA(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const y4=Object.create(null);function OP(n,e,r){if(n==e)return!0;n||(n=y4),e||(e=y4);let o=Object.keys(n),a=Object.keys(e);if(o.length-(r&&o.indexOf(r)>-1?1:0)!=a.length-(r&&a.indexOf(r)>-1?1:0))return!1;for(let h of o)if(h!=r&&(a.indexOf(h)==-1||n[h]!==e[h]))return!1;return!0}function MA(n,e,r){let o=!1;if(e)for(let a in e)r&&a in r||(o=!0,a=="style"?n.style.cssText="":n.removeAttribute(a));if(r)for(let a in r)e&&e[a]==r[a]||(o=!0,a=="style"?n.style.cssText=r[a]:n.setAttribute(a,r[a]));return o}function Gft(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let o=n.attributes[r];e[o.name]=o.value}return e}class Pu{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,o){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Is=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Is||(Is={}));class ue extends Ed{constructor(e,r,o,a){super(),this.startSide=e,this.endSide=r,this.widget=o,this.spec=a}get heightRelevant(){return!1}static mark(e){return new gx(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),o=!!e.block;return r+=o&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Wc(e,r,r,o,e.widget||null,!1)}static replace(e){let r=!!e.block,o,a;if(e.isBlockGap)o=-5e8,a=4e8;else{let{start:h,end:f}=t9(e,r);o=(h?r?-3e8:-1:5e8)-1,a=(f?r?2e8:1:-6e8)+1}return new Wc(e,o,a,r,e.widget||null,!0)}static line(e){return new yx(e)}static set(e,r=!1){return si.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ue.none=si.empty;class gx extends ue{constructor(e){let{start:r,end:o}=t9(e);super(r?-1:5e8,o?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,o;return this==e||e instanceof gx&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((o=e.attrs)===null||o===void 0?void 0:o.class))&&OP(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}gx.prototype.point=!1;class yx extends ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yx&&this.spec.class==e.spec.class&&OP(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}yx.prototype.mapMode=Br.TrackBefore;yx.prototype.point=!0;class Wc extends ue{constructor(e,r,o,a,h,f){super(r,o,h,e),this.block=a,this.isReplace=f,this.mapMode=a?r<=0?Br.TrackBefore:Br.TrackAfter:Br.TrackDel}get type(){return this.startSide!=this.endSide?Is.WidgetRange:this.startSide<=0?Is.WidgetBefore:Is.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Wc&&Hft(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Wc.prototype.point=!0;function t9(n,e=!1){let{inclusiveStart:r,inclusiveEnd:o}=n;return r==null&&(r=n.inclusive),o==null&&(o=n.inclusive),{start:r??e,end:o??e}}function Hft(n,e){return n==e||!!(n&&e&&n.compare(e))}function pk(n,e,r,o=0){let a=r.length-1;a>=0&&r[a]+o>=n?r[a]=Math.max(r[a],e):r.push(n,e)}class Yn extends Ci{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,o,a,h,f){if(o){if(!(o instanceof Yn))return!1;this.dom||o.transferDOM(this)}return a&&this.setDeco(o?o.attrs:null),WW(this,e,r,o?o.children.slice():[],h,f),!0}split(e){let r=new Yn;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:o,off:a}=this.childPos(e);a&&(r.append(this.children[o].split(a),0),this.children[o].merge(a,this.children[o].length,null,!1,0,0),o++);for(let h=o;h<this.children.length;h++)r.append(this.children[h],0);for(;o>0&&this.children[o-1].length==0;)this.children[--o].destroy();return this.children.length=o,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){OP(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){KW(this,e,r)}addLineDeco(e){let r=e.spec.attributes,o=e.spec.class;r&&(this.attrs=CA(r,this.attrs||{})),o&&(this.attrs=CA({class:o},this.attrs||{}))}domAtPos(e){return HW(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var o;this.dom?this.flags&4&&(BW(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(MA(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let a=this.dom.lastChild;for(;a&&Ci.get(a)instanceof bh;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((o=Ci.get(a))===null||o===void 0?void 0:o.isEditable)==!1&&(!te.ios||!this.children.some(h=>h instanceof ma))){let h=document.createElement("BR");h.cmIgnore=!0,this.dom.appendChild(h)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let o of this.children){if(!(o instanceof ma)||/[^ -~]/.test(o.text))return null;let a=jg(o.dom);if(a.length!=1)return null;e+=a[0].width,r=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let o=JW(this,e,r);if(!this.children.length&&o&&this.parent){let{heightOracle:a}=this.parent.view.viewState,h=o.bottom-o.top;if(Math.abs(h-a.lineHeight)<2&&a.textHeight<h){let f=(h-a.textHeight)/2;return{top:o.top+f,bottom:o.bottom-f,left:o.left,right:o.left}}}return o}become(e){return e instanceof Yn&&this.children.length==0&&e.children.length==0&&OP(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let o=0,a=0;o<e.children.length;o++){let h=e.children[o],f=a+h.length;if(f>=r){if(h instanceof Yn)return h;if(f>r)break}a=f+h.breakAfter}return null}}class ph extends Ci{constructor(e,r,o){super(),this.widget=e,this.length=r,this.deco=o,this.breakAfter=0,this.prevWidget=null}merge(e,r,o,a,h,f){return o&&(!(o instanceof ph)||!this.widget.compare(o.widget)||e>0&&h<=0||r<this.length&&f<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?gs.before(this.dom):gs.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let o=new ph(this.widget,r,this.deco);return o.breakAfter=this.breakAfter,o}get children(){return C5}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ke.empty}domBoundsAround(){return null}become(e){return e instanceof ph&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let o=this.widget.coordsAt(this.dom,e,r);return o||(this.widget instanceof NA?null:mx(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:o}=this.deco;return r==o?!1:e<0?r<0:o>0}}class NA extends Pu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class BO{constructor(e,r,o,a){this.doc=e,this.pos=r,this.end=o,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ph&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(xS(new Rg(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ph)&&this.getLine()}buildText(e,r,o){for(;e>0;){if(this.textOff==this.text.length){let{value:h,lineBreak:f,done:p}=this.cursor.next(this.skip);if(this.skip=0,p)throw new Error("Ran out of text content when drawing inline views");if(f){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=h,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-o)),this.getLine().append(xS(new ma(this.text.slice(this.textOff,this.textOff+a)),r),o),this.atCursorPos=!0,this.textOff+=a,e-=a,o=0}}span(e,r,o,a){this.buildText(r-e,o,a),this.pos=r,this.openStart<0&&(this.openStart=a)}point(e,r,o,a,h,f){if(this.disallowBlockEffectsFor[f]&&o instanceof Wc){if(o.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let p=r-e;if(o instanceof Wc)if(o.block)o.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ph(o.widget||Lg.block,p,o));else{let g=Tc.create(o.widget||Lg.inline,p,p?0:o.startSide),x=this.atCursorPos&&!g.isEditable&&h<=a.length&&(e<r||o.startSide>0),v=!g.isEditable&&(e<r||h>a.length||o.startSide<=0),S=this.getLine();this.pendingBuffer==2&&!x&&!g.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),x&&(S.append(xS(new Rg(1),a),h),h=a.length+Math.max(0,h-a.length)),S.append(xS(g,a),h),this.atCursorPos=v,this.pendingBuffer=v?e<r||h>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(o);p&&(this.textOff+p<=this.text.length?this.textOff+=p:(this.skip+=p-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=h)}static build(e,r,o,a,h){let f=new BO(e,r,o,h);return f.openEnd=si.spans(a,r,o,f),f.openStart<0&&(f.openStart=f.openEnd),f.finish(f.openEnd),f}}function xS(n,e){for(let r of e)n=new bh(r,[n],n.length);return n}class Lg extends Pu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Lg.inline=new Lg("span");Lg.block=new Lg("div");var _i=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(_i||(_i={}));const Id=_i.LTR,M5=_i.RTL;function e9(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const Kft=e9("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Jft=e9("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),QA=Object.create(null),Ga=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);QA[e]=r,QA[r]=-e}function i9(n){return n<=247?Kft[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Jft[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const tdt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Cc{get dir(){return this.level%2?M5:Id}constructor(e,r,o){this.from=e,this.to=r,this.level=o}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,o,a){let h=-1;for(let f=0;f<e.length;f++){let p=e[f];if(p.from<=r&&p.to>=r){if(p.level==o)return f;(h<0||(a!=0?a<0?p.from<r:p.to>r:e[h].level>p.level))&&(h=f)}}if(h<0)throw new RangeError("Index out of range");return h}}function n9(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],a=e[r];if(o.from!=a.from||o.to!=a.to||o.direction!=a.direction||!n9(o.inner,a.inner))return!1}return!0}const bi=[];function edt(n,e,r,o,a){for(let h=0;h<=o.length;h++){let f=h?o[h-1].to:e,p=h<o.length?o[h].from:r,g=h?256:a;for(let x=f,v=g,S=g;x<p;x++){let b=i9(n.charCodeAt(x));b==512?b=v:b==8&&S==4&&(b=16),bi[x]=b==4?2:b,b&7&&(S=b),v=b}for(let x=f,v=g,S=g;x<p;x++){let b=bi[x];if(b==128)x<p-1&&v==bi[x+1]&&v&24?b=bi[x]=v:bi[x]=256;else if(b==64){let M=x+1;for(;M<p&&bi[M]==64;)M++;let j=x&&v==8||M<r&&bi[M]==8?S==1?1:8:256;for(let Q=x;Q<M;Q++)bi[Q]=j;x=M-1}else b==8&&S==1&&(bi[x]=1);v=b,b&7&&(S=b)}}}function idt(n,e,r,o,a){let h=a==1?2:1;for(let f=0,p=0,g=0;f<=o.length;f++){let x=f?o[f-1].to:e,v=f<o.length?o[f].from:r;for(let S=x,b,M,j;S<v;S++)if(M=QA[b=n.charCodeAt(S)])if(M<0){for(let Q=p-3;Q>=0;Q-=3)if(Ga[Q+1]==-M){let R=Ga[Q+2],L=R&2?a:R&4?R&1?h:a:0;L&&(bi[S]=bi[Ga[Q]]=L),p=Q;break}}else{if(Ga.length==189)break;Ga[p++]=S,Ga[p++]=b,Ga[p++]=g}else if((j=bi[S])==2||j==1){let Q=j==a;g=Q?0:1;for(let R=p-3;R>=0;R-=3){let L=Ga[R+2];if(L&2)break;if(Q)Ga[R+2]|=2;else{if(L&4)break;Ga[R+2]|=4}}}}}function ndt(n,e,r,o){for(let a=0,h=o;a<=r.length;a++){let f=a?r[a-1].to:n,p=a<r.length?r[a].from:e;for(let g=f;g<p;){let x=bi[g];if(x==256){let v=g+1;for(;;)if(v==p){if(a==r.length)break;v=r[a++].to,p=a<r.length?r[a].from:e}else if(bi[v]==256)v++;else break;let S=h==1,b=(v<e?bi[v]:o)==1,M=S==b?S?1:2:o;for(let j=v,Q=a,R=Q?r[Q-1].to:n;j>g;)j==R&&(j=r[--Q].from,R=Q?r[Q-1].to:n),bi[--j]=M;g=v}else h=x,g++}}}function AA(n,e,r,o,a,h,f){let p=o%2?2:1;if(o%2==a%2)for(let g=e,x=0;g<r;){let v=!0,S=!1;if(x==h.length||g<h[x].from){let Q=bi[g];Q!=p&&(v=!1,S=Q==16)}let b=!v&&p==1?[]:null,M=v?o:o+1,j=g;t:for(;;)if(x<h.length&&j==h[x].from){if(S)break t;let Q=h[x];if(!v)for(let R=Q.to,L=x+1;;){if(R==r)break t;if(L<h.length&&h[L].from==R)R=h[L++].to;else{if(bi[R]==p)break t;break}}if(x++,b)b.push(Q);else{Q.from>g&&f.push(new Cc(g,Q.from,M));let R=Q.direction==Id!=!(M%2);jA(n,R?o+1:o,a,Q.inner,Q.from,Q.to,f),g=Q.to}j=Q.to}else{if(j==r||(v?bi[j]!=p:bi[j]==p))break;j++}b?AA(n,g,j,o+1,a,b,f):g<j&&f.push(new Cc(g,j,M)),g=j}else for(let g=r,x=h.length;g>e;){let v=!0,S=!1;if(!x||g>h[x-1].to){let Q=bi[g-1];Q!=p&&(v=!1,S=Q==16)}let b=!v&&p==1?[]:null,M=v?o:o+1,j=g;t:for(;;)if(x&&j==h[x-1].to){if(S)break t;let Q=h[--x];if(!v)for(let R=Q.from,L=x;;){if(R==e)break t;if(L&&h[L-1].to==R)R=h[--L].from;else{if(bi[R-1]==p)break t;break}}if(b)b.push(Q);else{Q.to<g&&f.push(new Cc(Q.to,g,M));let R=Q.direction==Id!=!(M%2);jA(n,R?o+1:o,a,Q.inner,Q.from,Q.to,f),g=Q.from}j=Q.from}else{if(j==e||(v?bi[j-1]!=p:bi[j-1]==p))break;j--}b?AA(n,j,g,o+1,a,b,f):j<g&&f.push(new Cc(j,g,M)),g=j}}function jA(n,e,r,o,a,h,f){let p=e%2?2:1;edt(n,a,h,o,p),idt(n,a,h,o,p),ndt(a,h,o,p),AA(n,a,h,e,r,o,f)}function rdt(n,e,r){if(!n)return[new Cc(0,0,e==M5?1:0)];if(e==Id&&!r.length&&!tdt.test(n))return r9(n.length);if(r.length)for(;n.length>bi.length;)bi[bi.length]=256;let o=[],a=e==Id?0:1;return jA(n,a,a,r,0,n.length,o),o}function r9(n){return[new Cc(0,n,0)]}let s9="";function sdt(n,e,r,o,a){var h;let f=o.head-n.from,p=Cc.find(e,f,(h=o.bidiLevel)!==null&&h!==void 0?h:-1,o.assoc),g=e[p],x=g.side(a,r);if(f==x){let b=p+=a?1:-1;if(b<0||b>=e.length)return null;g=e[p=b],f=g.side(!a,r),x=g.side(a,r)}let v=Xr(n.text,f,g.forward(a,r));(v<g.from||v>g.to)&&(v=x),s9=n.text.slice(Math.min(f,v),Math.max(f,v));let S=p==(a?e.length-1:0)?null:e[p+(a?1:-1)];return S&&v==x&&S.level+(a?0:1)<g.level?Ct.cursor(S.side(!a,r)+n.from,S.forward(a,r)?1:-1,S.level):Ct.cursor(v+n.from,g.forward(a,r)?-1:1,g.level)}function odt(n,e,r){for(let o=e;o<r;o++){let a=i9(n.charCodeAt(o));if(a==1)return Id;if(a==2||a==4)return M5}return Id}const o9=Ht.define(),l9=Ht.define(),a9=Ht.define(),u9=Ht.define(),RA=Ht.define(),h9=Ht.define(),c9=Ht.define(),N5=Ht.define(),Q5=Ht.define(),f9=Ht.define({combine:n=>n.some(e=>e)}),d9=Ht.define({combine:n=>n.some(e=>e)}),p9=Ht.define();class ng{constructor(e,r="nearest",o="nearest",a=5,h=5,f=!1){this.range=e,this.y=r,this.x=o,this.yMargin=a,this.xMargin=h,this.isSnapshot=f}map(e){return e.empty?this:new ng(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ng(Ct.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const wS=ke.define({map:(n,e)=>n.map(e)}),m9=ke.define();function oo(n,e,r){let o=n.facet(u9);o.length?o[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const uh=Ht.define({combine:n=>n.length?n[0]:!0});let ldt=0;const OO=Ht.define();class In{constructor(e,r,o,a,h){this.id=e,this.create=r,this.domEventHandlers=o,this.domEventObservers=a,this.extension=h(this)}static define(e,r){const{eventHandlers:o,eventObservers:a,provide:h,decorations:f}=r||{};return new In(ldt++,e,o,a,p=>{let g=[OO.of(p)];return f&&g.push(jv.of(x=>{let v=x.plugin(p);return v?f(v):ue.none})),h&&g.push(h(p)),g})}static fromClass(e,r){return In.define(o=>new e(o),r)}}class FM{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(o){if(oo(r.state,o,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){oo(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(o){oo(e.state,o,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const g9=Ht.define(),A5=Ht.define(),jv=Ht.define(),y9=Ht.define(),j5=Ht.define(),O9=Ht.define();function O4(n,e){let r=n.state.facet(O9);if(!r.length)return r;let o=r.map(h=>h instanceof Function?h(n):h),a=[];return si.spans(o,e.from,e.to,{point(){},span(h,f,p,g){let x=h-e.from,v=f-e.from,S=a;for(let b=p.length-1;b>=0;b--,g--){let M=p[b].spec.bidiIsolate,j;if(M==null&&(M=odt(e.text,x,v)),g>0&&S.length&&(j=S[S.length-1]).to==x&&j.direction==M)j.to=v,S=j.inner;else{let Q={from:x,to:v,direction:M,inner:[]};S.push(Q),S=Q.inner}}}}),a}const v9=Ht.define();function R5(n){let e=0,r=0,o=0,a=0;for(let h of n.state.facet(v9)){let f=h(n);f&&(f.left!=null&&(e=Math.max(e,f.left)),f.right!=null&&(r=Math.max(r,f.right)),f.top!=null&&(o=Math.max(o,f.top)),f.bottom!=null&&(a=Math.max(a,f.bottom)))}return{left:e,right:r,top:o,bottom:a}}const vO=Ht.define();class Cl{constructor(e,r,o,a){this.fromA=e,this.toA=r,this.fromB=o,this.toB=a}join(e){return new Cl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,o=this;for(;r>0;r--){let a=e[r-1];if(!(a.fromA>o.toA)){if(a.toA<o.fromA)break;o=o.join(a),e.splice(r-1,1)}}return e.splice(r,0,o),e}static extendWithRanges(e,r){if(r.length==0)return e;let o=[];for(let a=0,h=0,f=0,p=0;;a++){let g=a==e.length?null:e[a],x=f-p,v=g?g.fromB:1e9;for(;h<r.length&&r[h]<v;){let S=r[h],b=r[h+1],M=Math.max(p,S),j=Math.min(v,b);if(M<=j&&new Cl(M+x,j+x,M,j).addToSet(o),b>v)break;h+=2}if(!g)return o;new Cl(g.fromA,g.toA,g.fromB,g.toB).addToSet(o),f=g.toA,p=g.toB}}}class vP{constructor(e,r,o){this.view=e,this.state=r,this.transactions=o,this.flags=0,this.startState=e.state,this.changes=ur.empty(this.startState.doc.length);for(let h of o)this.changes=this.changes.compose(h.changes);let a=[];this.changes.iterChangedRanges((h,f,p,g)=>a.push(new Cl(h,f,p,g))),this.changedRanges=a}static create(e,r,o){return new vP(e,r,o)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class v4 extends Ci{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ue.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Yn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Cl(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let o=e.changedRanges;this.minWidth>0&&o.length&&(o.every(({fromA:x,toA:v})=>v<this.minWidthFrom||x>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?a=this.domChanged.newSel.head:!pdt(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let h=a>-1?udt(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:x,to:v}=this.hasComposition;o=new Cl(x,v,e.changes.mapPos(x,-1),e.changes.mapPos(v,1)).addToSet(o.slice())}this.hasComposition=h?{from:h.range.fromB,to:h.range.toB}:null,(te.ie||te.chrome)&&!h&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let f=this.decorations,p=this.updateDeco(),g=fdt(f,p,e.changes);return o=Cl.extendWithRanges(o,g),!(this.flags&7)&&o.length==0?!1:(this.updateInner(o,e.startState.doc.length,h),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,o){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,o);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=te.chrome||te.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,f),this.flags&=-8,f&&(f.written||a.selectionRange.focusNode!=f.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(f=>f.flags&=-9);let h=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.children)f instanceof ph&&f.widget instanceof NA&&h.push(f.dom);a.updateGaps(h)}updateChildren(e,r,o){let a=o?o.range.addToSet(e.slice()):e,h=this.childCursor(r);for(let f=a.length-1;;f--){let p=f>=0?a[f]:null;if(!p)break;let{fromA:g,toA:x,fromB:v,toB:S}=p,b,M,j,Q;if(o&&o.range.fromB<S&&o.range.toB>v){let D=BO.build(this.view.state.doc,v,o.range.fromB,this.decorations,this.dynamicDecorationMap),X=BO.build(this.view.state.doc,o.range.toB,S,this.decorations,this.dynamicDecorationMap);M=D.breakAtStart,j=D.openStart,Q=X.openEnd;let W=this.compositionView(o);X.breakAtStart?W.breakAfter=1:X.content.length&&W.merge(W.length,W.length,X.content[0],!1,X.openStart,0)&&(W.breakAfter=X.content[0].breakAfter,X.content.shift()),D.content.length&&W.merge(0,0,D.content[D.content.length-1],!0,0,D.openEnd)&&D.content.pop(),b=D.content.concat(W).concat(X.content)}else({content:b,breakAtStart:M,openStart:j,openEnd:Q}=BO.build(this.view.state.doc,v,S,this.decorations,this.dynamicDecorationMap));let{i:R,off:L}=h.findPos(x,1),{i:$,off:V}=h.findPos(g,-1);YW(this,$,V,R,L,b,M,j,Q)}o&&this.fixCompositionDOM(o)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let o of r.effects)o.is(m9)&&(this.editContextFormatting=o.value)}compositionView(e){let r=new ma(e.text.nodeValue);r.flags|=8;for(let{deco:a}of e.marks)r=new bh(a,[r],r.length);let o=new Yn;return o.append(r,0),o}fixCompositionDOM(e){let r=(h,f)=>{f.flags|=8|(f.children.some(g=>g.flags&7)?1:0),this.markedForComposition.add(f);let p=Ci.get(h);p&&p!=f&&(p.dom=null),f.setDOM(h)},o=this.childPos(e.range.fromB,1),a=this.children[o.i];r(e.line,a);for(let h=e.marks.length-1;h>=-1;h--)o=a.childPos(o.off,1),a=a.children[o.i],r(h>=0?e.marks[h].node:e.text,a)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let o=this.view.root.activeElement,a=o==this.dom,h=!a&&!(this.view.state.facet(uh)||this.dom.tabIndex>-1)&&dk(this.dom,this.view.observer.selectionRange)&&!(o&&this.dom.contains(o));if(!(a||r||h))return;let f=this.forceSelection;this.forceSelection=!1;let p=this.view.state.selection.main,g=this.moveToLine(this.domAtPos(p.anchor)),x=p.empty?g:this.moveToLine(this.domAtPos(p.head));if(te.gecko&&p.empty&&!this.hasComposition&&adt(g)){let S=document.createTextNode("");this.view.observer.ignore(()=>g.node.insertBefore(S,g.node.childNodes[g.offset]||null)),g=x=new gs(S,0),f=!0}let v=this.view.observer.selectionRange;(f||!v.focusNode||(!zO(g.node,g.offset,v.anchorNode,v.anchorOffset)||!zO(x.node,x.offset,v.focusNode,v.focusOffset))&&!this.suppressWidgetCursorChange(v,p))&&(this.view.observer.ignore(()=>{te.android&&te.chrome&&this.dom.contains(v.focusNode)&&ddt(v.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let S=Av(this.view.root);if(S)if(p.empty){if(te.gecko){let b=hdt(g.node,g.offset);if(b&&b!=3){let M=(b==1?_W:UW)(g.node,g.offset);M&&(g=new gs(M.node,M.offset))}}S.collapse(g.node,g.offset),p.bidiLevel!=null&&S.caretBidiLevel!==void 0&&(S.caretBidiLevel=p.bidiLevel)}else if(S.extend){S.collapse(g.node,g.offset);try{S.extend(x.node,x.offset)}catch{}}else{let b=document.createRange();p.anchor>p.head&&([g,x]=[x,g]),b.setEnd(x.node,x.offset),b.setStart(g.node,g.offset),S.removeAllRanges(),S.addRange(b)}h&&this.view.root.activeElement==this.dom&&(this.dom.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(g,x)),this.impreciseAnchor=g.precise?null:new gs(v.anchorNode,v.anchorOffset),this.impreciseHead=x.precise?null:new gs(v.focusNode,v.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&zO(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,o=Av(e.root),{anchorNode:a,anchorOffset:h}=e.observer.selectionRange;if(!o||!r.empty||!r.assoc||!o.modify)return;let f=Yn.find(this,r.head);if(!f)return;let p=f.posAtStart;if(r.head==p||r.head==p+f.length)return;let g=this.coordsAt(r.head,-1),x=this.coordsAt(r.head,1);if(!g||!x||g.bottom>x.top)return;let v=this.domAtPos(r.head+r.assoc);o.collapse(v.node,v.offset),o.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let S=e.observer.selectionRange;e.docView.posFromDOM(S.anchorNode,S.anchorOffset)!=r.from&&o.collapse(a,h)}moveToLine(e){let r=this.dom,o;if(e.node!=r)return e;for(let a=e.offset;!o&&a<r.childNodes.length;a++){let h=Ci.get(r.childNodes[a]);h instanceof Yn&&(o=h.domAtPos(0))}for(let a=e.offset-1;!o&&a>=0;a--){let h=Ci.get(r.childNodes[a]);h instanceof Yn&&(o=h.domAtPos(h.length))}return o?new gs(o.node,o.offset,!0):e}nearest(e){for(let r=e;r;){let o=Ci.get(r);if(o&&o.rootView==this)return o;r=r.parentNode}return null}posFromDOM(e,r){let o=this.nearest(e);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(e,r)+o.posAtStart}domAtPos(e){let{i:r,off:o}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let a=this.children[r];if(o<a.length||a instanceof Yn)break;r++,o=0}return this.children[r].domAtPos(o)}coordsAt(e,r){let o=null,a=0;for(let h=this.length,f=this.children.length-1;f>=0;f--){let p=this.children[f],g=h-p.breakAfter,x=g-p.length;if(g<e)break;if(x<=e&&(x<e||p.covers(-1))&&(g>e||p.covers(1))&&(!o||p instanceof Yn&&!(o instanceof Yn&&r>=0)))o=p,a=x;else if(o&&x==e&&g==e&&p instanceof ph&&Math.abs(r)<2){if(p.deco.startSide<0)break;f&&(o=null)}h=x}return o?o.coordsAt(e-a,r):null}coordsForChar(e){let{i:r,off:o}=this.childPos(e,1),a=this.children[r];if(!(a instanceof Yn))return null;for(;a.children.length;){let{i:p,off:g}=a.childPos(o,1);for(;;p++){if(p==a.children.length)return null;if((a=a.children[p]).length)break}o=g}if(!(a instanceof ma))return null;let h=Xr(a.text,o);if(h==o)return null;let f=Dd(a.dom,o,h).getClientRects();for(let p=0;p<f.length;p++){let g=f[p];if(p==f.length-1||g.top<g.bottom&&g.left<g.right)return g}return null}measureVisibleLineHeights(e){let r=[],{from:o,to:a}=e,h=this.view.contentDOM.clientWidth,f=h>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,p=-1,g=this.view.textDirection==_i.LTR;for(let x=0,v=0;v<this.children.length;v++){let S=this.children[v],b=x+S.length;if(b>a)break;if(x>=o){let M=S.dom.getBoundingClientRect();if(r.push(M.height),f){let j=S.dom.lastChild,Q=j?jg(j):[];if(Q.length){let R=Q[Q.length-1],L=g?R.right-M.left:M.right-R.left;L>p&&(p=L,this.minWidth=h,this.minWidthFrom=x,this.minWidthTo=b)}}}x=b+S.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?_i.RTL:_i.LTR}measureTextSize(){for(let h of this.children)if(h instanceof Yn){let f=h.measureTextSize();if(f)return f}let e=document.createElement("div"),r,o,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let h=jg(e.firstChild)[0];r=e.getBoundingClientRect().height,o=h?h.width/27:7,a=h?h.height:r,e.remove()}),{lineHeight:r,charWidth:o,textHeight:a}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new ZW(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let o=0,a=0;;a++){let h=a==r.viewports.length?null:r.viewports[a],f=h?h.from-1:this.length;if(f>o){let p=(r.lineBlockAt(f).bottom-r.lineBlockAt(o).top)/this.view.scaleY;e.push(ue.replace({widget:new NA(p),block:!0,inclusive:!0,isBlockGap:!0}).range(o,f))}if(!h)break;o=h.to+1}return ue.set(e)}updateDeco(){let e=1,r=this.view.state.facet(jv).map(h=>(this.dynamicDecorationMap[e++]=typeof h=="function")?h(this.view):h),o=!1,a=this.view.state.facet(y9).map((h,f)=>{let p=typeof h=="function";return p&&(o=!0),p?h(this.view):h});for(a.length&&(this.dynamicDecorationMap[e++]=o,r.push(si.join(a))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let x=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=x.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let x of this.view.state.facet(p9))try{if(x(this.view,e.range,e))return!0}catch(v){oo(this.view.state,v,"scroll handler")}let{range:r}=e,o=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),a;if(!o)return;!r.empty&&(a=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(o={left:Math.min(o.left,a.left),top:Math.min(o.top,a.top),right:Math.max(o.right,a.right),bottom:Math.max(o.bottom,a.bottom)});let h=R5(this.view),f={left:o.left-h.left,top:o.top-h.top,right:o.right+h.right,bottom:o.bottom+h.bottom},{offsetWidth:p,offsetHeight:g}=this.view.scrollDOM;Vft(this.view.scrollDOM,f,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,p),-p),Math.max(Math.min(e.yMargin,g),-g),this.view.textDirection==_i.LTR)}}function adt(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function x9(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let o=_W(r.focusNode,r.focusOffset),a=UW(r.focusNode,r.focusOffset),h=o||a;if(a&&o&&a.node!=o.node){let p=Ci.get(a.node);if(!p||p instanceof ma&&p.text!=a.node.nodeValue)h=a;else if(n.docView.lastCompositionAfterCursor){let g=Ci.get(o.node);!g||g instanceof ma&&g.text!=o.node.nodeValue||(h=a)}}if(n.docView.lastCompositionAfterCursor=h!=o,!h)return null;let f=e-h.offset;return{from:f,to:f+h.node.nodeValue.length,node:h.node}}function udt(n,e,r){let o=x9(n,r);if(!o)return null;let{node:a,from:h,to:f}=o,p=a.nodeValue;if(/[\n\r]/.test(p)||n.state.doc.sliceString(o.from,o.to)!=p)return null;let g=e.invertedDesc,x=new Cl(g.mapPos(h),g.mapPos(f),h,f),v=[];for(let S=a.parentNode;;S=S.parentNode){let b=Ci.get(S);if(b instanceof bh)v.push({node:S,deco:b.mark});else{if(b instanceof Yn||S.nodeName=="DIV"&&S.parentNode==n.contentDOM)return{range:x,text:a,marks:v,line:S};if(S!=n.contentDOM)v.push({node:S,deco:new gx({inclusive:!0,attributes:Gft(S),tagName:S.tagName.toLowerCase()})});else return null}}}function hdt(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let cdt=class{constructor(){this.changes=[]}compareRange(e,r){pk(e,r,this.changes)}comparePoint(e,r){pk(e,r,this.changes)}boundChange(e){pk(e,e,this.changes)}};function fdt(n,e,r){let o=new cdt;return si.compare(n,e,r,o),o.changes}function ddt(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function pdt(n,e){let r=!1;return e&&n.iterChangedRanges((o,a)=>{o<e.to&&a>e.from&&(r=!0)}),r}function mdt(n,e,r=1){let o=n.charCategorizer(e),a=n.doc.lineAt(e),h=e-a.from;if(a.length==0)return Ct.cursor(e);h==0?r=1:h==a.length&&(r=-1);let f=h,p=h;r<0?f=Xr(a.text,h,!1):p=Xr(a.text,h);let g=o(a.text.slice(f,p));for(;f>0;){let x=Xr(a.text,f,!1);if(o(a.text.slice(x,f))!=g)break;f=x}for(;p<a.length;){let x=Xr(a.text,p);if(o(a.text.slice(p,x))!=g)break;p=x}return Ct.range(f+a.from,p+a.from)}function gdt(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function ydt(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function VM(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function x4(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function w4(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function LA(n,e,r){let o,a,h,f,p=!1,g,x,v,S;for(let j=n.firstChild;j;j=j.nextSibling){let Q=jg(j);for(let R=0;R<Q.length;R++){let L=Q[R];a&&VM(a,L)&&(L=x4(w4(L,a.bottom),a.top));let $=gdt(e,L),V=ydt(r,L);if($==0&&V==0)return j.nodeType==3?S4(j,e,r):LA(j,e,r);if(!o||f>V||f==V&&h>$){o=j,a=L,h=$,f=V;let D=V?r<L.top?-1:1:$?e<L.left?-1:1:0;p=!D||(D>0?R<Q.length-1:R>0)}$==0?r>L.bottom&&(!v||v.bottom<L.bottom)?(g=j,v=L):r<L.top&&(!S||S.top>L.top)&&(x=j,S=L):v&&VM(v,L)?v=w4(v,L.bottom):S&&VM(S,L)&&(S=x4(S,L.top))}}if(v&&v.bottom>=r?(o=g,a=v):S&&S.top<=r&&(o=x,a=S),!o)return{node:n,offset:0};let b=Math.max(a.left,Math.min(a.right,e));if(o.nodeType==3)return S4(o,b,r);if(p&&o.contentEditable!="false")return LA(o,b,r);let M=Array.prototype.indexOf.call(n.childNodes,o)+(e>=(a.left+a.right)/2?1:0);return{node:n,offset:M}}function S4(n,e,r){let o=n.nodeValue.length,a=-1,h=1e9,f=0;for(let p=0;p<o;p++){let g=Dd(n,p,p+1).getClientRects();for(let x=0;x<g.length;x++){let v=g[x];if(v.top==v.bottom)continue;f||(f=e-v.left);let S=(v.top>r?v.top-r:r-v.bottom)-1;if(v.left-1<=e&&v.right+1>=e&&S<h){let b=e>=(v.left+v.right)/2,M=b;if((te.chrome||te.gecko)&&Dd(n,p).getBoundingClientRect().left==v.right&&(M=!b),S<=0)return{node:n,offset:p+(M?1:0)};a=p+(M?1:0),h=S}}}return{node:n,offset:a>-1?a:f>0?n.nodeValue.length:0}}function w9(n,e,r,o=-1){var a,h;let f=n.contentDOM.getBoundingClientRect(),p=f.top+n.viewState.paddingTop,g,{docHeight:x}=n.viewState,{x:v,y:S}=e,b=S-p;if(b<0)return 0;if(b>x)return n.state.doc.length;for(let D=n.viewState.heightOracle.textHeight/2,X=!1;g=n.elementAtHeight(b),g.type!=Is.Text;)for(;b=o>0?g.bottom+D:g.top-D,!(b>=0&&b<=x);){if(X)return r?null:0;X=!0,o=-o}S=p+b;let M=g.from;if(M<n.viewport.from)return n.viewport.from==0?0:r?null:k4(n,f,g,v,S);if(M>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:k4(n,f,g,v,S);let j=n.dom.ownerDocument,Q=n.root.elementFromPoint?n.root:j,R=Q.elementFromPoint(v,S);R&&!n.contentDOM.contains(R)&&(R=null),R||(v=Math.max(f.left+1,Math.min(f.right-1,v)),R=Q.elementFromPoint(v,S),R&&!n.contentDOM.contains(R)&&(R=null));let L,$=-1;if(R&&((a=n.docView.nearest(R))===null||a===void 0?void 0:a.isEditable)!=!1){if(j.caretPositionFromPoint){let D=j.caretPositionFromPoint(v,S);D&&({offsetNode:L,offset:$}=D)}else if(j.caretRangeFromPoint){let D=j.caretRangeFromPoint(v,S);D&&({startContainer:L,startOffset:$}=D,(!n.contentDOM.contains(L)||te.safari&&Odt(L,$,v)||te.chrome&&vdt(L,$,v))&&(L=void 0))}L&&($=Math.min(xu(L),$))}if(!L||!n.docView.dom.contains(L)){let D=Yn.find(n.docView,M);if(!D)return b>g.top+g.height/2?g.to:g.from;({node:L,offset:$}=LA(D.dom,v,S))}let V=n.docView.nearest(L);if(!V)return null;if(V.isWidget&&((h=V.dom)===null||h===void 0?void 0:h.nodeType)==1){let D=V.dom.getBoundingClientRect();return e.y<D.top||e.y<=D.bottom&&e.x<=(D.left+D.right)/2?V.posAtStart:V.posAtEnd}else return V.localPosFromDOM(L,$)+V.posAtStart}function k4(n,e,r,o,a){let h=Math.round((o-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let p=n.viewState.heightOracle.textHeight,g=Math.floor((a-r.top-(n.defaultLineHeight-p)*.5)/p);h+=g*n.viewState.heightOracle.lineLength}let f=n.state.sliceDoc(r.from,r.to);return r.from+xA(f,h,n.state.tabSize)}function Odt(n,e,r){let o;if(n.nodeType!=3||e!=(o=n.nodeValue.length))return!1;for(let a=n.nextSibling;a;a=a.nextSibling)if(a.nodeType!=1||a.nodeName!="BR")return!1;return Dd(n,o-1,o).getBoundingClientRect().left>r}function vdt(n,e,r){if(e!=0)return!1;for(let a=n;;){let h=a.parentNode;if(!h||h.nodeType!=1||h.firstChild!=a)return!1;if(h.classList.contains("cm-line"))break;a=h}let o=n.nodeType==1?n.getBoundingClientRect():Dd(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-o.left>5}function EA(n,e,r){let o=n.lineBlockAt(e);if(Array.isArray(o.type)){let a;for(let h of o.type){if(h.from>e)break;if(!(h.to<e)){if(h.from<e&&h.to>e)return h;(!a||h.type==Is.Text&&(a.type!=h.type||(r<0?h.from<e:h.to>e)))&&(a=h)}}return a||o}return o}function xdt(n,e,r,o){let a=EA(n,e.head,e.assoc||-1),h=!o||a.type!=Is.Text||!(n.lineWrapping||a.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(h){let f=n.dom.getBoundingClientRect(),p=n.textDirectionAt(a.from),g=n.posAtCoords({x:r==(p==_i.LTR)?f.right-1:f.left+1,y:(h.top+h.bottom)/2});if(g!=null)return Ct.cursor(g,r?-1:1)}return Ct.cursor(r?a.to:a.from,r?-1:1)}function P4(n,e,r,o){let a=n.state.doc.lineAt(e.head),h=n.bidiSpans(a),f=n.textDirectionAt(a.from);for(let p=e,g=null;;){let x=sdt(a,h,f,p,r),v=s9;if(!x){if(a.number==(r?n.state.doc.lines:1))return p;v=`
`,a=n.state.doc.line(a.number+(r?1:-1)),h=n.bidiSpans(a),x=n.visualLineSide(a,!r)}if(g){if(!g(v))return p}else{if(!o)return x;g=o(v)}p=x}}function wdt(n,e,r){let o=n.state.charCategorizer(e),a=o(r);return h=>{let f=o(h);return a==Ki.Space&&(a=f),a==f}}function Sdt(n,e,r,o){let a=e.head,h=r?1:-1;if(a==(r?n.state.doc.length:0))return Ct.cursor(a,e.assoc);let f=e.goalColumn,p,g=n.contentDOM.getBoundingClientRect(),x=n.coordsAtPos(a,e.assoc||-1),v=n.documentTop;if(x)f==null&&(f=x.left-g.left),p=h<0?x.top:x.bottom;else{let M=n.viewState.lineBlockAt(a);f==null&&(f=Math.min(g.right-g.left,n.defaultCharacterWidth*(a-M.from))),p=(h<0?M.top:M.bottom)+v}let S=g.left+f,b=o??n.viewState.heightOracle.textHeight>>1;for(let M=0;;M+=10){let j=p+(b+M)*h,Q=w9(n,{x:S,y:j},!1,h);if(j<g.top||j>g.bottom||(h<0?Q<a:Q>a)){let R=n.docView.coordsForChar(Q),L=!R||j<R.top?-1:1;return Ct.cursor(Q,L,void 0,f)}}}function mk(n,e,r){for(;;){let o=0;for(let a of n)a.between(e-1,e+1,(h,f,p)=>{if(e>h&&e<f){let g=o||r||(e-h<f-e?-1:1);e=g<0?h:f,o=g}});if(!o)return e}}function zM(n,e,r){let o=mk(n.state.facet(j5).map(a=>a(n)),r.from,e.head>r.from?-1:1);return o==r.from?r:Ct.cursor(o,o<r.from?1:-1)}const xO="￿";class kdt{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Ze.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=xO}readRange(e,r){if(!e)return this;let o=e.parentNode;for(let a=e;;){this.findPointBefore(o,a);let h=this.text.length;this.readNode(a);let f=a.nextSibling;if(f==r)break;let p=Ci.get(a),g=Ci.get(f);(p&&g?p.breakAfter:(p?p.breakAfter:yP(a))||yP(f)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>h)&&this.lineBreak(),a=f}return this.findPointBefore(o,r),this}readTextNode(e){let r=e.nodeValue;for(let o of this.points)o.node==e&&(o.pos=this.text.length+Math.min(o.offset,r.length));for(let o=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let h=-1,f=1,p;if(this.lineSeparator?(h=r.indexOf(this.lineSeparator,o),f=this.lineSeparator.length):(p=a.exec(r))&&(h=p.index,f=p[0].length),this.append(r.slice(o,h<0?r.length:h)),h<0)break;if(this.lineBreak(),f>1)for(let g of this.points)g.node==e&&g.pos>this.text.length&&(g.pos-=f-1);o=h+f}}readNode(e){if(e.cmIgnore)return;let r=Ci.get(e),o=r&&r.overrideDOMText;if(o!=null){this.findPointInside(e,o.length);for(let a=o.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let o of this.points)o.node==e&&e.childNodes[o.offset]==r&&(o.pos=this.text.length)}findPointInside(e,r){for(let o of this.points)(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+(Pdt(e,o.node,o.offset)?r:0))}}function Pdt(n,e,r){for(;;){if(!e||r<xu(e))return!1;if(e==n)return!0;r=$d(e)+1,e=e.parentNode}}class b4{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class bdt{constructor(e,r,o,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:h,impreciseAnchor:f}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,o,0))){let p=h||f?[]:Mdt(e),g=new kdt(p,e.state);g.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=g.text,this.newSel=Ndt(p,this.bounds.from)}else{let p=e.observer.selectionRange,g=h&&h.node==p.focusNode&&h.offset==p.focusOffset||!kA(e.contentDOM,p.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(p.focusNode,p.focusOffset),x=f&&f.node==p.anchorNode&&f.offset==p.anchorOffset||!kA(e.contentDOM,p.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(p.anchorNode,p.anchorOffset),v=e.viewport;if((te.ios||te.chrome)&&e.state.selection.main.empty&&g!=x&&(v.from>0||v.to<e.state.doc.length)){let S=Math.min(g,x),b=Math.max(g,x),M=v.from-S,j=v.to-b;(M==0||M==1||S==0)&&(j==0||j==-1||b==e.state.doc.length)&&(g=0,x=e.state.doc.length)}this.newSel=Ct.single(x,g)}}}function S9(n,e){let r,{newSel:o}=e,a=n.state.selection.main,h=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:f,to:p}=e.bounds,g=a.from,x=null;(h===8||te.android&&e.text.length<p-f)&&(g=a.to,x="end");let v=Cdt(n.state.doc.sliceString(f,p,xO),e.text,g-f,x);v&&(te.chrome&&h==13&&v.toB==v.from+2&&e.text.slice(v.from,v.toB)==xO+xO&&v.toB--,r={from:f+v.from,to:f+v.toA,insert:Ke.of(e.text.slice(v.from,v.toB).split(xO))})}else o&&(!n.hasFocus&&n.state.facet(uh)||o.main.eq(a))&&(o=null);if(!r&&!o)return!1;if(!r&&e.typeOver&&!a.empty&&o&&o.main.empty?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,a.to)}:(te.mac||te.android)&&r&&r.from==r.to&&r.from==a.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(o&&r.insert.length==2&&(o=Ct.single(o.main.anchor-1,o.main.head-1)),r={from:r.from,to:r.to,insert:Ke.of([r.insert.toString().replace("."," ")])}):r&&r.from>=a.from&&r.to<=a.to&&(r.from!=a.from||r.to!=a.to)&&a.to-a.from-(r.to-r.from)<=4?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,a.to))}:te.chrome&&r&&r.from==r.to&&r.from==a.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(o&&(o=Ct.single(o.main.anchor-1,o.main.head-1)),r={from:a.from,to:a.to,insert:Ke.of([" "])}),r)return L5(n,r,o,h);if(o&&!o.main.eq(a)){let f=!1,p="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(f=!0),p=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:f,userEvent:p}),!0}else return!1}function L5(n,e,r,o=-1){if(te.ios&&n.inputState.flushIOSKey(e))return!0;let a=n.state.selection.main;if(te.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&n.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ig(n.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||o==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&ig(n.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&ig(n.contentDOM,"Delete",46)))return!0;let h=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let f,p=()=>f||(f=Tdt(n,e,r));return n.state.facet(h9).some(g=>g(n,e.from,e.to,h,p))||n.dispatch(p()),!0}function Tdt(n,e,r){let o,a=n.state,h=a.selection.main;if(e.from>=h.from&&e.to<=h.to&&e.to-e.from>=(h.to-h.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let p=h.from<e.from?a.sliceDoc(h.from,e.from):"",g=h.to>e.to?a.sliceDoc(e.to,h.to):"";o=a.replaceSelection(n.state.toText(p+e.insert.sliceString(0,void 0,n.state.lineBreak)+g))}else{let p=a.changes(e),g=r&&r.main.to<=p.newLength?r.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=h.to&&e.to>=h.to-10){let x=n.state.sliceDoc(e.from,e.to),v,S=r&&x9(n,r.main.head);if(S){let j=e.insert.length-(e.to-e.from);v={from:S.from,to:S.to-j}}else v=n.state.doc.lineAt(h.head);let b=h.to-e.to,M=h.to-h.from;o=a.changeByRange(j=>{if(j.from==h.from&&j.to==h.to)return{changes:p,range:g||j.map(p)};let Q=j.to-b,R=Q-x.length;if(j.to-j.from!=M||n.state.sliceDoc(R,Q)!=x||j.to>=v.from&&j.from<=v.to)return{range:j};let L=a.changes({from:R,to:Q,insert:e.insert}),$=j.to-h.to;return{changes:L,range:g?Ct.range(Math.max(0,g.anchor+$),Math.max(0,g.head+$)):j.map(L)}})}else o={changes:p,selection:g&&a.selection.replaceRange(g)}}let f="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,f+=".compose",n.inputState.compositionFirstChange&&(f+=".start",n.inputState.compositionFirstChange=!1)),a.update(o,{userEvent:f,scrollIntoView:!0})}function Cdt(n,e,r,o){let a=Math.min(n.length,e.length),h=0;for(;h<a&&n.charCodeAt(h)==e.charCodeAt(h);)h++;if(h==a&&n.length==e.length)return null;let f=n.length,p=e.length;for(;f>0&&p>0&&n.charCodeAt(f-1)==e.charCodeAt(p-1);)f--,p--;if(o=="end"){let g=Math.max(0,h-Math.min(f,p));r-=f+g-h}if(f<h&&n.length<e.length){let g=r<=h&&r>=f?h-r:0;h-=g,p=h+(p-f),f=h}else if(p<h){let g=r<=h&&r>=p?h-r:0;h-=g,f=h+(f-p),p=h}return{from:h,toA:f,toB:p}}function Mdt(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:h}=n.observer.selectionRange;return r&&(e.push(new b4(r,o)),(a!=r||h!=o)&&e.push(new b4(a,h))),e}function Ndt(n,e){if(n.length==0)return null;let r=n[0].pos,o=n.length==2?n[1].pos:r;return r>-1&&o>-1?Ct.single(r+e,o+e):null}class Qdt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,te.safari&&e.contentDOM.addEventListener("input",()=>null),te.gecko&&Zdt(e.contentDOM.ownerDocument)}handleEvent(e){!Idt(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let o=this.handlers[e];if(o){for(let a of o.observers)a(this.view,r);for(let a of o.handlers){if(r.defaultPrevented)break;if(a(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=Adt(e),o=this.handlers,a=this.view.contentDOM;for(let h in r)if(h!="scroll"){let f=!r[h].handlers.length,p=o[h];p&&f!=!p.handlers.length&&(a.removeEventListener(h,this.handleEvent),p=null),p||a.addEventListener(h,this.handleEvent,{passive:f})}for(let h in o)h!="scroll"&&!r[h]&&a.removeEventListener(h,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&P9.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),te.android&&te.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return te.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=k9.find(o=>o.keyCode==e.keyCode))&&!e.ctrlKey||jdt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ig(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:te.safari&&!te.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function T4(n,e){return(r,o)=>{try{return e.call(n,o,r)}catch(a){oo(r.state,a)}}}function Adt(n){let e=Object.create(null);function r(o){return e[o]||(e[o]={observers:[],handlers:[]})}for(let o of n){let a=o.spec;if(a&&a.domEventHandlers)for(let h in a.domEventHandlers){let f=a.domEventHandlers[h];f&&r(h).handlers.push(T4(o.value,f))}if(a&&a.domEventObservers)for(let h in a.domEventObservers){let f=a.domEventObservers[h];f&&r(h).observers.push(T4(o.value,f))}}for(let o in ga)r(o).handlers.push(ga[o]);for(let o in Ql)r(o).observers.push(Ql[o]);return e}const k9=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],jdt="dthko",P9=[16,17,18,20,91,92,224,225],SS=6;function kS(n){return Math.max(0,n)*.7+8}function Rdt(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Ldt{constructor(e,r,o,a){this.view=e,this.startEvent=r,this.style=o,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=zft(e.contentDOM),this.atoms=e.state.facet(j5).map(f=>f(e));let h=e.contentDOM.ownerDocument;h.addEventListener("mousemove",this.move=this.move.bind(this)),h.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ze.allowMultipleSelections)&&Edt(e,r),this.dragging=Ddt(e,r)&&C9(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Rdt(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,o=0,a=0,h=0,f=this.view.win.innerWidth,p=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:f}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:h,bottom:p}=this.scrollParents.y.getBoundingClientRect());let g=R5(this.view);e.clientX-g.left<=a+SS?r=-kS(a-e.clientX):e.clientX+g.right>=f-SS&&(r=kS(e.clientX-f)),e.clientY-g.top<=h+SS?o=-kS(h-e.clientY):e.clientY+g.bottom>=p-SS&&(o=kS(e.clientY-p)),this.setScrollSpeed(r,o)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let o=0;o<e.ranges.length;o++){let a=e.ranges[o],h=null;if(a.empty){let f=mk(this.atoms,a.from,0);f!=a.from&&(h=Ct.cursor(f,-1))}else{let f=mk(this.atoms,a.from,-1),p=mk(this.atoms,a.to,1);(f!=a.from||p!=a.to)&&(h=Ct.range(a.from==a.anchor?f:p,a.from==a.head?f:p))}h&&(r||(r=e.ranges.slice()),r[o]=h)}return r?Ct.create(r,e.mainIndex):e}select(e){let{view:r}=this,o=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!o.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:o,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Edt(n,e){let r=n.state.facet(o9);return r.length?r[0](e):te.mac?e.metaKey:e.ctrlKey}function $dt(n,e){let r=n.state.facet(l9);return r.length?r[0](e):te.mac?!e.altKey:!e.ctrlKey}function Ddt(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let o=Av(n.root);if(!o||o.rangeCount==0)return!0;let a=o.getRangeAt(0).getClientRects();for(let h=0;h<a.length;h++){let f=a[h];if(f.left<=e.clientX&&f.right>=e.clientX&&f.top<=e.clientY&&f.bottom>=e.clientY)return!0}return!1}function Idt(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,o;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(o=Ci.get(r))&&o.ignoreEvent(e))return!1;return!0}const ga=Object.create(null),Ql=Object.create(null),b9=te.ie&&te.ie_version<15||te.ios&&te.webkit_version<604;function Fdt(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),T9(n,r.value)},50)}function D2(n,e,r){for(let o of n.facet(e))r=o(r,n);return r}function T9(n,e){e=D2(n.state,N5,e);let{state:r}=n,o,a=1,h=r.toText(e),f=h.lines==r.selection.ranges.length;if($A!=null&&r.selection.ranges.every(g=>g.empty)&&$A==h.toString()){let g=-1;o=r.changeByRange(x=>{let v=r.doc.lineAt(x.from);if(v.from==g)return{range:x};g=v.from;let S=r.toText((f?h.line(a++).text:e)+r.lineBreak);return{changes:{from:v.from,insert:S},range:Ct.cursor(x.from+S.length)}})}else f?o=r.changeByRange(g=>{let x=h.line(a++);return{changes:{from:g.from,to:g.to,insert:x.text},range:Ct.cursor(g.from+x.length)}}):o=r.replaceSelection(h);n.dispatch(o,{userEvent:"input.paste",scrollIntoView:!0})}Ql.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};ga.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ql.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ql.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};ga.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let o of n.state.facet(a9))if(r=o(n,e),r)break;if(!r&&e.button==0&&(r=Bdt(n,e)),r){let o=!n.hasFocus;n.inputState.startMouseSelection(new Ldt(n,e,r,o)),o&&n.observer.ignore(()=>{zW(n.contentDOM);let h=n.root.activeElement;h&&!h.contains(n.contentDOM)&&h.blur()});let a=n.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function C4(n,e,r,o){if(o==1)return Ct.cursor(e,r);if(o==2)return mdt(n.state,e,r);{let a=Yn.find(n.docView,e),h=n.state.doc.lineAt(a?a.posAtEnd:e),f=a?a.posAtStart:h.from,p=a?a.posAtEnd:h.to;return p<n.state.doc.length&&p==h.to&&p++,Ct.range(f,p)}}let M4=(n,e,r)=>e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right;function Vdt(n,e,r,o){let a=Yn.find(n.docView,e);if(!a)return 1;let h=e-a.posAtStart;if(h==0)return 1;if(h==a.length)return-1;let f=a.coordsAt(h,-1);if(f&&M4(r,o,f))return-1;let p=a.coordsAt(h,1);return p&&M4(r,o,p)?1:f&&f.bottom>=o?-1:1}function N4(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:Vdt(n,r,e.clientX,e.clientY)}}const zdt=te.ie&&te.ie_version<=11;let Q4=null,A4=0,j4=0;function C9(n){if(!zdt)return n.detail;let e=Q4,r=j4;return Q4=n,j4=Date.now(),A4=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(A4+1)%3:1}function Bdt(n,e){let r=N4(n,e),o=C9(e),a=n.state.selection;return{update(h){h.docChanged&&(r.pos=h.changes.mapPos(r.pos),a=a.map(h.changes))},get(h,f,p){let g=N4(n,h),x,v=C4(n,g.pos,g.bias,o);if(r.pos!=g.pos&&!f){let S=C4(n,r.pos,r.bias,o),b=Math.min(S.from,v.from),M=Math.max(S.to,v.to);v=b<v.from?Ct.range(b,M):Ct.range(M,b)}return f?a.replaceRange(a.main.extend(v.from,v.to)):p&&o==1&&a.ranges.length>1&&(x=Xdt(a,g.pos))?x:p?a.addRange(v):Ct.create([v])}}}function Xdt(n,e){for(let r=0;r<n.ranges.length;r++){let{from:o,to:a}=n.ranges[r];if(o<=e&&a>=e)return Ct.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}ga.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let a=n.docView.nearest(e.target);if(a&&a.isWidget){let h=a.posAtStart,f=h+a.length;(h>=r.to||f<=r.from)&&(r=Ct.range(h,f))}}let{inputState:o}=n;return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",D2(n.state,Q5,n.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ga.dragend=n=>(n.inputState.draggedContent=null,!1);function R4(n,e,r,o){if(r=D2(n.state,N5,r),!r)return;let a=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:h}=n.inputState,f=o&&h&&$dt(n,e)?{from:h.from,to:h.to}:null,p={from:a,insert:r},g=n.state.changes(f?[f,p]:p);n.focus(),n.dispatch({changes:g,selection:{anchor:g.mapPos(a,-1),head:g.mapPos(a,1)},userEvent:f?"move.drop":"input.drop"}),n.inputState.draggedContent=null}ga.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let o=Array(r.length),a=0,h=()=>{++a==r.length&&R4(n,e,o.filter(f=>f!=null).join(n.state.lineBreak),!1)};for(let f=0;f<r.length;f++){let p=new FileReader;p.onerror=h,p.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(p.result)||(o[f]=p.result),h()},p.readAsText(r[f])}return!0}else{let o=e.dataTransfer.getData("Text");if(o)return R4(n,e,o,!0),!0}return!1};ga.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=b9?null:e.clipboardData;return r?(T9(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(Fdt(n),!1)};function _dt(n,e){let r=n.dom.parentNode;if(!r)return;let o=r.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=e,o.focus(),o.selectionEnd=e.length,o.selectionStart=0,setTimeout(()=>{o.remove(),n.focus()},50)}function Udt(n){let e=[],r=[],o=!1;for(let a of n.selection.ranges)a.empty||(e.push(n.sliceDoc(a.from,a.to)),r.push(a));if(!e.length){let a=-1;for(let{from:h}of n.selection.ranges){let f=n.doc.lineAt(h);f.number>a&&(e.push(f.text),r.push({from:f.from,to:Math.min(n.doc.length,f.to+1)})),a=f.number}o=!0}return{text:D2(n,Q5,e.join(n.lineBreak)),ranges:r,linewise:o}}let $A=null;ga.copy=ga.cut=(n,e)=>{let{text:r,ranges:o,linewise:a}=Udt(n.state);if(!r&&!a)return!1;$A=a?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let h=b9?null:e.clipboardData;return h?(h.clearData(),h.setData("text/plain",r),!0):(_dt(n,r),!1)};const M9=Su.define();function N9(n,e){let r=[];for(let o of n.facet(c9)){let a=o(n,e);a&&r.push(a)}return r.length?n.update({effects:r,annotations:M9.of(!0)}):null}function Q9(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=N9(n.state,e);r?n.dispatch(r):n.update([])}},10)}Ql.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Q9(n)};Ql.blur=n=>{n.observer.clearSelectionRange(),Q9(n)};Ql.compositionstart=Ql.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ql.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,te.chrome&&te.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ql.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ga.beforeinput=(n,e)=>{var r,o;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let h=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),f=e.getTargetRanges();if(h&&f.length){let p=f[0],g=n.posAtDOM(p.startContainer,p.startOffset),x=n.posAtDOM(p.endContainer,p.endOffset);return L5(n,{from:g,to:x,insert:n.state.toText(h)},null),!0}}let a;if(te.chrome&&te.android&&(a=k9.find(h=>h.inputType==e.inputType))&&(n.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let h=((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0;setTimeout(()=>{var f;(((f=window.visualViewport)===null||f===void 0?void 0:f.height)||0)>h+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return te.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),te.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ql.compositionend(n,e),20),!1};const L4=new Set;function Zdt(n){L4.has(n)||(L4.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const E4=["pre-wrap","normal","pre-line","break-spaces"];let Eg=!1;function $4(){Eg=!1}class Ydt{constructor(e){this.lineWrapping=e,this.doc=Ke.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let o=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(o+=Math.max(0,Math.ceil((r-e-o*this.lineLength*.5)/this.lineLength))),this.lineHeight*o}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return E4.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let o=0;o<e.length;o++){let a=e[o];a<0?o++:this.heightSamples[Math.floor(a*10)]||(r=!0,this.heightSamples[Math.floor(a*10)]=!0)}return r}refresh(e,r,o,a,h,f){let p=E4.indexOf(e)>-1,g=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=p;if(this.lineWrapping=p,this.lineHeight=r,this.charWidth=o,this.textHeight=a,this.lineLength=h,g){this.heightSamples={};for(let x=0;x<f.length;x++){let v=f[x];v<0?x++:this.heightSamples[Math.floor(v*10)]=!0}}return g}}class Wdt{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class lu{constructor(e,r,o,a,h){this.from=e,this.length=r,this.top=o,this.height=a,this._content=h}get type(){return typeof this._content=="number"?Is.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Wc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new lu(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Bi=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Bi||(Bi={}));const gk=.001;class Fs{constructor(e,r,o=2){this.length=e,this.height=r,this.flags=o}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>gk&&(Eg=!0),this.height=e)}replace(e,r,o){return Fs.of(o)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,o,a){let h=this,f=o.doc;for(let p=a.length-1;p>=0;p--){let{fromA:g,toA:x,fromB:v,toB:S}=a[p],b=h.lineAt(g,Bi.ByPosNoHeight,o.setDoc(r),0,0),M=b.to>=x?b:h.lineAt(x,Bi.ByPosNoHeight,o,0,0);for(S+=M.to-x,x=M.to;p>0&&b.from<=a[p-1].toA;)g=a[p-1].fromA,v=a[p-1].fromB,p--,g<b.from&&(b=h.lineAt(g,Bi.ByPosNoHeight,o,0,0));v+=b.from-g,g=b.from;let j=E5.build(o.setDoc(f),e,v,S);h=xP(h,h.replace(g,x,j))}return h.updateHeight(o,0)}static empty(){return new Ro(0,0)}static of(e){if(e.length==1)return e[0];let r=0,o=e.length,a=0,h=0;for(;;)if(r==o)if(a>h*2){let p=e[r-1];p.break?e.splice(--r,1,p.left,null,p.right):e.splice(--r,1,p.left,p.right),o+=1+p.break,a-=p.size}else if(h>a*2){let p=e[o];p.break?e.splice(o,1,p.left,null,p.right):e.splice(o,1,p.left,p.right),o+=2+p.break,h-=p.size}else break;else if(a<h){let p=e[r++];p&&(a+=p.size)}else{let p=e[--o];p&&(h+=p.size)}let f=0;return e[r-1]==null?(f=1,r--):e[r]==null&&(f=1,o++),new qdt(Fs.of(e.slice(0,r)),f,Fs.of(e.slice(o)))}}function xP(n,e){return n==e?n:(n.constructor!=e.constructor&&(Eg=!0),e)}Fs.prototype.size=1;class A9 extends Fs{constructor(e,r,o){super(e,r),this.deco=o}blockAt(e,r,o,a){return new lu(a,this.length,o,this.height,this.deco||0)}lineAt(e,r,o,a,h){return this.blockAt(0,o,a,h)}forEachLine(e,r,o,a,h,f){e<=h+this.length&&r>=h&&f(this.blockAt(0,o,a,h))}updateHeight(e,r=0,o=!1,a){return a&&a.from<=r&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ro extends A9{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,o,a){return new lu(a,this.length,o,this.height,this.breaks)}replace(e,r,o){let a=o[0];return o.length==1&&(a instanceof Ro||a instanceof Vr&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof Vr?a=new Ro(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):Fs.of(o)}updateHeight(e,r=0,o=!1,a){return a&&a.from<=r&&a.more?this.setHeight(a.heights[a.index++]):(o||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vr extends Fs{constructor(e){super(e,0)}heightMetrics(e,r){let o=e.doc.lineAt(r).number,a=e.doc.lineAt(r+this.length).number,h=a-o+1,f,p=0;if(e.lineWrapping){let g=Math.min(this.height,e.lineHeight*h);f=g/h,this.length>h+1&&(p=(this.height-g)/(this.length-h-1))}else f=this.height/h;return{firstLine:o,lastLine:a,perLine:f,perChar:p}}blockAt(e,r,o,a){let{firstLine:h,lastLine:f,perLine:p,perChar:g}=this.heightMetrics(r,a);if(r.lineWrapping){let x=a+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-o)/this.height))*this.length)),v=r.doc.lineAt(x),S=p+v.length*g,b=Math.max(o,e-S/2);return new lu(v.from,v.length,b,S,0)}else{let x=Math.max(0,Math.min(f-h,Math.floor((e-o)/p))),{from:v,length:S}=r.doc.line(h+x);return new lu(v,S,o+p*x,p,0)}}lineAt(e,r,o,a,h){if(r==Bi.ByHeight)return this.blockAt(e,o,a,h);if(r==Bi.ByPosNoHeight){let{from:M,to:j}=o.doc.lineAt(e);return new lu(M,j-M,0,0,0)}let{firstLine:f,perLine:p,perChar:g}=this.heightMetrics(o,h),x=o.doc.lineAt(e),v=p+x.length*g,S=x.number-f,b=a+p*S+g*(x.from-h-S);return new lu(x.from,x.length,Math.max(a,Math.min(b,a+this.height-v)),v,0)}forEachLine(e,r,o,a,h,f){e=Math.max(e,h),r=Math.min(r,h+this.length);let{firstLine:p,perLine:g,perChar:x}=this.heightMetrics(o,h);for(let v=e,S=a;v<=r;){let b=o.doc.lineAt(v);if(v==e){let j=b.number-p;S+=g*j+x*(e-h-j)}let M=g+x*b.length;f(new lu(b.from,b.length,S,M,0)),S+=M,v=b.to+1}}replace(e,r,o){let a=this.length-r;if(a>0){let h=o[o.length-1];h instanceof Vr?o[o.length-1]=new Vr(h.length+a):o.push(null,new Vr(a-1))}if(e>0){let h=o[0];h instanceof Vr?o[0]=new Vr(e+h.length):o.unshift(new Vr(e-1),null)}return Fs.of(o)}decomposeLeft(e,r){r.push(new Vr(e-1),null)}decomposeRight(e,r){r.push(null,new Vr(this.length-e-1))}updateHeight(e,r=0,o=!1,a){let h=r+this.length;if(a&&a.from<=r+this.length&&a.more){let f=[],p=Math.max(r,a.from),g=-1;for(a.from>r&&f.push(new Vr(a.from-r-1).updateHeight(e,r));p<=h&&a.more;){let v=e.doc.lineAt(p).length;f.length&&f.push(null);let S=a.heights[a.index++];g==-1?g=S:Math.abs(S-g)>=gk&&(g=-2);let b=new Ro(v,S);b.outdated=!1,f.push(b),p+=v+1}p<=h&&f.push(null,new Vr(h-p).updateHeight(e,p));let x=Fs.of(f);return(g<0||Math.abs(x.height-this.height)>=gk||Math.abs(g-this.heightMetrics(e,r).perLine)>=gk)&&(Eg=!0),xP(this,x)}else(o||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qdt extends Fs{constructor(e,r,o){super(e.length+r+o.length,e.height+o.height,r|(e.outdated||o.outdated?2:0)),this.left=e,this.right=o,this.size=e.size+o.size}get break(){return this.flags&1}blockAt(e,r,o,a){let h=o+this.left.height;return e<h?this.left.blockAt(e,r,o,a):this.right.blockAt(e,r,h,a+this.left.length+this.break)}lineAt(e,r,o,a,h){let f=a+this.left.height,p=h+this.left.length+this.break,g=r==Bi.ByHeight?e<f:e<p,x=g?this.left.lineAt(e,r,o,a,h):this.right.lineAt(e,r,o,f,p);if(this.break||(g?x.to<p:x.from>p))return x;let v=r==Bi.ByPosNoHeight?Bi.ByPosNoHeight:Bi.ByPos;return g?x.join(this.right.lineAt(p,v,o,f,p)):this.left.lineAt(p,v,o,a,h).join(x)}forEachLine(e,r,o,a,h,f){let p=a+this.left.height,g=h+this.left.length+this.break;if(this.break)e<g&&this.left.forEachLine(e,r,o,a,h,f),r>=g&&this.right.forEachLine(e,r,o,p,g,f);else{let x=this.lineAt(g,Bi.ByPos,o,a,h);e<x.from&&this.left.forEachLine(e,x.from-1,o,a,h,f),x.to>=e&&x.from<=r&&f(x),r>x.to&&this.right.forEachLine(x.to+1,r,o,p,g,f)}}replace(e,r,o){let a=this.left.length+this.break;if(r<a)return this.balanced(this.left.replace(e,r,o),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,r-a,o));let h=[];e>0&&this.decomposeLeft(e,h);let f=h.length;for(let p of o)h.push(p);if(e>0&&D4(h,f-1),r<this.length){let p=h.length;this.decomposeRight(r,h),D4(h,p)}return Fs.of(h)}decomposeLeft(e,r){let o=this.left.length;if(e<=o)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(o++,e>=o&&r.push(null)),e>o&&this.right.decomposeLeft(e-o,r)}decomposeRight(e,r){let o=this.left.length,a=o+this.break;if(e>=a)return this.right.decomposeRight(e-a,r);e<o&&this.left.decomposeRight(e,r),this.break&&e<a&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Fs.of(this.break?[e,null,r]:[e,r]):(this.left=xP(this.left,e),this.right=xP(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,o=!1,a){let{left:h,right:f}=this,p=r+h.length+this.break,g=null;return a&&a.from<=r+h.length&&a.more?g=h=h.updateHeight(e,r,o,a):h.updateHeight(e,r,o),a&&a.from<=p+f.length&&a.more?g=f=f.updateHeight(e,p,o,a):f.updateHeight(e,p,o),g?this.balanced(h,f):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function D4(n,e){let r,o;n[e]==null&&(r=n[e-1])instanceof Vr&&(o=n[e+1])instanceof Vr&&n.splice(e-1,3,new Vr(r.length+1+o.length))}const Gdt=5;class E5{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let o=Math.min(r,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof Ro?a.length+=o-this.pos:(o>this.pos||!this.isCovered)&&this.nodes.push(new Ro(o-this.pos,-1)),this.writtenTo=o,r>o&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,o){if(e<r||o.heightRelevant){let a=o.widget?o.widget.estimatedHeight:0,h=o.widget?o.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let f=r-e;o.block?this.addBlock(new A9(f,a,o)):(f||h||a>=Gdt)&&this.addLineDeco(a,h,f)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ro(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let o=new Vr(r-e);return this.oracle.doc.lineAt(e).to==r&&(o.flags|=4),o}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ro)return e;let r=new Ro(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,o){let a=this.ensureLine();a.length+=o,a.collapsed+=o,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=r,this.writtenTo=this.pos=this.pos+o}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Ro)&&!this.isCovered?this.nodes.push(new Ro(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let o=e;for(let a of this.nodes)a instanceof Ro&&a.updateHeight(this.oracle,o),o+=a?a.length:1;return this.nodes}static build(e,r,o,a){let h=new E5(o,e);return si.spans(r,o,a,h,0),h.finish(o)}}function Hdt(n,e,r){let o=new Kdt;return si.compare(n,e,r,o,0),o.changes}class Kdt{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,o,a){(e<r||o&&o.heightRelevant||a&&a.heightRelevant)&&pk(e,r,this.changes,5)}}function Jdt(n,e){let r=n.getBoundingClientRect(),o=n.ownerDocument,a=o.defaultView||window,h=Math.max(0,r.left),f=Math.min(a.innerWidth,r.right),p=Math.max(0,r.top),g=Math.min(a.innerHeight,r.bottom);for(let x=n.parentNode;x&&x!=o.body;)if(x.nodeType==1){let v=x,S=window.getComputedStyle(v);if((v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&S.overflow!="visible"){let b=v.getBoundingClientRect();h=Math.max(h,b.left),f=Math.min(f,b.right),p=Math.max(p,b.top),g=Math.min(x==n.parentNode?a.innerHeight:g,b.bottom)}x=S.position=="absolute"||S.position=="fixed"?v.offsetParent:v.parentNode}else if(x.nodeType==11)x=x.host;else break;return{left:h-r.left,right:Math.max(h,f)-r.left,top:p-(r.top+e),bottom:Math.max(p,g)-(r.top+e)}}function tpt(n){let e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function ept(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class BM{constructor(e,r,o,a){this.from=e,this.to=r,this.size=o,this.displaySize=a}static same(e,r){if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],h=r[o];if(a.from!=h.from||a.to!=h.to||a.size!=h.size)return!1}return!0}draw(e,r){return ue.replace({widget:new ipt(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class ipt extends Pu{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class I4{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=F4,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_i.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(A5).some(o=>typeof o!="function"&&o.class=="cm-lineWrapping");this.heightOracle=new Ydt(r),this.stateDeco=e.facet(jv).filter(o=>typeof o!="function"),this.heightMap=Fs.empty().applyChanges(this.stateDeco,Ke.empty,this.heightOracle.setDoc(e.doc),[new Cl(0,0,0,e.doc.length)]);for(let o=0;o<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());o++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ue.set(this.lineGaps.map(o=>o.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let o=0;o<=1;o++){let a=o?r.head:r.anchor;if(!e.some(({from:h,to:f})=>a>=h&&a<=f)){let{from:h,to:f}=this.lineBlockAt(a);e.push(new PS(h,f))}}return this.viewports=e.sort((o,a)=>o.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?F4:new $5(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(wO(e,this.scaler))})}update(e,r=null){this.state=e.state;let o=this.stateDeco;this.stateDeco=this.state.facet(jv).filter(v=>typeof v!="function");let a=e.changedRanges,h=Cl.extendWithRanges(a,Hdt(o,this.stateDeco,e?e.changes:ur.empty(this.state.doc.length))),f=this.heightMap.height,p=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);$4(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),h),(this.heightMap.height!=f||Eg)&&(e.flags|=2),p?(this.scrollAnchorPos=e.changes.mapPos(p.from,-1),this.scrollAnchorHeight=p.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=f);let g=h.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<g.from||r.range.head>g.to)||!this.viewportIsAppropriate(g))&&(g=this.getViewport(0,r));let x=g.from!=this.viewport.from||g.to!=this.viewport.to;this.viewport=g,e.flags|=this.updateForViewport(),(x||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(d9)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,o=window.getComputedStyle(r),a=this.heightOracle,h=o.whiteSpace;this.defaultTextDirection=o.direction=="rtl"?_i.RTL:_i.LTR;let f=this.heightOracle.mustRefreshForWrapping(h),p=r.getBoundingClientRect(),g=f||this.mustMeasureContent||this.contentDOMHeight!=p.height;this.contentDOMHeight=p.height,this.mustMeasureContent=!1;let x=0,v=0;if(p.width&&p.height){let{scaleX:D,scaleY:X}=VW(r,p);(D>.005&&Math.abs(this.scaleX-D)>.005||X>.005&&Math.abs(this.scaleY-X)>.005)&&(this.scaleX=D,this.scaleY=X,x|=16,f=g=!0)}let S=(parseInt(o.paddingTop)||0)*this.scaleY,b=(parseInt(o.paddingBottom)||0)*this.scaleY;(this.paddingTop!=S||this.paddingBottom!=b)&&(this.paddingTop=S,this.paddingBottom=b,x|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(g=!0),this.editorWidth=e.scrollDOM.clientWidth,x|=16);let M=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=M&&(this.scrollAnchorHeight=-1,this.scrollTop=M),this.scrolledToBottom=XW(e.scrollDOM);let j=(this.printing?ept:Jdt)(r,this.paddingTop),Q=j.top-this.pixelViewport.top,R=j.bottom-this.pixelViewport.bottom;this.pixelViewport=j;let L=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(L!=this.inView&&(this.inView=L,L&&(g=!0)),!this.inView&&!this.scrollTarget&&!tpt(e.dom))return 0;let $=p.width;if((this.contentDOMWidth!=$||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p.width,this.editorHeight=e.scrollDOM.clientHeight,x|=16),g){let D=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(D)&&(f=!0),f||a.lineWrapping&&Math.abs($-this.contentDOMWidth)>a.charWidth){let{lineHeight:X,charWidth:W,textHeight:K}=e.docView.measureTextSize();f=X>0&&a.refresh(h,X,W,K,$/W,D),f&&(e.docView.minWidth=0,x|=16)}Q>0&&R>0?v=Math.max(Q,R):Q<0&&R<0&&(v=Math.min(Q,R)),$4();for(let X of this.viewports){let W=X.from==this.viewport.from?D:e.docView.measureVisibleLineHeights(X);this.heightMap=(f?Fs.empty().applyChanges(this.stateDeco,Ke.empty,this.heightOracle,[new Cl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,f,new Wdt(X.from,W))}Eg&&(x|=2)}let V=!this.viewportIsAppropriate(this.viewport,v)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return V&&(x&2&&(x|=this.updateScaler()),this.viewport=this.getViewport(v,this.scrollTarget),x|=this.updateForViewport()),(x&2||V)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(f?[]:this.lineGaps,e)),x|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),x}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let o=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,h=this.heightOracle,{visibleTop:f,visibleBottom:p}=this,g=new PS(a.lineAt(f-o*1e3,Bi.ByHeight,h,0,0).from,a.lineAt(p+(1-o)*1e3,Bi.ByHeight,h,0,0).to);if(r){let{head:x}=r.range;if(x<g.from||x>g.to){let v=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),S=a.lineAt(x,Bi.ByPos,h,0,0),b;r.y=="center"?b=(S.top+S.bottom)/2-v/2:r.y=="start"||r.y=="nearest"&&x<g.from?b=S.top:b=S.bottom-v,g=new PS(a.lineAt(b-1e3/2,Bi.ByHeight,h,0,0).from,a.lineAt(b+v+1e3/2,Bi.ByHeight,h,0,0).to)}}return g}mapViewport(e,r){let o=r.mapPos(e.from,-1),a=r.mapPos(e.to,1);return new PS(this.heightMap.lineAt(o,Bi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,Bi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},o=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,Bi.ByPos,this.heightOracle,0,0),{bottom:h}=this.heightMap.lineAt(r,Bi.ByPos,this.heightOracle,0,0),{visibleTop:f,visibleBottom:p}=this;return(e==0||a<=f-Math.max(10,Math.min(-o,250)))&&(r==this.state.doc.length||h>=p+Math.max(10,Math.min(o,250)))&&a>f-2*1e3&&h<p+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let o=[];for(let a of e)r.touchesRange(a.from,a.to)||o.push(new BM(r.mapPos(a.from),r.mapPos(a.to),a.size,a.displaySize));return o}ensureLineGaps(e,r){let o=this.heightOracle.lineWrapping,a=o?1e4:2e3,h=a>>1,f=a<<1;if(this.defaultTextDirection!=_i.LTR&&!o)return[];let p=[],g=(v,S,b,M)=>{if(S-v<h)return;let j=this.state.selection.main,Q=[j.from];j.empty||Q.push(j.to);for(let L of Q)if(L>v&&L<S){g(v,L-10,b,M),g(L+10,S,b,M);return}let R=rpt(e,L=>L.from>=b.from&&L.to<=b.to&&Math.abs(L.from-v)<h&&Math.abs(L.to-S)<h&&!Q.some($=>L.from<$&&L.to>$));if(!R){if(S<b.to&&r&&o&&r.visibleRanges.some(V=>V.from<=S&&V.to>=S)){let V=r.moveToLineBoundary(Ct.cursor(S),!1,!0).head;V>v&&(S=V)}let L=this.gapSize(b,v,S,M),$=o||L<2e6?L:2e6;R=new BM(v,S,L,$)}p.push(R)},x=v=>{if(v.length<f||v.type!=Is.Text)return;let S=npt(v.from,v.to,this.stateDeco);if(S.total<f)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,M,j;if(o){let Q=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,R,L;if(b!=null){let $=TS(S,b),V=((this.visibleBottom-this.visibleTop)/2+Q)/v.height;R=$-V,L=$+V}else R=(this.visibleTop-v.top-Q)/v.height,L=(this.visibleBottom-v.top+Q)/v.height;M=bS(S,R),j=bS(S,L)}else{let Q=S.total*this.heightOracle.charWidth,R=a*this.heightOracle.charWidth,L=0;if(Q>2e6)for(let W of e)W.from>=v.from&&W.from<v.to&&W.size!=W.displaySize&&W.from*this.heightOracle.charWidth+L<this.pixelViewport.left&&(L=W.size-W.displaySize);let $=this.pixelViewport.left+L,V=this.pixelViewport.right+L,D,X;if(b!=null){let W=TS(S,b),K=((V-$)/2+R)/Q;D=W-K,X=W+K}else D=($-R)/Q,X=(V+R)/Q;M=bS(S,D),j=bS(S,X)}M>v.from&&g(v.from,M,v,S),j<v.to&&g(j,v.to,v,S)};for(let v of this.viewportLines)Array.isArray(v.type)?v.type.forEach(x):x(v);return p}gapSize(e,r,o,a){let h=TS(a,o)-TS(a,r);return this.heightOracle.lineWrapping?e.height*h:a.total*this.heightOracle.charWidth*h}updateLineGaps(e){BM.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ue.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let o=[];si.spans(r,this.viewport.from,this.viewport.to,{span(h,f){o.push({from:h,to:f})},point(){}},20);let a=0;if(o.length!=this.visibleRanges.length)a=12;else for(let h=0;h<o.length&&!(a&8);h++){let f=this.visibleRanges[h],p=o[h];(f.from!=p.from||f.to!=p.to)&&(a|=4,e&&e.mapPos(f.from,-1)==p.from&&e.mapPos(f.to,1)==p.to||(a|=8))}return this.visibleRanges=o,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||wO(this.heightMap.lineAt(e,Bi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||wO(this.heightMap.lineAt(this.scaler.fromDOM(e),Bi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return wO(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class PS{constructor(e,r){this.from=e,this.to=r}}function npt(n,e,r){let o=[],a=n,h=0;return si.spans(r,n,e,{span(){},point(f,p){f>a&&(o.push({from:a,to:f}),h+=f-a),a=p}},20),a<e&&(o.push({from:a,to:e}),h+=e-a),{total:h,ranges:o}}function bS({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let o=Math.floor(n*r);for(let a=0;;a++){let{from:h,to:f}=e[a],p=f-h;if(o<=p)return h+o;o-=p}}function TS(n,e){let r=0;for(let{from:o,to:a}of n.ranges){if(e<=a){r+=e-o;break}r+=a-o}return r/n.total}function rpt(n,e){for(let r of n)if(e(r))return r}const F4={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class $5{constructor(e,r,o){let a=0,h=0,f=0;this.viewports=o.map(({from:p,to:g})=>{let x=r.lineAt(p,Bi.ByPos,e,0,0).top,v=r.lineAt(g,Bi.ByPos,e,0,0).bottom;return a+=v-x,{from:p,to:g,top:x,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(r.height-a);for(let p of this.viewports)p.domTop=f+(p.top-h)*this.scale,f=p.domBottom=p.domTop+(p.bottom-p.top),h=p.bottom}toDOM(e){for(let r=0,o=0,a=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||e<h.top)return a+(e-o)*this.scale;if(e<=h.bottom)return h.domTop+(e-h.top);o=h.bottom,a=h.domBottom}}fromDOM(e){for(let r=0,o=0,a=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||e<h.domTop)return o+(e-a)/this.scale;if(e<=h.domBottom)return h.top+(e-h.domTop);o=h.bottom,a=h.domBottom}}eq(e){return e instanceof $5?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,o)=>r.from==e.viewports[o].from&&r.to==e.viewports[o].to):!1}}function wO(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),o=e.toDOM(n.bottom);return new lu(n.from,n.length,r,o-r,Array.isArray(n._content)?n._content.map(a=>wO(a,e)):n._content)}const CS=Ht.define({combine:n=>n.join(" ")}),DA=Ht.define({combine:n=>n.indexOf(!0)>-1}),IA=Zc.newName(),j9=Zc.newName(),R9=Zc.newName(),L9={"&light":"."+j9,"&dark":"."+R9};function FA(n,e,r){return new Zc(e,{finish(o){return/&/.test(o)?o.replace(/&\w*/,a=>{if(a=="&")return n;if(!r||!r[a])throw new RangeError(`Unsupported selector: ${a}`);return r[a]}):n+" "+o}})}const spt=FA("."+IA,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},L9),opt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},XM=te.ie&&te.ie_version<=11;class lpt{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Bft,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(te.ie&&te.ie_version<=11||te.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(te.chrome&&te.chrome_version<126)&&(this.editContext=new upt(e),e.state.facet(uh)&&(e.contentDOM.editContext=this.editContext.editContext)),XM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,o)=>r!=e[o]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:o}=this,a=this.selectionRange;if(o.state.facet(uh)?o.root.activeElement!=this.dom:!dk(this.dom,a))return;let h=a.anchorNode&&o.docView.nearest(a.anchorNode);if(h&&h.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(te.ie&&te.ie_version<=11||te.android&&te.chrome)&&!o.state.selection.main.empty&&a.focusNode&&zO(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=Av(e.root);if(!r)return!1;let o=te.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&apt(this.view,r)||r;if(!o||this.selectionRange.eq(o))return!1;let a=dk(this.dom,o);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&_ft(this.dom,o)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(o),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let o=this.dom;o;)if(o.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==o?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);for(let o of this.scrollTargets=r)o.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,opt),XM&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),XM&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var o;if(!this.delayedAndroidKey){let a=()=>{let h=this.delayedAndroidKey;h&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=h.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&h.force&&ig(this.dom,h.key,h.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((o=this.delayedAndroidKey)===null||o===void 0)&&o.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,o=-1,a=!1;for(let h of e){let f=this.readMutation(h);f&&(f.typeOver&&(a=!0),r==-1?{from:r,to:o}=f:(r=Math.min(f.from,r),o=Math.max(f.to,o)))}return{from:r,to:o,typeOver:a}}readChange(){let{from:e,to:r,typeOver:o}=this.processRecords(),a=this.selectionChanged&&dk(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let h=new bdt(this.view,e,r,o);return this.view.docView.domChanged={newSel:h.newSel?h.newSel.main:null},h}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let o=this.view.state,a=S9(this.view,r);return this.view.state==o&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let o=V4(r,e.previousSibling||e.target.previousSibling,-1),a=V4(r,e.nextSibling||e.target.nextSibling,1);return{from:o?r.posAfter(o):r.posAtStart,to:a?r.posBefore(a):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(uh)!=e.state.facet(uh)&&(e.view.contentDOM.editContext=e.state.facet(uh)?this.editContext.editContext:null))}destroy(){var e,r,o;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(o=this.resizeScroll)===null||o===void 0||o.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function V4(n,e,r){for(;e;){let o=Ci.get(e);if(o&&o.parent==n)return o;let a=e.parentNode;e=a!=n.dom?a:r>0?e.nextSibling:e.previousSibling}return null}function z4(n,e){let r=e.startContainer,o=e.startOffset,a=e.endContainer,h=e.endOffset,f=n.docView.domAtPos(n.state.selection.main.anchor);return zO(f.node,f.offset,a,h)&&([r,o,a,h]=[a,h,r,o]),{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:h}}function apt(n,e){if(e.getComposedRanges){let a=e.getComposedRanges(n.root)[0];if(a)return z4(n,a)}let r=null;function o(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",o,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",o,!0),r?z4(n,r):null}class upt{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=o=>{let a=e.state.selection.main,{anchor:h,head:f}=a,p=this.toEditorPos(o.updateRangeStart),g=this.toEditorPos(o.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:o.updateRangeStart,editorBase:p,drifted:!1});let x={from:p,to:g,insert:Ke.of(o.text.split(`
`))};if(x.from==this.from&&h<this.from?x.from=h:x.to==this.to&&h>this.to&&(x.to=h),x.from==x.to&&!x.insert.length){let v=Ct.single(this.toEditorPos(o.selectionStart),this.toEditorPos(o.selectionEnd));v.main.eq(a)||e.dispatch({selection:v,userEvent:"select"});return}if((te.mac||te.android)&&x.from==f-1&&/^\. ?$/.test(o.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(x={from:p,to:g,insert:Ke.of([o.text.replace("."," ")])}),this.pendingContextChange=x,!e.state.readOnly){let v=this.to-this.from+(x.to-x.from+x.insert.length);L5(e,x,Ct.single(this.toEditorPos(o.selectionStart,v),this.toEditorPos(o.selectionEnd,v)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=o=>{let a=[],h=null;for(let f=this.toEditorPos(o.rangeStart),p=this.toEditorPos(o.rangeEnd);f<p;f++){let g=e.coordsForChar(f);h=g&&new DOMRect(g.left,g.top,g.right-g.left,g.bottom-g.top)||h||new DOMRect,a.push(h)}r.updateCharacterBounds(o.rangeStart,a)},this.handlers.textformatupdate=o=>{let a=[];for(let h of o.getTextFormats()){let f=h.underlineStyle,p=h.underlineThickness;if(f!="None"&&p!="None"){let g=this.toEditorPos(h.rangeStart),x=this.toEditorPos(h.rangeEnd);if(g<x){let v=`text-decoration: underline ${f=="Dashed"?"dashed ":f=="Squiggle"?"wavy ":""}${p=="Thin"?1:2}px`;a.push(ue.mark({attributes:{style:v}}).range(g,x))}}}e.dispatch({effects:m9.of(ue.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:o}=this.composing;this.composing=null,o&&this.reset(e.state)}};for(let o in this.handlers)r.addEventListener(o,this.handlers[o]);this.measureReq={read:o=>{this.editContext.updateControlBounds(o.contentDOM.getBoundingClientRect());let a=Av(o.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,o=!1,a=this.pendingContextChange;return e.changes.iterChanges((h,f,p,g,x)=>{if(o)return;let v=x.length-(f-h);if(a&&f>=a.to)if(a.from==h&&a.to==f&&a.insert.eq(x)){a=this.pendingContextChange=null,r+=v,this.to+=v;return}else a=null,this.revertPending(e.state);if(h+=r,f+=r,f<=this.from)this.from+=v,this.to+=v;else if(h<this.to){if(h<this.from||f>this.to||this.to-this.from+x.length>3e4){o=!0;return}this.editContext.updateText(this.toContextPos(h),this.toContextPos(f),x.toString()),this.to+=v}r+=v}),a&&!o&&this.revertPending(e.state),!o}update(e){let r=this.pendingContextChange,o=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(o.from,o.to)&&e.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,o=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),a=this.toContextPos(r.head);(this.editContext.selectionStart!=o||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(o,a)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let o=this.composing;return o&&o.drifted?o.editorBase+(e-o.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Zt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:o}=e;this.dispatchTransactions=e.dispatchTransactions||o&&(a=>a.forEach(h=>o(h,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Xft(e.parent)||document,this.viewState=new I4(e.state||Ze.create(e)),e.scrollTo&&e.scrollTo.is(wS)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(OO).map(a=>new FM(a));for(let a of this.plugins)a.update(this);this.observer=new lpt(this),this.inputState=new Qdt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new v4(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof qn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,o=!1,a,h=this.state;for(let b of e){if(b.startState!=h)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");h=b.state}if(this.destroyed){this.viewState.state=h;return}let f=this.hasFocus,p=0,g=null;e.some(b=>b.annotation(M9))?(this.inputState.notifiedFocused=f,p=1):f!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=f,g=N9(h,f),g||(p=1));let x=this.observer.delayedAndroidKey,v=null;if(x?(this.observer.clearDelayedAndroidKey(),v=this.observer.readChange(),(v&&!this.state.doc.eq(h.doc)||!this.state.selection.eq(h.selection))&&(v=null)):this.observer.clear(),h.facet(Ze.phrases)!=this.state.facet(Ze.phrases))return this.setState(h);a=vP.create(this,h,e),a.flags|=p;let S=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(S&&(S=S.map(b.changes)),b.scrollIntoView){let{main:M}=b.state.selection;S=new ng(M.empty?M:Ct.cursor(M.head,M.head>M.anchor?-1:1))}for(let M of b.effects)M.is(wS)&&(S=M.value.clip(this.state))}this.viewState.update(a,S),this.bidiCache=wP.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),r=this.docView.update(a),this.state.facet(vO)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(CS)!=a.state.facet(CS)&&(this.viewState.mustMeasureContent=!0),(r||o||S||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!a.empty)for(let b of this.state.facet(RA))try{b(a)}catch(M){oo(this.state,M,"update listener")}(g||v)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),v&&!S9(this,v)&&x.force&&ig(this.contentDOM,x.key,x.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new I4(e),this.plugins=e.facet(OO).map(o=>new FM(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView.destroy(),this.docView=new v4(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(OO),o=e.state.facet(OO);if(r!=o){let a=[];for(let h of o){let f=r.indexOf(h);if(f<0)a.push(new FM(h));else{let p=this.plugins[f];p.mustUpdate=e,a.push(p)}}for(let h of this.plugins)h.mustUpdate!=e&&h.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);r!=o&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(o){oo(this.state,o,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,o=this.scrollDOM,a=o.scrollTop*this.scaleY,{scrollAnchorPos:h,scrollAnchorHeight:f}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(f=-1),this.viewState.scrollAnchorHeight=-1;try{for(let p=0;;p++){if(f<0)if(XW(o))h=-1,f=this.viewState.heightMap.height;else{let M=this.viewState.scrollAnchorAt(a);h=M.from,f=M.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(p>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let x=[];g&4||([this.measureRequests,x]=[x,this.measureRequests]);let v=x.map(M=>{try{return M.read(this)}catch(j){return oo(this.state,j),B4}}),S=vP.create(this,this.state,[]),b=!1;S.flags|=g,r?r.flags|=g:r=S,this.updateState=2,S.empty||(this.updatePlugins(S),this.inputState.update(S),this.updateAttrs(),b=this.docView.update(S),b&&this.docViewUpdate());for(let M=0;M<x.length;M++)if(v[M]!=B4)try{let j=x[M];j.write&&j.write(v[M],this)}catch(j){oo(this.state,j)}if(b&&this.docView.updateSelection(!0),!S.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,f=-1;continue}else{let j=(h<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(h).top)-f;if(j>1||j<-1){a=a+j,o.scrollTop=a/this.scaleY,f=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let p of this.state.facet(RA))p(r)}get themeClasses(){return IA+" "+(this.state.facet(DA)?R9:j9)+" "+this.state.facet(CS)}updateAttrs(){let e=X4(this,g9,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(uh)?"true":"false",class:"cm-content",style:`${te.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),X4(this,A5,r);let o=this.observer.ignore(()=>{let a=MA(this.contentDOM,this.contentAttrs,r),h=MA(this.dom,this.editorAttrs,e);return a||h});return this.editorAttrs=e,this.contentAttrs=r,o}showAnnouncements(e){let r=!0;for(let o of e)for(let a of o.effects)if(a.is(Zt.announce)){r&&(this.announceDOM.textContent=""),r=!1;let h=this.announceDOM.appendChild(document.createElement("div"));h.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(vO);let e=this.state.facet(Zt.cspNonce);Zc.mount(this.root,this.styleModules.concat(spt).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(o=>o.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,o){return zM(this,e,P4(this,e,r,o))}moveByGroup(e,r){return zM(this,e,P4(this,e,r,o=>wdt(this,e.head,o)))}visualLineSide(e,r){let o=this.bidiSpans(e),a=this.textDirectionAt(e.from),h=o[r?o.length-1:0];return Ct.cursor(h.side(r,a)+e.from,h.forward(!r,a)?1:-1)}moveToLineBoundary(e,r,o=!0){return xdt(this,e,r,o)}moveVertically(e,r,o){return zM(this,e,Sdt(this,e,r,o))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),w9(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let o=this.docView.coordsAt(e,r);if(!o||o.left==o.right)return o;let a=this.state.doc.lineAt(e),h=this.bidiSpans(a),f=h[Cc.find(h,e-a.from,-1,r)];return mx(o,f.dir==_i.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(f9)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>hpt)return r9(e.length);let r=this.textDirectionAt(e.from),o;for(let h of this.bidiCache)if(h.from==e.from&&h.dir==r&&(h.fresh||n9(h.isolates,o=O4(this,e))))return h.order;o||(o=O4(this,e));let a=rdt(e.text,r,o);return this.bidiCache.push(new wP(e.from,e.to,r,o,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||te.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{zW(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return wS.of(new ng(typeof e=="number"?Ct.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,o=this.viewState.scrollAnchorAt(e);return wS.of(new ng(Ct.cursor(o.from),"start","start",o.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return In.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return In.define(()=>({}),{eventObservers:e})}static theme(e,r){let o=Zc.newName(),a=[CS.of(o),vO.of(FA(`.${o}`,e))];return r&&r.dark&&a.push(DA.of(!0)),a}static baseTheme(e){return Nh.lowest(vO.of(FA("."+IA,e,L9)))}static findFromDOM(e){var r;let o=e.querySelector(".cm-content"),a=o&&Ci.get(o)||Ci.get(e);return((r=a==null?void 0:a.rootView)===null||r===void 0?void 0:r.view)||null}}Zt.styleModule=vO;Zt.inputHandler=h9;Zt.clipboardInputFilter=N5;Zt.clipboardOutputFilter=Q5;Zt.scrollHandler=p9;Zt.focusChangeEffect=c9;Zt.perLineTextDirection=f9;Zt.exceptionSink=u9;Zt.updateListener=RA;Zt.editable=uh;Zt.mouseSelectionStyle=a9;Zt.dragMovesSelection=l9;Zt.clickAddsSelectionRange=o9;Zt.decorations=jv;Zt.outerDecorations=y9;Zt.atomicRanges=j5;Zt.bidiIsolatedRanges=O9;Zt.scrollMargins=v9;Zt.darkTheme=DA;Zt.cspNonce=Ht.define({combine:n=>n.length?n[0]:""});Zt.contentAttributes=A5;Zt.editorAttributes=g9;Zt.lineWrapping=Zt.contentAttributes.of({class:"cm-lineWrapping"});Zt.announce=ke.define();const hpt=4096,B4={};class wP{constructor(e,r,o,a,h,f){this.from=e,this.to=r,this.dir=o,this.isolates=a,this.fresh=h,this.order=f}static update(e,r){if(r.empty&&!e.some(h=>h.fresh))return e;let o=[],a=e.length?e[e.length-1].dir:_i.LTR;for(let h=Math.max(0,e.length-10);h<e.length;h++){let f=e[h];f.dir==a&&!r.touchesRange(f.from,f.to)&&o.push(new wP(r.mapPos(f.from,1),r.mapPos(f.to,-1),f.dir,f.isolates,!1,f.order))}return o}}function X4(n,e,r){for(let o=n.state.facet(e),a=o.length-1;a>=0;a--){let h=o[a],f=typeof h=="function"?h(n):h;f&&CA(f,r)}return r}const cpt=te.mac?"mac":te.windows?"win":te.linux?"linux":"key";function fpt(n,e){const r=n.split(/-(?!$)/);let o=r[r.length-1];o=="Space"&&(o=" ");let a,h,f,p;for(let g=0;g<r.length-1;++g){const x=r[g];if(/^(cmd|meta|m)$/i.test(x))p=!0;else if(/^a(lt)?$/i.test(x))a=!0;else if(/^(c|ctrl|control)$/i.test(x))h=!0;else if(/^s(hift)?$/i.test(x))f=!0;else if(/^mod$/i.test(x))e=="mac"?p=!0:h=!0;else throw new Error("Unrecognized modifier name: "+x)}return a&&(o="Alt-"+o),h&&(o="Ctrl-"+o),p&&(o="Meta-"+o),f&&(o="Shift-"+o),o}function MS(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const dpt=Nh.default(Zt.domEventHandlers({keydown(n,e){return $9(E9(e.state),n,e,"editor")}})),iy=Ht.define({enables:dpt}),_4=new WeakMap;function E9(n){let e=n.facet(iy),r=_4.get(e);return r||_4.set(e,r=gpt(e.reduce((o,a)=>o.concat(a),[]))),r}function ppt(n,e,r){return $9(E9(n.state),e,n,r)}let gc=null;const mpt=4e3;function gpt(n,e=cpt){let r=Object.create(null),o=Object.create(null),a=(f,p)=>{let g=o[f];if(g==null)o[f]=p;else if(g!=p)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},h=(f,p,g,x,v)=>{var S,b;let M=r[f]||(r[f]=Object.create(null)),j=p.split(/ (?!$)/).map(L=>fpt(L,e));for(let L=1;L<j.length;L++){let $=j.slice(0,L).join(" ");a($,!0),M[$]||(M[$]={preventDefault:!0,stopPropagation:!1,run:[V=>{let D=gc={view:V,prefix:$,scope:f};return setTimeout(()=>{gc==D&&(gc=null)},mpt),!0}]})}let Q=j.join(" ");a(Q,!1);let R=M[Q]||(M[Q]={preventDefault:!1,stopPropagation:!1,run:((b=(S=M._any)===null||S===void 0?void 0:S.run)===null||b===void 0?void 0:b.slice())||[]});g&&R.run.push(g),x&&(R.preventDefault=!0),v&&(R.stopPropagation=!0)};for(let f of n){let p=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let x of p){let v=r[x]||(r[x]=Object.create(null));v._any||(v._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:S}=f;for(let b in v)v[b].run.push(M=>S(M,VA))}let g=f[e]||f.key;if(g)for(let x of p)h(x,g,f.run,f.preventDefault,f.stopPropagation),f.shift&&h(x,"Shift-"+g,f.shift,f.preventDefault,f.stopPropagation)}return r}let VA=null;function $9(n,e,r,o){VA=e;let a=Ift(e),h=eo(a,0),f=ou(h)==a.length&&a!=" ",p="",g=!1,x=!1,v=!1;gc&&gc.view==r&&gc.scope==o&&(p=gc.prefix+" ",P9.indexOf(e.keyCode)<0&&(x=!0,gc=null));let S=new Set,b=R=>{if(R){for(let L of R.run)if(!S.has(L)&&(S.add(L),L(r)))return R.stopPropagation&&(v=!0),!0;R.preventDefault&&(R.stopPropagation&&(v=!0),x=!0)}return!1},M=n[o],j,Q;return M&&(b(M[p+MS(a,e,!f)])?g=!0:f&&(e.altKey||e.metaKey||e.ctrlKey)&&!(te.windows&&e.ctrlKey&&e.altKey)&&(j=Yc[e.keyCode])&&j!=a?(b(M[p+MS(j,e,!0)])||e.shiftKey&&(Q=Qv[e.keyCode])!=a&&Q!=j&&b(M[p+MS(Q,e,!1)]))&&(g=!0):f&&e.shiftKey&&b(M[p+MS(a,e,!0)])&&(g=!0),!g&&b(M._any)&&(g=!0)),x&&(g=!0),g&&v&&e.stopPropagation(),VA=null,g}class Ox{constructor(e,r,o,a,h){this.className=e,this.left=r,this.top=o,this.width=a,this.height=h}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,o){if(o.empty){let a=e.coordsAtPos(o.head,o.assoc||1);if(!a)return[];let h=D9(e);return[new Ox(r,a.left-h.left,a.top-h.top,null,a.bottom-a.top)]}else return ypt(e,r,o)}}function D9(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==_i.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function U4(n,e,r,o){let a=n.coordsAtPos(e,r*2);if(!a)return o;let h=n.dom.getBoundingClientRect(),f=(a.top+a.bottom)/2,p=n.posAtCoords({x:h.left+1,y:f}),g=n.posAtCoords({x:h.right-1,y:f});return p==null||g==null?o:{from:Math.max(o.from,Math.min(p,g)),to:Math.min(o.to,Math.max(p,g))}}function ypt(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let o=Math.max(r.from,n.viewport.from),a=Math.min(r.to,n.viewport.to),h=n.textDirection==_i.LTR,f=n.contentDOM,p=f.getBoundingClientRect(),g=D9(n),x=f.querySelector(".cm-line"),v=x&&window.getComputedStyle(x),S=p.left+(v?parseInt(v.paddingLeft)+Math.min(0,parseInt(v.textIndent)):0),b=p.right-(v?parseInt(v.paddingRight):0),M=EA(n,o,1),j=EA(n,a,-1),Q=M.type==Is.Text?M:null,R=j.type==Is.Text?j:null;if(Q&&(n.lineWrapping||M.widgetLineBreaks)&&(Q=U4(n,o,1,Q)),R&&(n.lineWrapping||j.widgetLineBreaks)&&(R=U4(n,a,-1,R)),Q&&R&&Q.from==R.from&&Q.to==R.to)return $(V(r.from,r.to,Q));{let X=Q?V(r.from,null,Q):D(M,!1),W=R?V(null,r.to,R):D(j,!0),K=[];return(Q||M).to<(R||j).from-(Q&&R?1:0)||M.widgetLineBreaks>1&&X.bottom+n.defaultLineHeight/2<W.top?K.push(L(S,X.bottom,b,W.top)):X.bottom<W.top&&n.elementAtHeight((X.bottom+W.top)/2).type==Is.Text&&(X.bottom=W.top=(X.bottom+W.top)/2),$(X).concat(K).concat($(W))}function L(X,W,K,tt){return new Ox(e,X-g.left,W-g.top,K-X,tt-W)}function $({top:X,bottom:W,horizontal:K}){let tt=[];for(let rt=0;rt<K.length;rt+=2)tt.push(L(K[rt],X,K[rt+1],W));return tt}function V(X,W,K){let tt=1e9,rt=-1e9,Ot=[];function bt(mt,Ft,Nt,Rt,dt){let ht=n.coordsAtPos(mt,mt==K.to?-2:2),yt=n.coordsAtPos(Nt,Nt==K.from?2:-2);!ht||!yt||(tt=Math.min(ht.top,yt.top,tt),rt=Math.max(ht.bottom,yt.bottom,rt),dt==_i.LTR?Ot.push(h&&Ft?S:ht.left,h&&Rt?b:yt.right):Ot.push(!h&&Rt?S:yt.left,!h&&Ft?b:ht.right))}let wt=X??K.from,St=W??K.to;for(let mt of n.visibleRanges)if(mt.to>wt&&mt.from<St)for(let Ft=Math.max(mt.from,wt),Nt=Math.min(mt.to,St);;){let Rt=n.state.doc.lineAt(Ft);for(let dt of n.bidiSpans(Rt)){let ht=dt.from+Rt.from,yt=dt.to+Rt.from;if(ht>=Nt)break;yt>Ft&&bt(Math.max(ht,Ft),X==null&&ht<=wt,Math.min(yt,Nt),W==null&&yt>=St,dt.dir)}if(Ft=Rt.to+1,Ft>=Nt)break}return Ot.length==0&&bt(wt,X==null,St,W==null,n.textDirection),{top:tt,bottom:rt,horizontal:Ot}}function D(X,W){let K=p.top+(W?X.top:X.bottom);return{top:K,bottom:K,horizontal:[]}}}function Opt(n,e){return n.constructor==e.constructor&&n.eq(e)}class vpt{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(yk)!=e.state.facet(yk)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,o=e.facet(yk);for(;r<o.length&&o[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,o)=>!Opt(r,this.drawn[o]))){let r=this.dom.firstChild,o=0;for(let a of e)a.update&&r&&a.constructor&&this.drawn[o].constructor&&a.update(r,this.drawn[o])?(r=r.nextSibling,o++):this.dom.insertBefore(a.draw(),r);for(;r;){let a=r.nextSibling;r.remove(),r=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const yk=Ht.define();function I9(n){return[In.define(e=>new vpt(e,n)),yk.of(n)]}const Rv=Ht.define({combine(n){return ku(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function xpt(n={}){return[Rv.of(n),wpt,Spt,kpt,d9.of(!0)]}function F9(n){return n.startState.facet(Rv)!=n.state.facet(Rv)}const wpt=I9({above:!0,markers(n){let{state:e}=n,r=e.facet(Rv),o=[];for(let a of e.selection.ranges){let h=a==e.selection.main;if(a.empty||r.drawRangeCursor){let f=h?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",p=a.empty?a:Ct.cursor(a.head,a.head>a.anchor?-1:1);for(let g of Ox.forRange(n,f,p))o.push(g)}}return o},update(n,e){n.transactions.some(o=>o.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=F9(n);return r&&Z4(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){Z4(e.state,n)},class:"cm-cursorLayer"});function Z4(n,e){e.style.animationDuration=n.facet(Rv).cursorBlinkRate+"ms"}const Spt=I9({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Ox.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||F9(n)},class:"cm-selectionLayer"}),kpt=Nh.highest(Zt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),V9=ke.define({map(n,e){return n==null?null:e.mapPos(n)}}),SO=Tr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,o)=>o.is(V9)?o.value:r,n)}}),Ppt=In.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(SO);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(SO)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(SO),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let o=n.scrollDOM.getBoundingClientRect();return{left:r.left-o.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-o.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(SO)!=n&&this.view.dispatch({effects:V9.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function bpt(){return[SO,Ppt]}function Y4(n,e,r,o,a){e.lastIndex=0;for(let h=n.iterRange(r,o),f=r,p;!h.next().done;f+=h.value.length)if(!h.lineBreak)for(;p=e.exec(h.value);)a(f+p.index,p)}function Tpt(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let o=[];for(let{from:a,to:h}of r)a=Math.max(n.state.doc.lineAt(a).from,a-e),h=Math.min(n.state.doc.lineAt(h).to,h+e),o.length&&o[o.length-1].to>=a?o[o.length-1].to=h:o.push({from:a,to:h});return o}class Cpt{constructor(e){const{regexp:r,decoration:o,decorate:a,boundary:h,maxLength:f=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,a)this.addMatch=(p,g,x,v)=>a(v,x,x+p[0].length,p,g);else if(typeof o=="function")this.addMatch=(p,g,x,v)=>{let S=o(p,g,x);S&&v(x,x+p[0].length,S)};else if(o)this.addMatch=(p,g,x,v)=>v(x,x+p[0].length,o);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=h,this.maxLength=f}createDeco(e){let r=new Ph,o=r.add.bind(r);for(let{from:a,to:h}of Tpt(e,this.maxLength))Y4(e.state.doc,this.regexp,a,h,(f,p)=>this.addMatch(p,e,f,o));return r.finish()}updateDeco(e,r){let o=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((h,f,p,g)=>{g>=e.view.viewport.from&&p<=e.view.viewport.to&&(o=Math.min(p,o),a=Math.max(g,a))}),e.viewportMoved||a-o>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,r.map(e.changes),o,a):r}updateRange(e,r,o,a){for(let h of e.visibleRanges){let f=Math.max(h.from,o),p=Math.min(h.to,a);if(p>=f){let g=e.state.doc.lineAt(f),x=g.to<p?e.state.doc.lineAt(p):g,v=Math.max(h.from,g.from),S=Math.min(h.to,x.to);if(this.boundary){for(;f>g.from;f--)if(this.boundary.test(g.text[f-1-g.from])){v=f;break}for(;p<x.to;p++)if(this.boundary.test(x.text[p-x.from])){S=p;break}}let b=[],M,j=(Q,R,L)=>b.push(L.range(Q,R));if(g==x)for(this.regexp.lastIndex=v-g.from;(M=this.regexp.exec(g.text))&&M.index<S-g.from;)this.addMatch(M,e,M.index+g.from,j);else Y4(e.state.doc,this.regexp,v,S,(Q,R)=>this.addMatch(R,e,Q,j));r=r.update({filterFrom:v,filterTo:S,filter:(Q,R)=>Q<v||R>S,add:b})}}return r}}const zA=/x/.unicode!=null?"gu":"g",Mpt=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,zA),Npt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _M=null;function Qpt(){var n;if(_M==null&&typeof document<"u"&&document.body){let e=document.body.style;_M=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _M||!1}const Ok=Ht.define({combine(n){let e=ku(n,{render:null,specialChars:Mpt,addSpecialChars:null});return(e.replaceTabs=!Qpt())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,zA)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,zA)),e}});function Apt(n={}){return[Ok.of(n),jpt()]}let W4=null;function jpt(){return W4||(W4=In.fromClass(class{constructor(n){this.view=n,this.decorations=ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Ok)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Cpt({regexp:n.specialChars,decoration:(e,r,o)=>{let{doc:a}=r.state,h=eo(e[0],0);if(h==9){let f=a.lineAt(o),p=r.state.tabSize,g=pa(f.text,p,o-f.from);return ue.replace({widget:new $pt((p-g%p)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[h]||(this.decorationCache[h]=ue.replace({widget:new Ept(n,h)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Ok);n.startState.facet(Ok)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Rpt="•";function Lpt(n){return n>=32?Rpt:n==10?"␤":String.fromCharCode(9216+n)}class Ept extends Pu{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=Lpt(this.code),o=e.state.phrase("Control character")+" "+(Npt[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,o,r);if(a)return a;let h=document.createElement("span");return h.textContent=r,h.title=o,h.setAttribute("aria-label",o),h.className="cm-specialChar",h}ignoreEvent(){return!1}}class $pt extends Pu{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Dpt(){return Fpt}const Ipt=ue.line({class:"cm-activeLine"}),Fpt=In.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let o of n.state.selection.ranges){let a=n.lineBlockAt(o.head);a.from>e&&(r.push(Ipt.range(a.from)),e=a.from)}return ue.set(r)}},{decorations:n=>n.decorations});class Vpt extends Pu{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?jg(e.firstChild):[];if(!r.length)return null;let o=window.getComputedStyle(e.parentNode),a=mx(r[0],o.direction!="rtl"),h=parseInt(o.lineHeight);return a.bottom-a.top>h*1.5?{left:a.left,right:a.right,top:a.top,bottom:a.top+h}:a}ignoreEvent(){return!1}}function zpt(n){let e=In.fromClass(class{constructor(r){this.view=r,this.placeholder=n?ue.set([ue.widget({widget:new Vpt(n),side:1}).range(0)]):ue.none}get decorations(){return this.view.state.doc.length?ue.none:this.placeholder}},{decorations:r=>r.decorations});return typeof n=="string"?[e,Zt.contentAttributes.of({"aria-placeholder":n})]:e}const BA=2e3;function Bpt(n,e,r){let o=Math.min(e.line,r.line),a=Math.max(e.line,r.line),h=[];if(e.off>BA||r.off>BA||e.col<0||r.col<0){let f=Math.min(e.off,r.off),p=Math.max(e.off,r.off);for(let g=o;g<=a;g++){let x=n.doc.line(g);x.length<=p&&h.push(Ct.range(x.from+f,x.to+p))}}else{let f=Math.min(e.col,r.col),p=Math.max(e.col,r.col);for(let g=o;g<=a;g++){let x=n.doc.line(g),v=xA(x.text,f,n.tabSize,!0);if(v<0)h.push(Ct.cursor(x.to));else{let S=xA(x.text,p,n.tabSize);h.push(Ct.range(x.from+v,x.from+S))}}}return h}function Xpt(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function q4(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),o=n.state.doc.lineAt(r),a=r-o.from,h=a>BA?-1:a==o.length?Xpt(n,e.clientX):pa(o.text,n.state.tabSize,r-o.from);return{line:o.number,col:h,off:a}}function _pt(n,e){let r=q4(n,e),o=n.state.selection;return r?{update(a){if(a.docChanged){let h=a.changes.mapPos(a.startState.doc.line(r.line).from),f=a.state.doc.lineAt(h);r={line:f.number,col:r.col,off:Math.min(r.off,f.length)},o=o.map(a.changes)}},get(a,h,f){let p=q4(n,a);if(!p)return o;let g=Bpt(n.state,r,p);return g.length?f?Ct.create(g.concat(o.ranges)):Ct.create(g):o}}:null}function Upt(n){let e=r=>r.altKey&&r.button==0;return Zt.mouseSelectionStyle.of((r,o)=>e(o)?_pt(r,o):null)}const Zpt={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Ypt={style:"cursor: crosshair"};function Wpt(n={}){let[e,r]=Zpt[n.key||"Alt"],o=In.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||r(a))},keyup(a){(a.keyCode==e||!r(a))&&this.set(!1)},mousemove(a){this.set(r(a))}}});return[o,Zt.contentAttributes.of(a=>{var h;return!((h=a.plugin(o))===null||h===void 0)&&h.isDown?Ypt:null})]}const rO="-10000px";class z9{constructor(e,r,o,a){this.facet=r,this.createTooltipView=o,this.removeTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(f=>f);let h=null;this.tooltipViews=this.tooltips.map(f=>h=o(f,h))}update(e,r){var o;let a=e.state.facet(this.facet),h=a.filter(g=>g);if(a===this.input){for(let g of this.tooltipViews)g.update&&g.update(e);return!1}let f=[],p=r?[]:null;for(let g=0;g<h.length;g++){let x=h[g],v=-1;if(x){for(let S=0;S<this.tooltips.length;S++){let b=this.tooltips[S];b&&b.create==x.create&&(v=S)}if(v<0)f[g]=this.createTooltipView(x,g?f[g-1]:null),p&&(p[g]=!!x.above);else{let S=f[g]=this.tooltipViews[v];p&&(p[g]=r[v]),S.update&&S.update(e)}}}for(let g of this.tooltipViews)f.indexOf(g)<0&&(this.removeTooltipView(g),(o=g.destroy)===null||o===void 0||o.call(g));return r&&(p.forEach((g,x)=>r[x]=g),r.length=p.length),this.input=a,this.tooltips=h,this.tooltipViews=f,!0}}function qpt(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const UM=Ht.define({combine:n=>{var e,r,o;return{position:te.ios?"absolute":((e=n.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(a=>a.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((o=n.find(a=>a.tooltipSpace))===null||o===void 0?void 0:o.tooltipSpace)||qpt}}}),G4=new WeakMap,D5=In.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(UM);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new z9(n,I5,(r,o)=>this.createTooltip(r,o),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,o=n.state.facet(UM);if(o.position!=this.position&&!this.madeAbsolute){this.position=o.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;r=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),o=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",r.dom.appendChild(a)}return r.dom.style.position=this.position,r.dom.style.top=rO,r.dom.style.left="0px",this.container.insertBefore(r.dom,o),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let o of this.manager.tooltipViews)o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:h}=this.manager.tooltipViews[0];if(te.gecko)r=h.offsetParent!=this.container.ownerDocument.body;else if(h.style.top==rO&&h.style.left=="0px"){let f=h.getBoundingClientRect();r=Math.abs(f.top+1e4)>1||Math.abs(f.left)>1}}if(r||this.position=="absolute")if(this.parent){let h=this.parent.getBoundingClientRect();h.width&&h.height&&(n=h.width/this.parent.offsetWidth,e=h.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let o=this.view.scrollDOM.getBoundingClientRect(),a=R5(this.view);return{visible:{left:o.left+a.left,top:o.top+a.top,right:o.right-a.right,bottom:o.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((h,f)=>{let p=this.manager.tooltipViews[f];return p.getCoords?p.getCoords(h.pos):this.view.coordsAtPos(h.pos)}),size:this.manager.tooltipViews.map(({dom:h})=>h.getBoundingClientRect()),space:this.view.state.facet(UM).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let p of this.manager.tooltipViews)p.dom.style.position="absolute"}let{visible:r,space:o,scaleX:a,scaleY:h}=n,f=[];for(let p=0;p<this.manager.tooltips.length;p++){let g=this.manager.tooltips[p],x=this.manager.tooltipViews[p],{dom:v}=x,S=n.pos[p],b=n.size[p];if(!S||g.clip!==!1&&(S.bottom<=Math.max(r.top,o.top)||S.top>=Math.min(r.bottom,o.bottom)||S.right<Math.max(r.left,o.left)-.1||S.left>Math.min(r.right,o.right)+.1)){v.style.top=rO;continue}let M=g.arrow?x.dom.querySelector(".cm-tooltip-arrow"):null,j=M?7:0,Q=b.right-b.left,R=(e=G4.get(x))!==null&&e!==void 0?e:b.bottom-b.top,L=x.offset||Hpt,$=this.view.textDirection==_i.LTR,V=b.width>o.right-o.left?$?o.left:o.right-b.width:$?Math.max(o.left,Math.min(S.left-(M?14:0)+L.x,o.right-Q)):Math.min(Math.max(o.left,S.left-Q+(M?14:0)-L.x),o.right-Q),D=this.above[p];!g.strictSide&&(D?S.top-R-j-L.y<o.top:S.bottom+R+j+L.y>o.bottom)&&D==o.bottom-S.bottom>S.top-o.top&&(D=this.above[p]=!D);let X=(D?S.top-o.top:o.bottom-S.bottom)-j;if(X<R&&x.resize!==!1){if(X<this.view.defaultLineHeight){v.style.top=rO;continue}G4.set(x,R),v.style.height=(R=X)/h+"px"}else v.style.height&&(v.style.height="");let W=D?S.top-R-j-L.y:S.bottom+j+L.y,K=V+Q;if(x.overlap!==!0)for(let tt of f)tt.left<K&&tt.right>V&&tt.top<W+R&&tt.bottom>W&&(W=D?tt.top-R-2-j:tt.bottom+j+2);if(this.position=="absolute"?(v.style.top=(W-n.parent.top)/h+"px",H4(v,(V-n.parent.left)/a)):(v.style.top=W/h+"px",H4(v,V/a)),M){let tt=S.left+($?L.x:-L.x)-(V+14-7);M.style.left=tt/a+"px"}x.overlap!==!0&&f.push({left:V,top:W,right:K,bottom:W+R}),v.classList.toggle("cm-tooltip-above",D),v.classList.toggle("cm-tooltip-below",!D),x.positioned&&x.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=rO}},{eventObservers:{scroll(){this.maybeMeasure()}}});function H4(n,e){let r=parseInt(n.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(n.style.left=e+"px")}const Gpt=Zt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Hpt={x:0,y:0},I5=Ht.define({enables:[D5,Gpt]}),SP=Ht.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class I2{static create(e){return new I2(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new z9(e,SP,(r,o)=>this.createHostedView(r,o),r=>r.dom.remove())}createHostedView(e,r){let o=e.create(this.view);return o.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(o.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&o.mount&&o.mount(this.view),o}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let o of this.manager.tooltipViews){let a=o[e];if(a!==void 0){if(r===void 0)r=a;else if(r!==a)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Kpt=I5.compute([SP],n=>{let e=n.facet(SP);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var o;return(o=r.end)!==null&&o!==void 0?o:r.pos})),create:I2.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class Jpt{constructor(e,r,o,a,h){this.view=e,this.source=r,this.field=o,this.setHover=a,this.hoverTime=h,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,o=e.docView.nearest(r.target);if(!o)return;let a,h=1;if(o instanceof Tc)a=o.posAtStart;else{if(a=e.posAtCoords(r),a==null)return;let p=e.coordsAtPos(a);if(!p||r.y<p.top||r.y>p.bottom||r.x<p.left-e.defaultCharacterWidth||r.x>p.right+e.defaultCharacterWidth)return;let g=e.bidiSpans(e.state.doc.lineAt(a)).find(v=>v.from<=a&&v.to>=a),x=g&&g.dir==_i.RTL?-1:1;h=r.x<p.left?-x:x}let f=this.source(e,a,h);if(f!=null&&f.then){let p=this.pending={pos:a};f.then(g=>{this.pending==p&&(this.pending=null,g&&!(Array.isArray(g)&&!g.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(g)?g:[g])}))},g=>oo(e.state,g,"hover tooltip"))}else f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])})}get tooltip(){let e=this.view.plugin(D5),r=e?e.manager.tooltips.findIndex(o=>o.create==I2.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,o;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:h}=this;if(a.length&&h&&!tmt(h.dom,e)||this.pending){let{pos:f}=a[0]||this.pending,p=(o=(r=a[0])===null||r===void 0?void 0:r.end)!==null&&o!==void 0?o:f;(f==p?this.view.posAtCoords(this.lastMove)!=f:!emt(this.view,f,p,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:o}=this;o&&o.dom.contains(e.relatedTarget)?this.watchTooltipLeave(o.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=o=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(o.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const NS=4;function tmt(n,e){let{left:r,right:o,top:a,bottom:h}=n.getBoundingClientRect(),f;if(f=n.querySelector(".cm-tooltip-arrow")){let p=f.getBoundingClientRect();a=Math.min(p.top,a),h=Math.max(p.bottom,h)}return e.clientX>=r-NS&&e.clientX<=o+NS&&e.clientY>=a-NS&&e.clientY<=h+NS}function emt(n,e,r,o,a,h){let f=n.scrollDOM.getBoundingClientRect(),p=n.documentTop+n.documentPadding.top+n.contentHeight;if(f.left>o||f.right<o||f.top>a||Math.min(f.bottom,p)<a)return!1;let g=n.posAtCoords({x:o,y:a},!1);return g>=e&&g<=r}function imt(n,e={}){let r=ke.define(),o=Tr.define({create(){return[]},update(a,h){if(a.length&&(e.hideOnChange&&(h.docChanged||h.selection)?a=[]:e.hideOn&&(a=a.filter(f=>!e.hideOn(h,f))),h.docChanged)){let f=[];for(let p of a){let g=h.changes.mapPos(p.pos,-1,Br.TrackDel);if(g!=null){let x=Object.assign(Object.create(null),p);x.pos=g,x.end!=null&&(x.end=h.changes.mapPos(x.end)),f.push(x)}}a=f}for(let f of h.effects)f.is(r)&&(a=f.value),f.is(nmt)&&(a=[]);return a},provide:a=>SP.from(a)});return{active:o,extension:[o,In.define(a=>new Jpt(a,n,o,r,e.hoverTime||300)),Kpt]}}function B9(n,e){let r=n.plugin(D5);if(!r)return null;let o=r.manager.tooltips.indexOf(e);return o<0?null:r.manager.tooltipViews[o]}const nmt=ke.define(),K4=Ht.define({combine(n){let e,r;for(let o of n)e=e||o.topContainer,r=r||o.bottomContainer;return{topContainer:e,bottomContainer:r}}});function Lv(n,e){let r=n.plugin(X9),o=r?r.specs.indexOf(e):-1;return o>-1?r.panels[o]:null}const X9=In.fromClass(class{constructor(n){this.input=n.state.facet(Ev),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(K4);this.top=new QS(n,!0,e.topContainer),this.bottom=new QS(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(K4);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new QS(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new QS(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(Ev);if(r!=this.input){let o=r.filter(g=>g),a=[],h=[],f=[],p=[];for(let g of o){let x=this.specs.indexOf(g),v;x<0?(v=g(n.view),p.push(v)):(v=this.panels[x],v.update&&v.update(n)),a.push(v),(v.top?h:f).push(v)}this.specs=o,this.panels=a,this.top.sync(h),this.bottom.sync(f);for(let g of p)g.dom.classList.add("cm-panel"),g.mount&&g.mount()}else for(let o of this.panels)o.update&&o.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Zt.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class QS{constructor(e,r,o){this.view=e,this.top=r,this.container=o,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=J4(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=J4(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function J4(n){let e=n.nextSibling;return n.remove(),e}const Ev=Ht.define({enables:X9});class Th extends Ed{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Th.prototype.elementClass="";Th.prototype.toDOM=void 0;Th.prototype.mapMode=Br.TrackBefore;Th.prototype.startSide=Th.prototype.endSide=-1;Th.prototype.point=!0;const vk=Ht.define(),rmt=Ht.define(),smt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>si.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},XO=Ht.define();function omt(n){return[_9(),XO.of(Object.assign(Object.assign({},smt),n))]}const tB=Ht.define({combine:n=>n.some(e=>e)});function _9(n){return[lmt]}const lmt=In.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(XO).map(e=>new iB(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(tB),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,o=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(o<(r.to-r.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(tB)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let r=si.iter(this.view.state.facet(vk),this.view.viewport.from),o=[],a=this.gutters.map(h=>new amt(h,this.view.viewport,-this.view.documentPadding.top));for(let h of this.view.viewportLineBlocks)if(o.length&&(o=[]),Array.isArray(h.type)){let f=!0;for(let p of h.type)if(p.type==Is.Text&&f){XA(r,o,p.from);for(let g of a)g.line(this.view,p,o);f=!1}else if(p.widget)for(let g of a)g.widget(this.view,p)}else if(h.type==Is.Text){XA(r,o,h.from);for(let f of a)f.line(this.view,h,o)}else if(h.widget)for(let f of a)f.widget(this.view,h);for(let h of a)h.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(XO),r=n.state.facet(XO),o=n.docChanged||n.heightChanged||n.viewportChanged||!si.eq(n.startState.facet(vk),n.state.facet(vk),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let a of this.gutters)a.update(n)&&(o=!0);else{o=!0;let a=[];for(let h of r){let f=e.indexOf(h);f<0?a.push(new iB(this.view,h)):(this.gutters[f].update(n),a.push(this.gutters[f]))}for(let h of this.gutters)h.dom.remove(),a.indexOf(h)<0&&h.destroy();for(let h of a)this.dom.appendChild(h.dom);this.gutters=a}return o}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Zt.scrollMargins.of(e=>{let r=e.plugin(n);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==_i.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function eB(n){return Array.isArray(n)?n:[n]}function XA(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class amt{constructor(e,r,o){this.gutter=e,this.height=o,this.i=0,this.cursor=si.iter(e.markers,r.from)}addElement(e,r,o){let{gutter:a}=this,h=(r.top-this.height)/e.scaleY,f=r.height/e.scaleY;if(this.i==a.elements.length){let p=new U9(e,f,h,o);a.elements.push(p),a.dom.appendChild(p.dom)}else a.elements[this.i].update(e,f,h,o);this.height=r.bottom,this.i++}line(e,r,o){let a=[];XA(this.cursor,a,r.from),o.length&&(a=a.concat(o));let h=this.gutter.config.lineMarker(e,r,a);h&&a.unshift(h);let f=this.gutter;a.length==0&&!f.config.renderEmptyElements||this.addElement(e,r,a)}widget(e,r){let o=this.gutter.config.widgetMarker(e,r.widget,r),a=o?[o]:null;for(let h of e.state.facet(rmt)){let f=h(e,r.widget,r);f&&(a||(a=[])).push(f)}a&&this.addElement(e,r,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class iB{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in r.domEventHandlers)this.dom.addEventListener(o,a=>{let h=a.target,f;if(h!=this.dom&&this.dom.contains(h)){for(;h.parentNode!=this.dom;)h=h.parentNode;let g=h.getBoundingClientRect();f=(g.top+g.bottom)/2}else f=a.clientY;let p=e.lineBlockAtHeight(f-e.documentTop);r.domEventHandlers[o](e,p,a)&&a.preventDefault()});this.markers=eB(r.markers(e)),r.initialSpacer&&(this.spacer=new U9(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=eB(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let o=e.view.viewport;return!si.eq(this.markers,r,o.from,o.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class U9{constructor(e,r,o,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,o,a)}update(e,r,o,a){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=o&&(this.dom.style.marginTop=(this.above=o)?o+"px":""),umt(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,r){let o="cm-gutterElement",a=this.dom.firstChild;for(let h=0,f=0;;){let p=f,g=h<r.length?r[h++]:null,x=!1;if(g){let v=g.elementClass;v&&(o+=" "+v);for(let S=f;S<this.markers.length;S++)if(this.markers[S].compare(g)){p=S,x=!0;break}}else p=this.markers.length;for(;f<p;){let v=this.markers[f++];if(v.toDOM){v.destroy(a);let S=a.nextSibling;a.remove(),a=S}}if(!g)break;g.toDOM&&(x?a=a.nextSibling:this.dom.insertBefore(g.toDOM(e),a)),x&&f++}this.dom.className=o,this.markers=r}destroy(){this.setMarkers(null,[])}}function umt(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const hmt=Ht.define(),cmt=Ht.define(),Um=Ht.define({combine(n){return ku(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let o=Object.assign({},e);for(let a in r){let h=o[a],f=r[a];o[a]=h?(p,g,x)=>h(p,g,x)||f(p,g,x):f}return o}})}});class ZM extends Th{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function YM(n,e){return n.state.facet(Um).formatNumber(e,n.state)}const fmt=XO.compute([Um],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(hmt)},lineMarker(e,r,o){return o.some(a=>a.toDOM)?null:new ZM(YM(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,o)=>{for(let a of e.state.facet(cmt)){let h=a(e,r,o);if(h)return h}return null},lineMarkerChange:e=>e.startState.facet(Um)!=e.state.facet(Um),initialSpacer(e){return new ZM(YM(e,nB(e.state.doc.lines)))},updateSpacer(e,r){let o=YM(r.view,nB(r.view.state.doc.lines));return o==e.number?e:new ZM(o)},domEventHandlers:n.facet(Um).domEventHandlers}));function dmt(n={}){return[Um.of(n),_9(),fmt]}function nB(n){let e=9;for(;e<n;)e=e*10+9;return e}const pmt=new class extends Th{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},mmt=vk.compute(["selection"],n=>{let e=[],r=-1;for(let o of n.selection.ranges){let a=n.doc.lineAt(o.head).from;a>r&&(r=a,e.push(pmt.range(a)))}return si.of(e)});function gmt(){return mmt}const Z9=1024;let ymt=0;class wl{constructor(e,r){this.from=e,this.to=r}}class we{constructor(e={}){this.id=ymt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=cr.match(e)),r=>{let o=e(r);return o===void 0?null:[this,o]}}}we.closedBy=new we({deserialize:n=>n.split(" ")});we.openedBy=new we({deserialize:n=>n.split(" ")});we.group=new we({deserialize:n=>n.split(" ")});we.isolate=new we({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});we.contextHash=new we({perNode:!0});we.lookAhead=new we({perNode:!0});we.mounted=new we({perNode:!0});class $v{constructor(e,r,o){this.tree=e,this.overlay=r,this.parser=o}static get(e){return e&&e.props&&e.props[we.mounted.id]}}const Omt=Object.create(null);class cr{constructor(e,r,o,a=0){this.name=e,this.props=r,this.id=o,this.flags=a}static define(e){let r=e.props&&e.props.length?Object.create(null):Omt,o=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new cr(e.name||"",r,e.id,o);if(e.props){for(let h of e.props)if(Array.isArray(h)||(h=h(a)),h){if(h[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[h[0].id]=h[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(we.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let o in e)for(let a of o.split(" "))r[a]=e[o];return o=>{for(let a=o.prop(we.group),h=-1;h<(a?a.length:0);h++){let f=r[h<0?o.name:a[h]];if(f)return f}}}}cr.none=new cr("",Object.create(null),0,8);class vx{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let o of this.types){let a=null;for(let h of e){let f=h(o);f&&(a||(a=Object.assign({},o.props)),a[f[0].id]=f[1])}r.push(a?new cr(o.name,a,o.id,o.flags):o)}return new vx(r)}}const AS=new WeakMap,rB=new WeakMap;var Ti;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ti||(Ti={}));class mi{constructor(e,r,o,a,h){if(this.type=e,this.children=r,this.positions=o,this.length=a,this.props=null,h&&h.length){this.props=Object.create(null);for(let[f,p]of h)this.props[typeof f=="number"?f:f.id]=p}}toString(){let e=$v.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let o of this.children){let a=o.toString();a&&(r&&(r+=","),r+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new kP(this.topNode,e)}cursorAt(e,r=0,o=0){let a=AS.get(this)||this.topNode,h=new kP(a);return h.moveTo(e,r),AS.set(this,h._tree),h}get topNode(){return new ys(this,0,0,null)}resolve(e,r=0){let o=Dv(AS.get(this)||this.topNode,e,r,!1);return AS.set(this,o),o}resolveInner(e,r=0){let o=Dv(rB.get(this)||this.topNode,e,r,!0);return rB.set(this,o),o}resolveStack(e,r=0){return wmt(this,e,r)}iterate(e){let{enter:r,leave:o,from:a=0,to:h=this.length}=e,f=e.mode||0,p=(f&Ti.IncludeAnonymous)>0;for(let g=this.cursor(f|Ti.IncludeAnonymous);;){let x=!1;if(g.from<=h&&g.to>=a&&(!p&&g.type.isAnonymous||r(g)!==!1)){if(g.firstChild())continue;x=!0}for(;x&&o&&(p||!g.type.isAnonymous)&&o(g),!g.nextSibling();){if(!g.parent())return;x=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:z5(cr.none,this.children,this.positions,0,this.children.length,0,this.length,(r,o,a)=>new mi(this.type,r,o,a,this.propValues),e.makeTree||((r,o,a)=>new mi(cr.none,r,o,a)))}static build(e){return Smt(e)}}mi.empty=new mi(cr.none,[],[],0);class F5{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new F5(this.buffer,this.index)}}class qc{constructor(e,r,o){this.buffer=e,this.length=r,this.set=o}get type(){return cr.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],o=this.buffer[e+3],a=this.set.types[r],h=a.name;if(/\W/.test(h)&&!a.isError&&(h=JSON.stringify(h)),e+=4,o==e)return h;let f=[];for(;e<o;)f.push(this.childString(e)),e=this.buffer[e+3];return h+"("+f.join(",")+")"}findChild(e,r,o,a,h){let{buffer:f}=this,p=-1;for(let g=e;g!=r&&!(Y9(h,a,f[g+1],f[g+2])&&(p=g,o>0));g=f[g+3]);return p}slice(e,r,o){let a=this.buffer,h=new Uint16Array(r-e),f=0;for(let p=e,g=0;p<r;){h[g++]=a[p++],h[g++]=a[p++]-o;let x=h[g++]=a[p++]-o;h[g++]=a[p++]-e,f=Math.max(f,x)}return new qc(h,f,this.set)}}function Y9(n,e,r,o){switch(n){case-2:return r<e;case-1:return o>=e&&r<e;case 0:return r<e&&o>e;case 1:return r<=e&&o>e;case 2:return o>e;case 4:return!0}}function Dv(n,e,r,o){for(var a;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let f=!o&&n instanceof ys&&n.index<0?null:n.parent;if(!f)return n;n=f}let h=o?0:Ti.IgnoreOverlays;if(o)for(let f=n,p=f.parent;p;f=p,p=f.parent)f instanceof ys&&f.index<0&&((a=p.enter(e,r,h))===null||a===void 0?void 0:a.from)!=f.from&&(n=p);for(;;){let f=n.enter(e,r,h);if(!f)return n;n=f}}class W9{cursor(e=0){return new kP(this,e)}getChild(e,r=null,o=null){let a=sB(this,e,r,o);return a.length?a[0]:null}getChildren(e,r=null,o=null){return sB(this,e,r,o)}resolve(e,r=0){return Dv(this,e,r,!1)}resolveInner(e,r=0){return Dv(this,e,r,!0)}matchContext(e){return _A(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),o=this;for(;r;){let a=r.lastChild;if(!a||a.to!=r.to)break;a.type.isError&&a.from==a.to?(o=r,r=a.prevSibling):r=a}return o}get node(){return this}get next(){return this.parent}}class ys extends W9{constructor(e,r,o,a){super(),this._tree=e,this.from=r,this.index=o,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,o,a,h=0){for(let f=this;;){for(let{children:p,positions:g}=f._tree,x=r>0?p.length:-1;e!=x;e+=r){let v=p[e],S=g[e]+f.from;if(Y9(a,o,S,S+v.length)){if(v instanceof qc){if(h&Ti.ExcludeBuffers)continue;let b=v.findChild(0,v.buffer.length,r,o-S,a);if(b>-1)return new au(new vmt(f,v,e,S),null,b)}else if(h&Ti.IncludeAnonymous||!v.type.isAnonymous||V5(v)){let b;if(!(h&Ti.IgnoreMounts)&&(b=$v.get(v))&&!b.overlay)return new ys(b.tree,S,e,f);let M=new ys(v,S,e,f);return h&Ti.IncludeAnonymous||!M.type.isAnonymous?M:M.nextChild(r<0?v.children.length-1:0,r,o,a)}}}if(h&Ti.IncludeAnonymous||!f.type.isAnonymous||(f.index>=0?e=f.index+r:e=r<0?-1:f._parent._tree.children.length,f=f._parent,!f))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,o=0){let a;if(!(o&Ti.IgnoreOverlays)&&(a=$v.get(this._tree))&&a.overlay){let h=e-this.from;for(let{from:f,to:p}of a.overlay)if((r>0?f<=h:f<h)&&(r<0?p>=h:p>h))return new ys(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,o)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function sB(n,e,r,o){let a=n.cursor(),h=[];if(!a.firstChild())return h;if(r!=null){for(let f=!1;!f;)if(f=a.type.is(r),!a.nextSibling())return h}for(;;){if(o!=null&&a.type.is(o))return h;if(a.type.is(e)&&h.push(a.node),!a.nextSibling())return o==null?h:[]}}function _A(n,e,r=e.length-1){for(let o=n;r>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}class vmt{constructor(e,r,o,a){this.parent=e,this.buffer=r,this.index=o,this.start=a}}class au extends W9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,o){super(),this.context=e,this._parent=r,this.index=o,this.type=e.buffer.set.types[e.buffer.buffer[o]]}child(e,r,o){let{buffer:a}=this.context,h=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.context.start,o);return h<0?null:new au(this.context,this,h)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,o=0){if(o&Ti.ExcludeBuffers)return null;let{buffer:a}=this.context,h=a.findChild(this.index+4,a.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return h<0?null:new au(this.context,this,h)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new au(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new au(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:o}=this.context,a=this.index+4,h=o.buffer[this.index+3];if(h>a){let f=o.buffer[this.index+1];e.push(o.slice(a,h,f)),r.push(0)}return new mi(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function q9(n){if(!n.length)return null;let e=0,r=n[0];for(let h=1;h<n.length;h++){let f=n[h];(f.from>r.from||f.to<r.to)&&(r=f,e=h)}let o=r instanceof ys&&r.index<0?null:r.parent,a=n.slice();return o?a[e]=o:a.splice(e,1),new xmt(a,r)}class xmt{constructor(e,r){this.heads=e,this.node=r}get next(){return q9(this.heads)}}function wmt(n,e,r){let o=n.resolveInner(e,r),a=null;for(let h=o instanceof ys?o:o.context.parent;h;h=h.parent)if(h.index<0){let f=h.parent;(a||(a=[o])).push(f.resolve(e,r)),h=f}else{let f=$v.get(h.tree);if(f&&f.overlay&&f.overlay[0].from<=e&&f.overlay[f.overlay.length-1].to>=e){let p=new ys(f.tree,f.overlay[0].from+h.from,-1,h);(a||(a=[o])).push(Dv(p,e,r,!1))}}return a?q9(a):o}class kP{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ys)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let o=e._parent;o;o=o._parent)this.stack.unshift(o.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:o,buffer:a}=this.buffer;return this.type=r||a.set.types[a.buffer[e]],this.from=o+a.buffer[e+1],this.to=o+a.buffer[e+2],!0}yield(e){return e?e instanceof ys?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,o){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,o,this.mode));let{buffer:a}=this.buffer,h=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.buffer.start,o);return h<0?!1:(this.stack.push(this.index),this.yieldBuf(h))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,o=this.mode){return this.buffer?o&Ti.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,o))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ti.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ti.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,o=this.stack.length-1;if(e<0){let a=o<0?0:this.stack[o]+4;if(this.index!=a)return this.yieldBuf(r.findChild(a,this.index,-1,0,4))}else{let a=r.buffer[this.index+3];if(a<(o<0?r.buffer.length:r.buffer[this.stack[o]+3]))return this.yieldBuf(a)}return o<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,o,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let h=0;h<this.index;h++)if(a.buffer.buffer[h+3]<this.index)return!1;({index:r,parent:o}=a)}else({index:r,_parent:o}=this._tree);for(;o;{index:r,_parent:o}=o)if(r>-1)for(let h=r+e,f=e<0?-1:o._tree.children.length;h!=f;h+=e){let p=o._tree.children[h];if(this.mode&Ti.IncludeAnonymous||p instanceof qc||!p.type.isAnonymous||V5(p))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,o=0;if(e&&e.context==this.buffer)t:for(let a=this.index,h=this.stack.length;h>=0;){for(let f=e;f;f=f._parent)if(f.index==a){if(a==this.index)return f;r=f,o=h+1;break t}a=this.stack[--h]}for(let a=o;a<this.stack.length;a++)r=new au(this.buffer,r,this.stack[a]);return this.bufferNode=new au(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let o=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){o++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&r&&r(this),a=this.type.isAnonymous,!o)return;if(this.nextSibling())break;this.parent(),o--,a=!0}}}matchContext(e){if(!this.buffer)return _A(this.node.parent,e);let{buffer:r}=this.buffer,{types:o}=r.set;for(let a=e.length-1,h=this.stack.length-1;a>=0;h--){if(h<0)return _A(this._tree,e,a);let f=o[r.buffer[this.stack[h]]];if(!f.isAnonymous){if(e[a]&&e[a]!=f.name)return!1;a--}}return!0}}function V5(n){return n.children.some(e=>e instanceof qc||!e.type.isAnonymous||V5(e))}function Smt(n){var e;let{buffer:r,nodeSet:o,maxBufferLength:a=Z9,reused:h=[],minRepeatType:f=o.types.length}=n,p=Array.isArray(r)?new F5(r,r.length):r,g=o.types,x=0,v=0;function S(X,W,K,tt,rt,Ot){let{id:bt,start:wt,end:St,size:mt}=p,Ft=v,Nt=x;for(;mt<0;)if(p.next(),mt==-1){let Dt=h[bt];K.push(Dt),tt.push(wt-X);return}else if(mt==-3){x=bt;return}else if(mt==-4){v=bt;return}else throw new RangeError(`Unrecognized record size: ${mt}`);let Rt=g[bt],dt,ht,yt=wt-X;if(St-wt<=a&&(ht=R(p.pos-W,rt))){let Dt=new Uint16Array(ht.size-ht.skip),qt=p.pos-ht.size,it=Dt.length;for(;p.pos>qt;)it=L(ht.start,Dt,it);dt=new qc(Dt,St-ht.start,o),yt=ht.start-X}else{let Dt=p.pos-mt;p.next();let qt=[],it=[],xe=bt>=f?bt:-1,Be=0,le=St;for(;p.pos>Dt;)xe>=0&&p.id==xe&&p.size>=0?(p.end<=le-a&&(j(qt,it,wt,Be,p.end,le,xe,Ft,Nt),Be=qt.length,le=p.end),p.next()):Ot>2500?b(wt,Dt,qt,it):S(wt,Dt,qt,it,xe,Ot+1);if(xe>=0&&Be>0&&Be<qt.length&&j(qt,it,wt,Be,wt,le,xe,Ft,Nt),qt.reverse(),it.reverse(),xe>-1&&Be>0){let Ni=M(Rt,Nt);dt=z5(Rt,qt,it,0,qt.length,0,St-wt,Ni,Ni)}else dt=Q(Rt,qt,it,St-wt,Ft-St,Nt)}K.push(dt),tt.push(yt)}function b(X,W,K,tt){let rt=[],Ot=0,bt=-1;for(;p.pos>W;){let{id:wt,start:St,end:mt,size:Ft}=p;if(Ft>4)p.next();else{if(bt>-1&&St<bt)break;bt<0&&(bt=mt-a),rt.push(wt,St,mt),Ot++,p.next()}}if(Ot){let wt=new Uint16Array(Ot*4),St=rt[rt.length-2];for(let mt=rt.length-3,Ft=0;mt>=0;mt-=3)wt[Ft++]=rt[mt],wt[Ft++]=rt[mt+1]-St,wt[Ft++]=rt[mt+2]-St,wt[Ft++]=Ft;K.push(new qc(wt,rt[2]-St,o)),tt.push(St-X)}}function M(X,W){return(K,tt,rt)=>{let Ot=0,bt=K.length-1,wt,St;if(bt>=0&&(wt=K[bt])instanceof mi){if(!bt&&wt.type==X&&wt.length==rt)return wt;(St=wt.prop(we.lookAhead))&&(Ot=tt[bt]+wt.length+St)}return Q(X,K,tt,rt,Ot,W)}}function j(X,W,K,tt,rt,Ot,bt,wt,St){let mt=[],Ft=[];for(;X.length>tt;)mt.push(X.pop()),Ft.push(W.pop()+K-rt);X.push(Q(o.types[bt],mt,Ft,Ot-rt,wt-Ot,St)),W.push(rt-K)}function Q(X,W,K,tt,rt,Ot,bt){if(Ot){let wt=[we.contextHash,Ot];bt=bt?[wt].concat(bt):[wt]}if(rt>25){let wt=[we.lookAhead,rt];bt=bt?[wt].concat(bt):[wt]}return new mi(X,W,K,tt,bt)}function R(X,W){let K=p.fork(),tt=0,rt=0,Ot=0,bt=K.end-a,wt={size:0,start:0,skip:0};t:for(let St=K.pos-X;K.pos>St;){let mt=K.size;if(K.id==W&&mt>=0){wt.size=tt,wt.start=rt,wt.skip=Ot,Ot+=4,tt+=4,K.next();continue}let Ft=K.pos-mt;if(mt<0||Ft<St||K.start<bt)break;let Nt=K.id>=f?4:0,Rt=K.start;for(K.next();K.pos>Ft;){if(K.size<0)if(K.size==-3)Nt+=4;else break t;else K.id>=f&&(Nt+=4);K.next()}rt=Rt,tt+=mt,Ot+=Nt}return(W<0||tt==X)&&(wt.size=tt,wt.start=rt,wt.skip=Ot),wt.size>4?wt:void 0}function L(X,W,K){let{id:tt,start:rt,end:Ot,size:bt}=p;if(p.next(),bt>=0&&tt<f){let wt=K;if(bt>4){let St=p.pos-(bt-4);for(;p.pos>St;)K=L(X,W,K)}W[--K]=wt,W[--K]=Ot-X,W[--K]=rt-X,W[--K]=tt}else bt==-3?x=tt:bt==-4&&(v=tt);return K}let $=[],V=[];for(;p.pos>0;)S(n.start||0,n.bufferStart||0,$,V,-1,0);let D=(e=n.length)!==null&&e!==void 0?e:$.length?V[0]+$[0].length:0;return new mi(g[n.topID],$.reverse(),V.reverse(),D)}const oB=new WeakMap;function xk(n,e){if(!n.isAnonymous||e instanceof qc||e.type!=n)return 1;let r=oB.get(e);if(r==null){r=1;for(let o of e.children){if(o.type!=n||!(o instanceof mi)){r=1;break}r+=xk(n,o)}oB.set(e,r)}return r}function z5(n,e,r,o,a,h,f,p,g){let x=0;for(let j=o;j<a;j++)x+=xk(n,e[j]);let v=Math.ceil(x*1.5/8),S=[],b=[];function M(j,Q,R,L,$){for(let V=R;V<L;){let D=V,X=Q[V],W=xk(n,j[V]);for(V++;V<L;V++){let K=xk(n,j[V]);if(W+K>=v)break;W+=K}if(V==D+1){if(W>v){let K=j[D];M(K.children,K.positions,0,K.children.length,Q[D]+$);continue}S.push(j[D])}else{let K=Q[V-1]+j[V-1].length-X;S.push(z5(n,j,Q,D,V,X,K,null,g))}b.push(X+$-h)}}return M(e,r,o,a,0),(p||g)(S,b,f)}class B5{constructor(){this.map=new WeakMap}setBuffer(e,r,o){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(r,o)}getBuffer(e,r){let o=this.map.get(e);return o&&o.get(r)}set(e,r){e instanceof au?this.setBuffer(e.context.buffer,e.index,r):e instanceof ys&&this.map.set(e.tree,r)}get(e){return e instanceof au?this.getBuffer(e.context.buffer,e.index):e instanceof ys?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class mh{constructor(e,r,o,a,h=!1,f=!1){this.from=e,this.to=r,this.tree=o,this.offset=a,this.open=(h?1:0)|(f?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],o=!1){let a=[new mh(0,e.length,e,0,!1,o)];for(let h of r)h.to>e.length&&a.push(h);return a}static applyChanges(e,r,o=128){if(!r.length)return e;let a=[],h=1,f=e.length?e[0]:null;for(let p=0,g=0,x=0;;p++){let v=p<r.length?r[p]:null,S=v?v.fromA:1e9;if(S-g>=o)for(;f&&f.from<S;){let b=f;if(g>=b.from||S<=b.to||x){let M=Math.max(b.from,g)-x,j=Math.min(b.to,S)-x;b=M>=j?null:new mh(M,j,b.tree,b.offset+x,p>0,!!v)}if(b&&a.push(b),f.to>S)break;f=h<e.length?e[h++]:null}if(!v)break;g=v.toA,x=v.toA-v.toB}return a}}class X5{startParse(e,r,o){return typeof e=="string"&&(e=new kmt(e)),o=o?o.length?o.map(a=>new wl(a.from,a.to)):[new wl(0,0)]:[new wl(0,e.length)],this.createParse(e,r||[],o)}parse(e,r,o){let a=this.startParse(e,r,o);for(;;){let h=a.advance();if(h)return h}}}class kmt{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function G9(n){return(e,r,o,a)=>new bmt(e,n,r,o,a)}class lB{constructor(e,r,o,a,h){this.parser=e,this.parse=r,this.overlay=o,this.target=a,this.from=h}}function aB(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class Pmt{constructor(e,r,o,a,h,f,p){this.parser=e,this.predicate=r,this.mounts=o,this.index=a,this.start=h,this.target=f,this.prev=p,this.depth=0,this.ranges=[]}}const UA=new we({perNode:!0});class bmt{constructor(e,r,o,a,h){this.nest=r,this.input=o,this.fragments=a,this.ranges=h,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let o=this.baseParse.advance();if(!o)return null;if(this.baseParse=null,this.baseTree=o,this.startInner(),this.stoppedAt!=null)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let o=this.baseTree;return this.stoppedAt!=null&&(o=new mi(o.type,o.children,o.positions,o.length,o.propValues.concat([[UA,this.stoppedAt]]))),o}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let o=Object.assign(Object.create(null),e.target.props);o[we.mounted.id]=new $v(r,e.overlay,e.parser),e.target.props=o}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new Mmt(this.fragments),r=null,o=null,a=new kP(new ys(this.baseTree,this.ranges[0].from,0,null),Ti.IncludeAnonymous|Ti.IgnoreMounts);t:for(let h,f;;){let p=!0,g;if(this.stoppedAt!=null&&a.from>=this.stoppedAt)p=!1;else if(e.hasNode(a)){if(r){let x=r.mounts.find(v=>v.frag.from<=a.from&&v.frag.to>=a.to&&v.mount.overlay);if(x)for(let v of x.mount.overlay){let S=v.from+x.pos,b=v.to+x.pos;S>=a.from&&b<=a.to&&!r.ranges.some(M=>M.from<b&&M.to>S)&&r.ranges.push({from:S,to:b})}}p=!1}else if(o&&(f=Tmt(o.ranges,a.from,a.to)))p=f!=2;else if(!a.type.isAnonymous&&(h=this.nest(a,this.input))&&(a.from<a.to||!h.overlay)){a.tree||Cmt(a);let x=e.findMounts(a.from,h.parser);if(typeof h.overlay=="function")r=new Pmt(h.parser,h.overlay,x,this.inner.length,a.from,a.tree,r);else{let v=cB(this.ranges,h.overlay||(a.from<a.to?[new wl(a.from,a.to)]:[]));v.length&&aB(v),(v.length||!h.overlay)&&this.inner.push(new lB(h.parser,v.length?h.parser.startParse(this.input,fB(x,v),v):h.parser.startParse(""),h.overlay?h.overlay.map(S=>new wl(S.from-a.from,S.to-a.from)):null,a.tree,v.length?v[0].from:a.from)),h.overlay?v.length&&(o={ranges:v,depth:0,prev:o}):p=!1}}else if(r&&(g=r.predicate(a))&&(g===!0&&(g=new wl(a.from,a.to)),g.from<g.to)){let x=r.ranges.length-1;x>=0&&r.ranges[x].to==g.from?r.ranges[x]={from:r.ranges[x].from,to:g.to}:r.ranges.push(g)}if(p&&a.firstChild())r&&r.depth++,o&&o.depth++;else for(;!a.nextSibling();){if(!a.parent())break t;if(r&&!--r.depth){let x=cB(this.ranges,r.ranges);x.length&&(aB(x),this.inner.splice(r.index,0,new lB(r.parser,r.parser.startParse(this.input,fB(r.mounts,x),x),r.ranges.map(v=>new wl(v.from-r.start,v.to-r.start)),r.target,x[0].from))),r=r.prev}o&&!--o.depth&&(o=o.prev)}}}}function Tmt(n,e,r){for(let o of n){if(o.from>=r)break;if(o.to>e)return o.from<=e&&o.to>=r?2:1}return 0}function uB(n,e,r,o,a,h){if(e<r){let f=n.buffer[e+1];o.push(n.slice(e,r,f)),a.push(f-h)}}function Cmt(n){let{node:e}=n,r=[],o=e.context.buffer;do r.push(n.index),n.parent();while(!n.tree);let a=n.tree,h=a.children.indexOf(o),f=a.children[h],p=f.buffer,g=[h];function x(v,S,b,M,j,Q){let R=r[Q],L=[],$=[];uB(f,v,R,L,$,M);let V=p[R+1],D=p[R+2];g.push(L.length);let X=Q?x(R+4,p[R+3],f.set.types[p[R]],V,D-V,Q-1):e.toTree();return L.push(X),$.push(V-M),uB(f,p[R+3],S,L,$,M),new mi(b,L,$,j)}a.children[h]=x(0,p.length,cr.none,0,f.length,r.length-1);for(let v of g){let S=n.tree.children[v],b=n.tree.positions[v];n.yield(new ys(S,b+n.from,v,n._tree))}}class hB{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(Ti.IncludeAnonymous|Ti.IgnoreMounts)}moveTo(e){let{cursor:r}=this,o=e-this.offset;for(;!this.done&&r.from<o;)r.to>=e&&r.enter(o,1,Ti.IgnoreOverlays|Ti.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof mi)r=r.children[0];else break}return!1}}let Mmt=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let o=this.curFrag=e[0];this.curTo=(r=o.tree.prop(UA))!==null&&r!==void 0?r:o.to,this.inner=new hB(o.tree,-o.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(UA))!==null&&e!==void 0?e:r.to,this.inner=new hB(r.tree,-r.offset)}}findMounts(e,r){var o;let a=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let h=this.inner.cursor.node;h;h=h.parent){let f=(o=h.tree)===null||o===void 0?void 0:o.prop(we.mounted);if(f&&f.parser==r)for(let p=this.fragI;p<this.fragments.length;p++){let g=this.fragments[p];if(g.from>=h.to)break;g.tree==this.curFrag.tree&&a.push({frag:g,pos:h.from-g.offset,mount:f})}}}return a}};function cB(n,e){let r=null,o=e;for(let a=1,h=0;a<n.length;a++){let f=n[a-1].to,p=n[a].from;for(;h<o.length;h++){let g=o[h];if(g.from>=p)break;g.to<=f||(r||(o=r=e.slice()),g.from<f?(r[h]=new wl(g.from,f),g.to>p&&r.splice(h+1,0,new wl(p,g.to))):g.to>p?r[h--]=new wl(p,g.to):r.splice(h--,1))}}return o}function Nmt(n,e,r,o){let a=0,h=0,f=!1,p=!1,g=-1e9,x=[];for(;;){let v=a==n.length?1e9:f?n[a].to:n[a].from,S=h==e.length?1e9:p?e[h].to:e[h].from;if(f!=p){let b=Math.max(g,r),M=Math.min(v,S,o);b<M&&x.push(new wl(b,M))}if(g=Math.min(v,S),g==1e9)break;v==g&&(f?(f=!1,a++):f=!0),S==g&&(p?(p=!1,h++):p=!0)}return x}function fB(n,e){let r=[];for(let{pos:o,mount:a,frag:h}of n){let f=o+(a.overlay?a.overlay[0].from:0),p=f+a.tree.length,g=Math.max(h.from,f),x=Math.min(h.to,p);if(a.overlay){let v=a.overlay.map(b=>new wl(b.from+o,b.to+o)),S=Nmt(e,v,g,x);for(let b=0,M=g;;b++){let j=b==S.length,Q=j?x:S[b].from;if(Q>M&&r.push(new mh(M,Q,a.tree,-f,h.from>=M||h.openStart,h.to<=Q||h.openEnd)),j)break;M=S[b].to}}else r.push(new mh(g,x,a.tree,-f,h.from>=f||h.openStart,h.to<=p||h.openEnd))}return r}let Qmt=0;class Eo{constructor(e,r,o,a){this.name=e,this.set=r,this.base=o,this.modified=a,this.id=Qmt++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let o=typeof e=="string"?e:"?";if(e instanceof Eo&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let a=new Eo(o,[],null,[]);if(a.set.push(a),r)for(let h of r.set)a.set.push(h);return a}static defineModifier(e){let r=new PP(e);return o=>o.modified.indexOf(r)>-1?o:PP.get(o.base||o,o.modified.concat(r).sort((a,h)=>a.id-h.id))}}let Amt=0;class PP{constructor(e){this.name=e,this.instances=[],this.id=Amt++}static get(e,r){if(!r.length)return e;let o=r[0].instances.find(p=>p.base==e&&jmt(r,p.modified));if(o)return o;let a=[],h=new Eo(e.name,a,e,r);for(let p of r)p.instances.push(h);let f=Rmt(r);for(let p of e.set)if(!p.modified.length)for(let g of f)a.push(PP.get(p,g));return h}}function jmt(n,e){return n.length==e.length&&n.every((r,o)=>r==e[o])}function Rmt(n){let e=[[]];for(let r=0;r<n.length;r++)for(let o=0,a=e.length;o<a;o++)e.push(e[o].concat(n[r]));return e.sort((r,o)=>o.length-r.length)}function lf(n){let e=Object.create(null);for(let r in n){let o=n[r];Array.isArray(o)||(o=[o]);for(let a of r.split(" "))if(a){let h=[],f=2,p=a;for(let S=0;;){if(p=="..."&&S>0&&S+3==a.length){f=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(p);if(!b)throw new RangeError("Invalid path: "+a);if(h.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),S+=b[0].length,S==a.length)break;let M=a[S++];if(S==a.length&&M=="!"){f=0;break}if(M!="/")throw new RangeError("Invalid path: "+a);p=a.slice(S)}let g=h.length-1,x=h[g];if(!x)throw new RangeError("Invalid path: "+a);let v=new bP(o,f,g>0?h.slice(0,g):null);e[x]=v.sort(e[x])}}return H9.add(e)}const H9=new we;class bP{constructor(e,r,o,a){this.tags=e,this.mode=r,this.context=o,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}bP.empty=new bP([],2,null);function K9(n,e){let r=Object.create(null);for(let h of n)if(!Array.isArray(h.tag))r[h.tag.id]=h.class;else for(let f of h.tag)r[f.id]=h.class;let{scope:o,all:a=null}=e||{};return{style:h=>{let f=a;for(let p of h)for(let g of p.set){let x=r[g.id];if(x){f=f?f+" "+x:x;break}}return f},scope:o}}function Lmt(n,e){let r=null;for(let o of n){let a=o.style(e);a&&(r=r?r+" "+a:a)}return r}function Emt(n,e,r,o=0,a=n.length){let h=new $mt(o,Array.isArray(e)?e:[e],r);h.highlightRange(n.cursor(),o,a,"",h.highlighters),h.flush(a)}class $mt{constructor(e,r,o){this.at=e,this.highlighters=r,this.span=o,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,o,a,h){let{type:f,from:p,to:g}=e;if(p>=o||g<=r)return;f.isTop&&(h=this.highlighters.filter(M=>!M.scope||M.scope(f)));let x=a,v=Dmt(e)||bP.empty,S=Lmt(h,v.tags);if(S&&(x&&(x+=" "),x+=S,v.mode==1&&(a+=(a?" ":"")+S)),this.startSpan(Math.max(r,p),x),v.opaque)return;let b=e.tree&&e.tree.prop(we.mounted);if(b&&b.overlay){let M=e.node.enter(b.overlay[0].from+p,1),j=this.highlighters.filter(R=>!R.scope||R.scope(b.tree.type)),Q=e.firstChild();for(let R=0,L=p;;R++){let $=R<b.overlay.length?b.overlay[R]:null,V=$?$.from+p:g,D=Math.max(r,L),X=Math.min(o,V);if(D<X&&Q)for(;e.from<X&&(this.highlightRange(e,D,X,a,h),this.startSpan(Math.min(X,e.to),x),!(e.to>=V||!e.nextSibling())););if(!$||V>o)break;L=$.to+p,L>r&&(this.highlightRange(M.cursor(),Math.max(r,$.from+p),Math.min(o,L),"",j),this.startSpan(Math.min(o,L),x))}Q&&e.parent()}else if(e.firstChild()){b&&(a="");do if(!(e.to<=r)){if(e.from>=o)break;this.highlightRange(e,r,o,a,h),this.startSpan(Math.min(o,e.to),x)}while(e.nextSibling());e.parent()}}}function Dmt(n){let e=n.type.prop(H9);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Yt=Eo.define,jS=Yt(),fc=Yt(),dB=Yt(fc),pB=Yt(fc),dc=Yt(),RS=Yt(dc),WM=Yt(dc),Ja=Yt(),td=Yt(Ja),Ha=Yt(),Ka=Yt(),ZA=Yt(),sO=Yt(ZA),LS=Yt(),q={comment:jS,lineComment:Yt(jS),blockComment:Yt(jS),docComment:Yt(jS),name:fc,variableName:Yt(fc),typeName:dB,tagName:Yt(dB),propertyName:pB,attributeName:Yt(pB),className:Yt(fc),labelName:Yt(fc),namespace:Yt(fc),macroName:Yt(fc),literal:dc,string:RS,docString:Yt(RS),character:Yt(RS),attributeValue:Yt(RS),number:WM,integer:Yt(WM),float:Yt(WM),bool:Yt(dc),regexp:Yt(dc),escape:Yt(dc),color:Yt(dc),url:Yt(dc),keyword:Ha,self:Yt(Ha),null:Yt(Ha),atom:Yt(Ha),unit:Yt(Ha),modifier:Yt(Ha),operatorKeyword:Yt(Ha),controlKeyword:Yt(Ha),definitionKeyword:Yt(Ha),moduleKeyword:Yt(Ha),operator:Ka,derefOperator:Yt(Ka),arithmeticOperator:Yt(Ka),logicOperator:Yt(Ka),bitwiseOperator:Yt(Ka),compareOperator:Yt(Ka),updateOperator:Yt(Ka),definitionOperator:Yt(Ka),typeOperator:Yt(Ka),controlOperator:Yt(Ka),punctuation:ZA,separator:Yt(ZA),bracket:sO,angleBracket:Yt(sO),squareBracket:Yt(sO),paren:Yt(sO),brace:Yt(sO),content:Ja,heading:td,heading1:Yt(td),heading2:Yt(td),heading3:Yt(td),heading4:Yt(td),heading5:Yt(td),heading6:Yt(td),contentSeparator:Yt(Ja),list:Yt(Ja),quote:Yt(Ja),emphasis:Yt(Ja),strong:Yt(Ja),link:Yt(Ja),monospace:Yt(Ja),strikethrough:Yt(Ja),inserted:Yt(),deleted:Yt(),changed:Yt(),invalid:Yt(),meta:LS,documentMeta:Yt(LS),annotation:Yt(LS),processingInstruction:Yt(LS),definition:Eo.defineModifier("definition"),constant:Eo.defineModifier("constant"),function:Eo.defineModifier("function"),standard:Eo.defineModifier("standard"),local:Eo.defineModifier("local"),special:Eo.defineModifier("special")};for(let n in q){let e=q[n];e instanceof Eo&&(e.name=n)}K9([{tag:q.link,class:"tok-link"},{tag:q.heading,class:"tok-heading"},{tag:q.emphasis,class:"tok-emphasis"},{tag:q.strong,class:"tok-strong"},{tag:q.keyword,class:"tok-keyword"},{tag:q.atom,class:"tok-atom"},{tag:q.bool,class:"tok-bool"},{tag:q.url,class:"tok-url"},{tag:q.labelName,class:"tok-labelName"},{tag:q.inserted,class:"tok-inserted"},{tag:q.deleted,class:"tok-deleted"},{tag:q.literal,class:"tok-literal"},{tag:q.string,class:"tok-string"},{tag:q.number,class:"tok-number"},{tag:[q.regexp,q.escape,q.special(q.string)],class:"tok-string2"},{tag:q.variableName,class:"tok-variableName"},{tag:q.local(q.variableName),class:"tok-variableName tok-local"},{tag:q.definition(q.variableName),class:"tok-variableName tok-definition"},{tag:q.special(q.variableName),class:"tok-variableName2"},{tag:q.definition(q.propertyName),class:"tok-propertyName tok-definition"},{tag:q.typeName,class:"tok-typeName"},{tag:q.namespace,class:"tok-namespace"},{tag:q.className,class:"tok-className"},{tag:q.macroName,class:"tok-macroName"},{tag:q.propertyName,class:"tok-propertyName"},{tag:q.operator,class:"tok-operator"},{tag:q.comment,class:"tok-comment"},{tag:q.meta,class:"tok-meta"},{tag:q.invalid,class:"tok-invalid"},{tag:q.punctuation,class:"tok-punctuation"}]);var qM;const pd=new we;function _5(n){return Ht.define({combine:n?e=>e.concat(n):void 0})}const U5=new we;class Sl{constructor(e,r,o=[],a=""){this.data=e,this.name=a,Ze.prototype.hasOwnProperty("tree")||Object.defineProperty(Ze.prototype,"tree",{get(){return Mi(this)}}),this.parser=r,this.extension=[Hc.of(this),Ze.languageData.of((h,f,p)=>{let g=mB(h,f,p),x=g.type.prop(pd);if(!x)return[];let v=h.facet(x),S=g.type.prop(U5);if(S){let b=g.resolve(f-g.from,p);for(let M of S)if(M.test(b,h)){let j=h.facet(M.facet);return M.type=="replace"?j:j.concat(v)}}return v})].concat(o)}isActiveAt(e,r,o=-1){return mB(e,r,o).type.prop(pd)==this.data}findRegions(e){let r=e.facet(Hc);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let o=[],a=(h,f)=>{if(h.prop(pd)==this.data){o.push({from:f,to:f+h.length});return}let p=h.prop(we.mounted);if(p){if(p.tree.prop(pd)==this.data){if(p.overlay)for(let g of p.overlay)o.push({from:g.from+f,to:g.to+f});else o.push({from:f,to:f+h.length});return}else if(p.overlay){let g=o.length;if(a(p.tree,p.overlay[0].from+f),o.length>g)return}}for(let g=0;g<h.children.length;g++){let x=h.children[g];x instanceof mi&&a(x,h.positions[g]+f)}};return a(Mi(e),0),o}get allowsNesting(){return!0}}Sl.setState=ke.define();function mB(n,e,r){let o=n.facet(Hc),a=Mi(n).topNode;if(!o||o.allowsNesting)for(let h=a;h;h=h.enter(e,r,Ti.ExcludeBuffers))h.type.isTop&&(a=h);return a}class Gc extends Sl{constructor(e,r,o){super(e,r,[],o),this.parser=r}static define(e){let r=_5(e.languageData);return new Gc(r,e.parser.configure({props:[pd.add(o=>o.isTop?r:void 0)]}),e.name)}configure(e,r){return new Gc(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Mi(n){let e=n.field(Sl.state,!1);return e?e.tree:mi.empty}class Imt{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let o=this.cursorPos-this.string.length;return e<o||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-o,r-o)}}let oO=null;class Iv{constructor(e,r,o=[],a,h,f,p,g){this.parser=e,this.state=r,this.fragments=o,this.tree=a,this.treeLen=h,this.viewport=f,this.skipped=p,this.scheduleOn=g,this.parse=null,this.tempSkipped=[]}static create(e,r,o){return new Iv(e,r,[],mi.empty,0,o,[],null)}startParse(){return this.parser.startParse(new Imt(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=mi.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var o;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(mh.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(o=this.parse.stoppedAt)!==null&&o!==void 0?o:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(mh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=oO;oO=this;try{return e()}finally{oO=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=gB(e,r.from,r.to);return e}changes(e,r){let{fragments:o,tree:a,treeLen:h,viewport:f,skipped:p}=this;if(this.takeTree(),!e.empty){let g=[];if(e.iterChangedRanges((x,v,S,b)=>g.push({fromA:x,toA:v,fromB:S,toB:b})),o=mh.applyChanges(o,g),a=mi.empty,h=0,f={from:e.mapPos(f.from,-1),to:e.mapPos(f.to,1)},this.skipped.length){p=[];for(let x of this.skipped){let v=e.mapPos(x.from,1),S=e.mapPos(x.to,-1);v<S&&p.push({from:v,to:S})}}}return new Iv(this.parser,r,o,a,h,f,p,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let o=0;o<this.skipped.length;o++){let{from:a,to:h}=this.skipped[o];a<e.to&&h>e.from&&(this.fragments=gB(this.fragments,a,h),this.skipped.splice(o--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends X5{createParse(r,o,a){let h=a[0].from,f=a[a.length-1].to;return{parsedPos:h,advance(){let g=oO;if(g){for(let x of a)g.tempSkipped.push(x);e&&(g.scheduleOn=g.scheduleOn?Promise.all([g.scheduleOn,e]):e)}return this.parsedPos=f,new mi(cr.none,[],[],f-h)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return oO}}function gB(n,e,r){return mh.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class $g{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),o=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,o)||r.takeTree(),new $g(r)}static init(e){let r=Math.min(3e3,e.doc.length),o=Iv.create(e.facet(Hc).parser,e,{from:0,to:r});return o.work(20,r)||o.takeTree(),new $g(o)}}Sl.state=Tr.define({create:$g.init,update(n,e){for(let r of e.effects)if(r.is(Sl.setState))return r.value;return e.startState.facet(Hc)!=e.state.facet(Hc)?$g.init(e.state):n.apply(e)}});let J9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(J9=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const GM=typeof navigator<"u"&&(!((qM=navigator.scheduling)===null||qM===void 0)&&qM.isInputPending)?()=>navigator.scheduling.isInputPending():null,Fmt=In.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Sl.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Sl.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=J9(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:o,viewport:{to:a}}=this.view,h=o.field(Sl.state);if(h.tree==h.context.tree&&h.context.isDone(a+1e5))return;let f=Date.now()+Math.min(this.chunkBudget,100,e&&!GM?Math.max(25,e.timeRemaining()-5):1e9),p=h.context.treeLen<a&&o.doc.length>a+1e3,g=h.context.work(()=>GM&&GM()||Date.now()>f,a+(p?0:1e5));this.chunkBudget-=Date.now()-r,(g||this.chunkBudget<=0)&&(h.context.takeTree(),this.view.dispatch({effects:Sl.setState.of(new $g(h.context))})),this.chunkBudget>0&&!(g&&!p)&&this.scheduleWork(),this.checkAsyncSchedule(h.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>oo(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Hc=Ht.define({combine(n){return n.length?n[0]:null},enables:n=>[Sl.state,Fmt,Zt.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class Fd{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}class TP{constructor(e,r,o,a,h,f=void 0){this.name=e,this.alias=r,this.extensions=o,this.filename=a,this.loadFunc=h,this.support=f,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:r,support:o}=e;if(!r){if(!o)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");r=()=>Promise.resolve(o)}return new TP(e.name,(e.alias||[]).concat(e.name).map(a=>a.toLowerCase()),e.extensions||[],e.filename,r,o)}static matchFilename(e,r){for(let a of e)if(a.filename&&a.filename.test(r))return a;let o=/\.([^.]+)$/.exec(r);if(o){for(let a of e)if(a.extensions.indexOf(o[1])>-1)return a}return null}static matchLanguageName(e,r,o=!0){r=r.toLowerCase();for(let a of e)if(a.alias.some(h=>h==r))return a;if(o)for(let a of e)for(let h of a.alias){let f=r.indexOf(h);if(f>-1&&(h.length>2||!/\w/.test(r[f-1])&&!/\w/.test(r[f+h.length])))return a}return null}}const Vmt=Ht.define(),ny=Ht.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function CP(n){let e=n.facet(ny);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Fv(n,e){let r="",o=n.tabSize,a=n.facet(ny)[0];if(a=="	"){for(;e>=o;)r+="	",e-=o;a=" "}for(let h=0;h<e;h++)r+=a;return r}function Z5(n,e){n instanceof Ze&&(n=new F2(n));for(let o of n.state.facet(Vmt)){let a=o(n,e);if(a!==void 0)return a}let r=Mi(n.state);return r.length>=e?zmt(n,r,e):null}class F2{constructor(e,r={}){this.state=e,this.options=r,this.unit=CP(e)}lineAt(e,r=1){let o=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:h}=this.options;return a!=null&&a>=o.from&&a<=o.to?h&&a==e?{text:"",from:e}:(r<0?a<e:a<=e)?{text:o.text.slice(a-o.from),from:a}:{text:o.text.slice(0,a-o.from),from:o.from}:o}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:o,from:a}=this.lineAt(e,r);return o.slice(e-a,Math.min(o.length,e+100-a))}column(e,r=1){let{text:o,from:a}=this.lineAt(e,r),h=this.countColumn(o,e-a),f=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return f>-1&&(h+=f-this.countColumn(o,o.search(/\S|$/))),h}countColumn(e,r=e.length){return pa(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:o,from:a}=this.lineAt(e,r),h=this.options.overrideIndentation;if(h){let f=h(a);if(f>-1)return f}return this.countColumn(o,o.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Yd=new we;function zmt(n,e,r){let o=e.resolveStack(r),a=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(a!=o.node){let h=[];for(let f=a;f&&!(f.from==o.node.from&&f.type==o.node.type);f=f.parent)h.push(f);for(let f=h.length-1;f>=0;f--)o={node:h[f],next:o}}return t7(o,n,r)}function t7(n,e,r){for(let o=n;o;o=o.next){let a=Xmt(o.node);if(a)return a(Y5.create(e,r,o))}return 0}function Bmt(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Xmt(n){let e=n.type.prop(Yd);if(e)return e;let r=n.firstChild,o;if(r&&(o=r.type.prop(we.closedBy))){let a=n.lastChild,h=a&&o.indexOf(a.name)>-1;return f=>e7(f,!0,1,void 0,h&&!Bmt(f)?a.from:void 0)}return n.parent==null?_mt:null}function _mt(){return 0}class Y5 extends F2{constructor(e,r,o){super(e.state,e.options),this.base=e,this.pos=r,this.context=o}get node(){return this.context.node}static create(e,r,o){return new Y5(e,r,o)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let o=e.resolve(r.from);for(;o.parent&&o.parent.from==o.from;)o=o.parent;if(Umt(o,e))break;r=this.state.doc.lineAt(o.from)}return this.lineIndent(r.from)}continue(){return t7(this.context.next,this.base,this.pos)}}function Umt(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function Zmt(n){let e=n.node,r=e.childAfter(e.from),o=e.lastChild;if(!r)return null;let a=n.options.simulateBreak,h=n.state.doc.lineAt(r.from),f=a==null||a<=h.from?h.to:Math.min(h.to,a);for(let p=r.to;;){let g=e.childAfter(p);if(!g||g==o)return null;if(!g.type.isSkipped){if(g.from>=f)return null;let x=/^ */.exec(h.text.slice(r.to-h.from))[0].length;return{from:r.from,to:r.to+x}}p=g.to}}function wk({closing:n,align:e=!0,units:r=1}){return o=>e7(o,e,r,n)}function e7(n,e,r,o,a){let h=n.textAfter,f=h.match(/^\s*/)[0].length,p=o&&h.slice(f,f+o.length)==o||a==n.pos+f,g=e?Zmt(n):null;return g?p?n.column(g.from):n.column(g.to):n.baseIndent+(p?0:n.unit*r)}const Ymt=n=>n.baseIndent;function rg({except:n,units:e=1}={}){return r=>{let o=n&&n.test(r.textAfter);return r.baseIndent+(o?0:e*r.unit)}}const Wmt=200;function qmt(){return Ze.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:o}=n.newSelection.main,a=r.lineAt(o);if(o>a.from+Wmt)return n;let h=r.sliceString(a.from,o);if(!e.some(x=>x.test(h)))return n;let{state:f}=n,p=-1,g=[];for(let{head:x}of f.selection.ranges){let v=f.doc.lineAt(x);if(v.from==p)continue;p=v.from;let S=Z5(f,v.from);if(S==null)continue;let b=/^\s*/.exec(v.text)[0],M=Fv(f,S);b!=M&&g.push({from:v.from,to:v.from+b.length,insert:M})}return g.length?[n,{changes:g,sequential:!0}]:n})}const i7=Ht.define(),af=new we;function V2(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function Gmt(n,e,r){let o=Mi(n);if(o.length<r)return null;let a=o.resolveStack(r,1),h=null;for(let f=a;f;f=f.next){let p=f.node;if(p.to<=r||p.from>r)continue;if(h&&p.from<e)break;let g=p.type.prop(af);if(g&&(p.to<o.length-50||o.length==n.doc.length||!Hmt(p))){let x=g(p,n);x&&x.from<=r&&x.from>=e&&x.to>r&&(h=x)}}return h}function Hmt(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function MP(n,e,r){for(let o of n.facet(i7)){let a=o(n,e,r);if(a)return a}return Gmt(n,e,r)}function n7(n,e){let r=e.mapPos(n.from,1),o=e.mapPos(n.to,-1);return r>=o?void 0:{from:r,to:o}}const z2=ke.define({map:n7}),xx=ke.define({map:n7});function r7(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(o=>o.from<=r&&o.to>=r)||e.push(n.lineBlockAt(r));return e}const Vd=Tr.define({create(){return ue.none},update(n,e){n=n.map(e.changes);for(let r of e.effects)if(r.is(z2)&&!Kmt(n,r.value.from,r.value.to)){let{preparePlaceholder:o}=e.state.facet(l7),a=o?ue.replace({widget:new sgt(o(e.state,r.value))}):yB;n=n.update({add:[a.range(r.value.from,r.value.to)]})}else r.is(xx)&&(n=n.update({filter:(o,a)=>r.value.from!=o||r.value.to!=a,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:o}=e.selection.main;n.between(o,o,(a,h)=>{a<o&&h>o&&(r=!0)}),r&&(n=n.update({filterFrom:o,filterTo:o,filter:(a,h)=>h<=o||a>=o}))}return n},provide:n=>Zt.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(o,a)=>{r.push(o,a)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let o=n[r++],a=n[r++];if(typeof o!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(yB.range(o,a))}return ue.set(e,!0)}});function NP(n,e,r){var o;let a=null;return(o=n.field(Vd,!1))===null||o===void 0||o.between(e,r,(h,f)=>{(!a||a.from>h)&&(a={from:h,to:f})}),a}function Kmt(n,e,r){let o=!1;return n.between(e,e,(a,h)=>{a==e&&h==r&&(o=!0)}),o}function s7(n,e){return n.field(Vd,!1)?e:e.concat(ke.appendConfig.of(a7()))}const Jmt=n=>{for(let e of r7(n)){let r=MP(n.state,e.from,e.to);if(r)return n.dispatch({effects:s7(n.state,[z2.of(r),o7(n,r)])}),!0}return!1},tgt=n=>{if(!n.state.field(Vd,!1))return!1;let e=[];for(let r of r7(n)){let o=NP(n.state,r.from,r.to);o&&e.push(xx.of(o),o7(n,o,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function o7(n,e,r=!0){let o=n.state.doc.lineAt(e.from).number,a=n.state.doc.lineAt(e.to).number;return Zt.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${o} ${n.state.phrase("to")} ${a}.`)}const egt=n=>{let{state:e}=n,r=[];for(let o=0;o<e.doc.length;){let a=n.lineBlockAt(o),h=MP(e,a.from,a.to);h&&r.push(z2.of(h)),o=(h?n.lineBlockAt(h.to):a).to+1}return r.length&&n.dispatch({effects:s7(n.state,r)}),!!r.length},igt=n=>{let e=n.state.field(Vd,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(o,a)=>{r.push(xx.of({from:o,to:a}))}),n.dispatch({effects:r}),!0},ngt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Jmt},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:tgt},{key:"Ctrl-Alt-[",run:egt},{key:"Ctrl-Alt-]",run:igt}],rgt={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},l7=Ht.define({combine(n){return ku(n,rgt)}});function a7(n){return[Vd,agt]}function u7(n,e){let{state:r}=n,o=r.facet(l7),a=f=>{let p=n.lineBlockAt(n.posAtDOM(f.target)),g=NP(n.state,p.from,p.to);g&&n.dispatch({effects:xx.of(g)}),f.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(n,a,e);let h=document.createElement("span");return h.textContent=o.placeholderText,h.setAttribute("aria-label",r.phrase("folded code")),h.title=r.phrase("unfold"),h.className="cm-foldPlaceholder",h.onclick=a,h}const yB=ue.replace({widget:new class extends Pu{toDOM(n){return u7(n,null)}}});class sgt extends Pu{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return u7(e,this.value)}}const ogt={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class HM extends Th{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function lgt(n={}){let e=Object.assign(Object.assign({},ogt),n),r=new HM(e,!0),o=new HM(e,!1),a=In.fromClass(class{constructor(f){this.from=f.viewport.from,this.markers=this.buildMarkers(f)}update(f){(f.docChanged||f.viewportChanged||f.startState.facet(Hc)!=f.state.facet(Hc)||f.startState.field(Vd,!1)!=f.state.field(Vd,!1)||Mi(f.startState)!=Mi(f.state)||e.foldingChanged(f))&&(this.markers=this.buildMarkers(f.view))}buildMarkers(f){let p=new Ph;for(let g of f.viewportLineBlocks){let x=NP(f.state,g.from,g.to)?o:MP(f.state,g.from,g.to)?r:null;x&&p.add(g.from,g.from,x)}return p.finish()}}),{domEventHandlers:h}=e;return[a,omt({class:"cm-foldGutter",markers(f){var p;return((p=f.plugin(a))===null||p===void 0?void 0:p.markers)||si.empty},initialSpacer(){return new HM(e,!1)},domEventHandlers:Object.assign(Object.assign({},h),{click:(f,p,g)=>{if(h.click&&h.click(f,p,g))return!0;let x=NP(f.state,p.from,p.to);if(x)return f.dispatch({effects:xx.of(x)}),!0;let v=MP(f.state,p.from,p.to);return v?(f.dispatch({effects:z2.of(v)}),!0):!1}})}),a7()]}const agt=Zt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ry{constructor(e,r){this.specs=e;let o;function a(p){let g=Zc.newName();return(o||(o=Object.create(null)))["."+g]=p,g}const h=typeof r.all=="string"?r.all:r.all?a(r.all):void 0,f=r.scope;this.scope=f instanceof Sl?p=>p.prop(pd)==f.data:f?p=>p==f:void 0,this.style=K9(e.map(p=>({tag:p.tag,class:p.class||a(Object.assign({},p,{tag:null}))})),{all:h}).style,this.module=o?new Zc(o):null,this.themeType=r.themeType}static define(e,r){return new ry(e,r||{})}}const YA=Ht.define(),h7=Ht.define({combine(n){return n.length?[n[0]]:null}});function KM(n){let e=n.facet(YA);return e.length?e:n.facet(h7)}function W5(n,e){let r=[hgt],o;return n instanceof ry&&(n.module&&r.push(Zt.styleModule.of(n.module)),o=n.themeType),e!=null&&e.fallback?r.push(h7.of(n)):o?r.push(YA.computeN([Zt.darkTheme],a=>a.facet(Zt.darkTheme)==(o=="dark")?[n]:[])):r.push(YA.of(n)),r}class ugt{constructor(e){this.markCache=Object.create(null),this.tree=Mi(e.state),this.decorations=this.buildDeco(e,KM(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=Mi(e.state),o=KM(e.state),a=o!=KM(e.startState),{viewport:h}=e.view,f=e.changes.mapPos(this.decoratedTo,1);r.length<h.to&&!a&&r.type==this.tree.type&&f>=h.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=f):(r!=this.tree||e.viewportChanged||a)&&(this.tree=r,this.decorations=this.buildDeco(e.view,o),this.decoratedTo=h.to)}buildDeco(e,r){if(!r||!this.tree.length)return ue.none;let o=new Ph;for(let{from:a,to:h}of e.visibleRanges)Emt(this.tree,r,(f,p,g)=>{o.add(f,p,this.markCache[g]||(this.markCache[g]=ue.mark({class:g})))},a,h);return o.finish()}}const hgt=Nh.high(In.fromClass(ugt,{decorations:n=>n.decorations})),cgt=ry.define([{tag:q.meta,color:"#404740"},{tag:q.link,textDecoration:"underline"},{tag:q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strong,fontWeight:"bold"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.keyword,color:"#708"},{tag:[q.atom,q.bool,q.url,q.contentSeparator,q.labelName],color:"#219"},{tag:[q.literal,q.inserted],color:"#164"},{tag:[q.string,q.deleted],color:"#a11"},{tag:[q.regexp,q.escape,q.special(q.string)],color:"#e40"},{tag:q.definition(q.variableName),color:"#00f"},{tag:q.local(q.variableName),color:"#30a"},{tag:[q.typeName,q.namespace],color:"#085"},{tag:q.className,color:"#167"},{tag:[q.special(q.variableName),q.macroName],color:"#256"},{tag:q.definition(q.propertyName),color:"#00c"},{tag:q.comment,color:"#940"},{tag:q.invalid,color:"#f00"}]),fgt=Zt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),c7=1e4,f7="()[]{}",d7=Ht.define({combine(n){return ku(n,{afterCursor:!0,brackets:f7,maxScanDistance:c7,renderMatch:mgt})}}),dgt=ue.mark({class:"cm-matchingBracket"}),pgt=ue.mark({class:"cm-nonmatchingBracket"});function mgt(n){let e=[],r=n.matched?dgt:pgt;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const ggt=Tr.define({create(){return ue.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],o=e.state.facet(d7);for(let a of e.state.selection.ranges){if(!a.empty)continue;let h=uu(e.state,a.head,-1,o)||a.head>0&&uu(e.state,a.head-1,1,o)||o.afterCursor&&(uu(e.state,a.head,1,o)||a.head<e.state.doc.length&&uu(e.state,a.head+1,-1,o));h&&(r=r.concat(o.renderMatch(h,e.state)))}return ue.set(r,!0)},provide:n=>Zt.decorations.from(n)}),ygt=[ggt,fgt];function Ogt(n={}){return[d7.of(n),ygt]}const p7=new we;function WA(n,e,r){let o=n.prop(e<0?we.openedBy:we.closedBy);if(o)return o;if(n.name.length==1){let a=r.indexOf(n.name);if(a>-1&&a%2==(e<0?1:0))return[r[a+e]]}return null}function qA(n){let e=n.type.prop(p7);return e?e(n.node):n}function uu(n,e,r,o={}){let a=o.maxScanDistance||c7,h=o.brackets||f7,f=Mi(n),p=f.resolveInner(e,r);for(let g=p;g;g=g.parent){let x=WA(g.type,r,h);if(x&&g.from<g.to){let v=qA(g);if(v&&(r>0?e>=v.from&&e<v.to:e>v.from&&e<=v.to))return vgt(n,e,r,g,v,x,h)}}return xgt(n,e,r,f,p.type,a,h)}function vgt(n,e,r,o,a,h,f){let p=o.parent,g={from:a.from,to:a.to},x=0,v=p==null?void 0:p.cursor();if(v&&(r<0?v.childBefore(o.from):v.childAfter(o.to)))do if(r<0?v.to<=o.from:v.from>=o.to){if(x==0&&h.indexOf(v.type.name)>-1&&v.from<v.to){let S=qA(v);return{start:g,end:S?{from:S.from,to:S.to}:void 0,matched:!0}}else if(WA(v.type,r,f))x++;else if(WA(v.type,-r,f)){if(x==0){let S=qA(v);return{start:g,end:S&&S.from<S.to?{from:S.from,to:S.to}:void 0,matched:!1}}x--}}while(r<0?v.prevSibling():v.nextSibling());return{start:g,matched:!1}}function xgt(n,e,r,o,a,h,f){let p=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),g=f.indexOf(p);if(g<0||g%2==0!=r>0)return null;let x={from:r<0?e-1:e,to:r>0?e+1:e},v=n.doc.iterRange(e,r>0?n.doc.length:0),S=0;for(let b=0;!v.next().done&&b<=h;){let M=v.value;r<0&&(b+=M.length);let j=e+b*r;for(let Q=r>0?0:M.length-1,R=r>0?M.length:-1;Q!=R;Q+=r){let L=f.indexOf(M[Q]);if(!(L<0||o.resolveInner(j+Q,1).type!=a))if(L%2==0==r>0)S++;else{if(S==1)return{start:x,end:{from:j+Q,to:j+Q+1},matched:L>>1==g>>1};S--}}r>0&&(b+=M.length)}return v.done?{start:x,matched:!1}:null}const wgt=Object.create(null),OB=[cr.none],vB=[],xB=Object.create(null),Sgt=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Sgt[n]=kgt(wgt,e);function JM(n,e){vB.indexOf(n)>-1||(vB.push(n),console.warn(e))}function kgt(n,e){let r=[];for(let p of e.split(" ")){let g=[];for(let x of p.split(".")){let v=n[x]||q[x];v?typeof v=="function"?g.length?g=g.map(v):JM(x,`Modifier ${x} used at start of tag`):g.length?JM(x,`Tag ${x} used as modifier`):g=Array.isArray(v)?v:[v]:JM(x,`Unknown highlighting tag ${x}`)}for(let x of g)r.push(x)}if(!r.length)return 0;let o=e.replace(/ /g,"_"),a=o+" "+r.map(p=>p.id),h=xB[a];if(h)return h.id;let f=xB[a]=cr.define({id:OB.length,name:o,props:[lf({[o]:r})]});return OB.push(f),f.id}_i.RTL,_i.LTR;const Pgt=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),o=G5(n.state,r.from);return o.line?bgt(n):o.block?Cgt(n):!1};function q5(n,e){return({state:r,dispatch:o})=>{if(r.readOnly)return!1;let a=n(e,r);return a?(o(r.update(a)),!0):!1}}const bgt=q5(Qgt,0),Tgt=q5(m7,0),Cgt=q5((n,e)=>m7(n,e,Ngt(e)),0);function G5(n,e){let r=n.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const lO=50;function Mgt(n,{open:e,close:r},o,a){let h=n.sliceDoc(o-lO,o),f=n.sliceDoc(a,a+lO),p=/\s*$/.exec(h)[0].length,g=/^\s*/.exec(f)[0].length,x=h.length-p;if(h.slice(x-e.length,x)==e&&f.slice(g,g+r.length)==r)return{open:{pos:o-p,margin:p&&1},close:{pos:a+g,margin:g&&1}};let v,S;a-o<=2*lO?v=S=n.sliceDoc(o,a):(v=n.sliceDoc(o,o+lO),S=n.sliceDoc(a-lO,a));let b=/^\s*/.exec(v)[0].length,M=/\s*$/.exec(S)[0].length,j=S.length-M-r.length;return v.slice(b,b+e.length)==e&&S.slice(j,j+r.length)==r?{open:{pos:o+b+e.length,margin:/\s/.test(v.charAt(b+e.length))?1:0},close:{pos:a-M-r.length,margin:/\s/.test(S.charAt(j-1))?1:0}}:null}function Ngt(n){let e=[];for(let r of n.selection.ranges){let o=n.doc.lineAt(r.from),a=r.to<=o.to?o:n.doc.lineAt(r.to);a.from>o.from&&a.from==r.to&&(a=r.to==o.to+1?o:n.doc.lineAt(r.to-1));let h=e.length-1;h>=0&&e[h].to>o.from?e[h].to=a.to:e.push({from:o.from+/^\s*/.exec(o.text)[0].length,to:a.to})}return e}function m7(n,e,r=e.selection.ranges){let o=r.map(h=>G5(e,h.from).block);if(!o.every(h=>h))return null;let a=r.map((h,f)=>Mgt(e,o[f],h.from,h.to));if(n!=2&&!a.every(h=>h))return{changes:e.changes(r.map((h,f)=>a[f]?[]:[{from:h.from,insert:o[f].open+" "},{from:h.to,insert:" "+o[f].close}]))};if(n!=1&&a.some(h=>h)){let h=[];for(let f=0,p;f<a.length;f++)if(p=a[f]){let g=o[f],{open:x,close:v}=p;h.push({from:x.pos-g.open.length,to:x.pos+x.margin},{from:v.pos-v.margin,to:v.pos+g.close.length})}return{changes:h}}return null}function Qgt(n,e,r=e.selection.ranges){let o=[],a=-1;for(let{from:h,to:f}of r){let p=o.length,g=1e9,x=G5(e,h).line;if(x){for(let v=h;v<=f;){let S=e.doc.lineAt(v);if(S.from>a&&(h==f||f>S.from)){a=S.from;let b=/^\s*/.exec(S.text)[0].length,M=b==S.length,j=S.text.slice(b,b+x.length)==x?b:-1;b<S.text.length&&b<g&&(g=b),o.push({line:S,comment:j,token:x,indent:b,empty:M,single:!1})}v=S.to+1}if(g<1e9)for(let v=p;v<o.length;v++)o[v].indent<o[v].line.text.length&&(o[v].indent=g);o.length==p+1&&(o[p].single=!0)}}if(n!=2&&o.some(h=>h.comment<0&&(!h.empty||h.single))){let h=[];for(let{line:p,token:g,indent:x,empty:v,single:S}of o)(S||!v)&&h.push({from:p.from+x,insert:g+" "});let f=e.changes(h);return{changes:f,selection:e.selection.map(f,1)}}else if(n!=1&&o.some(h=>h.comment>=0)){let h=[];for(let{line:f,comment:p,token:g}of o)if(p>=0){let x=f.from+p,v=x+g.length;f.text[v-f.from]==" "&&v++,h.push({from:x,to:v})}return{changes:h}}return null}const GA=Su.define(),Agt=Su.define(),jgt=Ht.define(),g7=Ht.define({combine(n){return ku(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(o,a)=>e(o,a)||r(o,a)})}}),y7=Tr.define({create(){return hu.empty},update(n,e){let r=e.state.facet(g7),o=e.annotation(GA);if(o){let g=lo.fromTransaction(e,o.selection),x=o.side,v=x==0?n.undone:n.done;return g?v=QP(v,v.length,r.minDepth,g):v=x7(v,e.startState.selection),new hu(x==0?o.rest:v,x==0?v:o.rest)}let a=e.annotation(Agt);if((a=="full"||a=="before")&&(n=n.isolate()),e.annotation(qn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let h=lo.fromTransaction(e),f=e.annotation(qn.time),p=e.annotation(qn.userEvent);return h?n=n.addChanges(h,f,p,r,e):e.selection&&(n=n.addSelection(e.startState.selection,f,p,r.newGroupDelay)),(a=="full"||a=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new hu(n.done.map(lo.fromJSON),n.undone.map(lo.fromJSON))}});function Rgt(n={}){return[y7,g7.of(n),Zt.domEventHandlers({beforeinput(e,r){let o=e.inputType=="historyUndo"?O7:e.inputType=="historyRedo"?HA:null;return o?(e.preventDefault(),o(r)):!1}})]}function B2(n,e){return function({state:r,dispatch:o}){if(!e&&r.readOnly)return!1;let a=r.field(y7,!1);if(!a)return!1;let h=a.pop(n,r,e);return h?(o(h),!0):!1}}const O7=B2(0,!1),HA=B2(1,!1),Lgt=B2(0,!0),Egt=B2(1,!0);class lo{constructor(e,r,o,a,h){this.changes=e,this.effects=r,this.mapped=o,this.startSelection=a,this.selectionsAfter=h}setSelAfter(e){return new lo(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,o;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(o=this.startSelection)===null||o===void 0?void 0:o.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new lo(e.changes&&ur.fromJSON(e.changes),[],e.mapped&&gu.fromJSON(e.mapped),e.startSelection&&Ct.fromJSON(e.startSelection),e.selectionsAfter.map(Ct.fromJSON))}static fromTransaction(e,r){let o=kl;for(let a of e.startState.facet(jgt)){let h=a(e);h.length&&(o=o.concat(h))}return!o.length&&e.changes.empty?null:new lo(e.changes.invert(e.startState.doc),o,void 0,r||e.startState.selection,kl)}static selection(e){return new lo(void 0,kl,void 0,void 0,e)}}function QP(n,e,r,o){let a=e+1>r+20?e-r-1:0,h=n.slice(a,e);return h.push(o),h}function $gt(n,e){let r=[],o=!1;return n.iterChangedRanges((a,h)=>r.push(a,h)),e.iterChangedRanges((a,h,f,p)=>{for(let g=0;g<r.length;){let x=r[g++],v=r[g++];p>=x&&f<=v&&(o=!0)}}),o}function Dgt(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,o)=>r.empty!=e.ranges[o].empty).length===0}function v7(n,e){return n.length?e.length?n.concat(e):n:e}const kl=[],Igt=200;function x7(n,e){if(n.length){let r=n[n.length-1],o=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Igt));return o.length&&o[o.length-1].eq(e)?n:(o.push(e),QP(n,n.length-1,1e9,r.setSelAfter(o)))}else return[lo.selection([e])]}function Fgt(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function tN(n,e){if(!n.length)return n;let r=n.length,o=kl;for(;r;){let a=Vgt(n[r-1],e,o);if(a.changes&&!a.changes.empty||a.effects.length){let h=n.slice(0,r);return h[r-1]=a,h}else e=a.mapped,r--,o=a.selectionsAfter}return o.length?[lo.selection(o)]:kl}function Vgt(n,e,r){let o=v7(n.selectionsAfter.length?n.selectionsAfter.map(p=>p.map(e)):kl,r);if(!n.changes)return lo.selection(o);let a=n.changes.map(e),h=e.mapDesc(n.changes,!0),f=n.mapped?n.mapped.composeDesc(h):h;return new lo(a,ke.mapEffects(n.effects,e),f,n.startSelection.map(h),o)}const zgt=/^(input\.type|delete)($|\.)/;class hu{constructor(e,r,o=0,a=void 0){this.done=e,this.undone=r,this.prevTime=o,this.prevUserEvent=a}isolate(){return this.prevTime?new hu(this.done,this.undone):this}addChanges(e,r,o,a,h){let f=this.done,p=f[f.length-1];return p&&p.changes&&!p.changes.empty&&e.changes&&(!o||zgt.test(o))&&(!p.selectionsAfter.length&&r-this.prevTime<a.newGroupDelay&&a.joinToEvent(h,$gt(p.changes,e.changes))||o=="input.type.compose")?f=QP(f,f.length-1,a.minDepth,new lo(e.changes.compose(p.changes),v7(ke.mapEffects(e.effects,p.changes),p.effects),p.mapped,p.startSelection,kl)):f=QP(f,f.length,a.minDepth,e),new hu(f,kl,r,o)}addSelection(e,r,o,a){let h=this.done.length?this.done[this.done.length-1].selectionsAfter:kl;return h.length>0&&r-this.prevTime<a&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&Dgt(h[h.length-1],e)?this:new hu(x7(this.done,e),this.undone,r,o)}addMapping(e){return new hu(tN(this.done,e),tN(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,o){let a=e==0?this.done:this.undone;if(a.length==0)return null;let h=a[a.length-1],f=h.selectionsAfter[0]||r.selection;if(o&&h.selectionsAfter.length)return r.update({selection:h.selectionsAfter[h.selectionsAfter.length-1],annotations:GA.of({side:e,rest:Fgt(a),selection:f}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(h.changes){let p=a.length==1?kl:a.slice(0,a.length-1);return h.mapped&&(p=tN(p,h.mapped)),r.update({changes:h.changes,selection:h.startSelection,effects:h.effects,annotations:GA.of({side:e,rest:p,selection:f}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}hu.empty=new hu(kl,kl);const Bgt=[{key:"Mod-z",run:O7,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:HA,preventDefault:!0},{linux:"Ctrl-Shift-z",run:HA,preventDefault:!0},{key:"Mod-u",run:Lgt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Egt,preventDefault:!0}];function sy(n,e){return Ct.create(n.ranges.map(e),n.mainIndex)}function bu(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function va({state:n,dispatch:e},r){let o=sy(n.selection,r);return o.eq(n.selection,!0)?!1:(e(bu(n,o)),!0)}function X2(n,e){return Ct.cursor(e?n.to:n.from)}function w7(n,e){return va(n,r=>r.empty?n.moveByChar(r,e):X2(r,e))}function vs(n){return n.textDirectionAt(n.state.selection.main.head)==_i.LTR}const S7=n=>w7(n,!vs(n)),k7=n=>w7(n,vs(n));function P7(n,e){return va(n,r=>r.empty?n.moveByGroup(r,e):X2(r,e))}const Xgt=n=>P7(n,!vs(n)),_gt=n=>P7(n,vs(n));function Ugt(n,e,r){if(e.type.prop(r))return!0;let o=e.to-e.from;return o&&(o>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function _2(n,e,r){let o=Mi(n).resolveInner(e.head),a=r?we.closedBy:we.openedBy;for(let g=e.head;;){let x=r?o.childAfter(g):o.childBefore(g);if(!x)break;Ugt(n,x,a)?o=x:g=r?x.to:x.from}let h=o.type.prop(a),f,p;return h&&(f=r?uu(n,o.from,1):uu(n,o.to,-1))&&f.matched?p=r?f.end.to:f.end.from:p=r?o.to:o.from,Ct.cursor(p,r?-1:1)}const Zgt=n=>va(n,e=>_2(n.state,e,!vs(n))),Ygt=n=>va(n,e=>_2(n.state,e,vs(n)));function b7(n,e){return va(n,r=>{if(!r.empty)return X2(r,e);let o=n.moveVertically(r,e);return o.head!=r.head?o:n.moveToLineBoundary(r,e)})}const T7=n=>b7(n,!1),C7=n=>b7(n,!0);function M7(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,o=0,a;if(e){for(let h of n.state.facet(Zt.scrollMargins)){let f=h(n);f!=null&&f.top&&(r=Math.max(f==null?void 0:f.top,r)),f!=null&&f.bottom&&(o=Math.max(f==null?void 0:f.bottom,o))}a=n.scrollDOM.clientHeight-r-o}else a=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:e,height:Math.max(n.defaultLineHeight,a-5)}}function N7(n,e){let r=M7(n),{state:o}=n,a=sy(o.selection,f=>f.empty?n.moveVertically(f,e,r.height):X2(f,e));if(a.eq(o.selection))return!1;let h;if(r.selfScroll){let f=n.coordsAtPos(o.selection.main.head),p=n.scrollDOM.getBoundingClientRect(),g=p.top+r.marginTop,x=p.bottom-r.marginBottom;f&&f.top>g&&f.bottom<x&&(h=Zt.scrollIntoView(a.main.head,{y:"start",yMargin:f.top-g}))}return n.dispatch(bu(o,a),{effects:h}),!0}const wB=n=>N7(n,!1),KA=n=>N7(n,!0);function uf(n,e,r){let o=n.lineBlockAt(e.head),a=n.moveToLineBoundary(e,r);if(a.head==e.head&&a.head!=(r?o.to:o.from)&&(a=n.moveToLineBoundary(e,r,!1)),!r&&a.head==o.from&&o.length){let h=/^\s*/.exec(n.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;h&&e.head!=o.from+h&&(a=Ct.cursor(o.from+h))}return a}const Wgt=n=>va(n,e=>uf(n,e,!0)),qgt=n=>va(n,e=>uf(n,e,!1)),Ggt=n=>va(n,e=>uf(n,e,!vs(n))),Hgt=n=>va(n,e=>uf(n,e,vs(n))),Kgt=n=>va(n,e=>Ct.cursor(n.lineBlockAt(e.head).from,1)),Jgt=n=>va(n,e=>Ct.cursor(n.lineBlockAt(e.head).to,-1));function tyt(n,e,r){let o=!1,a=sy(n.selection,h=>{let f=uu(n,h.head,-1)||uu(n,h.head,1)||h.head>0&&uu(n,h.head-1,1)||h.head<n.doc.length&&uu(n,h.head+1,-1);if(!f||!f.end)return h;o=!0;let p=f.start.from==h.head?f.end.to:f.end.from;return Ct.cursor(p)});return o?(e(bu(n,a)),!0):!1}const eyt=({state:n,dispatch:e})=>tyt(n,e);function Al(n,e){let r=sy(n.state.selection,o=>{let a=e(o);return Ct.range(o.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(bu(n.state,r)),!0)}function Q7(n,e){return Al(n,r=>n.moveByChar(r,e))}const A7=n=>Q7(n,!vs(n)),j7=n=>Q7(n,vs(n));function R7(n,e){return Al(n,r=>n.moveByGroup(r,e))}const iyt=n=>R7(n,!vs(n)),nyt=n=>R7(n,vs(n)),ryt=n=>Al(n,e=>_2(n.state,e,!vs(n))),syt=n=>Al(n,e=>_2(n.state,e,vs(n)));function L7(n,e){return Al(n,r=>n.moveVertically(r,e))}const E7=n=>L7(n,!1),$7=n=>L7(n,!0);function D7(n,e){return Al(n,r=>n.moveVertically(r,e,M7(n).height))}const SB=n=>D7(n,!1),kB=n=>D7(n,!0),oyt=n=>Al(n,e=>uf(n,e,!0)),lyt=n=>Al(n,e=>uf(n,e,!1)),ayt=n=>Al(n,e=>uf(n,e,!vs(n))),uyt=n=>Al(n,e=>uf(n,e,vs(n))),hyt=n=>Al(n,e=>Ct.cursor(n.lineBlockAt(e.head).from)),cyt=n=>Al(n,e=>Ct.cursor(n.lineBlockAt(e.head).to)),PB=({state:n,dispatch:e})=>(e(bu(n,{anchor:0})),!0),bB=({state:n,dispatch:e})=>(e(bu(n,{anchor:n.doc.length})),!0),TB=({state:n,dispatch:e})=>(e(bu(n,{anchor:n.selection.main.anchor,head:0})),!0),CB=({state:n,dispatch:e})=>(e(bu(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),fyt=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),dyt=({state:n,dispatch:e})=>{let r=U2(n).map(({from:o,to:a})=>Ct.range(o,Math.min(a+1,n.doc.length)));return e(n.update({selection:Ct.create(r),userEvent:"select"})),!0},pyt=({state:n,dispatch:e})=>{let r=sy(n.selection,o=>{let a=Mi(n),h=a.resolveStack(o.from,1);if(o.empty){let f=a.resolveStack(o.from,-1);f.node.from>=h.node.from&&f.node.to<=h.node.to&&(h=f)}for(let f=h;f;f=f.next){let{node:p}=f;if((p.from<o.from&&p.to>=o.to||p.to>o.to&&p.from<=o.from)&&f.next)return Ct.range(p.to,p.from)}return o});return r.eq(n.selection)?!1:(e(bu(n,r)),!0)},myt=({state:n,dispatch:e})=>{let r=n.selection,o=null;return r.ranges.length>1?o=Ct.create([r.main]):r.main.empty||(o=Ct.create([Ct.cursor(r.main.head)])),o?(e(bu(n,o)),!0):!1};function wx(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:o}=n,a=o.changeByRange(h=>{let{from:f,to:p}=h;if(f==p){let g=e(h);g<f?(r="delete.backward",g=ES(n,g,!1)):g>f&&(r="delete.forward",g=ES(n,g,!0)),f=Math.min(f,g),p=Math.max(p,g)}else f=ES(n,f,!1),p=ES(n,p,!0);return f==p?{range:h}:{changes:{from:f,to:p},range:Ct.cursor(f,f<h.head?-1:1)}});return a.changes.empty?!1:(n.dispatch(o.update(a,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Zt.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function ES(n,e,r){if(n instanceof Zt)for(let o of n.state.facet(Zt.atomicRanges).map(a=>a(n)))o.between(e,e,(a,h)=>{a<e&&h>e&&(e=r?h:a)});return e}const I7=(n,e,r)=>wx(n,o=>{let a=o.from,{state:h}=n,f=h.doc.lineAt(a),p,g;if(r&&!e&&a>f.from&&a<f.from+200&&!/[^ \t]/.test(p=f.text.slice(0,a-f.from))){if(p[p.length-1]=="	")return a-1;let x=pa(p,h.tabSize),v=x%CP(h)||CP(h);for(let S=0;S<v&&p[p.length-1-S]==" ";S++)a--;g=a}else g=Xr(f.text,a-f.from,e,e)+f.from,g==a&&f.number!=(e?h.doc.lines:1)?g+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(f.text.slice(g-f.from,a-f.from))&&(g=Xr(f.text,g-f.from,!1,!1)+f.from);return g}),JA=n=>I7(n,!1,!0),F7=n=>I7(n,!0,!1),V7=(n,e)=>wx(n,r=>{let o=r.head,{state:a}=n,h=a.doc.lineAt(o),f=a.charCategorizer(o);for(let p=null;;){if(o==(e?h.to:h.from)){o==r.head&&h.number!=(e?a.doc.lines:1)&&(o+=e?1:-1);break}let g=Xr(h.text,o-h.from,e)+h.from,x=h.text.slice(Math.min(o,g)-h.from,Math.max(o,g)-h.from),v=f(x);if(p!=null&&v!=p)break;(x!=" "||o!=r.head)&&(p=v),o=g}return o}),z7=n=>V7(n,!1),gyt=n=>V7(n,!0),yyt=n=>wx(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),Oyt=n=>wx(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),vyt=n=>wx(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),xyt=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:Ke.of(["",""])},range:Ct.cursor(o.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},wyt=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>{if(!o.empty||o.from==0||o.from==n.doc.length)return{range:o};let a=o.from,h=n.doc.lineAt(a),f=a==h.from?a-1:Xr(h.text,a-h.from,!1)+h.from,p=a==h.to?a+1:Xr(h.text,a-h.from,!0)+h.from;return{changes:{from:f,to:p,insert:n.doc.slice(a,p).append(n.doc.slice(f,a))},range:Ct.cursor(p)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function U2(n){let e=[],r=-1;for(let o of n.selection.ranges){let a=n.doc.lineAt(o.from),h=n.doc.lineAt(o.to);if(!o.empty&&o.to==h.from&&(h=n.doc.lineAt(o.to-1)),r>=a.number){let f=e[e.length-1];f.to=h.to,f.ranges.push(o)}else e.push({from:a.from,to:h.to,ranges:[o]});r=h.number+1}return e}function B7(n,e,r){if(n.readOnly)return!1;let o=[],a=[];for(let h of U2(n)){if(r?h.to==n.doc.length:h.from==0)continue;let f=n.doc.lineAt(r?h.to+1:h.from-1),p=f.length+1;if(r){o.push({from:h.to,to:f.to},{from:h.from,insert:f.text+n.lineBreak});for(let g of h.ranges)a.push(Ct.range(Math.min(n.doc.length,g.anchor+p),Math.min(n.doc.length,g.head+p)))}else{o.push({from:f.from,to:h.from},{from:h.to,insert:n.lineBreak+f.text});for(let g of h.ranges)a.push(Ct.range(g.anchor-p,g.head-p))}}return o.length?(e(n.update({changes:o,scrollIntoView:!0,selection:Ct.create(a,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Syt=({state:n,dispatch:e})=>B7(n,e,!1),kyt=({state:n,dispatch:e})=>B7(n,e,!0);function X7(n,e,r){if(n.readOnly)return!1;let o=[];for(let a of U2(n))r?o.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):o.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)});return e(n.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Pyt=({state:n,dispatch:e})=>X7(n,e,!1),byt=({state:n,dispatch:e})=>X7(n,e,!0),Tyt=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(U2(e).map(({from:a,to:h})=>(a>0?a--:h<e.doc.length&&h++,{from:a,to:h}))),o=sy(e.selection,a=>{let h;if(n.lineWrapping){let f=n.lineBlockAt(a.head),p=n.coordsAtPos(a.head,a.assoc||1);p&&(h=f.bottom+n.documentTop-p.bottom+n.defaultLineHeight/2)}return n.moveVertically(a,!0,h)}).map(r);return n.dispatch({changes:r,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Cyt(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Mi(n).resolveInner(e),o=r.childBefore(e),a=r.childAfter(e),h;return o&&a&&o.to<=e&&a.from>=e&&(h=o.type.prop(we.closedBy))&&h.indexOf(a.name)>-1&&n.doc.lineAt(o.to).from==n.doc.lineAt(a.from).from&&!/\S/.test(n.sliceDoc(o.to,a.from))?{from:o.to,to:a.from}:null}const MB=_7(!1),Myt=_7(!0);function _7(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let o=e.changeByRange(a=>{let{from:h,to:f}=a,p=e.doc.lineAt(h),g=!n&&h==f&&Cyt(e,h);n&&(h=f=(f<=p.to?p:e.doc.lineAt(f)).to);let x=new F2(e,{simulateBreak:h,simulateDoubleBreak:!!g}),v=Z5(x,h);for(v==null&&(v=pa(/^\s*/.exec(e.doc.lineAt(h).text)[0],e.tabSize));f<p.to&&/\s/.test(p.text[f-p.from]);)f++;g?{from:h,to:f}=g:h>p.from&&h<p.from+100&&!/\S/.test(p.text.slice(0,h))&&(h=p.from);let S=["",Fv(e,v)];return g&&S.push(Fv(e,x.lineIndent(p.from,-1))),{changes:{from:h,to:f,insert:Ke.of(S)},range:Ct.cursor(h+1+S[1].length)}});return r(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function H5(n,e){let r=-1;return n.changeByRange(o=>{let a=[];for(let f=o.from;f<=o.to;){let p=n.doc.lineAt(f);p.number>r&&(o.empty||o.to>p.from)&&(e(p,a,o),r=p.number),f=p.to+1}let h=n.changes(a);return{changes:a,range:Ct.range(h.mapPos(o.anchor,1),h.mapPos(o.head,1))}})}const Nyt=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),o=new F2(n,{overrideIndentation:h=>{let f=r[h];return f??-1}}),a=H5(n,(h,f,p)=>{let g=Z5(o,h.from);if(g==null)return;/\S/.test(h.text)||(g=0);let x=/^\s*/.exec(h.text)[0],v=Fv(n,g);(x!=v||p.from<h.from+x.length)&&(r[h.from]=g,f.push({from:h.from,to:h.from+x.length,insert:v}))});return a.changes.empty||e(n.update(a,{userEvent:"indent"})),!0},U7=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(H5(n,(r,o)=>{o.push({from:r.from,insert:n.facet(ny)})}),{userEvent:"input.indent"})),!0),Z7=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(H5(n,(r,o)=>{let a=/^\s*/.exec(r.text)[0];if(!a)return;let h=pa(a,n.tabSize),f=0,p=Fv(n,Math.max(0,h-CP(n)));for(;f<a.length&&f<p.length&&a.charCodeAt(f)==p.charCodeAt(f);)f++;o.push({from:r.from+f,to:r.from+a.length,insert:p.slice(f)})}),{userEvent:"delete.dedent"})),!0),Qyt=n=>(n.setTabFocusMode(),!0),Ayt=[{key:"Ctrl-b",run:S7,shift:A7,preventDefault:!0},{key:"Ctrl-f",run:k7,shift:j7},{key:"Ctrl-p",run:T7,shift:E7},{key:"Ctrl-n",run:C7,shift:$7},{key:"Ctrl-a",run:Kgt,shift:hyt},{key:"Ctrl-e",run:Jgt,shift:cyt},{key:"Ctrl-d",run:F7},{key:"Ctrl-h",run:JA},{key:"Ctrl-k",run:yyt},{key:"Ctrl-Alt-h",run:z7},{key:"Ctrl-o",run:xyt},{key:"Ctrl-t",run:wyt},{key:"Ctrl-v",run:KA}],jyt=[{key:"ArrowLeft",run:S7,shift:A7,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Xgt,shift:iyt,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ggt,shift:ayt,preventDefault:!0},{key:"ArrowRight",run:k7,shift:j7,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:_gt,shift:nyt,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Hgt,shift:uyt,preventDefault:!0},{key:"ArrowUp",run:T7,shift:E7,preventDefault:!0},{mac:"Cmd-ArrowUp",run:PB,shift:TB},{mac:"Ctrl-ArrowUp",run:wB,shift:SB},{key:"ArrowDown",run:C7,shift:$7,preventDefault:!0},{mac:"Cmd-ArrowDown",run:bB,shift:CB},{mac:"Ctrl-ArrowDown",run:KA,shift:kB},{key:"PageUp",run:wB,shift:SB},{key:"PageDown",run:KA,shift:kB},{key:"Home",run:qgt,shift:lyt,preventDefault:!0},{key:"Mod-Home",run:PB,shift:TB},{key:"End",run:Wgt,shift:oyt,preventDefault:!0},{key:"Mod-End",run:bB,shift:CB},{key:"Enter",run:MB,shift:MB},{key:"Mod-a",run:fyt},{key:"Backspace",run:JA,shift:JA},{key:"Delete",run:F7},{key:"Mod-Backspace",mac:"Alt-Backspace",run:z7},{key:"Mod-Delete",mac:"Alt-Delete",run:gyt},{mac:"Mod-Backspace",run:Oyt},{mac:"Mod-Delete",run:vyt}].concat(Ayt.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Ryt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Zgt,shift:ryt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ygt,shift:syt},{key:"Alt-ArrowUp",run:Syt},{key:"Shift-Alt-ArrowUp",run:Pyt},{key:"Alt-ArrowDown",run:kyt},{key:"Shift-Alt-ArrowDown",run:byt},{key:"Escape",run:myt},{key:"Mod-Enter",run:Myt},{key:"Alt-l",mac:"Ctrl-l",run:dyt},{key:"Mod-i",run:pyt,preventDefault:!0},{key:"Mod-[",run:Z7},{key:"Mod-]",run:U7},{key:"Mod-Alt-\\",run:Nyt},{key:"Shift-Mod-k",run:Tyt},{key:"Shift-Mod-\\",run:eyt},{key:"Mod-/",run:Pgt},{key:"Alt-A",run:Tgt},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Qyt}].concat(jyt),Lyt={key:"Tab",run:U7,shift:Z7};function Pi(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var a=r[o];typeof a=="string"?n.setAttribute(o,a):a!=null&&(n[o]=a)}e++}for(;e<arguments.length;e++)Y7(n,arguments[e]);return n}function Y7(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)Y7(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}const NB=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Dg{constructor(e,r,o=0,a=e.length,h,f){this.test=f,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(o,a),this.bufferStart=o,this.normalize=h?p=>h(NB(p)):NB,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return eo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=k5(e),o=this.bufferStart+this.bufferPos;this.bufferPos+=ou(e);let a=this.normalize(r);if(a.length)for(let h=0,f=o;;h++){let p=a.charCodeAt(h),g=this.match(p,f,this.bufferPos+this.bufferStart);if(h==a.length-1){if(g)return this.value=g,this;break}f==o&&h<r.length&&r.charCodeAt(h)==p&&f++}}}match(e,r,o){let a=null;for(let h=0;h<this.matches.length;h+=2){let f=this.matches[h],p=!1;this.query.charCodeAt(f)==e&&(f==this.query.length-1?a={from:this.matches[h+1],to:o}:(this.matches[h]++,p=!0)),p||(this.matches.splice(h,2),h-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:o}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(Dg.prototype[Symbol.iterator]=function(){return this});const W7={from:-1,to:-1,match:/.*/.exec("")},K5="gm"+(/x/.unicode==null?"":"u");class q7{constructor(e,r,o,a=0,h=e.length){if(this.text=e,this.to=h,this.curLine="",this.done=!1,this.value=W7,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new G7(e,r,o,a,h);this.re=new RegExp(r,K5+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.iter=e.iter();let f=e.lineAt(a);this.curLineStart=f.from,this.matchPos=AP(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let o=this.curLineStart+r.index,a=o+r[0].length;if(this.matchPos=AP(this.text,a+(o==a?1:0)),o==this.curLineStart+this.curLine.length&&this.nextLine(),(o<a||o>this.value.to)&&(!this.test||this.test(o,a,r)))return this.value={from:o,to:a,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const eN=new WeakMap;class sg{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,o){let a=eN.get(e);if(!a||a.from>=o||a.to<=r){let p=new sg(r,e.sliceString(r,o));return eN.set(e,p),p}if(a.from==r&&a.to==o)return a;let{text:h,from:f}=a;return f>r&&(h=e.sliceString(r,f)+h,f=r),a.to<o&&(h+=e.sliceString(a.to,o)),eN.set(e,new sg(f,h)),new sg(r,h.slice(r-f,o-f))}}class G7{constructor(e,r,o,a,h){this.text=e,this.to=h,this.done=!1,this.value=W7,this.matchPos=AP(e,a),this.re=new RegExp(r,K5+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.flat=sg.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let o=this.flat.from+r.index,a=o+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(o,a,r)))return this.value={from:o,to:a,match:r},this.matchPos=AP(this.text,a+(o==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=sg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(q7.prototype[Symbol.iterator]=G7.prototype[Symbol.iterator]=function(){return this});function Eyt(n){try{return new RegExp(n,K5),!0}catch{return!1}}function AP(n,e){if(e>=n.length)return e;let r=n.lineAt(e),o;for(;e<r.to&&(o=r.text.charCodeAt(e-r.from))>=56320&&o<57344;)e++;return e}function tj(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=Pi("input",{class:"cm-textfield",name:"line",value:e}),o=Pi("form",{class:"cm-gotoLine",onkeydown:h=>{h.keyCode==27?(h.preventDefault(),n.dispatch({effects:_O.of(!1)}),n.focus()):h.keyCode==13&&(h.preventDefault(),a())},onsubmit:h=>{h.preventDefault(),a()}},Pi("label",n.state.phrase("Go to line"),": ",r)," ",Pi("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Pi("button",{name:"close",onclick:()=>{n.dispatch({effects:_O.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["×"]));function a(){let h=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!h)return;let{state:f}=n,p=f.doc.lineAt(f.selection.main.head),[,g,x,v,S]=h,b=v?+v.slice(1):0,M=x?+x:p.number;if(x&&S){let R=M/100;g&&(R=R*(g=="-"?-1:1)+p.number/f.doc.lines),M=Math.round(f.doc.lines*R)}else x&&g&&(M=M*(g=="-"?-1:1)+p.number);let j=f.doc.line(Math.max(1,Math.min(f.doc.lines,M))),Q=Ct.cursor(j.from+Math.max(0,Math.min(b,j.length)));n.dispatch({effects:[_O.of(!1),Zt.scrollIntoView(Q.from,{y:"center"})],selection:Q}),n.focus()}return{dom:o}}const _O=ke.define(),QB=Tr.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(_O)&&(n=r.value);return n},provide:n=>Ev.from(n,e=>e?tj:null)}),$yt=n=>{let e=Lv(n,tj);if(!e){let r=[_O.of(!0)];n.state.field(QB,!1)==null&&r.push(ke.appendConfig.of([QB,Dyt])),n.dispatch({effects:r}),e=Lv(n,tj)}return e&&e.dom.querySelector("input").select(),!0},Dyt=Zt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Iyt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Fyt=Ht.define({combine(n){return ku(n,Iyt,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function Vyt(n){return[Uyt,_yt]}const zyt=ue.mark({class:"cm-selectionMatch"}),Byt=ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function AB(n,e,r,o){return(r==0||n(e.sliceDoc(r-1,r))!=Ki.Word)&&(o==e.doc.length||n(e.sliceDoc(o,o+1))!=Ki.Word)}function Xyt(n,e,r,o){return n(e.sliceDoc(r,r+1))==Ki.Word&&n(e.sliceDoc(o-1,o))==Ki.Word}const _yt=In.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Fyt),{state:r}=n,o=r.selection;if(o.ranges.length>1)return ue.none;let a=o.main,h,f=null;if(a.empty){if(!e.highlightWordAroundCursor)return ue.none;let g=r.wordAt(a.head);if(!g)return ue.none;f=r.charCategorizer(a.head),h=r.sliceDoc(g.from,g.to)}else{let g=a.to-a.from;if(g<e.minSelectionLength||g>200)return ue.none;if(e.wholeWords){if(h=r.sliceDoc(a.from,a.to),f=r.charCategorizer(a.head),!(AB(f,r,a.from,a.to)&&Xyt(f,r,a.from,a.to)))return ue.none}else if(h=r.sliceDoc(a.from,a.to),!h)return ue.none}let p=[];for(let g of n.visibleRanges){let x=new Dg(r.doc,h,g.from,g.to);for(;!x.next().done;){let{from:v,to:S}=x.value;if((!f||AB(f,r,v,S))&&(a.empty&&v<=a.from&&S>=a.to?p.push(Byt.range(v,S)):(v>=a.to||S<=a.from)&&p.push(zyt.range(v,S)),p.length>e.maxMatches))return ue.none}}return ue.set(p)}},{decorations:n=>n.decorations}),Uyt=Zt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Zyt=({state:n,dispatch:e})=>{let{selection:r}=n,o=Ct.create(r.ranges.map(a=>n.wordAt(a.head)||Ct.cursor(a.head)),r.mainIndex);return o.eq(r)?!1:(e(n.update({selection:o})),!0)};function Yyt(n,e){let{main:r,ranges:o}=n.selection,a=n.wordAt(r.head),h=a&&a.from==r.from&&a.to==r.to;for(let f=!1,p=new Dg(n.doc,e,o[o.length-1].to);;)if(p.next(),p.done){if(f)return null;p=new Dg(n.doc,e,0,Math.max(0,o[o.length-1].from-1)),f=!0}else{if(f&&o.some(g=>g.from==p.value.from))continue;if(h){let g=n.wordAt(p.value.from);if(!g||g.from!=p.value.from||g.to!=p.value.to)continue}return p.value}}const Wyt=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(h=>h.from===h.to))return Zyt({state:n,dispatch:e});let o=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(h=>n.sliceDoc(h.from,h.to)!=o))return!1;let a=Yyt(n,o);return a?(e(n.update({selection:n.selection.addRange(Ct.range(a.from,a.to),!1),effects:Zt.scrollIntoView(a.to)})),!0):!1},oy=Ht.define({combine(n){return ku(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new o0t(e),scrollToMatch:e=>Zt.scrollIntoView(e)})}});class H7{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Eyt(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,o)=>o=="n"?`
`:o=="r"?"\r":o=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Kyt(this):new Gyt(this)}getCursor(e,r=0,o){let a=e.doc?e:Ze.create({doc:e});return o==null&&(o=a.doc.length),this.regexp?Tm(this,a,r,o):bm(this,a,r,o)}}class K7{constructor(e){this.spec=e}}function bm(n,e,r,o){return new Dg(e.doc,n.unquoted,r,o,n.caseSensitive?void 0:a=>a.toLowerCase(),n.wholeWord?qyt(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function qyt(n,e){return(r,o,a,h)=>((h>r||h+a.length<o)&&(h=Math.max(0,r-2),a=n.sliceString(h,Math.min(n.length,o+2))),(e(jP(a,r-h))!=Ki.Word||e(RP(a,r-h))!=Ki.Word)&&(e(RP(a,o-h))!=Ki.Word||e(jP(a,o-h))!=Ki.Word))}class Gyt extends K7{constructor(e){super(e)}nextMatch(e,r,o){let a=bm(this.spec,e,o,e.doc.length).nextOverlapping();if(a.done){let h=Math.min(e.doc.length,r+this.spec.unquoted.length);a=bm(this.spec,e,0,h).nextOverlapping()}return a.done||a.value.from==r&&a.value.to==o?null:a.value}prevMatchInRange(e,r,o){for(let a=o;;){let h=Math.max(r,a-1e4-this.spec.unquoted.length),f=bm(this.spec,e,h,a),p=null;for(;!f.nextOverlapping().done;)p=f.value;if(p)return p;if(h==r)return null;a-=1e4}}prevMatch(e,r,o){let a=this.prevMatchInRange(e,0,r);return a||(a=this.prevMatchInRange(e,Math.max(0,o-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=r||a.to!=o)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let o=bm(this.spec,e,0,e.doc.length),a=[];for(;!o.next().done;){if(a.length>=r)return null;a.push(o.value)}return a}highlight(e,r,o,a){let h=bm(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,e.doc.length));for(;!h.next().done;)a(h.value.from,h.value.to)}}function Tm(n,e,r,o){return new q7(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?Hyt(e.charCategorizer(e.selection.main.head)):void 0},r,o)}function jP(n,e){return n.slice(Xr(n,e,!1),e)}function RP(n,e){return n.slice(e,Xr(n,e))}function Hyt(n){return(e,r,o)=>!o[0].length||(n(jP(o.input,o.index))!=Ki.Word||n(RP(o.input,o.index))!=Ki.Word)&&(n(RP(o.input,o.index+o[0].length))!=Ki.Word||n(jP(o.input,o.index+o[0].length))!=Ki.Word)}class Kyt extends K7{nextMatch(e,r,o){let a=Tm(this.spec,e,o,e.doc.length).next();return a.done&&(a=Tm(this.spec,e,0,r).next()),a.done?null:a.value}prevMatchInRange(e,r,o){for(let a=1;;a++){let h=Math.max(r,o-a*1e4),f=Tm(this.spec,e,h,o),p=null;for(;!f.next().done;)p=f.value;if(p&&(h==r||p.from>h+10))return p;if(h==r)return null}}prevMatch(e,r,o){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,o)=>{if(o=="&")return e.match[0];if(o=="$")return"$";for(let a=o.length;a>0;a--){let h=+o.slice(0,a);if(h>0&&h<e.match.length)return e.match[h]+o.slice(a)}return r})}matchAll(e,r){let o=Tm(this.spec,e,0,e.doc.length),a=[];for(;!o.next().done;){if(a.length>=r)return null;a.push(o.value)}return a}highlight(e,r,o,a){let h=Tm(this.spec,e,Math.max(0,r-250),Math.min(o+250,e.doc.length));for(;!h.next().done;)a(h.value.from,h.value.to)}}const Vv=ke.define(),J5=ke.define(),Dc=Tr.define({create(n){return new iN(ej(n).create(),null)},update(n,e){for(let r of e.effects)r.is(Vv)?n=new iN(r.value.create(),n.panel):r.is(J5)&&(n=new iN(n.query,r.value?tL:null));return n},provide:n=>Ev.from(n,e=>e.panel)});class iN{constructor(e,r){this.query=e,this.panel=r}}const Jyt=ue.mark({class:"cm-searchMatch"}),t0t=ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),e0t=In.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Dc))}update(n){let e=n.state.field(Dc);(e!=n.startState.field(Dc)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ue.none;let{view:r}=this,o=new Ph;for(let a=0,h=r.visibleRanges,f=h.length;a<f;a++){let{from:p,to:g}=h[a];for(;a<f-1&&g>h[a+1].from-2*250;)g=h[++a].to;n.highlight(r.state,p,g,(x,v)=>{let S=r.state.selection.ranges.some(b=>b.from==x&&b.to==v);o.add(x,v,S?t0t:Jyt)})}return o.finish()}},{decorations:n=>n.decorations});function Sx(n){return e=>{let r=e.state.field(Dc,!1);return r&&r.query.spec.valid?n(e,r):e6(e)}}const LP=Sx((n,{query:e})=>{let{to:r}=n.state.selection.main,o=e.nextMatch(n.state,r,r);if(!o)return!1;let a=Ct.single(o.from,o.to),h=n.state.facet(oy);return n.dispatch({selection:a,effects:[eL(n,o),h.scrollToMatch(a.main,n)],userEvent:"select.search"}),t6(n),!0}),EP=Sx((n,{query:e})=>{let{state:r}=n,{from:o}=r.selection.main,a=e.prevMatch(r,o,o);if(!a)return!1;let h=Ct.single(a.from,a.to),f=n.state.facet(oy);return n.dispatch({selection:h,effects:[eL(n,a),f.scrollToMatch(h.main,n)],userEvent:"select.search"}),t6(n),!0}),i0t=Sx((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:Ct.create(r.map(o=>Ct.range(o.from,o.to))),userEvent:"select.search.matches"}),!0)}),n0t=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:o,to:a}=r.main,h=[],f=0;for(let p=new Dg(n.doc,n.sliceDoc(o,a));!p.next().done;){if(h.length>1e3)return!1;p.value.from==o&&(f=h.length),h.push(Ct.range(p.value.from,p.value.to))}return e(n.update({selection:Ct.create(h,f),userEvent:"select.search.matches"})),!0},jB=Sx((n,{query:e})=>{let{state:r}=n,{from:o,to:a}=r.selection.main;if(r.readOnly)return!1;let h=e.nextMatch(r,o,o);if(!h)return!1;let f=h,p=[],g,x,v=[];f.from==o&&f.to==a&&(x=r.toText(e.getReplacement(f)),p.push({from:f.from,to:f.to,insert:x}),f=e.nextMatch(r,f.from,f.to),v.push(Zt.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+".")));let S=n.state.changes(p);return f&&(g=Ct.single(f.from,f.to).map(S),v.push(eL(n,f)),v.push(r.facet(oy).scrollToMatch(g.main,n))),n.dispatch({changes:S,selection:g,effects:v,userEvent:"input.replace"}),!0}),r0t=Sx((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(a=>{let{from:h,to:f}=a;return{from:h,to:f,insert:e.getReplacement(a)}});if(!r.length)return!1;let o=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:Zt.announce.of(o),userEvent:"input.replace.all"}),!0});function tL(n){return n.state.facet(oy).createPanel(n)}function ej(n,e){var r,o,a,h,f;let p=n.selection.main,g=p.empty||p.to>p.from+100?"":n.sliceDoc(p.from,p.to);if(e&&!g)return e;let x=n.facet(oy);return new H7({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:x.literal)?g:g.replace(/\n/g,"\\n"),caseSensitive:(o=e==null?void 0:e.caseSensitive)!==null&&o!==void 0?o:x.caseSensitive,literal:(a=e==null?void 0:e.literal)!==null&&a!==void 0?a:x.literal,regexp:(h=e==null?void 0:e.regexp)!==null&&h!==void 0?h:x.regexp,wholeWord:(f=e==null?void 0:e.wholeWord)!==null&&f!==void 0?f:x.wholeWord})}function J7(n){let e=Lv(n,tL);return e&&e.dom.querySelector("[main-field]")}function t6(n){let e=J7(n);e&&e==n.root.activeElement&&e.select()}const e6=n=>{let e=n.state.field(Dc,!1);if(e&&e.panel){let r=J7(n);if(r&&r!=n.root.activeElement){let o=ej(n.state,e.query.spec);o.valid&&n.dispatch({effects:Vv.of(o)}),r.focus(),r.select()}}else n.dispatch({effects:[J5.of(!0),e?Vv.of(ej(n.state,e.query.spec)):ke.appendConfig.of(a0t)]});return!0},i6=n=>{let e=n.state.field(Dc,!1);if(!e||!e.panel)return!1;let r=Lv(n,tL);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:J5.of(!1)}),!0},s0t=[{key:"Mod-f",run:e6,scope:"editor search-panel"},{key:"F3",run:LP,shift:EP,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:LP,shift:EP,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:i6,scope:"editor search-panel"},{key:"Mod-Shift-l",run:n0t},{key:"Mod-Alt-g",run:$yt},{key:"Mod-d",run:Wyt,preventDefault:!0}];class o0t{constructor(e){this.view=e;let r=this.query=e.state.field(Dc).query.spec;this.commit=this.commit.bind(this),this.searchField=Pi("input",{value:r.search,placeholder:No(e,"Find"),"aria-label":No(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Pi("input",{value:r.replace,placeholder:No(e,"Replace"),"aria-label":No(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Pi("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Pi("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Pi("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function o(a,h,f){return Pi("button",{class:"cm-button",name:a,onclick:h,type:"button"},f)}this.dom=Pi("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,o("next",()=>LP(e),[No(e,"next")]),o("prev",()=>EP(e),[No(e,"previous")]),o("select",()=>i0t(e),[No(e,"all")]),Pi("label",null,[this.caseField,No(e,"match case")]),Pi("label",null,[this.reField,No(e,"regexp")]),Pi("label",null,[this.wordField,No(e,"by word")]),...e.state.readOnly?[]:[Pi("br"),this.replaceField,o("replace",()=>jB(e),[No(e,"replace")]),o("replaceAll",()=>r0t(e),[No(e,"replace all")])],Pi("button",{name:"close",onclick:()=>i6(e),"aria-label":No(e,"close"),type:"button"},["×"])])}commit(){let e=new H7({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Vv.of(e)}))}keydown(e){ppt(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?EP:LP)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),jB(this.view))}update(e){for(let r of e.transactions)for(let o of r.effects)o.is(Vv)&&!o.value.eq(this.query)&&this.setQuery(o.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(oy).top}}function No(n,e){return n.state.phrase(e)}const $S=30,DS=/[\s\.,:;?!]/;function eL(n,{from:e,to:r}){let o=n.state.doc.lineAt(e),a=n.state.doc.lineAt(r).to,h=Math.max(o.from,e-$S),f=Math.min(a,r+$S),p=n.state.sliceDoc(h,f);if(h!=o.from){for(let g=0;g<$S;g++)if(!DS.test(p[g+1])&&DS.test(p[g])){p=p.slice(g);break}}if(f!=a){for(let g=p.length-1;g>p.length-$S;g--)if(!DS.test(p[g-1])&&DS.test(p[g])){p=p.slice(0,g);break}}return Zt.announce.of(`${n.state.phrase("current match")}. ${p} ${n.state.phrase("on line")} ${o.number}.`)}const l0t=Zt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),a0t=[Dc,Nh.low(e0t),l0t];class iL{constructor(e,r,o,a){this.state=e,this.pos=r,this.explicit=o,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=Mi(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),o=Math.max(r.from,this.pos-250),a=r.text.slice(o-r.from,this.pos-r.from),h=a.search(r6(e,!1));return h<0?null:{from:o+h,to:this.pos,text:a.slice(h)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,o){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),o&&o.onDocChange&&(this.abortOnDocChange=!0))}}function RB(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function u0t(n){let e=Object.create(null),r=Object.create(null);for(let{label:a}of n){e[a[0]]=!0;for(let h=1;h<a.length;h++)r[a[h]]=!0}let o=RB(e)+RB(r)+"*$";return[new RegExp("^"+o),new RegExp(o)]}function nL(n){let e=n.map(a=>typeof a=="string"?{label:a}:a),[r,o]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:u0t(e);return a=>{let h=a.matchBefore(o);return h||a.explicit?{from:h?h.from:a.pos,options:e,validFor:r}:null}}function n6(n,e){return r=>{for(let o=Mi(r.state).resolveInner(r.pos,-1);o;o=o.parent){if(n.indexOf(o.name)>-1)return null;if(o.type.isTop)break}return e(r)}}class LB{constructor(e,r,o,a){this.completion=e,this.source=r,this.match=o,this.score=a}}function Td(n){return n.selection.main.from}function r6(n,e){var r;let{source:o}=n,a=e&&o[0]!="^",h=o[o.length-1]!="$";return!a&&!h?n:new RegExp(`${a?"^":""}(?:${o})${h?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const rL=Su.define();function h0t(n,e,r,o){let{main:a}=n.selection,h=r-a.from,f=o-a.from;return Object.assign(Object.assign({},n.changeByRange(p=>{if(p!=a&&r!=o&&n.sliceDoc(p.from+h,p.from+f)!=n.sliceDoc(r,o))return{range:p};let g=n.toText(e);return{changes:{from:p.from+h,to:o==a.from?p.to:p.from+f,insert:g},range:Ct.cursor(p.from+h+g.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const EB=new WeakMap;function c0t(n){if(!Array.isArray(n))return n;let e=EB.get(n);return e||EB.set(n,e=nL(n)),e}const $P=ke.define(),zv=ke.define();class f0t{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let o=eo(e,r),a=ou(o);this.chars.push(o);let h=e.slice(r,r+a),f=h.toUpperCase();this.folded.push(eo(f==h?h.toLowerCase():f,0)),r+=a}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:o,any:a,precise:h,byWord:f}=this;if(r.length==1){let $=eo(e,0),V=ou($),D=V==e.length?0:-100;if($!=r[0])if($==o[0])D+=-200;else return null;return this.ret(D,[0,V])}let p=e.indexOf(this.pattern);if(p==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let g=r.length,x=0;if(p<0){for(let $=0,V=Math.min(e.length,200);$<V&&x<g;){let D=eo(e,$);(D==r[x]||D==o[x])&&(a[x++]=$),$+=ou(D)}if(x<g)return null}let v=0,S=0,b=!1,M=0,j=-1,Q=-1,R=/[a-z]/.test(e),L=!0;for(let $=0,V=Math.min(e.length,200),D=0;$<V&&S<g;){let X=eo(e,$);p<0&&(v<g&&X==r[v]&&(h[v++]=$),M<g&&(X==r[M]||X==o[M]?(M==0&&(j=$),Q=$+1,M++):M=0));let W,K=X<255?X>=48&&X<=57||X>=97&&X<=122?2:X>=65&&X<=90?1:0:(W=k5(X))!=W.toLowerCase()?1:W!=W.toUpperCase()?2:0;(!$||K==1&&R||D==0&&K!=0)&&(r[S]==X||o[S]==X&&(b=!0)?f[S++]=$:f.length&&(L=!1)),D=K,$+=ou(X)}return S==g&&f[0]==0&&L?this.result(-100+(b?-200:0),f,e):M==g&&j==0?this.ret(-200-e.length+(Q==e.length?0:-100),[0,Q]):p>-1?this.ret(-700-e.length,[p,p+this.pattern.length]):M==g?this.ret(-900-e.length,[j,Q]):S==g?this.result(-100+(b?-200:0)+-700+(L?0:-1100),f,e):r.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,r,o){let a=[],h=0;for(let f of r){let p=f+(this.astral?ou(eo(o,f)):1);h&&a[h-1]==f?a[h-1]=p:(a[h++]=f,a[h++]=p)}return this.ret(e-o.length,a)}}class d0t{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),o=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return o==null?null:(this.matched=[0,r.length],this.score=o+(e.length==this.pattern.length?0:-100),this)}}const kr=Ht.define({combine(n){return ku(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:p0t,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>o=>$B(e(o),r(o)),optionClass:(e,r)=>o=>$B(e(o),r(o)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function $B(n,e){return n?e?n+" "+e:n:e}function p0t(n,e,r,o,a,h){let f=n.textDirection==_i.RTL,p=f,g=!1,x="top",v,S,b=e.left-a.left,M=a.right-e.right,j=o.right-o.left,Q=o.bottom-o.top;if(p&&b<Math.min(j,M)?p=!1:!p&&M<Math.min(j,b)&&(p=!0),j<=(p?b:M))v=Math.max(a.top,Math.min(r.top,a.bottom-Q))-e.top,S=Math.min(400,p?b:M);else{g=!0,S=Math.min(400,(f?e.right:a.right-e.left)-30);let $=a.bottom-e.bottom;$>=Q||$>e.top?v=r.bottom-e.top:(x="bottom",v=e.bottom-r.top)}let R=(e.bottom-e.top)/h.offsetHeight,L=(e.right-e.left)/h.offsetWidth;return{style:`${x}: ${v/R}px; max-width: ${S/L}px`,class:"cm-completionInfo-"+(g?f?"left-narrow":"right-narrow":p?"left":"right")}}function m0t(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let o=document.createElement("div");return o.classList.add("cm-completionIcon"),r.type&&o.classList.add(...r.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),o.setAttribute("aria-hidden","true"),o},position:20}),e.push({render(r,o,a,h){let f=document.createElement("span");f.className="cm-completionLabel";let p=r.displayLabel||r.label,g=0;for(let x=0;x<h.length;){let v=h[x++],S=h[x++];v>g&&f.appendChild(document.createTextNode(p.slice(g,v)));let b=f.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(p.slice(v,S))),b.className="cm-completionMatchedText",g=S}return g<p.length&&f.appendChild(document.createTextNode(p.slice(g))),f},position:50},{render(r){if(!r.detail)return null;let o=document.createElement("span");return o.className="cm-completionDetail",o.textContent=r.detail,o},position:80}),e.sort((r,o)=>r.position-o.position).map(r=>r.render)}function nN(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let a=Math.floor(e/r);return{from:a*r,to:(a+1)*r}}let o=Math.floor((n-e)/r);return{from:n-(o+1)*r,to:n-o*r}}class g0t{constructor(e,r,o){this.view=e,this.stateField=r,this.applyCompletion=o,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:g=>this.placeInfo(g),key:this},this.space=null,this.currentClass="";let a=e.state.field(r),{options:h,selected:f}=a.open,p=e.state.facet(kr);this.optionContent=m0t(p),this.optionClass=p.optionClass,this.tooltipClass=p.tooltipClass,this.range=nN(h.length,f,p.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",g=>{let{options:x}=e.state.field(r).open;for(let v=g.target,S;v&&v!=this.dom;v=v.parentNode)if(v.nodeName=="LI"&&(S=/-(\d+)$/.exec(v.id))&&+S[1]<x.length){this.applyCompletion(e,x[+S[1]]),g.preventDefault();return}}),this.dom.addEventListener("focusout",g=>{let x=e.state.field(this.stateField,!1);x&&x.tooltip&&e.state.facet(kr).closeOnBlur&&g.relatedTarget!=e.contentDOM&&e.dispatch({effects:zv.of(null)})}),this.showOptions(h,a.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let o=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),o!=a){let{options:h,selected:f,disabled:p}=o.open;(!a.open||a.open.options!=h)&&(this.range=nN(h.length,f,e.state.facet(kr).maxRenderedOptions),this.showOptions(h,o.id)),this.updateSel(),p!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!p)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let o of this.currentClass.split(" "))o&&this.dom.classList.remove(o);for(let o of r.split(" "))o&&this.dom.classList.add(o);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=nN(r.options.length,r.selected,this.view.state.facet(kr).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:o}=r.options[r.selected],{info:a}=o;if(!a)return;let h=typeof a=="string"?document.createTextNode(a):a(o);if(!h)return;"then"in h?h.then(f=>{f&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(f,o)}).catch(f=>oo(this.view.state,f,"completion info")):this.addInfoPane(h,o)}}addInfoPane(e,r){this.destroyInfo();let o=this.info=document.createElement("div");if(o.className="cm-tooltip cm-completionInfo",e.nodeType!=null)o.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:h}=e;o.appendChild(a),this.infoDestroy=h||null}this.dom.appendChild(o),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let o=this.list.firstChild,a=this.range.from;o;o=o.nextSibling,a++)o.nodeName!="LI"||!o.id?a--:a==e?o.hasAttribute("aria-selected")||(o.setAttribute("aria-selected","true"),r=o):o.hasAttribute("aria-selected")&&o.removeAttribute("aria-selected");return r&&O0t(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),o=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),h=this.space;if(!h){let f=this.dom.ownerDocument.documentElement;h={left:0,top:0,right:f.clientWidth,bottom:f.clientHeight}}return a.top>Math.min(h.bottom,r.bottom)-10||a.bottom<Math.max(h.top,r.top)+10?null:this.view.state.facet(kr).positionInfo(this.view,r,a,o,h,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,o){const a=document.createElement("ul");a.id=r,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions")),a.addEventListener("mousedown",f=>{f.target==a&&f.preventDefault()});let h=null;for(let f=o.from;f<o.to;f++){let{completion:p,match:g}=e[f],{section:x}=p;if(x){let b=typeof x=="string"?x:x.name;if(b!=h&&(f>o.from||o.from==0))if(h=b,typeof x!="string"&&x.header)a.appendChild(x.header(x));else{let M=a.appendChild(document.createElement("completion-section"));M.textContent=b}}const v=a.appendChild(document.createElement("li"));v.id=r+"-"+f,v.setAttribute("role","option");let S=this.optionClass(p);S&&(v.className=S);for(let b of this.optionContent){let M=b(p,this.view.state,this.view,g);M&&v.appendChild(M)}}return o.from&&a.classList.add("cm-completionListIncompleteTop"),o.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function y0t(n,e){return r=>new g0t(r,n,e)}function O0t(n,e){let r=n.getBoundingClientRect(),o=e.getBoundingClientRect(),a=r.height/n.offsetHeight;o.top<r.top?n.scrollTop-=(r.top-o.top)/a:o.bottom>r.bottom&&(n.scrollTop+=(o.bottom-r.bottom)/a)}function DB(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function v0t(n,e){let r=[],o=null,a=x=>{r.push(x);let{section:v}=x.completion;if(v){o||(o=[]);let S=typeof v=="string"?v:v.name;o.some(b=>b.name==S)||o.push(typeof v=="string"?{name:S}:v)}},h=e.facet(kr);for(let x of n)if(x.hasResult()){let v=x.result.getMatch;if(x.result.filter===!1)for(let S of x.result.options)a(new LB(S,x.source,v?v(S):[],1e9-r.length));else{let S=e.sliceDoc(x.from,x.to),b,M=h.filterStrict?new d0t(S):new f0t(S);for(let j of x.result.options)if(b=M.match(j.label)){let Q=j.displayLabel?v?v(j,b.matched):[]:b.matched;a(new LB(j,x.source,Q,b.score+(j.boost||0)))}}}if(o){let x=Object.create(null),v=0,S=(b,M)=>{var j,Q;return((j=b.rank)!==null&&j!==void 0?j:1e9)-((Q=M.rank)!==null&&Q!==void 0?Q:1e9)||(b.name<M.name?-1:1)};for(let b of o.sort(S))v-=1e5,x[b.name]=v;for(let b of r){let{section:M}=b.completion;M&&(b.score+=x[typeof M=="string"?M:M.name])}}let f=[],p=null,g=h.compareCompletions;for(let x of r.sort((v,S)=>S.score-v.score||g(v.completion,S.completion))){let v=x.completion;!p||p.label!=v.label||p.detail!=v.detail||p.type!=null&&v.type!=null&&p.type!=v.type||p.apply!=v.apply||p.boost!=v.boost?f.push(x):DB(x.completion)>DB(p)&&(f[f.length-1]=x),p=x.completion}return f}class Zm{constructor(e,r,o,a,h,f){this.options=e,this.attrs=r,this.tooltip=o,this.timestamp=a,this.selected=h,this.disabled=f}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new Zm(this.options,IB(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,o,a,h,f){if(a&&!f&&e.some(x=>x.isPending))return a.setDisabled();let p=v0t(e,r);if(!p.length)return a&&e.some(x=>x.isPending)?a.setDisabled():null;let g=r.facet(kr).selectOnOpen?0:-1;if(a&&a.selected!=g&&a.selected!=-1){let x=a.options[a.selected].completion;for(let v=0;v<p.length;v++)if(p[v].completion==x){g=v;break}}return new Zm(p,IB(o,g),{pos:e.reduce((x,v)=>v.hasResult()?Math.min(x,v.from):x,1e8),create:b0t,above:h.aboveCursor},a?a.timestamp:Date.now(),g,!1)}map(e){return new Zm(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Zm(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class DP{constructor(e,r,o){this.active=e,this.id=r,this.open=o}static start(){return new DP(k0t,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,o=r.facet(kr),h=(o.override||r.languageDataAt("autocomplete",Td(r)).map(c0t)).map(g=>(this.active.find(v=>v.source==g)||new Pl(g,this.active.some(v=>v.state!=0)?1:0)).update(e,o));h.length==this.active.length&&h.every((g,x)=>g==this.active[x])&&(h=this.active);let f=this.open,p=e.effects.some(g=>g.is(sL));f&&e.docChanged&&(f=f.map(e.changes)),e.selection||h.some(g=>g.hasResult()&&e.changes.touchesRange(g.from,g.to))||!x0t(h,this.active)||p?f=Zm.build(h,r,this.id,f,o,p):f&&f.disabled&&!h.some(g=>g.isPending)&&(f=null),!f&&h.every(g=>!g.isPending)&&h.some(g=>g.hasResult())&&(h=h.map(g=>g.hasResult()?new Pl(g.source,0):g));for(let g of e.effects)g.is(o6)&&(f=f&&f.setSelected(g.value,this.id));return h==this.active&&f==this.open?this:new DP(h,this.id,f)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?w0t:S0t}}function x0t(n,e){if(n==e)return!0;for(let r=0,o=0;;){for(;r<n.length&&!n[r].hasResult();)r++;for(;o<e.length&&!e[o].hasResult();)o++;let a=r==n.length,h=o==e.length;if(a||h)return a==h;if(n[r++].result!=e[o++].result)return!1}}const w0t={"aria-autocomplete":"list"},S0t={};function IB(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const k0t=[];function s6(n,e){if(n.isUserEvent("input.complete")){let o=n.annotation(rL);if(o&&e.activateOnCompletion(o))return 12}let r=n.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Pl{constructor(e,r,o=!1){this.source=e,this.state=r,this.explicit=o}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let o=s6(e,r),a=this;(o&8||o&16&&this.touches(e))&&(a=new Pl(a.source,0)),o&4&&a.state==0&&(a=new Pl(this.source,1)),a=a.updateFor(e,o);for(let h of e.effects)if(h.is($P))a=new Pl(a.source,1,h.value);else if(h.is(zv))a=new Pl(a.source,0);else if(h.is(sL))for(let f of h.value)f.source==a.source&&(a=f);return a}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Td(e.state))}}class og extends Pl{constructor(e,r,o,a,h,f){super(e,3,r),this.limit=o,this.result=a,this.from=h,this.to=f}hasResult(){return!0}updateFor(e,r){var o;if(!(r&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let h=e.changes.mapPos(this.from),f=e.changes.mapPos(this.to,1),p=Td(e.state);if(p>f||!a||r&2&&(Td(e.startState)==this.from||p<this.limit))return new Pl(this.source,r&4?1:0);let g=e.changes.mapPos(this.limit);return P0t(a.validFor,e.state,h,f)?new og(this.source,this.explicit,g,a,h,f):a.update&&(a=a.update(a,h,f,new iL(e.state,p,!1)))?new og(this.source,this.explicit,g,a,a.from,(o=a.to)!==null&&o!==void 0?o:Td(e.state)):new Pl(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new og(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Pl(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function P0t(n,e,r,o){if(!n)return!1;let a=e.sliceDoc(r,o);return typeof n=="function"?n(a,r,o,e):r6(n,!0).test(a)}const sL=ke.define({map(n,e){return n.map(r=>r.map(e))}}),o6=ke.define(),no=Tr.define({create(){return DP.start()},update(n,e){return n.update(e)},provide:n=>[I5.from(n,e=>e.tooltip),Zt.contentAttributes.from(n,e=>e.attrs)]});function oL(n,e){const r=e.completion.apply||e.completion.label;let o=n.state.field(no).active.find(a=>a.source==e.source);return o instanceof og?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},h0t(n.state,r,o.from,o.to)),{annotations:rL.of(e.completion)})):r(n,e.completion,o.from,o.to),!0):!1}const b0t=y0t(no,oL);function IS(n,e="option"){return r=>{let o=r.state.field(no,!1);if(!o||!o.open||o.open.disabled||Date.now()-o.open.timestamp<r.state.facet(kr).interactionDelay)return!1;let a=1,h;e=="page"&&(h=B9(r,o.open.tooltip))&&(a=Math.max(2,Math.floor(h.dom.offsetHeight/h.dom.querySelector("li").offsetHeight)-1));let{length:f}=o.open.options,p=o.open.selected>-1?o.open.selected+a*(n?1:-1):n?0:f-1;return p<0?p=e=="page"?0:f-1:p>=f&&(p=e=="page"?f-1:0),r.dispatch({effects:o6.of(p)}),!0}}const T0t=n=>{let e=n.state.field(no,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(kr).interactionDelay?!1:oL(n,e.open.options[e.open.selected])},FB=n=>n.state.field(no,!1)?(n.dispatch({effects:$P.of(!0)}),!0):!1,C0t=n=>{let e=n.state.field(no,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:zv.of(null)}),!0)};class M0t{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const N0t=50,Q0t=1e3,A0t=In.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(no).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(no),r=n.state.facet(kr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(no)==e)return;let o=n.transactions.some(h=>{let f=s6(h,r);return f&8||(h.selection||h.docChanged)&&!(f&3)});for(let h=0;h<this.running.length;h++){let f=this.running[h];if(o||f.context.abortOnDocChange&&n.docChanged||f.updates.length+n.transactions.length>N0t&&Date.now()-f.time>Q0t){for(let p of f.context.abortListeners)try{p()}catch(g){oo(this.view.state,g)}f.context.abortListeners=null,this.running.splice(h--,1)}else f.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(h=>h.effects.some(f=>f.is($P)))&&(this.pendingStart=!0);let a=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(h=>h.isPending&&!this.running.some(f=>f.active.source==h.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let h of n.transactions)h.isUserEvent("input.type")?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(no);for(let r of e.active)r.isPending&&!this.running.some(o=>o.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(kr).updateSyncTime))}startQuery(n){let{state:e}=this.view,r=Td(e),o=new iL(e,r,n.explicit,this.view),a=new M0t(n,o);this.running.push(a),Promise.resolve(n.source(o)).then(h=>{a.context.aborted||(a.done=h||null,this.scheduleAccept())},h=>{this.view.dispatch({effects:zv.of(null)}),oo(this.view.state,h)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(kr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(kr),o=this.view.state.field(no);for(let a=0;a<this.running.length;a++){let h=this.running[a];if(h.done===void 0)continue;if(this.running.splice(a--,1),h.done){let p=Td(h.updates.length?h.updates[0].startState:this.view.state),g=Math.min(p,h.done.from+(h.active.explicit?0:1)),x=new og(h.active.source,h.active.explicit,g,h.done,h.done.from,(n=h.done.to)!==null&&n!==void 0?n:p);for(let v of h.updates)x=x.update(v,r);if(x.hasResult()){e.push(x);continue}}let f=o.active.find(p=>p.source==h.active.source);if(f&&f.isPending)if(h.done==null){let p=new Pl(h.active.source,0);for(let g of h.updates)p=p.update(g,r);p.isPending||e.push(p)}else this.startQuery(f)}(e.length||o.open&&o.open.disabled)&&this.view.dispatch({effects:sL.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(no,!1);if(e&&e.tooltip&&this.view.state.facet(kr).closeOnBlur){let r=e.open&&B9(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:zv.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:$P.of(!1)}),20),this.composing=0}}}),j0t=typeof navigator=="object"&&/Win/.test(navigator.platform),R0t=Nh.highest(Zt.domEventHandlers({keydown(n,e){let r=e.state.field(no,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(j0t&&n.altKey)||n.metaKey)return!1;let o=r.open.options[r.open.selected],a=r.active.find(f=>f.source==o.source),h=o.completion.commitCharacters||a.result.commitCharacters;return h&&h.indexOf(n.key)>-1&&oL(e,o),!1}})),l6=Zt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class L0t{constructor(e,r,o,a){this.field=e,this.line=r,this.from=o,this.to=a}}class lL{constructor(e,r,o){this.field=e,this.from=r,this.to=o}map(e){let r=e.mapPos(this.from,-1,Br.TrackDel),o=e.mapPos(this.to,1,Br.TrackDel);return r==null||o==null?null:new lL(this.field,r,o)}}class aL{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let o=[],a=[r],h=e.doc.lineAt(r),f=/^\s*/.exec(h.text)[0];for(let g of this.lines){if(o.length){let x=f,v=/^\t*/.exec(g)[0].length;for(let S=0;S<v;S++)x+=e.facet(ny);a.push(r+x.length-v),g=x+g.slice(v)}o.push(g),r+=g.length+1}let p=this.fieldPositions.map(g=>new lL(g.field,a[g.line]+g.from,a[g.line]+g.to));return{text:o,ranges:p}}static parse(e){let r=[],o=[],a=[],h;for(let f of e.split(/\r\n?|\n/)){for(;h=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(f);){let p=h[1]?+h[1]:null,g=h[2]||h[3]||"",x=-1,v=g.replace(/\\[{}]/g,S=>S[1]);for(let S=0;S<r.length;S++)(p!=null?r[S].seq==p:v&&r[S].name==v)&&(x=S);if(x<0){let S=0;for(;S<r.length&&(p==null||r[S].seq!=null&&r[S].seq<p);)S++;r.splice(S,0,{seq:p,name:v}),x=S;for(let b of a)b.field>=x&&b.field++}a.push(new L0t(x,o.length,h.index,h.index+v.length)),f=f.slice(0,h.index)+g+f.slice(h.index+h[0].length)}f=f.replace(/\\([{}])/g,(p,g,x)=>{for(let v of a)v.line==o.length&&v.from>x&&(v.from--,v.to--);return g}),o.push(f)}return new aL(o,a)}}let E0t=ue.widget({widget:new class extends Pu{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),$0t=ue.mark({class:"cm-snippetField"});class ly{constructor(e,r){this.ranges=e,this.active=r,this.deco=ue.set(e.map(o=>(o.from==o.to?E0t:$0t).range(o.from,o.to)))}map(e){let r=[];for(let o of this.ranges){let a=o.map(e);if(!a)return null;r.push(a)}return new ly(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(o=>o.field==this.active&&o.from<=r.from&&o.to>=r.to))}}const kx=ke.define({map(n,e){return n&&n.map(e)}}),D0t=ke.define(),Bv=Tr.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(kx))return r.value;if(r.is(D0t)&&n)return new ly(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Zt.decorations.from(n,e=>e?e.deco:ue.none)});function uL(n,e){return Ct.create(n.filter(r=>r.field==e).map(r=>Ct.range(r.from,r.to)))}function I0t(n){let e=aL.parse(n);return(r,o,a,h)=>{let{text:f,ranges:p}=e.instantiate(r.state,a),{main:g}=r.state.selection,x={changes:{from:a,to:h==g.from?g.to:h,insert:Ke.of(f)},scrollIntoView:!0,annotations:o?[rL.of(o),qn.userEvent.of("input.complete")]:void 0};if(p.length&&(x.selection=uL(p,0)),p.some(v=>v.field>0)){let v=new ly(p,0),S=x.effects=[kx.of(v)];r.state.field(Bv,!1)===void 0&&S.push(ke.appendConfig.of([Bv,X0t,_0t,l6]))}r.dispatch(r.state.update(x))}}function a6(n){return({state:e,dispatch:r})=>{let o=e.field(Bv,!1);if(!o||n<0&&o.active==0)return!1;let a=o.active+n,h=n>0&&!o.ranges.some(f=>f.field==a+n);return r(e.update({selection:uL(o.ranges,a),effects:kx.of(h?null:new ly(o.ranges,a)),scrollIntoView:!0})),!0}}const F0t=({state:n,dispatch:e})=>n.field(Bv,!1)?(e(n.update({effects:kx.of(null)})),!0):!1,V0t=a6(1),z0t=a6(-1),B0t=[{key:"Tab",run:V0t,shift:z0t},{key:"Escape",run:F0t}],VB=Ht.define({combine(n){return n.length?n[0]:B0t}}),X0t=Nh.highest(iy.compute([VB],n=>n.facet(VB)));function un(n,e){return Object.assign(Object.assign({},e),{apply:I0t(n)})}const _0t=Zt.domEventHandlers({mousedown(n,e){let r=e.state.field(Bv,!1),o;if(!r||(o=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let a=r.ranges.find(h=>h.from<=o&&h.to>=o);return!a||a.field==r.active?!1:(e.dispatch({selection:uL(r.ranges,a.field),effects:kx.of(r.ranges.some(h=>h.field>a.field)?new ly(r.ranges,a.field):null),scrollIntoView:!0}),!0)}}),Xv={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},md=ke.define({map(n,e){let r=e.mapPos(n,-1,Br.TrackAfter);return r??void 0}}),hL=new class extends Ed{};hL.startSide=1;hL.endSide=-1;const u6=Tr.define({create(){return si.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:o=>o>=r.from&&o<=r.to})}for(let r of e.effects)r.is(md)&&(n=n.update({add:[hL.range(r.value,r.value+1)]}));return n}});function U0t(){return[Y0t,u6]}const rN="()[]{}<>«»»«［］｛｝";function h6(n){for(let e=0;e<rN.length;e+=2)if(rN.charCodeAt(e)==n)return rN.charAt(e+1);return k5(n<128?n:n+1)}function c6(n,e){return n.languageDataAt("closeBrackets",e)[0]||Xv}const Z0t=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Y0t=Zt.inputHandler.of((n,e,r,o)=>{if((Z0t?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let a=n.state.selection.main;if(o.length>2||o.length==2&&ou(eo(o,0))==1||e!=a.from||r!=a.to)return!1;let h=G0t(n.state,o);return h?(n.dispatch(h),!0):!1}),W0t=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=c6(n,n.selection.main.head).brackets||Xv.brackets,a=null,h=n.changeByRange(f=>{if(f.empty){let p=H0t(n.doc,f.head);for(let g of o)if(g==p&&Z2(n.doc,f.head)==h6(eo(g,0)))return{changes:{from:f.head-g.length,to:f.head+g.length},range:Ct.cursor(f.head-g.length)}}return{range:a=f}});return a||e(n.update(h,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},q0t=[{key:"Backspace",run:W0t}];function G0t(n,e){let r=c6(n,n.selection.main.head),o=r.brackets||Xv.brackets;for(let a of o){let h=h6(eo(a,0));if(e==a)return h==a?tOt(n,a,o.indexOf(a+a+a)>-1,r):K0t(n,a,h,r.before||Xv.before);if(e==h&&f6(n,n.selection.main.from))return J0t(n,a,h)}return null}function f6(n,e){let r=!1;return n.field(u6).between(0,n.doc.length,o=>{o==e&&(r=!0)}),r}function Z2(n,e){let r=n.sliceString(e,e+2);return r.slice(0,ou(eo(r,0)))}function H0t(n,e){let r=n.sliceString(e-2,e);return ou(eo(r,0))==r.length?r:r.slice(1)}function K0t(n,e,r,o){let a=null,h=n.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:r,from:f.to}],effects:md.of(f.to+e.length),range:Ct.range(f.anchor+e.length,f.head+e.length)};let p=Z2(n.doc,f.head);return!p||/\s/.test(p)||o.indexOf(p)>-1?{changes:{insert:e+r,from:f.head},effects:md.of(f.head+e.length),range:Ct.cursor(f.head+e.length)}:{range:a=f}});return a?null:n.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function J0t(n,e,r){let o=null,a=n.changeByRange(h=>h.empty&&Z2(n.doc,h.head)==r?{changes:{from:h.head,to:h.head+r.length,insert:r},range:Ct.cursor(h.head+r.length)}:o={range:h});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function tOt(n,e,r,o){let a=o.stringPrefixes||Xv.stringPrefixes,h=null,f=n.changeByRange(p=>{if(!p.empty)return{changes:[{insert:e,from:p.from},{insert:e,from:p.to}],effects:md.of(p.to+e.length),range:Ct.range(p.anchor+e.length,p.head+e.length)};let g=p.head,x=Z2(n.doc,g),v;if(x==e){if(zB(n,g))return{changes:{insert:e+e,from:g},effects:md.of(g+e.length),range:Ct.cursor(g+e.length)};if(f6(n,g)){let b=r&&n.sliceDoc(g,g+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:g,to:g+b.length,insert:b},range:Ct.cursor(g+b.length)}}}else{if(r&&n.sliceDoc(g-2*e.length,g)==e+e&&(v=BB(n,g-2*e.length,a))>-1&&zB(n,v))return{changes:{insert:e+e+e+e,from:g},effects:md.of(g+e.length),range:Ct.cursor(g+e.length)};if(n.charCategorizer(g)(x)!=Ki.Word&&BB(n,g,a)>-1&&!eOt(n,g,e,a))return{changes:{insert:e+e,from:g},effects:md.of(g+e.length),range:Ct.cursor(g+e.length)}}return{range:h=p}});return h?null:n.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function zB(n,e){let r=Mi(n).resolveInner(e+1);return r.parent&&r.from==e}function eOt(n,e,r,o){let a=Mi(n).resolveInner(e,-1),h=o.reduce((f,p)=>Math.max(f,p.length),0);for(let f=0;f<5;f++){let p=n.sliceDoc(a.from,Math.min(a.to,a.from+r.length+h)),g=p.indexOf(r);if(!g||g>-1&&o.indexOf(p.slice(0,g))>-1){let v=a.firstChild;for(;v&&v.from==a.from&&v.to-v.from>r.length+g;){if(n.sliceDoc(v.to-r.length,v.to)==r)return!1;v=v.firstChild}return!0}let x=a.to==e&&a.parent;if(!x)break;a=x}return!1}function BB(n,e,r){let o=n.charCategorizer(e);if(o(n.sliceDoc(e-1,e))!=Ki.Word)return e;for(let a of r){let h=e-a.length;if(n.sliceDoc(h,e)==a&&o(n.sliceDoc(h-1,h))!=Ki.Word)return h}return-1}function iOt(n={}){return[R0t,no,kr.of(n),A0t,nOt,l6]}const d6=[{key:"Ctrl-Space",run:FB},{mac:"Alt-`",run:FB},{key:"Escape",run:C0t},{key:"ArrowDown",run:IS(!0)},{key:"ArrowUp",run:IS(!1)},{key:"PageDown",run:IS(!0,"page")},{key:"PageUp",run:IS(!1,"page")},{key:"Enter",run:T0t}],nOt=Nh.highest(iy.computeN([kr],n=>n.facet(kr).defaultKeymap?[d6]:[]));class XB{constructor(e,r,o){this.from=e,this.to=r,this.diagnostic=o}}class od{constructor(e,r,o){this.diagnostics=e,this.panel=r,this.selected=o}static init(e,r,o){let a=o.facet(_v).markerFilter;a&&(e=a(e,o));let h=e.slice().sort((v,S)=>v.from-S.from||v.to-S.to),f=new Ph,p=[],g=0;for(let v=0;;){let S=v==h.length?null:h[v];if(!S&&!p.length)break;let b,M;for(p.length?(b=g,M=p.reduce((Q,R)=>Math.min(Q,R.to),S&&S.from>b?S.from:1e8)):(b=S.from,M=S.to,p.push(S),v++);v<h.length;){let Q=h[v];if(Q.from==b&&(Q.to>Q.from||Q.to==b))p.push(Q),v++,M=Math.min(Q.to,M);else{M=Math.min(Q.from,M);break}}let j=gOt(p);if(p.some(Q=>Q.from==Q.to||Q.from==Q.to-1&&o.doc.lineAt(Q.from).to==Q.from))f.add(b,b,ue.widget({widget:new fOt(j),diagnostics:p.slice()}));else{let Q=p.reduce((R,L)=>L.markClass?R+" "+L.markClass:R,"");f.add(b,M,ue.mark({class:"cm-lintRange cm-lintRange-"+j+Q,diagnostics:p.slice(),inclusiveEnd:p.some(R=>R.to>M)}))}g=M;for(let Q=0;Q<p.length;Q++)p[Q].to<=g&&p.splice(Q--,1)}let x=f.finish();return new od(x,r,Ig(x))}}function Ig(n,e=null,r=0){let o=null;return n.between(r,1e9,(a,h,{spec:f})=>{if(!(e&&f.diagnostics.indexOf(e)<0))if(!o)o=new XB(a,h,e||f.diagnostics[0]);else{if(f.diagnostics.indexOf(o.diagnostic)<0)return!1;o=new XB(o.from,h,o.diagnostic)}}),o}function rOt(n,e){let r=e.pos,o=e.end||r,a=n.state.facet(_v).hideOn(n,r,o);if(a!=null)return a;let h=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(f=>f.is(p6))||n.changes.touchesRange(h.from,Math.max(h.to,o)))}function sOt(n,e){return n.field(Io,!1)?e:e.concat(ke.appendConfig.of(yOt))}const p6=ke.define(),cL=ke.define(),m6=ke.define(),Io=Tr.define({create(){return new od(ue.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),o=null,a=n.panel;if(n.selected){let h=e.changes.mapPos(n.selected.from,1);o=Ig(r,n.selected.diagnostic,h)||Ig(r,null,h)}!r.size&&a&&e.state.facet(_v).autoPanel&&(a=null),n=new od(r,a,o)}for(let r of e.effects)if(r.is(p6)){let o=e.state.facet(_v).autoPanel?r.value.length?Uv.open:null:n.panel;n=od.init(r.value,o,e.state)}else r.is(cL)?n=new od(n.diagnostics,r.value?Uv.open:null,n.selected):r.is(m6)&&(n=new od(n.diagnostics,n.panel,r.value));return n},provide:n=>[Ev.from(n,e=>e.panel),Zt.decorations.from(n,e=>e.diagnostics)]}),oOt=ue.mark({class:"cm-lintRange cm-lintRange-active"});function lOt(n,e,r){let{diagnostics:o}=n.state.field(Io),a,h=-1,f=-1;o.between(e-(r<0?1:0),e+(r>0?1:0),(g,x,{spec:v})=>{if(e>=g&&e<=x&&(g==x||(e>g||r>0)&&(e<x||r<0)))return a=v.diagnostics,h=g,f=x,!1});let p=n.state.facet(_v).tooltipFilter;return a&&p&&(a=p(a,n.state)),a?{pos:h,end:f,above:n.state.doc.lineAt(h).to<f,create(){return{dom:aOt(n,a)}}}:null}function aOt(n,e){return Pi("ul",{class:"cm-tooltip-lint"},e.map(r=>y6(n,r,!1)))}const uOt=n=>{let e=n.state.field(Io,!1);(!e||!e.panel)&&n.dispatch({effects:sOt(n.state,[cL.of(!0)])});let r=Lv(n,Uv.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},_B=n=>{let e=n.state.field(Io,!1);return!e||!e.panel?!1:(n.dispatch({effects:cL.of(!1)}),!0)},hOt=n=>{let e=n.state.field(Io,!1);if(!e)return!1;let r=n.state.selection.main,o=e.diagnostics.iter(r.to+1);return!o.value&&(o=e.diagnostics.iter(0),!o.value||o.from==r.from&&o.to==r.to)?!1:(n.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)},cOt=[{key:"Mod-Shift-m",run:uOt,preventDefault:!0},{key:"F8",run:hOt}],_v=Ht.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},ku(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?o=>e(o)||r(o):e:r}))}});function g6(n){let e=[];if(n)t:for(let{name:r}of n){for(let o=0;o<r.length;o++){let a=r[o];if(/[a-zA-Z]/.test(a)&&!e.some(h=>h.toLowerCase()==a.toLowerCase())){e.push(a);continue t}}e.push("")}return e}function y6(n,e,r){var o;let a=r?g6(e.actions):[];return Pi("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Pi("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(o=e.actions)===null||o===void 0?void 0:o.map((h,f)=>{let p=!1,g=b=>{if(b.preventDefault(),p)return;p=!0;let M=Ig(n.state.field(Io).diagnostics,e);M&&h.apply(n,M.from,M.to)},{name:x}=h,v=a[f]?x.indexOf(a[f]):-1,S=v<0?x:[x.slice(0,v),Pi("u",x.slice(v,v+1)),x.slice(v+1)];return Pi("button",{type:"button",class:"cm-diagnosticAction",onclick:g,onmousedown:g,"aria-label":` Action: ${x}${v<0?"":` (access key "${a[f]})"`}.`},S)}),e.source&&Pi("div",{class:"cm-diagnosticSource"},e.source))}class fOt extends Pu{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Pi("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class UB{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=y6(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Uv{constructor(e){this.view=e,this.items=[];let r=a=>{if(a.keyCode==27)_B(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:h}=this.items[this.selectedIndex],f=g6(h.actions);for(let p=0;p<f.length;p++)if(f[p].toUpperCase().charCodeAt(0)==a.keyCode){let g=Ig(this.view.state.field(Io).diagnostics,h);g&&h.actions[p].apply(e,g.from,g.to)}}else return;a.preventDefault()},o=a=>{for(let h=0;h<this.items.length;h++)this.items[h].dom.contains(a.target)&&this.moveSelection(h)};this.list=Pi("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:o}),this.dom=Pi("div",{class:"cm-panel-lint"},this.list,Pi("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>_B(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Io).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(Io),o=0,a=!1,h=null,f=new Set;for(e.between(0,this.view.state.doc.length,(p,g,{spec:x})=>{for(let v of x.diagnostics){if(f.has(v))continue;f.add(v);let S=-1,b;for(let M=o;M<this.items.length;M++)if(this.items[M].diagnostic==v){S=M;break}S<0?(b=new UB(this.view,v),this.items.splice(o,0,b),a=!0):(b=this.items[S],S>o&&(this.items.splice(o,S-o),a=!0)),r&&b.diagnostic==r.diagnostic?b.dom.hasAttribute("aria-selected")||(b.dom.setAttribute("aria-selected","true"),h=b):b.dom.hasAttribute("aria-selected")&&b.dom.removeAttribute("aria-selected"),o++}});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new UB(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),h?(this.list.setAttribute("aria-activedescendant",h.id),this.view.requestMeasure({key:this,read:()=>({sel:h.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:p,panel:g})=>{let x=g.height/this.list.offsetHeight;p.top<g.top?this.list.scrollTop-=(g.top-p.top)/x:p.bottom>g.bottom&&(this.list.scrollTop+=(p.bottom-g.bottom)/x)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function r(){let o=e;e=o.nextSibling,o.remove()}for(let o of this.items)if(o.dom.parentNode==this.list){for(;e!=o.dom;)r();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(Io),o=Ig(r.diagnostics,this.items[e].diagnostic);o&&this.view.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:m6.of(o)})}static open(e){return new Uv(e)}}function dOt(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function FS(n){return dOt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const pOt=Zt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:FS("#d11")},".cm-lintRange-warning":{backgroundImage:FS("orange")},".cm-lintRange-info":{backgroundImage:FS("#999")},".cm-lintRange-hint":{backgroundImage:FS("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function mOt(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function gOt(n){let e="hint",r=1;for(let o of n){let a=mOt(o.severity);a>r&&(r=a,e=o.severity)}return e}const yOt=[Io,Zt.decorations.compute([Io],n=>{let{selected:e,panel:r}=n.field(Io);return!e||!r||e.from==e.to?ue.none:ue.set([oOt.range(e.from,e.to)])}),imt(lOt,{hideOn:rOt}),pOt];var ZB=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,o=[];e.closeBracketsKeymap!==!1&&(o=o.concat(q0t)),e.defaultKeymap!==!1&&(o=o.concat(Ryt)),e.searchKeymap!==!1&&(o=o.concat(s0t)),e.historyKeymap!==!1&&(o=o.concat(Bgt)),e.foldKeymap!==!1&&(o=o.concat(ngt)),e.completionKeymap!==!1&&(o=o.concat(d6)),e.lintKeymap!==!1&&(o=o.concat(cOt));var a=[];return e.lineNumbers!==!1&&a.push(dmt()),e.highlightActiveLineGutter!==!1&&a.push(gmt()),e.highlightSpecialChars!==!1&&a.push(Apt()),e.history!==!1&&a.push(Rgt()),e.foldGutter!==!1&&a.push(lgt()),e.drawSelection!==!1&&a.push(xpt()),e.dropCursor!==!1&&a.push(bpt()),e.allowMultipleSelections!==!1&&a.push(Ze.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&a.push(qmt()),e.syntaxHighlighting!==!1&&a.push(W5(cgt,{fallback:!0})),e.bracketMatching!==!1&&a.push(Ogt()),e.closeBrackets!==!1&&a.push(U0t()),e.autocompletion!==!1&&a.push(iOt()),e.rectangularSelection!==!1&&a.push(Upt()),r!==!1&&a.push(Wpt()),e.highlightActiveLine!==!1&&a.push(Dpt()),e.highlightSelectionMatches!==!1&&a.push(Vyt()),e.tabSize&&typeof e.tabSize=="number"&&a.push(ny.of(" ".repeat(e.tabSize))),a.concat([iy.of(o.flat())]).filter(Boolean)};const OOt="#e5c07b",YB="#e06c75",vOt="#56b6c2",xOt="#ffffff",Sk="#abb2bf",ij="#7d8799",wOt="#61afef",SOt="#98c379",WB="#d19a66",kOt="#c678dd",POt="#21252b",qB="#2c313a",GB="#282c34",sN="#353a42",bOt="#3E4451",HB="#528bff",TOt=Zt.theme({"&":{color:Sk,backgroundColor:GB},".cm-content":{caretColor:HB},".cm-cursor, .cm-dropCursor":{borderLeftColor:HB},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:bOt},".cm-panels":{backgroundColor:POt,color:Sk},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:GB,color:ij,border:"none"},".cm-activeLineGutter":{backgroundColor:qB},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:sN},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:sN,borderBottomColor:sN},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:qB,color:Sk}}},{dark:!0}),COt=ry.define([{tag:q.keyword,color:kOt},{tag:[q.name,q.deleted,q.character,q.propertyName,q.macroName],color:YB},{tag:[q.function(q.variableName),q.labelName],color:wOt},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:WB},{tag:[q.definition(q.name),q.separator],color:Sk},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:OOt},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:vOt},{tag:[q.meta,q.comment],color:ij},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.link,color:ij,textDecoration:"underline"},{tag:q.heading,fontWeight:"bold",color:YB},{tag:[q.atom,q.bool,q.special(q.variableName)],color:WB},{tag:[q.processingInstruction,q.string,q.inserted],color:SOt},{tag:q.invalid,color:xOt}]),MOt=[TOt,W5(COt)];var NOt=Zt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),QOt=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:o=!0,readOnly:a=!1,theme:h="light",placeholder:f="",basicSetup:p=!0}=e,g=[];switch(r&&g.unshift(iy.of([Lyt])),p&&(typeof p=="boolean"?g.unshift(ZB()):g.unshift(ZB(p))),f&&g.unshift(zpt(f)),h){case"light":g.push(NOt);break;case"dark":g.push(MOt);break;case"none":break;default:g.push(h);break}return o===!1&&g.push(Zt.editable.of(!1)),a&&g.push(Ze.readOnly.of(!0)),[...g]},AOt=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)}),KB=Su.define(),jOt=[];function ROt(n){var{value:e,selection:r,onChange:o,onStatistics:a,onCreateEditor:h,onUpdate:f,extensions:p=jOt,autoFocus:g,theme:x="light",height:v=null,minHeight:S=null,maxHeight:b=null,width:M=null,minWidth:j=null,maxWidth:Q=null,placeholder:R="",editable:L=!0,readOnly:$=!1,indentWithTab:V=!0,basicSetup:D=!0,root:X,initialState:W}=n,[K,tt]=U.useState(),[rt,Ot]=U.useState(),[bt,wt]=U.useState(),St=Zt.theme({"&":{height:v,minHeight:S,maxHeight:b,width:M,minWidth:j,maxWidth:Q},"& .cm-scroller":{height:"100% !important"}}),mt=Zt.updateListener.of(Rt=>{if(Rt.docChanged&&typeof o=="function"&&!Rt.transactions.some(yt=>yt.annotation(KB))){var dt=Rt.state.doc,ht=dt.toString();o(ht,Rt)}a&&a(AOt(Rt))}),Ft=QOt({theme:x,editable:L,readOnly:$,placeholder:R,indentWithTab:V,basicSetup:D}),Nt=[mt,St,...Ft];return f&&typeof f=="function"&&Nt.push(Zt.updateListener.of(f)),Nt=Nt.concat(p),U.useLayoutEffect(()=>{if(K&&!bt){var Rt={doc:e,selection:r,extensions:Nt},dt=W?Ze.fromJSON(W.json,Rt,W.fields):Ze.create(Rt);if(wt(dt),!rt){var ht=new Zt({state:dt,parent:K,root:X});Ot(ht),h&&h(ht,dt)}}return()=>{rt&&(wt(void 0),Ot(void 0))}},[K,bt]),U.useEffect(()=>{n.container&&tt(n.container)},[n.container]),U.useEffect(()=>()=>{rt&&(rt.destroy(),Ot(void 0))},[rt]),U.useEffect(()=>{g&&rt&&rt.focus()},[g,rt]),U.useEffect(()=>{rt&&rt.dispatch({effects:ke.reconfigure.of(Nt)})},[x,p,v,S,b,M,j,Q,R,L,$,V,D,o,f]),U.useEffect(()=>{if(e!==void 0){var Rt=rt?rt.state.doc.toString():"";rt&&e!==Rt&&rt.dispatch({changes:{from:0,to:Rt.length,insert:e||""},annotations:[KB.of(!0)]})}},[e,rt]),{state:bt,setState:wt,view:rt,setView:Ot,container:K,setContainer:tt}}var LOt=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],O6=U.forwardRef((n,e)=>{var{className:r,value:o="",selection:a,extensions:h=[],onChange:f,onStatistics:p,onCreateEditor:g,onUpdate:x,autoFocus:v,theme:S="light",height:b,minHeight:M,maxHeight:j,width:Q,minWidth:R,maxWidth:L,basicSetup:$,placeholder:V,indentWithTab:D,editable:X,readOnly:W,root:K,initialState:tt}=n,rt=mft(n,LOt),Ot=U.useRef(null),{state:bt,view:wt,container:St,setContainer:mt}=ROt({root:K,value:o,autoFocus:v,theme:S,height:b,minHeight:M,maxHeight:j,width:Q,minWidth:R,maxWidth:L,basicSetup:$,placeholder:V,indentWithTab:D,editable:X,readOnly:W,selection:a,onChange:f,onStatistics:p,onCreateEditor:g,onUpdate:x,extensions:h,initialState:tt});U.useImperativeHandle(e,()=>({editor:Ot.current,state:bt,view:wt}),[Ot,St,bt,wt]);var Ft=U.useCallback(Rt=>{Ot.current=Rt,mt(Rt)},[mt]);if(typeof o!="string")throw new Error("value must be typeof string but got "+typeof o);var Nt=typeof S=="string"?"cm-theme-"+S:"cm-theme";return N.jsx("div",lA({ref:Ft,className:""+Nt+(r?" "+r:"")},rt))});O6.displayName="CodeMirror";var JB={};class IP{constructor(e,r,o,a,h,f,p,g,x,v=0,S){this.p=e,this.stack=r,this.state=o,this.reducePos=a,this.pos=h,this.score=f,this.buffer=p,this.bufferBase=g,this.curContext=x,this.lookAhead=v,this.parent=S}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,o=0){let a=e.parser.context;return new IP(e,[],r,o,o,0,[],0,a?new t3(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let o=e>>19,a=e&65535,{parser:h}=this.p,f=this.reducePos<this.pos-25;f&&this.setLookAhead(this.pos);let p=h.dynamicPrecedence(a);if(p&&(this.score+=p),o==0){this.pushState(h.getGoto(this.state,a,!0),this.reducePos),a<h.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,f?8:4,!0),this.reduceContext(a,this.reducePos);return}let g=this.stack.length-(o-1)*3-(e&262144?6:0),x=g?this.stack[g-2]:this.p.ranges[0].from,v=this.reducePos-x;v>=2e3&&!(!((r=this.p.parser.nodeSet.types[a])===null||r===void 0)&&r.isAnonymous)&&(x==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=v):this.p.lastBigReductionSize<v&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=x,this.p.lastBigReductionSize=v));let S=g?this.stack[g-1]:0,b=this.bufferBase+this.buffer.length-S;if(a<h.minRepeatTerm||e&131072){let M=h.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,x,M,b+4,!0)}if(e&262144)this.state=this.stack[g];else{let M=this.stack[g-3];this.state=h.getGoto(M,a,!0)}for(;this.stack.length>g;)this.stack.pop();this.reduceContext(a,x)}storeNode(e,r,o,a=4,h=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let f=this,p=this.buffer.length;if(p==0&&f.parent&&(p=f.bufferBase-f.parent.bufferBase,f=f.parent),p>0&&f.buffer[p-4]==0&&f.buffer[p-1]>-1){if(r==o)return;if(f.buffer[p-2]>=r){f.buffer[p-2]=o;return}}}if(!h||this.pos==o)this.buffer.push(e,r,o,a);else{let f=this.buffer.length;if(f>0&&this.buffer[f-4]!=0){let p=!1;for(let g=f;g>0&&this.buffer[g-2]>o;g-=4)if(this.buffer[g-1]>=0){p=!0;break}if(p)for(;f>0&&this.buffer[f-2]>o;)this.buffer[f]=this.buffer[f-4],this.buffer[f+1]=this.buffer[f-3],this.buffer[f+2]=this.buffer[f-2],this.buffer[f+3]=this.buffer[f-1],f-=4,a>4&&(a-=4)}this.buffer[f]=e,this.buffer[f+1]=r,this.buffer[f+2]=o,this.buffer[f+3]=a}}shift(e,r,o,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(r,o),r<=this.p.parser.maxNode&&this.buffer.push(r,o,a,4);else{let h=e,{parser:f}=this.p;(a>this.pos||r<=f.maxNode)&&(this.pos=a,f.stateFlag(h,1)||(this.reducePos=a)),this.pushState(h,o),this.shiftContext(r,o),r<=f.maxNode&&this.buffer.push(r,o,a,4)}}apply(e,r,o,a){e&65536?this.reduce(e):this.shift(e,r,o,a)}useNode(e,r){let o=this.p.reused.length-1;(o<0||this.p.reused[o]!=e)&&(this.p.reused.push(e),o++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(r,a),this.buffer.push(o,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let o=e.buffer.slice(r),a=e.bufferBase+r;for(;e&&a==e.bufferBase;)e=e.parent;return new IP(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,o,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let o=e<=this.p.parser.maxNode;o&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,o?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new EOt(this);;){let o=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(o==0)return!1;if(!(o&65536))return!0;r.reduce(o)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let a=[];for(let h=0,f;h<r.length;h+=2)(f=r[h+1])!=this.state&&this.p.parser.hasAction(f,e)&&a.push(r[h],f);if(this.stack.length<120)for(let h=0;a.length<8&&h<r.length;h+=2){let f=r[h+1];a.some((p,g)=>g&1&&p==f)||a.push(r[h],f)}r=a}let o=[];for(let a=0;a<r.length&&o.length<4;a+=2){let h=r[a+1];if(h==this.state)continue;let f=this.split();f.pushState(h,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(r[a],this.pos),f.reducePos=this.pos,f.score-=200,o.push(f)}return o}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let o=r>>19,a=r&65535,h=this.stack.length-o*3;if(h<0||e.getGoto(this.stack[h],a,!1)<0){let f=this.findForcedReduction();if(f==null)return!1;r=f}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],o=(a,h)=>{if(!r.includes(a))return r.push(a),e.allActions(a,f=>{if(!(f&393216))if(f&65536){let p=(f>>19)-h;if(p>1){let g=f&65535,x=this.stack.length-p*3;if(x>=0&&e.getGoto(this.stack[x],g,!1)>=0)return p<<19|65536|g}}else{let p=o(f,h+1);if(p!=null)return p}})};return o(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new t3(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class t3{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class EOt{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,o=e>>19;o==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(o-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=a}}class FP{constructor(e,r,o){this.stack=e,this.pos=r,this.index=o,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new FP(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new FP(this.stack,this.pos,this.index)}}function kO(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let o=0,a=0;o<n.length;){let h=0;for(;;){let f=n.charCodeAt(o++),p=!1;if(f==126){h=65535;break}f>=92&&f--,f>=34&&f--;let g=f-32;if(g>=46&&(g-=46,p=!0),h+=g,p)break;h*=46}r?r[a++]=h:r=new e(h)}return r}class kk{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const e3=new kk;class $Ot{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=e3,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let o=this.range,a=this.rangeIndex,h=this.pos+e;for(;h<o.from;){if(!a)return null;let f=this.ranges[--a];h-=o.from-f.to,o=f}for(;r<0?h>o.to:h>=o.to;){if(a==this.ranges.length-1)return null;let f=this.ranges[++a];h+=f.from-o.to,o=f}return h}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,o,a;if(r>=0&&r<this.chunk.length)o=this.pos+e,a=this.chunk.charCodeAt(r);else{let h=this.resolveOffset(e,1);if(h==null)return-1;if(o=h,o>=this.chunk2Pos&&o<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(o-this.chunk2Pos);else{let f=this.rangeIndex,p=this.range;for(;p.to<=o;)p=this.ranges[++f];this.chunk2=this.input.chunk(this.chunk2Pos=o),o+this.chunk2.length>p.to&&(this.chunk2=this.chunk2.slice(0,p.to-o)),a=this.chunk2.charCodeAt(0)}}return o>=this.token.lookAhead&&(this.token.lookAhead=o+1),a}acceptToken(e,r=0){let o=r?this.resolveOffset(r,-1):this.pos;if(o==null||o<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=o}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=e3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let o="";for(let a of this.ranges){if(a.from>=r)break;a.to>e&&(o+=this.input.read(Math.max(a.from,e),Math.min(a.to,r)))}return o}}class lg{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:o}=r.p;v6(this.data,e,r,this.id,o.data,o.tokenPrecTable)}}lg.prototype.contextual=lg.prototype.fallback=lg.prototype.extend=!1;class VP{constructor(e,r,o){this.precTable=r,this.elseToken=o,this.data=typeof e=="string"?kO(e):e}token(e,r){let o=e.pos,a=0;for(;;){let h=e.next<0,f=e.resolveOffset(1,1);if(v6(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(h||a++,f==null)break;e.reset(f,e.token)}a&&(e.reset(o,e.token),e.acceptToken(this.elseToken,a))}}VP.prototype.contextual=lg.prototype.fallback=lg.prototype.extend=!1;class xs{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function v6(n,e,r,o,a,h){let f=0,p=1<<o,{dialect:g}=r.p.parser;t:for(;p&n[f];){let x=n[f+1];for(let M=f+3;M<x;M+=2)if((n[M+1]&p)>0){let j=n[M];if(g.allows(j)&&(e.token.value==-1||e.token.value==j||DOt(j,e.token.value,a,h))){e.acceptToken(j);break}}let v=e.next,S=0,b=n[f+2];if(e.next<0&&b>S&&n[x+b*3-3]==65535){f=n[x+b*3-1];continue t}for(;S<b;){let M=S+b>>1,j=x+M+(M<<1),Q=n[j],R=n[j+1]||65536;if(v<Q)b=M;else if(v>=R)S=M+1;else{f=n[j+2],e.advance();continue t}}break}}function i3(n,e,r){for(let o=e,a;(a=n[o])!=65535;o++)if(a==r)return o-e;return-1}function DOt(n,e,r,o){let a=i3(r,o,e);return a<0||i3(r,o,n)<a}const Qo=typeof process<"u"&&JB&&/\bparse\b/.test(JB.LOG);let oN=null;function n3(n,e,r){let o=n.cursor(Ti.IncludeAnonymous);for(o.moveTo(e);;)if(!(r<0?o.childBefore(e):o.childAfter(e)))for(;;){if((r<0?o.to<e:o.from>e)&&!o.type.isError)return r<0?Math.max(0,Math.min(o.to-1,e-25)):Math.min(n.length,Math.max(o.from+1,e+25));if(r<0?o.prevSibling():o.nextSibling())break;if(!o.parent())return r<0?0:n.length}}let IOt=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?n3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?n3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let o=this.trees[r],a=this.index[r];if(a==o.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let h=o.children[a],f=this.start[r]+o.positions[a];if(f>e)return this.nextStart=f,null;if(h instanceof mi){if(f==e){if(f<this.safeFrom)return null;let p=f+h.length;if(p<=this.safeTo){let g=h.prop(we.lookAhead);if(!g||p+g<this.fragment.to)return h}}this.index[r]++,f+h.length>=Math.max(this.safeFrom,e)&&(this.trees.push(h),this.start.push(f),this.index.push(0))}else this.index[r]++,this.nextStart=f+h.length}}};class FOt{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(o=>new kk)}getActions(e){let r=0,o=null,{parser:a}=e.p,{tokenizers:h}=a,f=a.stateSlot(e.state,3),p=e.curContext?e.curContext.hash:0,g=0;for(let x=0;x<h.length;x++){if(!(1<<x&f))continue;let v=h[x],S=this.tokens[x];if(!(o&&!v.fallback)&&((v.contextual||S.start!=e.pos||S.mask!=f||S.context!=p)&&(this.updateCachedToken(S,v,e),S.mask=f,S.context=p),S.lookAhead>S.end+25&&(g=Math.max(S.lookAhead,g)),S.value!=0)){let b=r;if(S.extended>-1&&(r=this.addActions(e,S.extended,S.end,r)),r=this.addActions(e,S.value,S.end,r),!v.extend&&(o=S,r>b))break}}for(;this.actions.length>r;)this.actions.pop();return g&&e.setLookAhead(g),!o&&e.pos==this.stream.end&&(o=new kk,o.value=e.p.parser.eofTerm,o.start=o.end=e.pos,r=this.addActions(e,o.value,o.end,r)),this.mainToken=o,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new kk,{pos:o,p:a}=e;return r.start=o,r.end=Math.min(o+1,a.stream.end),r.value=o==a.stream.end?a.parser.eofTerm:0,r}updateCachedToken(e,r,o){let a=this.stream.clipPos(o.pos);if(r.token(this.stream.reset(a,e),o),e.value>-1){let{parser:h}=o.p;for(let f=0;f<h.specialized.length;f++)if(h.specialized[f]==e.value){let p=h.specializers[f](this.stream.read(e.start,e.end),o);if(p>=0&&o.p.parser.dialect.allows(p>>1)){p&1?e.extended=p>>1:e.value=p>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,r,o,a){for(let h=0;h<a;h+=3)if(this.actions[h]==e)return a;return this.actions[a++]=e,this.actions[a++]=r,this.actions[a++]=o,a}addActions(e,r,o,a){let{state:h}=e,{parser:f}=e.p,{data:p}=f;for(let g=0;g<2;g++)for(let x=f.stateSlot(h,g?2:1);;x+=3){if(p[x]==65535)if(p[x+1]==1)x=lh(p,x+2);else{a==0&&p[x+1]==2&&(a=this.putAction(lh(p,x+2),r,o,a));break}p[x]==r&&(a=this.putAction(lh(p,x+1),r,o,a))}return a}}class VOt{constructor(e,r,o,a){this.parser=e,this.input=r,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new $Ot(r,a),this.tokens=new FOt(e,this.stream),this.topTerm=e.top[1];let{from:h}=a[0];this.stacks=[IP.start(this,e.top[0],h)],this.fragments=o.length&&this.stream.end-h>e.bufferLength*4?new IOt(o,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,o=this.stacks=[],a,h;if(this.bigReductionCount>300&&e.length==1){let[f]=e;for(;f.forceReduce()&&f.stack.length&&f.stack[f.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let f=0;f<e.length;f++){let p=e[f];for(;;){if(this.tokens.mainToken=null,p.pos>r)o.push(p);else{if(this.advanceStack(p,o,e))continue;{a||(a=[],h=[]),a.push(p);let g=this.tokens.getMainToken(p);h.push(g.value,g.end)}}break}}if(!o.length){let f=a&&BOt(a);if(f)return Qo&&console.log("Finish with "+this.stackID(f)),this.stackToTree(f);if(this.parser.strict)throw Qo&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&a){let f=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,h,o);if(f)return Qo&&console.log("Force-finish "+this.stackID(f)),this.stackToTree(f.forceAll())}if(this.recovering){let f=this.recovering==1?1:this.recovering*3;if(o.length>f)for(o.sort((p,g)=>g.score-p.score);o.length>f;)o.pop();o.some(p=>p.reducePos>r)&&this.recovering--}else if(o.length>1){t:for(let f=0;f<o.length-1;f++){let p=o[f];for(let g=f+1;g<o.length;g++){let x=o[g];if(p.sameState(x)||p.buffer.length>500&&x.buffer.length>500)if((p.score-x.score||p.buffer.length-x.buffer.length)>0)o.splice(g--,1);else{o.splice(f--,1);continue t}}}o.length>12&&o.splice(12,o.length-12)}this.minStackPos=o[0].pos;for(let f=1;f<o.length;f++)o[f].pos<this.minStackPos&&(this.minStackPos=o[f].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,o){let a=e.pos,{parser:h}=this,f=Qo?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let x=e.curContext&&e.curContext.tracker.strict,v=x?e.curContext.hash:0;for(let S=this.fragments.nodeAt(a);S;){let b=this.parser.nodeSet.types[S.type.id]==S.type?h.getGoto(e.state,S.type.id):-1;if(b>-1&&S.length&&(!x||(S.prop(we.contextHash)||0)==v))return e.useNode(S,b),Qo&&console.log(f+this.stackID(e)+` (via reuse of ${h.getName(S.type.id)})`),!0;if(!(S instanceof mi)||S.children.length==0||S.positions[0]>0)break;let M=S.children[0];if(M instanceof mi&&S.positions[0]==0)S=M;else break}}let p=h.stateSlot(e.state,4);if(p>0)return e.reduce(p),Qo&&console.log(f+this.stackID(e)+` (via always-reduce ${h.getName(p&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let g=this.tokens.getActions(e);for(let x=0;x<g.length;){let v=g[x++],S=g[x++],b=g[x++],M=x==g.length||!o,j=M?e:e.split(),Q=this.tokens.mainToken;if(j.apply(v,S,Q?Q.start:j.pos,b),Qo&&console.log(f+this.stackID(j)+` (via ${v&65536?`reduce of ${h.getName(v&65535)}`:"shift"} for ${h.getName(S)} @ ${a}${j==e?"":", split"})`),M)return!0;j.pos>a?r.push(j):o.push(j)}return!1}advanceFully(e,r){let o=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>o)return r3(e,r),!0}}runRecovery(e,r,o){let a=null,h=!1;for(let f=0;f<e.length;f++){let p=e[f],g=r[f<<1],x=r[(f<<1)+1],v=Qo?this.stackID(p)+" -> ":"";if(p.deadEnd&&(h||(h=!0,p.restart(),Qo&&console.log(v+this.stackID(p)+" (restarted)"),this.advanceFully(p,o))))continue;let S=p.split(),b=v;for(let M=0;S.forceReduce()&&M<10&&(Qo&&console.log(b+this.stackID(S)+" (via force-reduce)"),!this.advanceFully(S,o));M++)Qo&&(b=this.stackID(S)+" -> ");for(let M of p.recoverByInsert(g))Qo&&console.log(v+this.stackID(M)+" (via recover-insert)"),this.advanceFully(M,o);this.stream.end>p.pos?(x==p.pos&&(x++,g=0),p.recoverByDelete(g,x),Qo&&console.log(v+this.stackID(p)+` (via recover-delete ${this.parser.getName(g)})`),r3(p,o)):(!a||a.score<p.score)&&(a=p)}return a}stackToTree(e){return e.close(),mi.build({buffer:FP.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(oN||(oN=new WeakMap)).get(e);return r||oN.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function r3(n,e){for(let r=0;r<e.length;r++){let o=e[r];if(o.pos==n.pos&&o.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class zOt{constructor(e,r,o){this.source=e,this.flags=r,this.disabled=o}allows(e){return!this.disabled||this.disabled[e]==0}}const lN=n=>n;class fL{constructor(e){this.start=e.start,this.shift=e.shift||lN,this.reduce=e.reduce||lN,this.reuse=e.reuse||lN,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Kc extends X5{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let p=0;p<e.repeatNodeCount;p++)r.push("");let o=Object.keys(e.topRules).map(p=>e.topRules[p][1]),a=[];for(let p=0;p<r.length;p++)a.push([]);function h(p,g,x){a[p].push([g,g.deserialize(String(x))])}if(e.nodeProps)for(let p of e.nodeProps){let g=p[0];typeof g=="string"&&(g=we[g]);for(let x=1;x<p.length;){let v=p[x++];if(v>=0)h(v,g,p[x++]);else{let S=p[x+-v];for(let b=-v;b>0;b--)h(p[x++],g,S);x++}}}this.nodeSet=new vx(r.map((p,g)=>cr.define({name:g>=this.minRepeatTerm?void 0:p,id:g,props:a[g],top:o.indexOf(g)>-1,error:g==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(g)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Z9;let f=kO(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let p=0;p<this.specializerSpecs.length;p++)this.specialized[p]=this.specializerSpecs[p].term;this.specializers=this.specializerSpecs.map(s3),this.states=kO(e.states,Uint32Array),this.data=kO(e.stateData),this.goto=kO(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(p=>typeof p=="number"?new lg(f,p):p),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,o){let a=new VOt(this,e,r,o);for(let h of this.wrappers)a=h(a,e,r,o);return a}getGoto(e,r,o=!1){let a=this.goto;if(r>=a[0])return-1;for(let h=a[r+1];;){let f=a[h++],p=f&1,g=a[h++];if(p&&o)return g;for(let x=h+(f>>1);h<x;h++)if(a[h]==e)return g;if(p)return-1}}hasAction(e,r){let o=this.data;for(let a=0;a<2;a++)for(let h=this.stateSlot(e,a?2:1),f;;h+=3){if((f=o[h])==65535)if(o[h+1]==1)f=o[h=lh(o,h+2)];else{if(o[h+1]==2)return lh(o,h+2);break}if(f==r||f==0)return lh(o,h+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,o=>o==r?!0:null)}allActions(e,r){let o=this.stateSlot(e,4),a=o?r(o):void 0;for(let h=this.stateSlot(e,1);a==null;h+=3){if(this.data[h]==65535)if(this.data[h+1]==1)h=lh(this.data,h+2);else break;a=r(lh(this.data,h+1))}return a}nextStates(e){let r=[];for(let o=this.stateSlot(e,1);;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=lh(this.data,o+2);else break;if(!(this.data[o+2]&1)){let a=this.data[o+1];r.some((h,f)=>f&1&&h==a)||r.push(this.data[o],a)}}return r}configure(e){let r=Object.assign(Object.create(Kc.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let o=this.topRules[e.top];if(!o)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=o}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(o=>{let a=e.tokenizers.find(h=>h.from==o);return a?a.to:o})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((o,a)=>{let h=e.specializers.find(p=>p.from==o.external);if(!h)return o;let f=Object.assign(Object.assign({},o),{external:h.to});return r.specializers[a]=s3(f),f})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),o=r.map(()=>!1);if(e)for(let h of e.split(" ")){let f=r.indexOf(h);f>=0&&(o[f]=!0)}let a=null;for(let h=0;h<r.length;h++)if(!o[h])for(let f=this.dialects[r[h]],p;(p=this.data[f++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[p]=1;return new zOt(e,o,a)}static deserialize(e){return new Kc(e)}}function lh(n,e){return n[e]|n[e+1]<<16}function BOt(n){let e=null;for(let r of n){let o=r.p.stoppedAt;(r.pos==r.p.stream.end||o!=null&&r.pos>o)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function s3(n){if(n.external){let e=n.extend?1:0;return(r,o)=>n.external(r,o)<<1|e}return n.get}const XOt=315,_Ot=316,o3=1,UOt=2,ZOt=3,YOt=4,WOt=317,qOt=319,GOt=320,HOt=5,KOt=6,JOt=0,nj=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],x6=125,tvt=59,rj=47,evt=42,ivt=43,nvt=45,rvt=60,svt=44,ovt=63,lvt=46,avt=91,uvt=new fL({start:!1,shift(n,e){return e==HOt||e==KOt||e==qOt?n:e==GOt},strict:!1}),hvt=new xs((n,e)=>{let{next:r}=n;(r==x6||r==-1||e.context)&&n.acceptToken(WOt)},{contextual:!0,fallback:!0}),cvt=new xs((n,e)=>{let{next:r}=n,o;nj.indexOf(r)>-1||r==rj&&((o=n.peek(1))==rj||o==evt)||r!=x6&&r!=tvt&&r!=-1&&!e.context&&n.acceptToken(XOt)},{contextual:!0}),fvt=new xs((n,e)=>{n.next==avt&&!e.context&&n.acceptToken(_Ot)},{contextual:!0}),dvt=new xs((n,e)=>{let{next:r}=n;if(r==ivt||r==nvt){if(n.advance(),r==n.next){n.advance();let o=!e.context&&e.canShift(o3);n.acceptToken(o?o3:UOt)}}else r==ovt&&n.peek(1)==lvt&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(ZOt))},{contextual:!0});function aN(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const pvt=new xs((n,e)=>{if(n.next!=rvt||!e.dialectEnabled(JOt)||(n.advance(),n.next==rj))return;let r=0;for(;nj.indexOf(n.next)>-1;)n.advance(),r++;if(aN(n.next,!0)){for(n.advance(),r++;aN(n.next,!1);)n.advance(),r++;for(;nj.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==svt)return;for(let o=0;;o++){if(o==7){if(!aN(n.next,!0))return;break}if(n.next!="extends".charCodeAt(o))break;n.advance(),r++}}n.acceptToken(YOt,-r)}),mvt=lf({"get set async static":q.modifier,"for while do if else switch try catch finally return throw break continue default case":q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":q.operatorKeyword,"let var const using function class extends":q.definitionKeyword,"import export from":q.moduleKeyword,"with debugger new":q.keyword,TemplateString:q.special(q.string),super:q.atom,BooleanLiteral:q.bool,this:q.self,null:q.null,Star:q.modifier,VariableName:q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":q.function(q.variableName),VariableDefinition:q.definition(q.variableName),Label:q.labelName,PropertyName:q.propertyName,PrivatePropertyName:q.special(q.propertyName),"CallExpression/MemberExpression/PropertyName":q.function(q.propertyName),"FunctionDeclaration/VariableDefinition":q.function(q.definition(q.variableName)),"ClassDeclaration/VariableDefinition":q.definition(q.className),"NewExpression/VariableName":q.className,PropertyDefinition:q.definition(q.propertyName),PrivatePropertyDefinition:q.definition(q.special(q.propertyName)),UpdateOp:q.updateOperator,"LineComment Hashbang":q.lineComment,BlockComment:q.blockComment,Number:q.number,String:q.string,Escape:q.escape,ArithOp:q.arithmeticOperator,LogicOp:q.logicOperator,BitOp:q.bitwiseOperator,CompareOp:q.compareOperator,RegExp:q.regexp,Equals:q.definitionOperator,Arrow:q.function(q.punctuation),": Spread":q.punctuation,"( )":q.paren,"[ ]":q.squareBracket,"{ }":q.brace,"InterpolationStart InterpolationEnd":q.special(q.brace),".":q.derefOperator,", ;":q.separator,"@":q.meta,TypeName:q.typeName,TypeDefinition:q.definition(q.typeName),"type enum interface implements namespace module declare":q.definitionKeyword,"abstract global Privacy readonly override":q.modifier,"is keyof unique infer asserts":q.operatorKeyword,JSXAttributeValue:q.attributeValue,JSXText:q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":q.angleBracket,"JSXIdentifier JSXNameSpacedName":q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":q.attributeName,"JSXBuiltin/JSXIdentifier":q.standard(q.tagName)}),gvt={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},yvt={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},Ovt={__proto__:null,"<":193},vvt=Kc.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:uvt,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[mvt],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[cvt,fvt,dvt,pvt,2,3,4,5,6,7,8,9,10,11,12,13,14,hvt,new VP("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new VP("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:n=>gvt[n]||-1},{term:342,get:n=>yvt[n]||-1},{term:95,get:n=>Ovt[n]||-1}],tokenPrec:15124}),w6=[un("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),un("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),un("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),un("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),un("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),un(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),un("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),un(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),un(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),un('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),un('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],xvt=w6.concat([un("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),un("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),un("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),l3=new B5,S6=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function aO(n){return(e,r)=>{let o=e.node.getChild("VariableDefinition");return o&&r(o,n),!0}}const wvt=["FunctionDeclaration"],Svt={FunctionDeclaration:aO("function"),ClassDeclaration:aO("class"),ClassExpression:()=>!0,EnumDeclaration:aO("constant"),TypeAliasDeclaration:aO("type"),NamespaceDeclaration:aO("namespace"),VariableDefinition(n,e){n.matchContext(wvt)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function k6(n,e){let r=l3.get(e);if(r)return r;let o=[],a=!0;function h(f,p){let g=n.sliceString(f.from,f.to);o.push({label:g,type:p})}return e.cursor(Ti.IncludeAnonymous).iterate(f=>{if(a)a=!1;else if(f.name){let p=Svt[f.name];if(p&&p(f,h)||S6.has(f.name))return!1}else if(f.to-f.from>8192){for(let p of k6(n,f.node))o.push(p);return!1}}),l3.set(e,o),o}const a3=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,P6=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function kvt(n){let e=Mi(n.state).resolveInner(n.pos,-1);if(P6.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&a3.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let a=e;a;a=a.parent)S6.has(a.name)&&(o=o.concat(k6(n.state.doc,a)));return{options:o,from:r?e.from:n.pos,validFor:a3}}const yu=Gc.define({name:"javascript",parser:vvt.configure({props:[Yd.add({IfStatement:rg({except:/^\s*({|else\b)/}),TryStatement:rg({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Ymt,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),o=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:o?1:2)*n.unit},Block:wk({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":rg({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),af.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":V2,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),b6={test:n=>/^JSX/.test(n.name),facet:_5({commentTokens:{block:{open:"{/*",close:"*/}"}}})},T6=yu.configure({dialect:"ts"},"typescript"),C6=yu.configure({dialect:"jsx",props:[U5.add(n=>n.isTop?[b6]:void 0)]}),M6=yu.configure({dialect:"jsx ts",props:[U5.add(n=>n.isTop?[b6]:void 0)]},"typescript");let N6=n=>({label:n,type:"keyword"});const Q6="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(N6),Pvt=Q6.concat(["declare","implements","private","protected","public"].map(N6));function sj(n={}){let e=n.jsx?n.typescript?M6:C6:n.typescript?T6:yu,r=n.typescript?xvt.concat(Pvt):w6.concat(Q6);return new Fd(e,[yu.data.of({autocomplete:n6(P6,nL(r))}),yu.data.of({autocomplete:kvt}),n.jsx?Cvt:[]])}function bvt(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function u3(n,e,r=n.length){for(let o=e==null?void 0:e.firstChild;o;o=o.nextSibling)if(o.name=="JSXIdentifier"||o.name=="JSXBuiltin"||o.name=="JSXNamespacedName"||o.name=="JSXMemberExpression")return n.sliceString(o.from,Math.min(o.to,r));return""}const Tvt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Cvt=Zt.inputHandler.of((n,e,r,o,a)=>{if((Tvt?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||o!=">"&&o!="/"||!yu.isActiveAt(n.state,e,-1))return!1;let h=a(),{state:f}=h,p=f.changeByRange(g=>{var x;let{head:v}=g,S=Mi(f).resolveInner(v-1,-1),b;if(S.name=="JSXStartTag"&&(S=S.parent),!(f.doc.sliceString(v-1,v)!=o||S.name=="JSXAttributeValue"&&S.to>v)){if(o==">"&&S.name=="JSXFragmentTag")return{range:g,changes:{from:v,insert:"</>"}};if(o=="/"&&S.name=="JSXStartCloseTag"){let M=S.parent,j=M.parent;if(j&&M.from==v-2&&((b=u3(f.doc,j.firstChild,v))||((x=j.firstChild)===null||x===void 0?void 0:x.name)=="JSXFragmentTag")){let Q=`${b}>`;return{range:Ct.cursor(v+Q.length,-1),changes:{from:v,insert:Q}}}}else if(o==">"){let M=bvt(S);if(M&&M.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(f.doc.sliceString(v,v+2))&&(b=u3(f.doc,M,v)))return{range:g,changes:{from:v,insert:`</${b}>`}}}}return{range:g}});return p.changes.empty?!1:(n.dispatch([h,f.update(p,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Mvt=1,A6=194,j6=195,Nvt=196,h3=197,Qvt=198,Avt=199,jvt=200,Rvt=2,R6=3,c3=201,Lvt=24,Evt=25,$vt=49,Dvt=50,Ivt=55,Fvt=56,Vvt=57,zvt=59,Bvt=60,Xvt=61,_vt=62,Uvt=63,Zvt=65,Yvt=238,Wvt=71,qvt=241,Gvt=242,Hvt=243,Kvt=244,Jvt=245,txt=246,ext=247,ixt=248,L6=72,nxt=249,rxt=250,sxt=251,oxt=252,lxt=253,axt=254,uxt=255,hxt=256,cxt=73,fxt=77,dxt=263,pxt=112,mxt=130,gxt=151,yxt=152,Oxt=155,zd=10,Zv=13,dL=32,Y2=9,pL=35,vxt=40,xxt=46,oj=123,f3=125,E6=39,$6=34,d3=92,wxt=111,Sxt=120,kxt=78,Pxt=117,bxt=85,Txt=new Set([Evt,$vt,Dvt,dxt,Zvt,mxt,Fvt,Vvt,Yvt,_vt,Uvt,L6,cxt,fxt,Bvt,Xvt,gxt,yxt,Oxt,pxt]);function uN(n){return n==zd||n==Zv}function hN(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const Cxt=new xs((n,e)=>{let r;if(n.next<0)n.acceptToken(Avt);else if(e.context.flags&Pk)uN(n.next)&&n.acceptToken(Qvt,1);else if(((r=n.peek(-1))<0||uN(r))&&e.canShift(h3)){let o=0;for(;n.next==dL||n.next==Y2;)n.advance(),o++;(n.next==zd||n.next==Zv||n.next==pL)&&n.acceptToken(h3,-o)}else uN(n.next)&&n.acceptToken(Nvt,1)},{contextual:!0}),Mxt=new xs((n,e)=>{let r=e.context;if(r.flags)return;let o=n.peek(-1);if(o==zd||o==Zv){let a=0,h=0;for(;;){if(n.next==dL)a++;else if(n.next==Y2)a+=8-a%8;else break;n.advance(),h++}a!=r.indent&&n.next!=zd&&n.next!=Zv&&n.next!=pL&&(a<r.indent?n.acceptToken(j6,-h):n.acceptToken(A6))}}),Pk=1,D6=2,eh=4,ih=8,nh=16,rh=32;function bk(n,e,r){this.parent=n,this.indent=e,this.flags=r,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+r+(r<<6)}const Nxt=new bk(null,0,0);function Qxt(n){let e=0;for(let r=0;r<n.length;r++)e+=n.charCodeAt(r)==Y2?8-e%8:1;return e}const p3=new Map([[qvt,0],[Gvt,eh],[Hvt,ih],[Kvt,ih|eh],[Jvt,nh],[txt,nh|eh],[ext,nh|ih],[ixt,nh|ih|eh],[nxt,rh],[rxt,rh|eh],[sxt,rh|ih],[oxt,rh|ih|eh],[lxt,rh|nh],[axt,rh|nh|eh],[uxt,rh|nh|ih],[hxt,rh|nh|ih|eh]].map(([n,e])=>[n,e|D6])),Axt=new fL({start:Nxt,reduce(n,e,r,o){return n.flags&Pk&&Txt.has(e)||(e==Wvt||e==L6)&&n.flags&D6?n.parent:n},shift(n,e,r,o){return e==A6?new bk(n,Qxt(o.read(o.pos,r.pos)),0):e==j6?n.parent:e==Lvt||e==Ivt||e==zvt||e==R6?new bk(n,0,Pk):p3.has(e)?new bk(n,0,p3.get(e)|n.flags&Pk):n},hash(n){return n.hash}}),jxt=new xs(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let r=n.peek(e);if(!(r==dL||r==Y2)){r!=vxt&&r!=xxt&&r!=zd&&r!=Zv&&r!=pL&&n.acceptToken(Mvt);return}}}),Rxt=new xs((n,e)=>{let{flags:r}=e.context,o=r&eh?$6:E6,a=(r&ih)>0,h=!(r&nh),f=(r&rh)>0,p=n.pos;for(;!(n.next<0);)if(f&&n.next==oj)if(n.peek(1)==oj)n.advance(2);else{if(n.pos==p){n.acceptToken(R6,1);return}break}else if(h&&n.next==d3){if(n.pos==p){n.advance();let g=n.next;g>=0&&(n.advance(),Lxt(n,g)),n.acceptToken(Rvt);return}break}else if(n.next==d3&&!h&&n.peek(1)>-1)n.advance(2);else if(n.next==o&&(!a||n.peek(1)==o&&n.peek(2)==o)){if(n.pos==p){n.acceptToken(c3,a?3:1);return}break}else if(n.next==zd){if(a)n.advance();else if(n.pos==p){n.acceptToken(c3);return}break}else n.advance();n.pos>p&&n.acceptToken(jvt)});function Lxt(n,e){if(e==wxt)for(let r=0;r<2&&n.next>=48&&n.next<=55;r++)n.advance();else if(e==Sxt)for(let r=0;r<2&&hN(n.next);r++)n.advance();else if(e==Pxt)for(let r=0;r<4&&hN(n.next);r++)n.advance();else if(e==bxt)for(let r=0;r<8&&hN(n.next);r++)n.advance();else if(e==kxt&&n.next==oj){for(n.advance();n.next>=0&&n.next!=f3&&n.next!=E6&&n.next!=$6&&n.next!=zd;)n.advance();n.next==f3&&n.advance()}}const Ext=lf({'async "*" "**" FormatConversion FormatSpec':q.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":q.controlKeyword,"in not and or is del":q.operatorKeyword,"from def class global nonlocal lambda":q.definitionKeyword,import:q.moduleKeyword,"with as print":q.keyword,Boolean:q.bool,None:q.null,VariableName:q.variableName,"CallExpression/VariableName":q.function(q.variableName),"FunctionDefinition/VariableName":q.function(q.definition(q.variableName)),"ClassDefinition/VariableName":q.definition(q.className),PropertyName:q.propertyName,"CallExpression/MemberExpression/PropertyName":q.function(q.propertyName),Comment:q.lineComment,Number:q.number,String:q.string,FormatString:q.special(q.string),Escape:q.escape,UpdateOp:q.updateOperator,"ArithOp!":q.arithmeticOperator,BitOp:q.bitwiseOperator,CompareOp:q.compareOperator,AssignOp:q.definitionOperator,Ellipsis:q.punctuation,At:q.meta,"( )":q.paren,"[ ]":q.squareBracket,"{ }":q.brace,".":q.derefOperator,", ;":q.separator}),$xt={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},Dxt=Kc.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Axt,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Ext],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[jxt,Mxt,Cxt,Rxt,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>$xt[n]||-1}],tokenPrec:7668}),m3=new B5,I6=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function VS(n){return(e,r,o)=>{if(o)return!1;let a=e.node.getChild("VariableName");return a&&r(a,n),!0}}const Ixt={FunctionDefinition:VS("function"),ClassDefinition:VS("class"),ForStatement(n,e,r){if(r){for(let o=n.node.firstChild;o;o=o.nextSibling)if(o.name=="VariableName")e(o,"variable");else if(o.name=="in")break}},ImportStatement(n,e){var r,o;let{node:a}=n,h=((r=a.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let f=a.getChild("import");f;f=f.nextSibling)f.name=="VariableName"&&((o=f.nextSibling)===null||o===void 0?void 0:o.name)!="as"&&e(f,h?"variable":"namespace")},AssignStatement(n,e){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(n,e){for(let r=null,o=n.node.firstChild;o;o=o.nextSibling)o.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(o,"variable"),r=o},CapturePattern:VS("variable"),AsPattern:VS("variable"),__proto__:null};function F6(n,e){let r=m3.get(e);if(r)return r;let o=[],a=!0;function h(f,p){let g=n.sliceString(f.from,f.to);o.push({label:g,type:p})}return e.cursor(Ti.IncludeAnonymous).iterate(f=>{if(f.name){let p=Ixt[f.name];if(p&&p(f,h,a)||!a&&I6.has(f.name))return!1;a=!1}else if(f.to-f.from>8192){for(let p of F6(n,f.node))o.push(p);return!1}}),m3.set(e,o),o}const g3=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,V6=["String","FormatString","Comment","PropertyName"];function Fxt(n){let e=Mi(n.state).resolveInner(n.pos,-1);if(V6.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&g3.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let a=e;a;a=a.parent)I6.has(a.name)&&(o=o.concat(F6(n.state.doc,a)));return{options:o,from:r?e.from:n.pos,validFor:g3}}const Vxt=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),zxt=[un("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),un("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),un("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),un("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),un(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),un("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),un("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),un("import ${module}",{label:"import",detail:"statement",type:"keyword"}),un("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Bxt=n6(V6,nL(Vxt.concat(zxt)));function cN(n){let{node:e,pos:r}=n,o=n.lineIndent(r,-1),a=null;for(;;){let h=e.childBefore(r);if(h)if(h.name=="Comment")r=h.from;else if(h.name=="Body"||h.name=="MatchBody")n.baseIndentFor(h)+n.unit<=o&&(a=h),e=h;else if(h.name=="MatchClause")e=h;else if(h.type.is("Statement"))e=h;else break;else break}return a}function fN(n,e){let r=n.baseIndentFor(e),o=n.lineAt(n.pos,-1),a=o.from+o.text.length;return/^\s*($|#)/.test(o.text)&&n.node.to<a+100&&!/\S/.test(n.state.sliceDoc(a,n.node.to))&&n.lineIndent(n.pos,-1)<=r||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>r?null:r+n.unit}const dN=Gc.define({name:"python",parser:Dxt.configure({props:[Yd.add({Body:n=>{var e;let r=/^\s*(#|$)/.test(n.textAfter)&&cN(n)||n.node;return(e=fN(n,r))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let r=cN(n);return(e=fN(n,r||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except[ :]|finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":wk({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":wk({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":wk({closing:"]"}),MemberExpression:n=>n.baseIndent+n.unit,"String FormatString":()=>null,Script:n=>{var e;let r=cN(n);return(e=r&&fN(n,r))!==null&&e!==void 0?e:n.continue()}}),af.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":V2,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)}),"String FormatString":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function y3(){return new Fd(dN,[dN.data.of({autocomplete:Fxt}),dN.data.of({autocomplete:Bxt})])}const Xxt=54,_xt=1,Uxt=55,Zxt=2,Yxt=56,Wxt=3,O3=4,qxt=5,zP=6,z6=7,B6=8,X6=9,_6=10,Gxt=11,Hxt=12,Kxt=13,pN=57,Jxt=14,v3=58,U6=20,t1t=22,Z6=23,e1t=24,lj=26,Y6=27,i1t=28,n1t=31,r1t=34,s1t=36,o1t=37,l1t=0,a1t=1,u1t={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},h1t={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},x3={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function c1t(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function W6(n){return n==9||n==10||n==13||n==32}let w3=null,S3=null,k3=0;function aj(n,e){let r=n.pos+e;if(k3==r&&S3==n)return w3;let o=n.peek(e);for(;W6(o);)o=n.peek(++e);let a="";for(;c1t(o);)a+=String.fromCharCode(o),o=n.peek(++e);return S3=n,k3=r,w3=a?a.toLowerCase():o==f1t||o==d1t?void 0:null}const q6=60,BP=62,mL=47,f1t=63,d1t=33,p1t=45;function P3(n,e){this.name=n,this.parent=e}const m1t=[zP,_6,z6,B6,X6],g1t=new fL({start:null,shift(n,e,r,o){return m1t.indexOf(e)>-1?new P3(aj(o,1)||"",n):n},reduce(n,e){return e==U6&&n?n.parent:n},reuse(n,e,r,o){let a=e.type.id;return a==zP||a==s1t?new P3(aj(o,1)||"",n):n},strict:!1}),y1t=new xs((n,e)=>{if(n.next!=q6){n.next<0&&e.context&&n.acceptToken(pN);return}n.advance();let r=n.next==mL;r&&n.advance();let o=aj(n,0);if(o===void 0)return;if(!o)return n.acceptToken(r?Jxt:zP);let a=e.context?e.context.name:null;if(r){if(o==a)return n.acceptToken(Gxt);if(a&&h1t[a])return n.acceptToken(pN,-2);if(e.dialectEnabled(l1t))return n.acceptToken(Hxt);for(let h=e.context;h;h=h.parent)if(h.name==o)return;n.acceptToken(Kxt)}else{if(o=="script")return n.acceptToken(z6);if(o=="style")return n.acceptToken(B6);if(o=="textarea")return n.acceptToken(X6);if(u1t.hasOwnProperty(o))return n.acceptToken(_6);a&&x3[a]&&x3[a][o]?n.acceptToken(pN,-1):n.acceptToken(zP)}},{contextual:!0}),O1t=new xs(n=>{for(let e=0,r=0;;r++){if(n.next<0){r&&n.acceptToken(v3);break}if(n.next==p1t)e++;else if(n.next==BP&&e>=2){r>=3&&n.acceptToken(v3,-2);break}else e=0;n.advance()}});function v1t(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const x1t=new xs((n,e)=>{if(n.next==mL&&n.peek(1)==BP){let r=e.dialectEnabled(a1t)||v1t(e.context);n.acceptToken(r?qxt:O3,2)}else n.next==BP&&n.acceptToken(O3,1)});function gL(n,e,r){let o=2+n.length;return new xs(a=>{for(let h=0,f=0,p=0;;p++){if(a.next<0){p&&a.acceptToken(e);break}if(h==0&&a.next==q6||h==1&&a.next==mL||h>=2&&h<o&&a.next==n.charCodeAt(h-2))h++,f++;else if((h==2||h==o)&&W6(a.next))f++;else if(h==o&&a.next==BP){p>f?a.acceptToken(e,-f):a.acceptToken(r,-(f-2));break}else if((a.next==10||a.next==13)&&p){a.acceptToken(e,1);break}else h=f=0;a.advance()}})}const w1t=gL("script",Xxt,_xt),S1t=gL("style",Uxt,Zxt),k1t=gL("textarea",Yxt,Wxt),P1t=lf({"Text RawText":q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":q.angleBracket,TagName:q.tagName,"MismatchedCloseTag/TagName":[q.tagName,q.invalid],AttributeName:q.attributeName,"AttributeValue UnquotedAttributeValue":q.attributeValue,Is:q.definitionOperator,"EntityReference CharacterReference":q.character,Comment:q.blockComment,ProcessingInst:q.processingInstruction,DoctypeDecl:q.documentMeta}),b1t=Kc.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:g1t,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[P1t],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[w1t,S1t,k1t,x1t,y1t,O1t,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function G6(n,e){let r=Object.create(null);for(let o of n.getChildren(Z6)){let a=o.getChild(e1t),h=o.getChild(lj)||o.getChild(Y6);a&&(r[e.read(a.from,a.to)]=h?h.type.id==lj?e.read(h.from+1,h.to-1):e.read(h.from,h.to):"")}return r}function b3(n,e){let r=n.getChild(t1t);return r?e.read(r.from,r.to):" "}function mN(n,e,r){let o;for(let a of r)if(!a.attrs||a.attrs(o||(o=G6(n.node.parent.firstChild,e))))return{parser:a.parser};return null}function H6(n=[],e=[]){let r=[],o=[],a=[],h=[];for(let p of n)(p.tag=="script"?r:p.tag=="style"?o:p.tag=="textarea"?a:h).push(p);let f=e.length?Object.create(null):null;for(let p of e)(f[p.name]||(f[p.name]=[])).push(p);return G9((p,g)=>{let x=p.type.id;if(x==i1t)return mN(p,g,r);if(x==n1t)return mN(p,g,o);if(x==r1t)return mN(p,g,a);if(x==U6&&h.length){let v=p.node,S=v.firstChild,b=S&&b3(S,g),M;if(b){for(let j of h)if(j.tag==b&&(!j.attrs||j.attrs(M||(M=G6(S,g))))){let Q=v.lastChild,R=Q.type.id==o1t?Q.from:v.to;if(R>S.to)return{parser:j.parser,overlay:[{from:S.to,to:R}]}}}}if(f&&x==Z6){let v=p.node,S;if(S=v.firstChild){let b=f[g.read(S.from,S.to)];if(b)for(let M of b){if(M.tagName&&M.tagName!=b3(v.parent,g))continue;let j=v.lastChild;if(j.type.id==lj){let Q=j.from+1,R=j.lastChild,L=j.to-(R&&R.isError?0:1);if(L>Q)return{parser:M.parser,overlay:[{from:Q,to:L}]}}else if(j.type.id==Y6)return{parser:M.parser,overlay:[{from:j.from,to:j.to}]}}}}return null})}const T1t=107,T3=1,C1t=108,M1t=109,C3=2,M3=110,K6=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],N1t=58,Q1t=40,J6=95,A1t=91,Tk=45,j1t=46,R1t=35,L1t=37,E1t=38,$1t=92,D1t=10,I1t=42;function Yv(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function tq(n){return n>=48&&n<=57}const F1t=new xs((n,e)=>{for(let r=!1,o=0,a=0;;a++){let{next:h}=n;if(Yv(h)||h==Tk||h==J6||r&&tq(h))!r&&(h!=Tk||a>0)&&(r=!0),o===a&&h==Tk&&o++,n.advance();else if(h==$1t&&n.peek(1)!=D1t)n.advance(),n.next>-1&&n.advance(),r=!0;else{r&&n.acceptToken(o==2&&e.canShift(C3)?C3:e.canShift(M3)?M3:h==Q1t?C1t:M1t);break}}}),V1t=new xs(n=>{if(K6.includes(n.peek(-1))){let{next:e}=n;(Yv(e)||e==J6||e==R1t||e==j1t||e==I1t||e==A1t||e==N1t&&Yv(n.peek(1))||e==Tk||e==E1t)&&n.acceptToken(T1t)}}),z1t=new xs(n=>{if(!K6.includes(n.peek(-1))){let{next:e}=n;if(e==L1t&&(n.advance(),n.acceptToken(T3)),Yv(e)){do n.advance();while(Yv(n.next)||tq(n.next));n.acceptToken(T3)}}}),B1t=lf({"AtKeyword import charset namespace keyframes media supports":q.definitionKeyword,"from to selector":q.keyword,NamespaceName:q.namespace,KeyframeName:q.labelName,KeyframeRangeName:q.operatorKeyword,TagName:q.tagName,ClassName:q.className,PseudoClassName:q.constant(q.className),IdName:q.labelName,"FeatureName PropertyName":q.propertyName,AttributeName:q.attributeName,NumberLiteral:q.number,KeywordQuery:q.keyword,UnaryQueryOp:q.operatorKeyword,"CallTag ValueName":q.atom,VariableName:q.variableName,Callee:q.operatorKeyword,Unit:q.unit,"UniversalSelector NestingSelector":q.definitionOperator,"MatchOp CompareOp":q.compareOperator,"ChildOp SiblingOp, LogicOp":q.logicOperator,BinOp:q.arithmeticOperator,Important:q.modifier,Comment:q.blockComment,ColorLiteral:q.color,"ParenthesizedContent StringLiteral":q.string,":":q.punctuation,"PseudoOp #":q.derefOperator,"; ,":q.separator,"( )":q.paren,"[ ]":q.squareBracket,"{ }":q.brace}),X1t={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62},_1t={__proto__:null,"@import":120,"@media":154,"@charset":158,"@namespace":162,"@keyframes":168,"@supports":180},U1t={__proto__:null,layer:124,not:144,only:144,selector:150},Z1t=Kc.deserialize({version:14,states:">`QYQ[OOO#kQ[OOP#rOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#wQ[O'#CfO$hQXO'#CaO$rQ[O'#CiO$}Q[O'#DUO%SQ[O'#DXO%XQ[O'#D[O%XQ[O'#D_OOQP'#Ev'#EvO%yQdO'#DhO&hQ[O'#DzO%yQdO'#D|O&yQ[O'#EOO'UQ[O'#ERO'^Q[O'#EXO'lQ[O'#EZOOQS'#Eu'#EuOOQS'#E^'#E^QYQ[OOO'sQXO'#CdO(hQWO'#DdO(mQWO'#E{O(xQ[O'#E{QOQWOOP)SO#tO'#C_POOO)C@e)C@eOOQP'#Ch'#ChOOQP,59Q,59QO#wQ[O,59QO)_Q[O,59TO$}Q[O,59pO%SQ[O,59sO%XQ[O,59vO%XQ[O,59xO%XQ[O,59yO%XQ[O'#EcO)jQWO,58{O)rQ[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)yQWO,59TO*OQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO*TQ`O,59sO*nQXO,59vO+UQXO,59yOOQS'#Cq'#CqO%yQdO'#CrO+lQvO'#CtO-hQtO,5:SOOQO'#Cy'#CyO*OQWO'#CxO-rQWO'#CzO-wQ[O'#DPOOQS'#Ex'#ExOOQO'#Dn'#DnO.eQdO'#DwO.uQWO'#E|O'^Q[O'#DuO/TQWO'#DxOOQO'#E}'#E}O)mQWO,5:fO/YQpO,5:hOOQS'#EQ'#EQO/bQWO,5:jO/gQ[O,5:jOOQO'#ET'#ETO/oQWO,5:mO/tQWO,5:sO/|QWO,5:uOOQS-E8[-E8[O0UQdO,5:OO0fQ[O'#EeO0sQWO,5;gO0sQWO,5;gPOOO'#E]'#E]P1OO#tO,58yPOOO,58y,58yOOQP1G.l1G.lOOQP1G.o1G.oO)yQWO1G.oO*OQWO1G.oOOQP1G/[1G/[O1ZQ`O1G/_O1cQXO1G/bO1yQXO1G/dO2aQXO1G/eO2wQXO,5:}OOQO-E8a-E8aOOQS1G.g1G.gO3RQWO,59}O3WQ[O'#DTO3_QdO'#CpOOQP1G/_1G/_O%yQdO1G/_O3fQpO,59^OOQS,59`,59`O%yQdO,59bO3nQ[O'#DkO4PQWO1G/nO-VQ[O1G/nOOQS,59d,59dO4UQ!bO,59fOOQS'#DQ'#DQOOQS'#E`'#E`O4aQ[O,59kOOQS,59k,59kO4iQpO'#DnO4wQpO,5:ZO5PQWO,5:cOOQO'#FO'#FOO4zQpO,5:_O'^Q[O,5:]O5XQ[O'#EgO5pQWO,5;hO5{QWO,5:aO%XQ[O,5:dOOQS1G0Q1G0QOOQS1G0S1G0SOOQS1G0U1G0UO6^QWO1G0UO6cQdO'#EUOOQS1G0X1G0XOOQS1G0_1G0_OOQS1G0a1G0aO6nQtO1G/jOOQO1G/j1G/jOOQO,5;P,5;PO7UQ[O,5;POOQO-E8c-E8cO7cQWO1G1RPOOO-E8Z-E8ZPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO%yQdO7+$yOOQS1G/i1G/iO7nQXO'#EzO7xQWO,59oO7}QtO'#E_O8uQdO'#EwO9PQWO,59[O9UQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|O9^Q[O,5:VOOQS7+%Y7+%YO9cQWO7+%YOOQS1G/Q1G/QO9hQWO1G/QOOQS-E8^-E8^OOQS1G/V1G/VO%yQdO1G/uO9mQdO1G/yOOQO1G/}1G/}OOQO1G/w1G/wO9tQWO,5;ROOQO-E8e-E8eO:SQXO1G0OOOQS7+%p7+%pO:ZQYO'#CtOOQO'#EW'#EWO:iQ`O'#EVOOQO'#EV'#EVO:tQWO'#EhO:|QdO,5:pOOQS,5:p,5:pO;XQtO'#EdO%yQdO'#EdO<YQdO7+%UOOQO7+%U7+%UOOQO1G0k1G0kO<mQpO<<HeO<uQ[O'#EbO=PQWO,5;fOOQP1G/Z1G/ZOOQS-E8]-E8]O=XQdO'#EaO=cQWO,5;cOOQT1G.v1G.vOOQP<<He<<HeOOQO'#Dm'#DmO=kQWO1G/qOOQS<<Ht<<HtOOQS7+$l7+$lO=sQdO7+%aOOQO'#Dp'#DpO=zQpO7+%eOOQO7+%j7+%jOOQO,5:q,5:qO6fQdO'#EiO:tQWO,5;SOOQS,5;S,5;SOOQS-E8f-E8fOOQS1G0[1G0[O>SQtO,5;OOOQS-E8b-E8bOOQO<<Hp<<HpOOQPAN>PAN>PO?TQXO,5:|OOQO-E8`-E8`O?_QdO,5:{OOQO-E8_-E8_O9^Q[O'#EfO?iQWO7+%]OOQS7+%]7+%]OOQO<<H{<<H{OOQO<<IP<<IPO?qQdO<<IPOOQO,5;T,5;TOOQO-E8g-E8gOOQS1G0n1G0nOOQO,5;Q,5;QOOQO-E8d-E8dOOQS<<Hw<<HwO@YQWOAN>kOOQOG24VG24V",stateData:"@g~O#dOS#eQQ~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#aRO~OQhOU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#agO~O#^#oP~P!aO#elO~O#anO~OZpO^qO_qOrsOyrO!PtO!SvO#_uO~OuwO!UyO~P#|Oa!PO#`|O#a{O~O#a!QO~O#a!SO~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO#aRO~OQ!`Oc!XOg!`Oi!`Oo!^Or!_O#`![O#a!WO#m!YO~Oc!bO!j!dO!m!eO#b!aO!U#pP~Oi!jOo!^O#a!iO~Oi!lO#a!lO~Oc!bO!j!dO!m!eO#b!aO~O!Z#pP~P&hOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#_WX~O^!qO~O!Z!rO#^#oX!T#oX~O#^#oX!T#oX~P!aO#f!uO#g!uO#h!wO~Oa!{O#`|O#a{O~OuwO!UyO~O!T#oP~P!aOc#VO~Oc#WO~Oq#XO}#YO~OZpO^qO_qOrsOyrO~Ou!Oa!P!Oa!S!Oa!U!Oa#_!Oab!Oa~P*]Ou!Ra!P!Ra!S!Ra!U!Ra#_!Rab!Ra~P*]OP#[OchXkhX!ZhX!`hX!jhX!mhX#bhXbhX!hhXQhXghXihXohXrhXuhX!YhX#^hX#`hX#ahX#mhXqhX!ThX~Oc!bO!j!dO!m!eO#b!aO!Z#pP~Ok#]O!`#^O~P-VOc#bO~Oq#fO#a#cO~OQ#jOg#jOi#jOo!^O#`![O#m!YO~Oc!bO!j!dO!m!eO#b#gO~P.POu#mO!f#lO!U#pX!Z#pX~Oc#pO~Ok#]O!Z#rO~O!Z#sO~Oi#tOo!^O~O!U#uO~O!UyO!f#lO~O!UyO!Z#xO~O!Y#zO!Z!Wa#^!Wa!T!Wa~P%yO!Z#XX#^#XX!T#XX~P!aO!Z!rO#^#oa!T#oa~O#f!uO#g!uO#h$QO~Oq$SO}$TO~Ou!Oi!P!Oi!S!Oi!U!Oi#_!Oib!Oi~P*]Ou!Qi!P!Qi!S!Qi!U!Qi#_!Qib!Qi~P*]Ou!Ri!P!Ri!S!Ri!U!Ri#_!Rib!Ri~P*]Ou#Va!U#Va~P#|O!T$UO~Ob#nP~P%XOb#kP~P%yOb$]Ok#]O~Oc$_O!Z!_X!j!_X!m!_X#b!_X~O!Z$`O~Ob$bOi$cOp$cO~Oq$eO#a#cO~O^!dXb!bX!f!bX!h!dX~O^$fO!h$gO~Ob$hO!f#lO~Oc!bO!j!dO!m!eO#b!aOu#ZX!U#ZX!Z#ZX~Ou#mO!U#pa!Z#pa~O!f#lOu!ia!U!ia!Z!iab!ia~O!Z$mO~O!T$tO#a$oO#m$nO~Ok#]Ou$vO!Y$xO!Z!Wi#^!Wi!T!Wi~P%yO!Z#Xa#^#Xa!T#Xa~P!aO!Z!rO#^#oi!T#oi~Ou${Ob#nX~P#|Ob$}O~Ok#]OQ#RXb#RXc#RXg#RXi#RXo#RXr#RXu#RX#`#RX#a#RX#m#RX~Ou%POb#kX~P%yOb%RO~Ok#]Oq%SO~O#a%TO~O!Z%VO~Ob%WO~O#b%YO~P.PO!f#lOu#Za!U#Za!Z#Za~Ob%[O~P#|OP#[OuhX!UhXbhX~O#m$nOu!yX!U!yX~Ou%^O!UyO~O!T%bO#a$oO#m$nO~Ok#]OQ#WXc#WXg#WXi#WXo#WXr#WXu#WX!Y#WX!Z#WX#^#WX#`#WX#a#WX#m#WX!T#WX~Ou$vO!Y%eO!Z!Wq#^!Wq!T!Wq~P%yOk#]Oq%fO~Ob#UXu#UX~P%XOu${Ob#na~Ob#TXu#TX~P%yOu%POb#ka~OZ%kOb%mO~Ob%nO~P%yOb%oO!h%pO~Ok#]OQ#Wac#Wag#Wai#Wao#War#Wau#Wa!Y#Wa!Z#Wa#^#Wa#`#Wa#a#Wa#m#Wa!T#Wa~Ob#Uau#Ua~P#|Ob#Tau#Ta~P%yOZ%kOb%vO~OQ#jOg#jOi#jOo!^O#`![O#b%YO#m$nO~Ob%xO~O#dp#e#mk!S#m~",goto:"/l#sPPP#tP#wP$Q$dP$QP$v$QPP$|PPP%S%]%]P%oP%]P&`&w'^PPPP%]'{P(P(V$QP(]$Q(cP$QP$Q$QPPP(i)O)]PP#wPP)dP)g)m)m)x)mP)mP)mP)m)mP#wP#wP#wP*R#wP*U*X*[*c#wP#wP*h*n*}+]+c+i+o+u+{,V,],c,iPPPPPPPPPPP,o,x-n-qP.g.j.p.|/cRmQ_dOPfjy!r#|q[OPYZfjtuvwy!r#V#p#|${qSOPYZfjtuvwy!r#V#p#|${QoTR!xpQ}VR!yqQ!y!PQ#a!]R$R!{q!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%ip!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iU#j!b$g%pU$q#u$s%^R%]$pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iV#j!b$g%pw!]]_!X!b!q#W#Y#]#y$T$Y$f$g$v$w%P%X%i%pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iQ!j`U#j!b$g%pR#t!kT#d!_#eQ!OVR!zqQ!y!OR$R!zQ!RWR!|rQ!TXR!}sQzUQ#TxQ#q!gQ#w!nQ#x!oQ%`$rR%s%_SiPyQ!tjQ#{!rR$y#|ZhPjy!r#|R#`!ZQ%U$_R%t%kc!f^bc!Z!b!d#`#l#mQ#h!bQ%Z$gR%w%pR!k`R!maR#v!mS$r#u$sR%q%^V$p#u$s%^Q!vlR$P!vQfOSjPyU!pfj#|R#|!rQ$Y#WU%O$Y%X%iQ%X$fR%i%PQ#e!_R$d#eQ%Q$YR%j%QQ$|$VR%h$|QxUR#SxQ$w#yR%d$wQ!siS#}!s$OR$O!tQ%l%UR%u%lQ#n!cR$k#nQ$s#uR%a$sQ%_$rR%r%__eOPfjy!r#|^UOPfjy!r#|Q!UYQ!VZQ#OtQ#PuQ#QvQ#RwQ$V#VQ$l#pR%g${R$Z#WQ!Z]Q!h_Q#Z!XQ#y!q[$X#W$Y$f%P%X%iQ$[#YQ$^#]S$u#y$wQ$z$TR%c$vR$W#VQkPR#UyQ!g^Q!ocQ#_!ZR$a#`W!c^c!Z#`Q!nbQ#i!bQ#o!dQ$i#lR$j#mQ#k!bQ%Z$gR%w%p",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import Layer layer LayerName KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:126,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[B1t],skippedNodes:[0,3,93],repeatNodeCount:13,tokenData:"LU~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_Cj!_!`Df!`!aDy!a!b$}!b!cEz!c!}$}!}#OHX#O#P$}#P#QHj#Q#R6d#R#T$}#T#UH{#U#c$}#c#dJ^#d#o$}#o#pJs#p#q6d#q#rKU#r#sKg#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`LO<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#d~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#d~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#m[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#m[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#e~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^jBbU^YOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^hCoU!hWOy%^z!_%^!_!`DR!`;'S%^;'S;=`%o<%lO%^hDYS!hWp`Oy%^z;'S%^;'S;=`%o<%lO%^lDmS!hW}SOy%^z;'S%^;'S;=`%o<%lO%^jEQV!PQ!hWOy%^z!_%^!_!`DR!`!aEg!a;'S%^;'S;=`%o<%lO%^bEnS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bE}YOy%^z}%^}!OFm!O!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bFrWp`Oy%^z!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bGc[!]Qp`Oy%^z}%^}!OG[!O!Q%^!Q![G[![!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^nH^Sr^Oy%^z;'S%^;'S;=`%o<%lO%^nHoSq^Oy%^z;'S%^;'S;=`%o<%lO%^jIOUOy%^z#b%^#b#cIb#c;'S%^;'S;=`%o<%lO%^jIgUp`Oy%^z#W%^#W#XIy#X;'S%^;'S;=`%o<%lO%^jJQS!fYp`Oy%^z;'S%^;'S;=`%o<%lO%^jJaUOy%^z#f%^#f#gIy#g;'S%^;'S;=`%o<%lO%^fJxS!UUOy%^z;'S%^;'S;=`%o<%lO%^nKZS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fKlU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`LRP;=`<%l$}",tokenizers:[V1t,z1t,F1t,1,2,3,4,new VP("m~RRYZ[z{a~~g~aO#g~~dP!P!Qg~lO#h~~",28,114)],topRules:{StyleSheet:[0,4],Styles:[1,92]},specialized:[{term:108,get:n=>X1t[n]||-1},{term:59,get:n=>_1t[n]||-1},{term:110,get:n=>U1t[n]||-1}],tokenPrec:1441});let gN=null;function yN(){if(!gN&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],r=new Set;for(let o in n)o!="cssText"&&o!="cssFloat"&&typeof n[o]=="string"&&(/[A-Z]/.test(o)&&(o=o.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())),r.has(o)||(e.push(o),r.add(o)));gN=e.sort().map(o=>({type:"property",label:o,apply:o+": "}))}return gN||[]}const N3=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),Q3=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),Y1t=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),W1t=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),Ku=/^(\w[\w-]*|-\w[\w-]*|)$/,q1t=/^-(-[\w-]*)?$/;function G1t(n,e){var r;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let o=(r=n.parent)===null||r===void 0?void 0:r.firstChild;return(o==null?void 0:o.name)!="Callee"?!1:e.sliceString(o.from,o.to)=="var"}const A3=new B5,H1t=["Declaration"];function K1t(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function eq(n,e,r){if(e.to-e.from>4096){let o=A3.get(e);if(o)return o;let a=[],h=new Set,f=e.cursor(Ti.IncludeAnonymous);if(f.firstChild())do for(let p of eq(n,f.node,r))h.has(p.label)||(h.add(p.label),a.push(p));while(f.nextSibling());return A3.set(e,a),a}else{let o=[],a=new Set;return e.cursor().iterate(h=>{var f;if(r(h)&&h.matchContext(H1t)&&((f=h.node.nextSibling)===null||f===void 0?void 0:f.name)==":"){let p=n.sliceString(h.from,h.to);a.has(p)||(a.add(p),o.push({label:p,type:"variable"}))}}),o}}const J1t=n=>e=>{let{state:r,pos:o}=e,a=Mi(r).resolveInner(o,-1),h=a.type.isError&&a.from==a.to-1&&r.doc.sliceString(a.from,a.to)=="-";if(a.name=="PropertyName"||(h||a.name=="TagName")&&/^(Block|Styles)$/.test(a.resolve(a.to).name))return{from:a.from,options:yN(),validFor:Ku};if(a.name=="ValueName")return{from:a.from,options:Q3,validFor:Ku};if(a.name=="PseudoClassName")return{from:a.from,options:N3,validFor:Ku};if(n(a)||(e.explicit||h)&&G1t(a,r.doc))return{from:n(a)||h?a.from:o,options:eq(r.doc,K1t(a),n),validFor:q1t};if(a.name=="TagName"){for(let{parent:g}=a;g;g=g.parent)if(g.name=="Block")return{from:a.from,options:yN(),validFor:Ku};return{from:a.from,options:Y1t,validFor:Ku}}if(a.name=="AtKeyword")return{from:a.from,options:W1t,validFor:Ku};if(!e.explicit)return null;let f=a.resolve(o),p=f.childBefore(o);return p&&p.name==":"&&f.name=="PseudoClassSelector"?{from:o,options:N3,validFor:Ku}:p&&p.name==":"&&f.name=="Declaration"||f.name=="ArgList"?{from:o,options:Q3,validFor:Ku}:f.name=="Block"||f.name=="Styles"?{from:o,options:yN(),validFor:Ku}:null},twt=J1t(n=>n.name=="VariableName"),XP=Gc.define({name:"css",parser:Z1t.configure({props:[Yd.add({Declaration:rg()}),af.add({"Block KeyframeList":V2})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function iq(){return new Fd(XP,XP.data.of({autocomplete:twt}))}const uO=["_blank","_self","_top","_parent"],ON=["ascii","utf-8","utf-16","latin1","latin1"],vN=["get","post","put","delete"],xN=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Ao=["true","false"],ae={},ewt={a:{attrs:{href:null,ping:null,type:null,media:null,target:uO,hreflang:null}},abbr:ae,address:ae,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:ae,aside:ae,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:ae,base:{attrs:{href:null,target:uO}},bdi:ae,bdo:ae,blockquote:{attrs:{cite:null}},body:ae,br:ae,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:xN,formmethod:vN,formnovalidate:["novalidate"],formtarget:uO,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:ae,center:ae,cite:ae,code:ae,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:ae,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:ae,div:ae,dl:ae,dt:ae,em:ae,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:ae,figure:ae,footer:ae,form:{attrs:{action:null,name:null,"accept-charset":ON,autocomplete:["on","off"],enctype:xN,method:vN,novalidate:["novalidate"],target:uO}},h1:ae,h2:ae,h3:ae,h4:ae,h5:ae,h6:ae,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:ae,hgroup:ae,hr:ae,html:{attrs:{manifest:null}},i:ae,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:xN,formmethod:vN,formnovalidate:["novalidate"],formtarget:uO,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:ae,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:ae,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:ae,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:ON,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:ae,noscript:ae,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:ae,param:{attrs:{name:null,value:null}},pre:ae,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:ae,rt:ae,ruby:ae,samp:ae,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:ON}},section:ae,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:ae,source:{attrs:{src:null,type:null,media:null}},span:ae,strong:ae,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:ae,summary:ae,sup:ae,table:ae,tbody:ae,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:ae,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:ae,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:ae,time:{attrs:{datetime:null}},title:ae,tr:ae,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:ae,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:ae},nq={accesskey:null,class:null,contenteditable:Ao,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Ao,autocorrect:Ao,autocapitalize:Ao,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Ao,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Ao,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Ao,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Ao,"aria-hidden":Ao,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Ao,"aria-multiselectable":Ao,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Ao,"aria-relevant":null,"aria-required":Ao,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},rq="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of rq)nq[n]=null;class Wv{constructor(e,r){this.tags=Object.assign(Object.assign({},ewt),e),this.globalAttrs=Object.assign(Object.assign({},nq),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Wv.default=new Wv;function Fg(n,e,r=n.length){if(!e)return"";let o=e.firstChild,a=o&&o.getChild("TagName");return a?n.sliceString(a.from,Math.min(a.to,r)):""}function Vg(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function sq(n,e,r){let o=r.tags[Fg(n,Vg(e))];return(o==null?void 0:o.children)||r.allTags}function yL(n,e){let r=[];for(let o=Vg(e);o&&!o.type.isTop;o=Vg(o.parent)){let a=Fg(n,o);if(a&&o.lastChild.name=="CloseTag")break;a&&r.indexOf(a)<0&&(e.name=="EndTag"||e.from>=o.firstChild.to)&&r.push(a)}return r}const oq=/^[:\-\.\w\u00b7-\uffff]*$/;function j3(n,e,r,o,a){let h=/\s*>/.test(n.sliceDoc(a,a+5))?"":">",f=Vg(r,!0);return{from:o,to:a,options:sq(n.doc,f,e).map(p=>({label:p,type:"type"})).concat(yL(n.doc,r).map((p,g)=>({label:"/"+p,apply:"/"+p+h,type:"type",boost:99-g}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function R3(n,e,r,o){let a=/\s*>/.test(n.sliceDoc(o,o+5))?"":">";return{from:r,to:o,options:yL(n.doc,e).map((h,f)=>({label:h,apply:h+a,type:"type",boost:99-f})),validFor:oq}}function iwt(n,e,r,o){let a=[],h=0;for(let f of sq(n.doc,r,e))a.push({label:"<"+f,type:"type"});for(let f of yL(n.doc,r))a.push({label:"</"+f+">",type:"type",boost:99-h++});return{from:o,to:o,options:a,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function nwt(n,e,r,o,a){let h=Vg(r),f=h?e.tags[Fg(n.doc,h)]:null,p=f&&f.attrs?Object.keys(f.attrs):[],g=f&&f.globalAttrs===!1?p:p.length?p.concat(e.globalAttrNames):e.globalAttrNames;return{from:o,to:a,options:g.map(x=>({label:x,type:"property"})),validFor:oq}}function rwt(n,e,r,o,a){var h;let f=(h=r.parent)===null||h===void 0?void 0:h.getChild("AttributeName"),p=[],g;if(f){let x=n.sliceDoc(f.from,f.to),v=e.globalAttrs[x];if(!v){let S=Vg(r),b=S?e.tags[Fg(n.doc,S)]:null;v=(b==null?void 0:b.attrs)&&b.attrs[x]}if(v){let S=n.sliceDoc(o,a).toLowerCase(),b='"',M='"';/^['"]/.test(S)?(g=S[0]=='"'?/^[^"]*$/:/^[^']*$/,b="",M=n.sliceDoc(a,a+1)==S[0]?"":S[0],S=S.slice(1),o++):g=/^[^\s<>='"]*$/;for(let j of v)p.push({label:j,apply:b+j+M,type:"constant"})}}return{from:o,to:a,options:p,validFor:g}}function lq(n,e){let{state:r,pos:o}=e,a=Mi(r).resolveInner(o,-1),h=a.resolve(o);for(let f=o,p;h==a&&(p=a.childBefore(f));){let g=p.lastChild;if(!g||!g.type.isError||g.from<g.to)break;h=a=p,f=g.from}return a.name=="TagName"?a.parent&&/CloseTag$/.test(a.parent.name)?R3(r,a,a.from,o):j3(r,n,a,a.from,o):a.name=="StartTag"?j3(r,n,a,o,o):a.name=="StartCloseTag"||a.name=="IncompleteCloseTag"?R3(r,a,o,o):a.name=="OpenTag"||a.name=="SelfClosingTag"||a.name=="AttributeName"?nwt(r,n,a,a.name=="AttributeName"?a.from:o,o):a.name=="Is"||a.name=="AttributeValue"||a.name=="UnquotedAttributeValue"?rwt(r,n,a,a.name=="Is"?o:a.from,o):e.explicit&&(h.name=="Element"||h.name=="Text"||h.name=="Document")?iwt(r,n,a,o):null}function swt(n){return lq(Wv.default,n)}function owt(n){let{extraTags:e,extraGlobalAttributes:r}=n,o=r||e?new Wv(e,r):Wv.default;return a=>lq(o,a)}const lwt=yu.parser.configure({top:"SingleExpression"}),aq=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:T6.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:C6.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:M6.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:lwt},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:yu.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:XP.parser}],uq=[{name:"style",parser:XP.parser.configure({top:"Styles"})}].concat(rq.map(n=>({name:n,parser:yu.parser}))),hq=Gc.define({name:"html",parser:b1t.configure({props:[Yd.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,r;for(let o=n.node;;){let a=o.lastChild;if(!a||a.name!="Element"||a.to!=o.to)break;e=o=a}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),af.add({Element(n){let e=n.firstChild,r=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:n.to}}}),p7.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Ck=hq.configure({wrap:H6(aq,uq)});function cq(n={}){let e="",r;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(r=H6((n.nestedLanguages||[]).concat(aq),(n.nestedAttributes||[]).concat(uq)));let o=r?hq.configure({wrap:r,dialect:e}):e?Ck.configure({dialect:e}):Ck;return new Fd(o,[Ck.data.of({autocomplete:owt(n)}),n.autoCloseTags!==!1?awt:[],sj().support,iq().support])}const L3=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),awt=Zt.inputHandler.of((n,e,r,o,a)=>{if(n.composing||n.state.readOnly||e!=r||o!=">"&&o!="/"||!Ck.isActiveAt(n.state,e,-1))return!1;let h=a(),{state:f}=h,p=f.changeByRange(g=>{var x,v,S;let b=f.doc.sliceString(g.from-1,g.to)==o,{head:M}=g,j=Mi(f).resolveInner(M,-1),Q;if(b&&o==">"&&j.name=="EndTag"){let R=j.parent;if(((v=(x=R.parent)===null||x===void 0?void 0:x.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(Q=Fg(f.doc,R.parent,M))&&!L3.has(Q)){let L=M+(f.doc.sliceString(M,M+1)===">"?1:0),$=`</${Q}>`;return{range:g,changes:{from:M,to:L,insert:$}}}}else if(b&&o=="/"&&j.name=="IncompleteCloseTag"){let R=j.parent;if(j.from==M-2&&((S=R.lastChild)===null||S===void 0?void 0:S.name)!="CloseTag"&&(Q=Fg(f.doc,R,M))&&!L3.has(Q)){let L=M+(f.doc.sliceString(M,M+1)===">"?1:0),$=`${Q}>`;return{range:Ct.cursor(M+$.length,-1),changes:{from:M,to:L,insert:$}}}}return{range:g}});return p.changes.empty?!1:(n.dispatch([h,f.update(p,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),uwt=lf({String:q.string,Number:q.number,"True False":q.bool,PropertyName:q.propertyName,Null:q.null,", :":q.separator,"[ ]":q.squareBracket,"{ }":q.brace}),hwt=Kc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[uwt],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),cwt=Gc.define({name:"json",parser:hwt.configure({props:[Yd.add({Object:rg({except:/^\s*\}/}),Array:rg({except:/^\s*\]/})}),af.add({"Object Array":V2})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function fwt(){return new Fd(cwt)}class _P{static create(e,r,o,a,h){let f=a+(a<<8)+e+(r<<4)|0;return new _P(e,r,o,f,h,[],[])}constructor(e,r,o,a,h,f,p){this.type=e,this.value=r,this.from=o,this.hash=a,this.end=h,this.children=f,this.positions=p,this.hashProp=[[we.contextHash,a]]}addChild(e,r){e.prop(we.contextHash)!=this.hash&&(e=new mi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(r)}toTree(e,r=this.end){let o=this.children.length-1;return o>=0&&(r=Math.max(r,this.positions[o]+this.children[o].length+this.from)),new mi(e.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(a,h,f)=>new mi(cr.none,a,h,f,this.hashProp)})}}var zt;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(zt||(zt={}));class dwt{constructor(e,r){this.start=e,this.content=r,this.marks=[],this.parsers=[]}}class pwt{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return UO(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,r=0,o=0){for(let a=r;a<e;a++)o+=this.text.charCodeAt(a)==9?4-o%4:1;return o}findColumn(e){let r=0;for(let o=0;r<this.text.length&&o<e;r++)o+=this.text.charCodeAt(r)==9?4-o%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let e="";for(let r=0;r<this.basePos;r++)e+=" ";return e+this.text.slice(this.basePos)}}function E3(n,e,r){if(r.pos==r.text.length||n!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let o=(n.type==zt.OrderedList?xL:vL)(r,e,!1);return o>0&&(n.type!=zt.BulletList||OL(r,e,!1)<0)&&r.text.charCodeAt(r.pos+o-1)==n.value}const fq={[zt.Blockquote](n,e,r){return r.next!=62?!1:(r.markers.push(He(zt.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(jl(r.text.charCodeAt(r.pos+1))?2:1)),n.end=e.lineStart+r.text.length,!0)},[zt.ListItem](n,e,r){return r.indent<r.baseIndent+n.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+n.value),!0)},[zt.OrderedList]:E3,[zt.BulletList]:E3,[zt.Document](){return!0}};function jl(n){return n==32||n==9||n==10||n==13}function UO(n,e=0){for(;e<n.length&&jl(n.charCodeAt(e));)e++;return e}function $3(n,e,r){for(;e>r&&jl(n.charCodeAt(e-1));)e--;return e}function dq(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let r=e;r<n.text.length;r++)if(n.text.charCodeAt(r)==96)return-1}return e}function pq(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function OL(n,e,r){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let o=1;for(let a=n.pos+1;a<n.text.length;a++){let h=n.text.charCodeAt(a);if(h==n.next)o++;else if(!jl(h))return-1}return r&&n.next==45&&yq(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(wq.SetextHeading)>-1||o<3?-1:1}function mq(n,e){for(let r=n.stack.length-1;r>=0;r--)if(n.stack[r].type==e)return!0;return!1}function vL(n,e,r){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||jl(n.text.charCodeAt(n.pos+1)))&&(!r||mq(e,zt.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function xL(n,e,r){let o=n.pos,a=n.next;for(;a>=48&&a<=57;){o++;if(o==n.text.length)return-1;a=n.text.charCodeAt(o)}return o==n.pos||o>n.pos+9||a!=46&&a!=41||o<n.text.length-1&&!jl(n.text.charCodeAt(o+1))||r&&!mq(e,zt.OrderedList)&&(n.skipSpace(o+1)==n.text.length||o>n.pos+1||n.next!=49)?-1:o+1-n.pos}function gq(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let r=e-n.pos;return r>6?-1:r}function yq(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let r=e;for(;e<n.text.length&&jl(n.text.charCodeAt(e));)e++;return e==n.text.length?r:-1}const uj=/^[ \t]*$/,Oq=/-->/,vq=/\?>/,hj=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Oq],[/^\s*<\?/,vq],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,uj],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,uj]];function xq(n,e,r){if(n.next!=60)return-1;let o=n.text.slice(n.pos);for(let a=0,h=hj.length-(r?1:0);a<h;a++)if(hj[a][0].test(o))return a;return-1}function D3(n,e){let r=n.countIndent(e,n.pos,n.indent),o=n.countIndent(n.skipSpace(e),e,r);return o>=r+5?r+1:o}function ed(n,e,r){let o=n.length-1;o>=0&&n[o].to==e&&n[o].type==zt.CodeText?n[o].to=r:n.push(He(zt.CodeText,e,r))}const zS={LinkReference:void 0,IndentedCode(n,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let o=e.findColumn(r),a=n.lineStart+o,h=n.lineStart+e.text.length,f=[],p=[];for(ed(f,a,h);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){ed(p,n.lineStart-1,n.lineStart);for(let g of e.markers)p.push(g)}else{if(e.indent<r)break;{if(p.length){for(let x of p)x.type==zt.CodeText?ed(f,x.from,x.to):f.push(x);p=[]}ed(f,n.lineStart-1,n.lineStart);for(let x of e.markers)f.push(x);h=n.lineStart+e.text.length;let g=n.lineStart+e.findColumn(e.baseIndent+4);g<h&&ed(f,g,h)}}return p.length&&(p=p.filter(g=>g.type!=zt.CodeText),p.length&&(e.markers=p.concat(e.markers))),n.addNode(n.buffer.writeElements(f,-a).finish(zt.CodeBlock,h-a),a),!0},FencedCode(n,e){let r=dq(e);if(r<0)return!1;let o=n.lineStart+e.pos,a=e.next,h=r-e.pos,f=e.skipSpace(r),p=$3(e.text,e.text.length,f),g=[He(zt.CodeMark,o,o+h)];f<p&&g.push(He(zt.CodeInfo,n.lineStart+f,n.lineStart+p));for(let x=!0;n.nextLine()&&e.depth>=n.stack.length;x=!1){let v=e.pos;if(e.indent-e.baseIndent<4)for(;v<e.text.length&&e.text.charCodeAt(v)==a;)v++;if(v-e.pos>=h&&e.skipSpace(v)==e.text.length){for(let S of e.markers)g.push(S);g.push(He(zt.CodeMark,n.lineStart+e.pos,n.lineStart+v)),n.nextLine();break}else{x||ed(g,n.lineStart-1,n.lineStart);for(let M of e.markers)g.push(M);let S=n.lineStart+e.basePos,b=n.lineStart+e.text.length;S<b&&ed(g,S,b)}}return n.addNode(n.buffer.writeElements(g,-o).finish(zt.FencedCode,n.prevLineEnd()-o),o),!0},Blockquote(n,e){let r=pq(e);return r<0?!1:(n.startContext(zt.Blockquote,e.pos),n.addNode(zt.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(n,e){if(OL(e,n,!1)<0)return!1;let r=n.lineStart+e.pos;return n.nextLine(),n.addNode(zt.HorizontalRule,r),!0},BulletList(n,e){let r=vL(e,n,!1);if(r<0)return!1;n.block.type!=zt.BulletList&&n.startContext(zt.BulletList,e.basePos,e.next);let o=D3(e,e.pos+1);return n.startContext(zt.ListItem,e.basePos,o-e.baseIndent),n.addNode(zt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+r),e.moveBaseColumn(o),null},OrderedList(n,e){let r=xL(e,n,!1);if(r<0)return!1;n.block.type!=zt.OrderedList&&n.startContext(zt.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let o=D3(e,e.pos+r);return n.startContext(zt.ListItem,e.basePos,o-e.baseIndent),n.addNode(zt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+r),e.moveBaseColumn(o),null},ATXHeading(n,e){let r=gq(e);if(r<0)return!1;let o=e.pos,a=n.lineStart+o,h=$3(e.text,e.text.length,o),f=h;for(;f>o&&e.text.charCodeAt(f-1)==e.next;)f--;(f==h||f==o||!jl(e.text.charCodeAt(f-1)))&&(f=e.text.length);let p=n.buffer.write(zt.HeaderMark,0,r).writeElements(n.parser.parseInline(e.text.slice(o+r+1,f),a+r+1),-a);f<e.text.length&&p.write(zt.HeaderMark,f-o,h-o);let g=p.finish(zt.ATXHeading1-1+r,e.text.length-o);return n.nextLine(),n.addNode(g,a),!0},HTMLBlock(n,e){let r=xq(e,n,!1);if(r<0)return!1;let o=n.lineStart+e.pos,a=hj[r][1],h=[],f=a!=uj;for(;!a.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){f=!1;break}for(let x of e.markers)h.push(x)}f&&n.nextLine();let p=a==Oq?zt.CommentBlock:a==vq?zt.ProcessingInstructionBlock:zt.HTMLBlock,g=n.prevLineEnd();return n.addNode(n.buffer.writeElements(h,-o).finish(p,g-o),o),!0},SetextHeading:void 0};class mwt{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,r,o){if(this.stage==-1)return!1;let a=o.content+`
`+r.scrub(),h=this.advance(a);return h>-1&&h<a.length?this.complete(e,o,h):!1}finish(e,r){return(this.stage==2||this.stage==3)&&UO(r.content,this.pos)==r.content.length?this.complete(e,r,r.content.length):!1}complete(e,r,o){return e.addLeafElement(r,He(zt.LinkReference,this.start,this.start+o,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(Qq(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(He(zt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(Mq(e,UO(e,this.pos),this.start)))return-1}else if(this.stage==2){let r=UO(e,this.pos),o=0;if(r>this.pos){let a=Nq(e,r,this.start);if(a){let h=wN(e,a.to-this.start);h>0&&(this.nextStage(a),o=h)}}return o||(o=wN(e,this.pos)),o>0&&o<e.length?o:-1}else return wN(e,this.pos)}}}function wN(n,e){for(;e<n.length;e++){let r=n.charCodeAt(e);if(r==10)break;if(!jl(r))return-1}return e}class gwt{nextLine(e,r,o){let a=r.depth<e.stack.length?-1:yq(r),h=r.next;if(a<0)return!1;let f=He(zt.HeaderMark,e.lineStart+r.pos,e.lineStart+a);return e.nextLine(),e.addLeafElement(o,He(h==61?zt.SetextHeading1:zt.SetextHeading2,o.start,e.prevLineEnd(),[...e.parser.parseInline(o.content,o.start),f])),!0}finish(){return!1}}const wq={LinkReference(n,e){return e.content.charCodeAt(0)==91?new mwt(e):null},SetextHeading(){return new gwt}},ywt=[(n,e)=>gq(e)>=0,(n,e)=>dq(e)>=0,(n,e)=>pq(e)>=0,(n,e)=>vL(e,n,!0)>=0,(n,e)=>xL(e,n,!0)>=0,(n,e)=>OL(e,n,!0)>=0,(n,e)=>xq(e,n,!0)>=0],Owt={text:"",end:0};class vwt{constructor(e,r,o,a){this.parser=e,this.input=r,this.ranges=a,this.line=new pwt,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=_P.create(zt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=o.length?new kwt(o,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let o=0;;){let a=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;o<e.markers.length&&(!a||e.markers[o].from<a.end);){let h=e.markers[o++];this.addNode(h.type,h.from,h.to)}if(!a)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;t:for(;;){for(let o of this.parser.blockParsers)if(o){let a=o(this,e);if(a!=!1){if(a==!0)return null;e.forward();continue t}}break}let r=new dwt(this.lineStart+e.pos,e.text.slice(e.pos));for(let o of this.parser.leafBlockParsers)if(o){let a=o(this,r);a&&r.parsers.push(a)}t:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let o of this.parser.endLeafBlock)if(o(this,e,r))break t}for(let o of r.parsers)if(o.nextLine(this,e,r))return null;r.content+=`
`+e.scrub();for(let o of e.markers)r.marks.push(o)}return this.finishLeaf(r),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=Aq(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let r=Owt;if(r.end=e,e>=this.to)r.text="";else if(r.text=this.lineChunkAt(e),r.end+=r.text.length,this.ranges.length>1){let o=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<r.end;){a++;let h=this.ranges[a].from,f=this.lineChunkAt(h);r.end=h+f.length,r.text=r.text.slice(0,this.ranges[a-1].to-o)+f,o=r.end-r.text.length}}return r}readLine(){let{line:e}=this,{text:r,end:o}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=o,e.reset(r);e.depth<this.stack.length;e.depth++){let a=this.stack[e.depth],h=this.parser.skipContextMarkup[a.type];if(!h)throw new Error("Unhandled block context "+zt[a.type]);if(!h(a,this,e))break;e.forward()}}lineChunkAt(e){let r=this.input.chunk(e),o;if(this.input.lineChunks)o=r==`
`?"":r;else{let a=r.indexOf(`
`);o=a<0?r:r.slice(0,a)}return e+o.length>this.to?o.slice(0,this.to-e):o}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,r,o=0){this.block=_P.create(e,o,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,r,o=0){this.startContext(this.parser.getNodeType(e),r,o)}addNode(e,r,o){typeof e=="number"&&(e=new mi(this.parser.nodeSet.types[e],zg,zg,(o??this.prevLineEnd())-r)),this.block.addChild(e,r-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,r){this.addNode(this.buffer.writeElements(dj(r.children,e.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let e=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(e.toTree(this.parser.nodeSet),e.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?Sq(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let o of e.parsers)if(o.finish(this,e))return;let r=dj(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(zt.Paragraph,e.content.length),e.start)}elt(e,r,o,a){return typeof e=="string"?He(this.parser.getNodeType(e),r,o,a):new bq(e,r)}get buffer(){return new Pq(this.parser.nodeSet)}}function Sq(n,e,r,o,a){let h=n[e].to,f=[],p=[],g=r.from+o;function x(v,S){for(;S?v>=h:v>h;){let b=n[e+1].from-h;o+=b,v+=b,e++,h=n[e].to}}for(let v=r.firstChild;v;v=v.nextSibling){x(v.from+o,!0);let S=v.from+o,b,M=a.get(v.tree);M?b=M:v.to+o>h?(b=Sq(n,e,v,o,a),x(v.to+o,!1)):b=v.toTree(),f.push(b),p.push(S-g)}return x(r.to+o,!1),new mi(r.type,f,p,r.to+o-g,r.tree?r.tree.propValues:void 0)}class W2 extends X5{constructor(e,r,o,a,h,f,p,g,x){super(),this.nodeSet=e,this.blockParsers=r,this.leafBlockParsers=o,this.blockNames=a,this.endLeafBlock=h,this.skipContextMarkup=f,this.inlineParsers=p,this.inlineNames=g,this.wrappers=x,this.nodeTypes=Object.create(null);for(let v of e.types)this.nodeTypes[v.name]=v.id}createParse(e,r,o){let a=new vwt(this,e,r,o);for(let h of this.wrappers)a=h(a,e,r,o);return a}configure(e){let r=cj(e);if(!r)return this;let{nodeSet:o,skipContextMarkup:a}=this,h=this.blockParsers.slice(),f=this.leafBlockParsers.slice(),p=this.blockNames.slice(),g=this.inlineParsers.slice(),x=this.inlineNames.slice(),v=this.endLeafBlock.slice(),S=this.wrappers;if(hO(r.defineNodes)){a=Object.assign({},a);let b=o.types.slice(),M;for(let j of r.defineNodes){let{name:Q,block:R,composite:L,style:$}=typeof j=="string"?{name:j}:j;if(b.some(X=>X.name==Q))continue;L&&(a[b.length]=(X,W,K)=>L(W,K,X.value));let V=b.length,D=L?["Block","BlockContext"]:R?V>=zt.ATXHeading1&&V<=zt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;b.push(cr.define({id:V,name:Q,props:D&&[[we.group,D]]})),$&&(M||(M={}),Array.isArray($)||$ instanceof Eo?M[Q]=$:Object.assign(M,$))}o=new vx(b),M&&(o=o.extend(lf(M)))}if(hO(r.props)&&(o=o.extend(...r.props)),hO(r.remove))for(let b of r.remove){let M=this.blockNames.indexOf(b),j=this.inlineNames.indexOf(b);M>-1&&(h[M]=f[M]=void 0),j>-1&&(g[j]=void 0)}if(hO(r.parseBlock))for(let b of r.parseBlock){let M=p.indexOf(b.name);if(M>-1)h[M]=b.parse,f[M]=b.leaf;else{let j=b.before?BS(p,b.before):b.after?BS(p,b.after)+1:p.length-1;h.splice(j,0,b.parse),f.splice(j,0,b.leaf),p.splice(j,0,b.name)}b.endLeaf&&v.push(b.endLeaf)}if(hO(r.parseInline))for(let b of r.parseInline){let M=x.indexOf(b.name);if(M>-1)g[M]=b.parse;else{let j=b.before?BS(x,b.before):b.after?BS(x,b.after)+1:x.length-1;g.splice(j,0,b.parse),x.splice(j,0,b.name)}}return r.wrap&&(S=S.concat(r.wrap)),new W2(o,h,f,p,v,a,g,x,S)}getNodeType(e){let r=this.nodeTypes[e];if(r==null)throw new RangeError(`Unknown node type '${e}'`);return r}parseInline(e,r){let o=new wwt(this,e,r);t:for(let a=r;a<o.end;){let h=o.char(a);for(let f of this.inlineParsers)if(f){let p=f(o,h,a);if(p>=0){a=p;continue t}}a++}return o.resolveMarkers(0)}}function hO(n){return n!=null&&n.length>0}function cj(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=cj(n[0]);if(n.length==1)return e;let r=cj(n.slice(1));if(!r||!e)return e||r;let o=(f,p)=>(f||zg).concat(p||zg),a=e.wrap,h=r.wrap;return{props:o(e.props,r.props),defineNodes:o(e.defineNodes,r.defineNodes),parseBlock:o(e.parseBlock,r.parseBlock),parseInline:o(e.parseInline,r.parseInline),remove:o(e.remove,r.remove),wrap:a?h?(f,p,g,x)=>a(h(f,p,g,x),p,g,x):a:h}}function BS(n,e){let r=n.indexOf(e);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return r}let kq=[cr.none];for(let n=1,e;e=zt[n];n++)kq[n]=cr.define({id:n,name:e,props:n>=zt.Escape?[]:[[we.group,n in fq?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const zg=[];let Pq=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,r,o,a=0){return this.content.push(e,r,o,4+a*4),this}writeElements(e,r=0){for(let o of e)o.writeTo(this,r);return this}finish(e,r){return mi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:r})}},qv=class{constructor(e,r,o,a=zg){this.type=e,this.from=r,this.to=o,this.children=a}writeTo(e,r){let o=e.content.length;e.writeElements(this.children,r),e.content.push(this.type,this.from+r,this.to+r,e.content.length+4-o)}toTree(e){return new Pq(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class bq{constructor(e,r){this.tree=e,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return zg}writeTo(e,r){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function He(n,e,r,o){return new qv(n,e,r,o)}const Tq={resolve:"Emphasis",mark:"EmphasisMark"},Cq={resolve:"Emphasis",mark:"EmphasisMark"},Cm={},fj={};class yl{constructor(e,r,o,a){this.type=e,this.from=r,this.to=o,this.side=a}}const I3="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Gv=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Gv=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const SN={Escape(n,e,r){if(e!=92||r==n.end-1)return-1;let o=n.char(r+1);for(let a=0;a<I3.length;a++)if(I3.charCodeAt(a)==o)return n.append(He(zt.Escape,r,r+2));return-1},Entity(n,e,r){if(e!=38)return-1;let o=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(r+1,r+31));return o?n.append(He(zt.Entity,r,r+1+o[0].length)):-1},InlineCode(n,e,r){if(e!=96||r&&n.char(r-1)==96)return-1;let o=r+1;for(;o<n.end&&n.char(o)==96;)o++;let a=o-r,h=0;for(;o<n.end;o++)if(n.char(o)==96){if(h++,h==a&&n.char(o+1)!=96)return n.append(He(zt.InlineCode,r,o+1,[He(zt.CodeMark,r,r+a),He(zt.CodeMark,o+1-a,o+1)]))}else h=0;return-1},HTMLTag(n,e,r){if(e!=60||r==n.end-1)return-1;let o=n.slice(r+1,n.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(o);if(a)return n.append(He(zt.Autolink,r,r+1+a[0].length,[He(zt.LinkMark,r,r+1),He(zt.URL,r+1,r+a[0].length),He(zt.LinkMark,r+a[0].length,r+1+a[0].length)]));let h=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(o);if(h)return n.append(He(zt.Comment,r,r+1+h[0].length));let f=/^\?[^]*?\?>/.exec(o);if(f)return n.append(He(zt.ProcessingInstruction,r,r+1+f[0].length));let p=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(o);return p?n.append(He(zt.HTMLTag,r,r+1+p[0].length)):-1},Emphasis(n,e,r){if(e!=95&&e!=42)return-1;let o=r+1;for(;n.char(o)==e;)o++;let a=n.slice(r-1,r),h=n.slice(o,o+1),f=Gv.test(a),p=Gv.test(h),g=/\s|^$/.test(a),x=/\s|^$/.test(h),v=!x&&(!p||g||f),S=!g&&(!f||x||p),b=v&&(e==42||!S||f),M=S&&(e==42||!v||p);return n.append(new yl(e==95?Tq:Cq,r,o,(b?1:0)|(M?2:0)))},HardBreak(n,e,r){if(e==92&&n.char(r+1)==10)return n.append(He(zt.HardBreak,r,r+2));if(e==32){let o=r+1;for(;n.char(o)==32;)o++;if(n.char(o)==10&&o>=r+2)return n.append(He(zt.HardBreak,r,o+1))}return-1},Link(n,e,r){return e==91?n.append(new yl(Cm,r,r+1,1)):-1},Image(n,e,r){return e==33&&n.char(r+1)==91?n.append(new yl(fj,r,r+2,1)):-1},LinkEnd(n,e,r){if(e!=93)return-1;for(let o=n.parts.length-1;o>=0;o--){let a=n.parts[o];if(a instanceof yl&&(a.type==Cm||a.type==fj)){if(!a.side||n.skipSpace(a.to)==r&&!/[(\[]/.test(n.slice(r+1,r+2)))return n.parts[o]=null,-1;let h=n.takeContent(o),f=n.parts[o]=xwt(n,h,a.type==Cm?zt.Link:zt.Image,a.from,r+1);if(a.type==Cm)for(let p=0;p<o;p++){let g=n.parts[p];g instanceof yl&&g.type==Cm&&(g.side=0)}return f.to}}return-1}};function xwt(n,e,r,o,a){let{text:h}=n,f=n.char(a),p=a;if(e.unshift(He(zt.LinkMark,o,o+(r==zt.Image?2:1))),e.push(He(zt.LinkMark,a-1,a)),f==40){let g=n.skipSpace(a+1),x=Mq(h,g-n.offset,n.offset),v;x&&(g=n.skipSpace(x.to),g!=x.to&&(v=Nq(h,g-n.offset,n.offset),v&&(g=n.skipSpace(v.to)))),n.char(g)==41&&(e.push(He(zt.LinkMark,a,a+1)),p=g+1,x&&e.push(x),v&&e.push(v),e.push(He(zt.LinkMark,g,p)))}else if(f==91){let g=Qq(h,a-n.offset,n.offset,!1);g&&(e.push(g),p=g.to)}return He(r,o,p,e)}function Mq(n,e,r){if(n.charCodeAt(e)==60){for(let a=e+1;a<n.length;a++){let h=n.charCodeAt(a);if(h==62)return He(zt.URL,e+r,a+1+r);if(h==60||h==10)return!1}return null}else{let a=0,h=e;for(let f=!1;h<n.length;h++){let p=n.charCodeAt(h);if(jl(p))break;if(f)f=!1;else if(p==40)a++;else if(p==41){if(!a)break;a--}else p==92&&(f=!0)}return h>e?He(zt.URL,e+r,h+r):h==n.length?null:!1}}function Nq(n,e,r){let o=n.charCodeAt(e);if(o!=39&&o!=34&&o!=40)return!1;let a=o==40?41:o;for(let h=e+1,f=!1;h<n.length;h++){let p=n.charCodeAt(h);if(f)f=!1;else{if(p==a)return He(zt.LinkTitle,e+r,h+1+r);p==92&&(f=!0)}}return null}function Qq(n,e,r,o){for(let a=!1,h=e+1,f=Math.min(n.length,h+999);h<f;h++){let p=n.charCodeAt(h);if(a)a=!1;else{if(p==93)return o?!1:He(zt.LinkLabel,e+r,h+1+r);if(o&&!jl(p)&&(o=!1),p==91)return!1;p==92&&(a=!0)}}return null}class wwt{constructor(e,r,o){this.parser=e,this.text=r,this.offset=o,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,r){return this.text.slice(e-this.offset,r-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,r,o,a,h){return this.append(new yl(e,r,o,(a?1:0)|(h?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let r=this.parts[e];if(r instanceof yl&&(r.type==Cm||r.type==fj))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let o=e;o<this.parts.length;o++){let a=this.parts[o];if(!(a instanceof yl&&a.type.resolve&&a.side&2))continue;let h=a.type==Tq||a.type==Cq,f=a.to-a.from,p,g=o-1;for(;g>=e;g--){let Q=this.parts[g];if(Q instanceof yl&&Q.side&1&&Q.type==a.type&&!(h&&(a.side&1||Q.side&2)&&(Q.to-Q.from+f)%3==0&&((Q.to-Q.from)%3||f%3))){p=Q;break}}if(!p)continue;let x=a.type.resolve,v=[],S=p.from,b=a.to;if(h){let Q=Math.min(2,p.to-p.from,f);S=p.to-Q,b=a.from+Q,x=Q==1?"Emphasis":"StrongEmphasis"}p.type.mark&&v.push(this.elt(p.type.mark,S,p.to));for(let Q=g+1;Q<o;Q++)this.parts[Q]instanceof qv&&v.push(this.parts[Q]),this.parts[Q]=null;a.type.mark&&v.push(this.elt(a.type.mark,a.from,b));let M=this.elt(x,S,b,v);this.parts[g]=h&&p.from!=S?new yl(p.type,p.from,S,p.side):null,(this.parts[o]=h&&a.to!=b?new yl(a.type,b,a.to,a.side):null)?this.parts.splice(o,0,M):this.parts[o]=M}let r=[];for(let o=e;o<this.parts.length;o++){let a=this.parts[o];a instanceof qv&&r.push(a)}return r}findOpeningDelimiter(e){for(let r=this.parts.length-1;r>=0;r--){let o=this.parts[r];if(o instanceof yl&&o.type==e)return r}return null}takeContent(e){let r=this.resolveMarkers(e);return this.parts.length=e,r}skipSpace(e){return UO(this.text,e-this.offset)+this.offset}elt(e,r,o,a){return typeof e=="string"?He(this.parser.getNodeType(e),r,o,a):new bq(e,r)}}function dj(n,e){if(!e.length)return n;if(!n.length)return e;let r=n.slice(),o=0;for(let a of e){for(;o<r.length&&r[o].to<a.to;)o++;if(o<r.length&&r[o].from<a.from){let h=r[o];h instanceof qv&&(r[o]=new qv(h.type,h.from,h.to,dj(h.children,[a])))}else r.splice(o++,0,a)}return r}const Swt=[zt.CodeBlock,zt.ListItem,zt.OrderedList,zt.BulletList];class kwt{constructor(e,r){this.fragments=e,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,r){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let h=this.fragment.to;for(;h>0&&this.input.read(h-1,h)!=`
`;)h--;this.fragmentEnd=h?h-1:0}let o=this.cursor;o||(o=this.cursor=this.fragment.tree.cursor(),o.firstChild());let a=e+this.fragment.offset;for(;o.to<=a;)if(!o.parent())return!1;for(;;){if(o.from>=a)return this.fragment.from<=r;if(!o.childAfter(a))return!1}}matches(e){let r=this.cursor.tree;return r&&r.prop(we.contextHash)==e}takeNodes(e){let r=this.cursor,o=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),h=e.absoluteLineStart,f=h,p=e.block.children.length,g=f,x=p;for(;;){if(r.to-o>a){if(r.type.isAnonymous&&r.firstChild())continue;break}let v=Aq(r.from-o,e.ranges);if(r.to-o<=e.ranges[e.rangeI].to)e.addNode(r.tree,v);else{let S=new mi(e.parser.nodeSet.types[zt.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(S,r.tree),e.addNode(S,v)}if(r.type.is("Block")&&(Swt.indexOf(r.type.id)<0?(f=r.to-o,p=e.block.children.length):(f=g,p=x,g=r.to-o,x=e.block.children.length)),!r.nextSibling())break}for(;e.block.children.length>p;)e.block.children.pop(),e.block.positions.pop();return f-h}}function Aq(n,e){let r=n;for(let o=1;o<e.length;o++){let a=e[o-1].to,h=e[o].from;a<n&&(r-=h-a)}return r}const Pwt=lf({"Blockquote/...":q.quote,HorizontalRule:q.contentSeparator,"ATXHeading1/... SetextHeading1/...":q.heading1,"ATXHeading2/... SetextHeading2/...":q.heading2,"ATXHeading3/...":q.heading3,"ATXHeading4/...":q.heading4,"ATXHeading5/...":q.heading5,"ATXHeading6/...":q.heading6,"Comment CommentBlock":q.comment,Escape:q.escape,Entity:q.character,"Emphasis/...":q.emphasis,"StrongEmphasis/...":q.strong,"Link/... Image/...":q.link,"OrderedList/... BulletList/...":q.list,"BlockQuote/...":q.quote,"InlineCode CodeText":q.monospace,"URL Autolink":q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":q.processingInstruction,"CodeInfo LinkLabel":q.labelName,LinkTitle:q.string,Paragraph:q.content}),bwt=new W2(new vx(kq).extend(Pwt),Object.keys(zS).map(n=>zS[n]),Object.keys(zS).map(n=>wq[n]),Object.keys(zS),ywt,fq,Object.keys(SN).map(n=>SN[n]),Object.keys(SN),[]);function Twt(n,e,r){let o=[];for(let a=n.firstChild,h=e;;a=a.nextSibling){let f=a?a.from:r;if(f>h&&o.push({from:h,to:f}),!a)break;h=a.to}return o}function Cwt(n){let{codeParser:e,htmlParser:r}=n;return{wrap:G9((a,h)=>{let f=a.type.id;if(e&&(f==zt.CodeBlock||f==zt.FencedCode)){let p="";if(f==zt.FencedCode){let x=a.node.getChild(zt.CodeInfo);x&&(p=h.read(x.from,x.to))}let g=e(p);if(g)return{parser:g,overlay:x=>x.type.id==zt.CodeText}}else if(r&&(f==zt.HTMLBlock||f==zt.HTMLTag||f==zt.CommentBlock))return{parser:r,overlay:Twt(a.node,a.from,a.to)};return null})}}const Mwt={resolve:"Strikethrough",mark:"StrikethroughMark"},Nwt={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":q.strikethrough}},{name:"StrikethroughMark",style:q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,e,r){if(e!=126||n.char(r+1)!=126||n.char(r+2)==126)return-1;let o=n.slice(r-1,r),a=n.slice(r+2,r+3),h=/\s|^$/.test(o),f=/\s|^$/.test(a),p=Gv.test(o),g=Gv.test(a);return n.addDelimiter(Mwt,r,r+2,!f&&(!g||h||p),!h&&(!p||f||g))},after:"Emphasis"}]};function ZO(n,e,r=0,o,a=0){let h=0,f=!0,p=-1,g=-1,x=!1,v=()=>{o.push(n.elt("TableCell",a+p,a+g,n.parser.parseInline(e.slice(p,g),a+p)))};for(let S=r;S<e.length;S++){let b=e.charCodeAt(S);b==124&&!x?((!f||p>-1)&&h++,f=!1,o&&(p>-1&&v(),o.push(n.elt("TableDelimiter",S+a,S+a+1))),p=g=-1):(x||b!=32&&b!=9)&&(p<0&&(p=S),g=S+1),x=!x&&b==92}return p>-1&&(h++,o&&v()),h}function F3(n,e){for(let r=e;r<n.length;r++){let o=n.charCodeAt(r);if(o==124)return!0;o==92&&r++}return!1}const jq=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class V3{constructor(){this.rows=null}nextLine(e,r,o){if(this.rows==null){this.rows=!1;let a;if((r.next==45||r.next==58||r.next==124)&&jq.test(a=r.text.slice(r.pos))){let h=[];ZO(e,o.content,0,h,o.start)==ZO(e,a,r.pos)&&(this.rows=[e.elt("TableHeader",o.start,o.start+o.content.length,h),e.elt("TableDelimiter",e.lineStart+r.pos,e.lineStart+r.text.length)])}}else if(this.rows){let a=[];ZO(e,r.text,r.pos,a,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+r.pos,e.lineStart+r.text.length,a))}return!1}finish(e,r){return this.rows?(e.addLeafElement(r,e.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const Qwt={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":q.heading}},"TableRow",{name:"TableCell",style:q.content},{name:"TableDelimiter",style:q.processingInstruction}],parseBlock:[{name:"Table",leaf(n,e){return F3(e.content,0)?new V3:null},endLeaf(n,e,r){if(r.parsers.some(a=>a instanceof V3)||!F3(e.text,e.basePos))return!1;let o=n.peekLine();return jq.test(o)&&ZO(n,e.text,e.basePos)==ZO(n,o,e.basePos)},before:"SetextHeading"}]};class Awt{nextLine(){return!1}finish(e,r){return e.addLeafElement(r,e.elt("Task",r.start,r.start+r.content.length,[e.elt("TaskMarker",r.start,r.start+3),...e.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const jwt={defineNodes:[{name:"Task",block:!0,style:q.list},{name:"TaskMarker",style:q.atom}],parseBlock:[{name:"TaskList",leaf(n,e){return/^\[[ xX]\][ \t]/.test(e.content)&&n.parentType().name=="ListItem"?new Awt:null},after:"SetextHeading"}]},z3=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,B3=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Rwt=/[\w-]+\.[\w-]+($|\/)/,X3=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,_3=/\/[a-zA-Z\d@.]+/gy;function U3(n,e,r,o){let a=0;for(let h=e;h<r;h++)n[h]==o&&a++;return a}function Lwt(n,e){B3.lastIndex=e;let r=B3.exec(n);if(!r||Rwt.exec(r[0])[0].indexOf("_")>-1)return-1;let o=e+r[0].length;for(;;){let a=n[o-1],h;if(/[?!.,:*_~]/.test(a)||a==")"&&U3(n,e,o,")")>U3(n,e,o,"("))o--;else if(a==";"&&(h=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(e,o))))o=e+h.index;else break}return o}function Z3(n,e){X3.lastIndex=e;let r=X3.exec(n);if(!r)return-1;let o=r[0][r[0].length-1];return o=="_"||o=="-"?-1:e+r[0].length-(o=="."?1:0)}const Ewt={parseInline:[{name:"Autolink",parse(n,e,r){let o=r-n.offset;if(o&&/\w/.test(n.text[o-1]))return-1;z3.lastIndex=o;let a=z3.exec(n.text),h=-1;if(!a)return-1;if(a[1]||a[2]){if(h=Lwt(n.text,o+a[0].length),h>-1&&n.hasOpenLink){let f=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(o,h));h=o+f[0].length}}else a[3]?h=Z3(n.text,o):(h=Z3(n.text,o+a[0].length),h>-1&&a[0]=="xmpp:"&&(_3.lastIndex=h,a=_3.exec(n.text),a&&(h=a.index+a[0].length)));return h<0?-1:(n.addElement(n.elt("URL",r,h+n.offset)),h+n.offset)}}]},$wt=[Qwt,jwt,Nwt,Ewt];function Rq(n,e,r){return(o,a,h)=>{if(a!=n||o.char(h+1)==n)return-1;let f=[o.elt(r,h,h+1)];for(let p=h+1;p<o.end;p++){let g=o.char(p);if(g==n)return o.addElement(o.elt(e,h,p+1,f.concat(o.elt(r,p,p+1))));if(g==92&&f.push(o.elt("Escape",p,p+++2)),jl(g))break}return-1}}const Dwt={defineNodes:[{name:"Superscript",style:q.special(q.content)},{name:"SuperscriptMark",style:q.processingInstruction}],parseInline:[{name:"Superscript",parse:Rq(94,"Superscript","SuperscriptMark")}]},Iwt={defineNodes:[{name:"Subscript",style:q.special(q.content)},{name:"SubscriptMark",style:q.processingInstruction}],parseInline:[{name:"Subscript",parse:Rq(126,"Subscript","SubscriptMark")}]},Fwt={defineNodes:[{name:"Emoji",style:q.character}],parseInline:[{name:"Emoji",parse(n,e,r){let o;return e!=58||!(o=/^[a-zA-Z_0-9]+:/.exec(n.slice(r+1,n.end)))?-1:n.addElement(n.elt("Emoji",r,r+1+o[0].length))}}]},Lq=_5({commentTokens:{block:{open:"<!--",close:"-->"}}}),Eq=new we,$q=bwt.configure({props:[af.add(n=>!n.is("Block")||n.is("Document")||pj(n)!=null||Vwt(n)?void 0:(e,r)=>({from:r.doc.lineAt(e.from).to,to:e.to})),Eq.add(pj),Yd.add({Document:()=>null}),pd.add({Document:Lq})]});function pj(n){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return e?+e[1]:void 0}function Vwt(n){return n.name=="OrderedList"||n.name=="BulletList"}function zwt(n,e){let r=n;for(;;){let o=r.nextSibling,a;if(!o||(a=pj(o.type))!=null&&a<=e)break;r=o}return r.to}const Bwt=i7.of((n,e,r)=>{for(let o=Mi(n).resolveInner(r,-1);o&&!(o.from<e);o=o.parent){let a=o.type.prop(Eq);if(a==null)continue;let h=zwt(o,a);if(h>r)return{from:r,to:h}}return null});function wL(n){return new Sl(Lq,n,[Bwt],"markdown")}const Xwt=wL($q),_wt=$q.configure([$wt,Iwt,Dwt,Fwt,{props:[af.add({Table:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}]),Dq=wL(_wt);function Uwt(n,e){return r=>{if(r&&n){let o=null;if(r=/\S*/.exec(r)[0],typeof n=="function"?o=n(r):o=TP.matchLanguageName(n,r,!0),o instanceof TP)return o.support?o.support.language.parser:Iv.getSkippingParser(o.load());if(o)return o.parser}return e?e.parser:null}}class kN{constructor(e,r,o,a,h,f,p){this.node=e,this.from=r,this.to=o,this.spaceBefore=a,this.spaceAfter=h,this.type=f,this.item=p}blank(e,r=!0){let o=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;o.length<e;)o+=" ";return o}else{for(let a=this.to-this.from-o.length-this.spaceAfter.length;a>0;a--)o+=" ";return o+(r?this.spaceAfter:"")}}marker(e,r){let o=this.node.name=="OrderedList"?String(+Fq(this.item,e)[2]+r):"";return this.spaceBefore+o+this.type+this.spaceAfter}}function Iq(n,e){let r=[],o=[];for(let a=n;a;a=a.parent){if(a.name=="FencedCode")return o;(a.name=="ListItem"||a.name=="Blockquote")&&r.push(a)}for(let a=r.length-1;a>=0;a--){let h=r[a],f,p=e.lineAt(h.from),g=h.from-p.from;if(h.name=="Blockquote"&&(f=/^ *>( ?)/.exec(p.text.slice(g))))o.push(new kN(h,g,g+f[0].length,"",f[1],">",null));else if(h.name=="ListItem"&&h.parent.name=="OrderedList"&&(f=/^( *)\d+([.)])( *)/.exec(p.text.slice(g)))){let x=f[3],v=f[0].length;x.length>=4&&(x=x.slice(0,x.length-4),v-=4),o.push(new kN(h.parent,g,g+v,f[1],x,f[2],h))}else if(h.name=="ListItem"&&h.parent.name=="BulletList"&&(f=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(p.text.slice(g)))){let x=f[4],v=f[0].length;x.length>4&&(x=x.slice(0,x.length-4),v-=4);let S=f[2];f[3]&&(S+=f[3].replace(/[xX]/," ")),o.push(new kN(h.parent,g,g+v,f[1],x,S,h))}}return o}function Fq(n,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(n.from,n.from+10))}function PN(n,e,r,o=0){for(let a=-1,h=n;;){if(h.name=="ListItem"){let p=Fq(h,e),g=+p[2];if(a>=0){if(g!=a+1)return;r.push({from:h.from+p[1].length,to:h.from+p[0].length,insert:String(a+2+o)})}a=g}let f=h.nextSibling;if(!f)break;h=f}}function SL(n,e){let r=/^[ \t]*/.exec(n)[0].length;if(!r||e.facet(ny)!="	")return n;let o=pa(n,4,r),a="";for(let h=o;h>0;)h>=4?(a+="	",h-=4):(a+=" ",h--);return a+n.slice(r)}const Zwt=({state:n,dispatch:e})=>{let r=Mi(n),{doc:o}=n,a=null,h=n.changeByRange(f=>{if(!f.empty||!Dq.isActiveAt(n,f.from,0))return a={range:f};let p=f.from,g=o.lineAt(p),x=Iq(r.resolveInner(p,-1),o);for(;x.length&&x[x.length-1].from>p-g.from;)x.pop();if(!x.length)return a={range:f};let v=x[x.length-1];if(v.to-v.spaceAfter.length>p-g.from)return a={range:f};let S=p>=v.to-v.spaceAfter.length&&!/\S/.test(g.text.slice(v.to));if(v.item&&S){let R=v.node.firstChild,L=v.node.getChild("ListItem","ListItem");if(R.to>=p||L&&L.to<p||g.from>0&&!/[^\s>]/.test(o.lineAt(g.from-1).text)){let $=x.length>1?x[x.length-2]:null,V,D="";$&&$.item?(V=g.from+$.from,D=$.marker(o,1)):V=g.from+($?$.to:0);let X=[{from:V,to:p,insert:D}];return v.node.name=="OrderedList"&&PN(v.item,o,X,-2),$&&$.node.name=="OrderedList"&&PN($.item,o,X),{range:Ct.cursor(V+D.length),changes:X}}else{let $=W3(x,n,g);return{range:Ct.cursor(p+$.length+1),changes:{from:g.from,insert:$+n.lineBreak}}}}if(v.node.name=="Blockquote"&&S&&g.from){let R=o.lineAt(g.from-1),L=/>\s*$/.exec(R.text);if(L&&L.index==v.from){let $=n.changes([{from:R.from+L.index,to:R.to},{from:g.from+v.from,to:g.to}]);return{range:f.map($),changes:$}}}let b=[];v.node.name=="OrderedList"&&PN(v.item,o,b);let M=v.item&&v.item.from<g.from,j="";if(!M||/^[\s\d.)\-+*>]*/.exec(g.text)[0].length>=v.to)for(let R=0,L=x.length-1;R<=L;R++)j+=R==L&&!M?x[R].marker(o,1):x[R].blank(R<L?pa(g.text,4,x[R+1].from)-j.length:null);let Q=p;for(;Q>g.from&&/\s/.test(g.text.charAt(Q-g.from-1));)Q--;return j=SL(j,n),Ywt(v.node,n.doc)&&(j=W3(x,n,g)+n.lineBreak+j),b.push({from:Q,to:p,insert:n.lineBreak+j}),{range:Ct.cursor(Q+j.length+1),changes:b}});return a?!1:(e(n.update(h,{scrollIntoView:!0,userEvent:"input"})),!0)};function Y3(n){return n.name=="QuoteMark"||n.name=="ListMark"}function Ywt(n,e){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let r=n.firstChild,o=n.getChild("ListItem","ListItem");if(!o)return!1;let a=e.lineAt(r.to),h=e.lineAt(o.from),f=/^[\s>]*$/.test(a.text);return a.number+(f?0:1)<h.number}function W3(n,e,r){let o="";for(let a=0,h=n.length-2;a<=h;a++)o+=n[a].blank(a<h?pa(r.text,4,Math.min(r.text.length,n[a+1].from))-o.length:null,a<h);return SL(o,e)}function Wwt(n,e){let r=n.resolveInner(e,-1),o=e;Y3(r)&&(o=r.from,r=r.parent);for(let a;a=r.childBefore(o);)if(Y3(a))o=a.from;else if(a.name=="OrderedList"||a.name=="BulletList")r=a.lastChild,o=r.to;else break;return r}const qwt=({state:n,dispatch:e})=>{let r=Mi(n),o=null,a=n.changeByRange(h=>{let f=h.from,{doc:p}=n;if(h.empty&&Dq.isActiveAt(n,h.from)){let g=p.lineAt(f),x=Iq(Wwt(r,f),p);if(x.length){let v=x[x.length-1],S=v.to-v.spaceAfter.length+(v.spaceAfter?1:0);if(f-g.from>S&&!/\S/.test(g.text.slice(S,f-g.from)))return{range:Ct.cursor(g.from+S),changes:{from:g.from+S,to:f}};if(f-g.from==S&&(!v.item||g.from<=v.item.from||!/\S/.test(g.text.slice(0,v.to)))){let b=g.from+v.from;if(v.item&&v.node.from<v.item.from&&/\S/.test(g.text.slice(v.from,v.to))){let M=v.blank(pa(g.text,4,v.to)-pa(g.text,4,v.from));return b==g.from&&(M=SL(M,n)),{range:Ct.cursor(b+M.length),changes:{from:b,to:g.from+v.to,insert:M}}}if(b<f)return{range:Ct.cursor(b),changes:{from:b,to:f}}}}}return o={range:h}});return o?!1:(e(n.update(a,{scrollIntoView:!0,userEvent:"delete"})),!0)},Gwt=[{key:"Enter",run:Zwt},{key:"Backspace",run:qwt}],Vq=cq({matchClosingTags:!1});function Hwt(n={}){let{codeLanguages:e,defaultCodeLanguage:r,addKeymap:o=!0,base:{parser:a}=Xwt,completeHTMLTags:h=!0,htmlTagLanguage:f=Vq}=n;if(!(a instanceof W2))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let p=n.extensions?[n.extensions]:[],g=[f.support],x;r instanceof Fd?(g.push(r.support),x=r.language):r&&(x=r);let v=e||x?Uwt(e,x):void 0;p.push(Cwt({codeParser:v,htmlParser:f.language.parser})),o&&g.push(Nh.high(iy.of(Gwt)));let S=wL(a.configure(p));return h&&g.push(S.data.of({autocomplete:Kwt})),new Fd(S,g)}function Kwt(n){let{state:e,pos:r}=n,o=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!o)return null;let a=Mi(e).resolveInner(r,-1);for(;a&&!a.type.isTop;){if(a.name=="CodeBlock"||a.name=="FencedCode"||a.name=="ProcessingInstructionBlock"||a.name=="CommentBlock"||a.name=="Link"||a.name=="Image")return null;a=a.parent}return{from:r-o[0].length,to:r,options:Jwt(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let bN=null;function Jwt(){if(bN)return bN;let n=swt(new iL(Ze.create({extensions:Vq}),0,!0));return bN=n?n.options:[]}var tSt=n=>{var{theme:e,settings:r={},styles:o=[]}=n,a={".cm-gutters":{}},h={};r.background&&(h.backgroundColor=r.background),r.backgroundImage&&(h.backgroundImage=r.backgroundImage),r.foreground&&(h.color=r.foreground),r.fontSize&&(h.fontSize=r.fontSize),(r.background||r.foreground)&&(a["&"]=h),r.fontFamily&&(a["&.cm-editor .cm-scroller"]={fontFamily:r.fontFamily}),r.gutterBackground&&(a[".cm-gutters"].backgroundColor=r.gutterBackground),r.gutterForeground&&(a[".cm-gutters"].color=r.gutterForeground),r.gutterBorder&&(a[".cm-gutters"].borderRightColor=r.gutterBorder),r.caret&&(a[".cm-content"]={caretColor:r.caret},a[".cm-cursor, .cm-dropCursor"]={borderLeftColor:r.caret});var f={};r.gutterActiveForeground&&(f.color=r.gutterActiveForeground),r.lineHighlight&&(a[".cm-activeLine"]={backgroundColor:r.lineHighlight},f.backgroundColor=r.lineHighlight),a[".cm-activeLineGutter"]=f,r.selection&&(a["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:r.selection+" !important"}),r.selectionMatch&&(a["& .cm-selectionMatch"]={backgroundColor:r.selectionMatch});var p=Zt.theme(a,{dark:e==="dark"}),g=ry.define(o),x=[p,W5(g)];return x};const eSt={r:"R",python:"Python",sas:"SAS"},iSt={r:[/<-/,/function\s*\(/,/library\(/,/data\.frame\(/,/%>%/],python:[/def\s+\w+\s*\(/,/import\s+\w+/,/from\s+\w+\s+import/,/print\s*\(/,/if\s+\w+:/,/for\s+\w+\s+in/],sas:[/data\s+\w+;/,/proc\s+\w+;/,/input\s+/,/set\s+\w+;/,/run;/]},nSt=n=>{var a;const e={r:0,python:0,sas:0};Object.entries(iSt).forEach(([h,f])=>{f.forEach(p=>{p.test(n)&&e[h]++})});const r=Math.max(...Object.values(e));return r===0?null:(a=Object.entries(e).find(([h,f])=>f===r))==null?void 0:a[0]},Bd=({title:n,code:e,language:r="javascript",editable:o=!1,onCodeChange:a,onCopy:h,onLanguageChange:f,onDetectedLanguageChange:p,className:g="",sourceLanguage:x})=>{const[v,S]=U.useState(e),[b,M]=U.useState(!1),[j,Q]=U.useState(!1),[R,L]=U.useState(null);U.useEffect(()=>{S(e)},[e]),U.useEffect(()=>{if(b){const X=setTimeout(()=>M(!1),2e3);return()=>clearTimeout(X)}},[b]),U.useEffect(()=>{const X=nSt(v);X&&X!==R&&(L(X),p==null||p(X))},[v,p]);const $=()=>{navigator.clipboard.writeText(v),M(!0),h&&h()},V={javascript:sj({jsx:!0}),js:sj({jsx:!0}),python:y3(),py:y3(),html:cq(),css:iq(),json:fwt(),markdown:Hwt()},D=tSt({theme:"dark",settings:{background:"transparent",foreground:"rgba(255,255,255,0.85)",caret:"#fff",selection:"rgba(255,255,255,0.2)",selectionMatch:"rgba(255,255,255,0.2)",lineHighlight:"rgba(255,255,255,0.05)"},styles:[{tag:q.keyword,color:"#ff79c6"},{tag:q.operator,color:"#ff79c6"},{tag:q.operatorKeyword,color:"#ff79c6"},{tag:q.atom,color:"#bd93f9"},{tag:q.number,color:"#bd93f9"},{tag:q.string,color:"#f1fa8c"},{tag:q.special(q.string),color:"#f1fa8c"},{tag:q.comment,color:"#6272a4"},{tag:q.variableName,color:"#f8f8f2"},{tag:q.special(q.variableName),color:"#ff79c6"},{tag:q.definition(q.variableName),color:"#50fa7b"},{tag:q.function(q.variableName),color:"#50fa7b"},{tag:q.propertyName,color:"#8be9fd"},{tag:q.typeName,color:"#8be9fd"},{tag:q.className,color:"#8be9fd"},{tag:q.labelName,color:"#8be9fd"},{tag:q.namespace,color:"#8be9fd"},{tag:q.macroName,color:"#ff79c6"},{tag:q.modifier,color:"#ff79c6"},{tag:q.definition(q.variableName),color:"#ff79c6"},{tag:q.tagName,color:"#ff79c6"},{tag:q.attributeName,color:"#8be9fd"},{tag:q.attributeValue,color:"#f1fa8c"},{tag:q.bracket,color:"#f8f8f2"},{tag:q.meta,color:"#6272a4"},{tag:q.invalid,color:"#ff5555"}]});return N.jsxs("div",{className:`glass-editor-container ${g}`,children:[N.jsx("style",{children:`
        .glass-editor-container {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
          display: flex;
          flex-direction: column;
          height: 100%;
          overflow: hidden;
          transition: all 0.3s ease;
        }
        .glass-editor-container:hover {
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
          border-color: rgba(255, 255, 255, 0.15);
          background-color: rgba(15, 15, 30, 0.35);
        }
        .glass-editor-header {
          background-color: rgba(255, 255, 255, 0.03);
          border-bottom: 1px solid rgba(255, 255, 255, 0.07);
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 16px;
          backdrop-filter: blur(12px);
          flex-shrink: 0;
        }
        .glass-editor-title {
          color: rgba(255, 255, 255, 0.85);
          font-size: 14px;
          font-weight: 500;
        }
        .glass-editor-actions {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        .glass-editor-language-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          background-color: rgba(255, 255, 255, 0.07);
          border: none;
          border-radius: 6px;
          color: rgba(255, 255, 255, 0.85);
          cursor: pointer;
          font-size: 13px;
          padding: 6px 10px;
          transition: all 0.2s ease;
        }
        .glass-editor-language-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
        }
        .glass-editor-copy-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: rgba(255, 255, 255, 0.07);
          border: none;
          border-radius: 9999px;
          cursor: pointer;
          width: 32px;
          height: 32px;
          transition: all 0.2s ease;
        }
        .glass-editor-copy-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
          transform: translateY(-1px);
        }
        .glass-editor-copy-icon,
        .glass-editor-success-icon {
          width: 16px;
          height: 16px;
        }
        .glass-editor-success-icon {
          color: #4ade80;
        }
        .glass-editor-content {
          position: relative;
          flex: 1;
          min-height: 0;
          overflow: hidden;
        }
        .glass-editor-instance {
          height: 100%;
        }
        .glass-editor-instance .cm-editor {
          background: transparent !important;
          height: 100% !important;
        }
        .glass-editor-instance .cm-scroller {
          background-color: rgba(0, 0, 0, 0.15) !important;
          overflow: auto !important;
        }
        .glass-editor-instance .cm-gutters {
          background: rgba(0, 0, 0, 0.2) !important;
          border-right: 1px solid rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.4);
        }
        .glass-editor-instance .cm-cursor {
          border-left: 2px solid rgba(255,255,255,0.8) !important;
        }
        .glass-editor-instance .cm-selectionBackground {
          background: rgba(255,255,255,0.2) !important;
        }
        .glass-editor-instance .cm-activeLine {
          background: rgba(255,255,255,0.05) !important;
        }
        /* Glassmorphic dropdown styles */
        [data-radix-popper-content-wrapper] {
          backdrop-filter: blur(10px) !important;
          background-color: rgba(15, 15, 30, 0.95) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
        }
        [data-radix-popper-content-wrapper] [role="menuitem"] {
          color: rgba(255, 255, 255, 0.85) !important;
          transition: all 0.2s ease !important;
        }
        [data-radix-popper-content-wrapper] [role="menuitem"]:hover {
          background-color: rgba(255, 255, 255, 0.1) !important;
        }
      `}),N.jsxs("div",{className:"glass-editor-header",children:[N.jsxs("h3",{className:"glass-editor-title",children:[n,R&&N.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(Detected: ",eSt[R],")"]})]}),N.jsx("div",{className:"glass-editor-actions",children:N.jsx("button",{onClick:$,className:"glass-editor-copy-btn",title:"Copy code",children:b?N.jsx(Htt,{className:"glass-editor-success-icon"}):N.jsx(eet,{className:"glass-editor-copy-icon"})})})]}),N.jsx("div",{className:"glass-editor-content",children:N.jsx(O6,{value:v,editable:o,height:"100%",extensions:[V[r]||V.javascript],onChange:X=>{S(X),a&&a(X)},theme:D,onFocus:()=>Q(!0),onBlur:()=>Q(!1),basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,foldGutter:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,searchKeymap:!0},className:"glass-editor-instance"})})]})},Sr=({children:n,onClick:e,disabled:r=!1,className:o="",size:a="md",variant:h="primary",borderColor:f="#4ade80",startIcon:p,endIcon:g,fullWidth:x=!1})=>{const[v,S]=U.useState(!1),b={sm:{padding:"0.25rem 0.75rem",fontSize:"0.875rem"},md:{padding:"0.5rem 1rem",fontSize:"1rem"},lg:{padding:"0.75rem 1.5rem",fontSize:"1.125rem"}},M={primary:{backgroundColor:"rgba(15, 15, 30, 0.25)"},secondary:{backgroundColor:"rgba(15, 15, 30, 0.15)"},ghost:{backgroundColor:"rgba(15, 15, 30, 0.05)"}},j={position:"relative",display:"inline-block",borderRadius:"8px",width:x?"100%":"auto"},Q={backdropFilter:"blur(10px)",backgroundColor:M[h].backgroundColor,border:`2px solid ${v&&!r?f:"rgba(255, 255, 255, 0.1)"}`,borderRadius:"8px",color:"rgba(255, 255, 255, 0.85)",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500,gap:"8px",transition:"all 0.3s ease",position:"relative",width:x?"100%":"auto",opacity:r?.5:1,...b[a],...v&&!r?{boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)",transform:"translateY(-1px)"}:{}};return N.jsx("div",{style:j,className:x?"w-full":"",children:N.jsxs("button",{style:Q,className:o,onClick:e,disabled:r,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),type:"button",children:[p&&N.jsx("span",{className:"button-start-icon",children:p}),n,g&&N.jsx("span",{className:"button-end-icon",children:g})]})})},rSt=({onAnalyze:n,onOptimize:e,onConvert:r,onDocument:o,isAnalyzing:a,isOptimizing:h,isConverting:f,isDocumenting:p,code:g,sourceLanguage:x})=>{const v=x&&["python","r","sas"].includes(x),S=a||h||f||p;return N.jsxs("div",{className:"mt-3 sm:mt-4 px-2 sm:px-0",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:hidden",children:[N.jsx(Sr,{variant:"secondary",onClick:n,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:a?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),N.jsx("span",{className:"truncate",children:"Analyzing"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(HF,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Analyze"})]})}),N.jsx(Sr,{onClick:e,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:h?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),N.jsx("span",{className:"truncate",children:"Optimizing"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(iP,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Optimize"})]})}),N.jsxs("div",{className:"relative",children:[N.jsx(Sr,{onClick:r,disabled:S||!g||!v,borderColor:"#9388A2",className:`w-full min-h-12 text-sm ${!v&&g?"opacity-60":""}`,children:f?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),N.jsx("span",{className:"truncate",children:"Converting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Convert"})]})}),!v&&g&&N.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap",children:"Only Python, R, and SAS are supported"})]}),N.jsx(Sr,{onClick:o,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:p?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),N.jsx("span",{className:"truncate",children:"Documenting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Document"})]})})]}),N.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[N.jsx(Sr,{variant:"secondary",onClick:n,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:a?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Analyzing"]}):N.jsxs(N.Fragment,{children:[N.jsx(HF,{className:"h-4 w-4 mr-1"}),"Analyze"]})}),N.jsx(Sr,{onClick:e,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:h?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Optimizing"]}):N.jsxs(N.Fragment,{children:[N.jsx(iP,{className:"h-4 w-4 mr-1"}),"Optimize"]})}),N.jsxs("div",{className:"relative group",children:[N.jsx(Sr,{onClick:r,disabled:S||!g||!v,borderColor:"#9388A2",className:`min-w-24 md:min-w-28 ${!v&&g?"opacity-60":""}`,children:f?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):N.jsxs(N.Fragment,{children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),!v&&g&&N.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap border border-gray-700",children:["Only Python, R, and SAS are supported for conversion",N.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]}),N.jsx(Sr,{onClick:o,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:p?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):N.jsxs(N.Fragment,{children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]})},sSt=({code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:x,analysisResults:v,optimizationResults:S,convertResult:b,documentResult:M,selectedLanguage:j,onLanguageChange:Q,activeView:R,setActiveView:L,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:X})=>(U.useEffect(()=>{!v&&!S&&!b&&!M&&X()},[n,X,v,S,b,M]),N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsx("div",{className:"mb-4",children:N.jsx(rSt,{onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:x,code:n,sourceLanguage:$})}),N.jsx("div",{className:"flex-1 min-h-[60vh] lg:min-h-[70vh]",children:N.jsx(Bd,{title:"",code:n,editable:!0,onCodeChange:e,className:"h-full w-full min-h-[500px] lg:min-h-[600px] rounded-lg border border-gray-700",language:$,sourceLanguage:$,onLanguageChange:V,onDetectedLanguageChange:D})})]})),oSt=({code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:x,analysisResults:v,optimizationResults:S,convertResult:b,documentResult:M,selectedLanguage:j,onLanguageChange:Q,activeView:R,setActiveView:L,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:X})=>N.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 py-8",children:N.jsx("div",{className:"grid grid-cols-1 gap-8",children:N.jsx("div",{className:"w-full",children:N.jsx(sSt,{code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:x,analysisResults:v,optimizationResults:S,convertResult:b,documentResult:M,selectedLanguage:j,onLanguageChange:Q,activeView:R,setActiveView:L,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:X})})})}),kL=({isOpen:n,onClose:e,onConvert:r,sourceLanguage:o,isConverting:a,selectedLanguage:h,onLanguageSelect:f})=>{const g=[{id:"python",name:"Python",icon:YF,gradient:"from-blue-500 to-blue-600",iconColor:"text-blue-400"},{id:"r",name:"R",icon:qtt,gradient:"from-green-500 to-green-600",iconColor:"text-green-400"},{id:"sas",name:"SAS",icon:WF,gradient:"from-purple-500 to-purple-600",iconColor:"text-purple-400"}].filter(v=>v.id!==o),x=()=>{h&&h!==o&&r(h)};return n?N.jsxs(N.Fragment,{children:[N.jsx("style",{children:`
        .glass-modal-overlay {
          backdrop-filter: blur(8px);
          background: rgba(0, 0, 0, 0.6);
        }
        
        .glass-modal-container {
          backdrop-filter: blur(20px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
          box-shadow: 
            0 25px 45px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .glass-modal-close-btn {
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.3s ease;
        }
        
        .glass-modal-close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: translateY(-1px);
        }
        
        .glass-language-card {
          backdrop-filter: blur(10px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.3s ease;
        }
        
        .glass-language-card:hover {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.08) 100%);
          border-color: rgba(255, 255, 255, 0.3);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .glass-language-card.selected {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.2) 0%, 
            rgba(37, 99, 235, 0.1) 100%);
          border-color: rgba(59, 130, 246, 0.6);
          box-shadow: 
            0 0 20px rgba(59, 130, 246, 0.3),
            0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .glass-icon-container {
          backdrop-filter: blur(8px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-source-display {
          backdrop-filter: blur(10px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.08) 0%, 
            rgba(255, 255, 255, 0.03) 100%);
          border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        .glass-button {
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
        }
        
        .glass-button-cancel {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-button-cancel:hover {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.08) 100%);
          transform: translateY(-1px);
        }
        
        .glass-button-convert {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.8) 0%, 
            rgba(37, 99, 235, 0.9) 100%);
          border: 1px solid rgba(59, 130, 246, 0.5);
          box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        
        .glass-button-convert:hover:not(:disabled) {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.9) 0%, 
            rgba(37, 99, 235, 1) 100%);
          transform: translateY(-1px);
          box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .glass-button-convert:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
        
        .glass-selection-indicator {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 1) 0%, 
            rgba(37, 99, 235, 1) 100%);
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
        }
      `}),N.jsx("div",{className:"fixed inset-0 glass-modal-overlay flex items-center justify-center z-50",children:N.jsxs("div",{className:"glass-modal-container rounded-2xl p-8 w-full max-w-md mx-4 relative",children:[N.jsx("button",{onClick:e,className:"absolute top-4 right-4 glass-modal-close-btn rounded-full p-2",disabled:a,"aria-label":"Close modal",children:N.jsx(d2,{className:"w-5 h-5 text-white"})}),N.jsxs("div",{className:"mb-8",children:[N.jsxs("h2",{className:"text-2xl font-bold mb-3 flex items-center gap-3 text-white",children:[N.jsx("div",{className:"glass-icon-container rounded-xl p-2",children:N.jsx(eZ,{className:"w-6 h-6 text-blue-400"})}),"Convert Code"]}),N.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Transform your code into a different programming language while maintaining functionality and structure."})]}),N.jsxs("div",{className:"mb-6 glass-source-display rounded-xl p-4",children:[N.jsx("div",{className:"text-sm text-gray-400 mb-2 font-medium",children:"From:"}),N.jsx("div",{className:"font-semibold text-white text-lg",children:o==="r"?"R":o.charAt(0).toUpperCase()+o.slice(1)})]}),N.jsx("div",{className:"flex justify-center mb-6",children:N.jsx("div",{className:"glass-icon-container rounded-full p-3",children:N.jsx(tP,{className:"w-6 h-6 text-gray-300"})})}),N.jsxs("div",{className:"mb-8",children:[N.jsx("div",{className:"text-sm text-gray-400 mb-4 font-medium",children:"To:"}),N.jsx("div",{className:"space-y-3",children:g.length>0?g.map(v=>{const S=v.icon;return N.jsxs("button",{onClick:()=>f(v.id),disabled:a,className:`w-full p-4 rounded-xl glass-language-card flex items-center gap-4 ${h===v.id?"selected":""} ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[N.jsx("div",{className:"glass-icon-container w-12 h-12 rounded-xl flex items-center justify-center",children:N.jsx(S,{className:`w-6 h-6 ${v.iconColor}`})}),N.jsx("span",{className:"font-semibold text-white text-lg flex-1 text-left",children:v.name}),h===v.id&&N.jsx("div",{className:"glass-selection-indicator w-3 h-3 rounded-full"})]},v.id)}):N.jsxs("div",{className:"text-center text-gray-400 py-8 glass-source-display rounded-xl",children:[N.jsx(WF,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),N.jsx("p",{children:"No other languages available for conversion"})]})})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx("button",{onClick:e,disabled:a,className:"flex-1 px-6 py-3 glass-button glass-button-cancel rounded-xl font-semibold text-white",children:"Cancel"}),N.jsx("button",{onClick:x,disabled:!h||a,className:"flex-1 px-6 py-3 glass-button glass-button-convert rounded-xl font-semibold text-white flex items-center justify-center gap-2",children:a?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Converting..."]}):N.jsxs(N.Fragment,{children:[N.jsx(YF,{className:"w-5 h-5"}),"Convert"]})})]})]})})]}):null},lSt=({isVisible:n,onDismiss:e,detectedLanguage:r})=>n?N.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600 rounded-lg p-3 mb-4",children:N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsx(gR,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),N.jsxs("div",{className:"flex-1",children:[N.jsx("h4",{className:"text-yellow-200 font-medium text-sm mb-1",children:"Unsupported Language Detected"}),N.jsxs("p",{className:"text-yellow-100 text-sm",children:[r?`Detected language: ${r}. `:"","Code conversion only supports ",N.jsx("strong",{children:"Python"}),", ",N.jsx("strong",{children:"R"}),", and ",N.jsx("strong",{children:"SAS"})," as input languages. Please ensure your code is written in one of these languages to use the conversion feature."]})]}),N.jsx("button",{onClick:e,className:"text-yellow-400 hover:text-yellow-300 flex-shrink-0",children:N.jsx(d2,{className:"w-4 h-4"})})]})}):null,Hv="http://localhost:5001",aSt=async n=>{if(n.status===401)throw console.error("Authentication required. Please log in."),new Error("Authentication required. Please log in.");if(!n.ok){let e=`API Error ${n.status}: ${n.statusText}`;try{e=(await n.json()).message||e}catch{}throw new Error(e)}},uSt=async n=>{var e,r,o,a,h,f,p,g,x,v,S,b,M,j,Q,R,L,$,V,D,X,W,K,tt,rt,Ot,bt,wt,St,mt,Ft,Nt,Rt,dt;try{const ht=await fetch(`${Hv}/api/analysis_result`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});await aSt(ht);const yt=await ht.json();let Dt=[];try{const qt=await fetch(`${Hv}/api/analyze`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(qt.ok){const it=await qt.json();console.log("Detailed analysis data:",it),it.analysis&&(Dt=Object.entries(it.analysis).map(([xe,Be])=>({name:Be.name||xe,hasIssues:Array.isArray(Be.issues)&&Be.issues.length>0,issues:Be.issues||[]})))}}catch(qt){console.warn("Failed to get detailed analysis:",qt)}return console.log("Analysis response:",yt),console.log("Categories with issues:",Dt),{categories:Dt,detectedLanguage:{name:yt.language||"unknown",confidence:1,color:yt.language==="r"?"#1984c8":"#ccc"},workflow:{steps:((e=yt.flowchart)==null?void 0:e.steps)||[],dependencies:((r=yt.flowchart)==null?void 0:r.dependencies)||[],optimizable_steps:((o=yt.flowchart)==null?void 0:o.optimizable_steps)||[]},scores:{overall:((a=yt.scores)==null?void 0:a.overall_score)||0,categories:{maintainability:{score:((p=(f=(h=yt.scores)==null?void 0:h.scores)==null?void 0:f.maintainability)==null?void 0:p.score)||0,explanation:((v=(x=(g=yt.scores)==null?void 0:g.scores)==null?void 0:x.maintainability)==null?void 0:v.explanation)||"No data available"},performance:{score:((M=(b=(S=yt.scores)==null?void 0:S.scores)==null?void 0:b.performance_efficiency)==null?void 0:M.score)||0,explanation:((R=(Q=(j=yt.scores)==null?void 0:j.scores)==null?void 0:Q.performance_efficiency)==null?void 0:R.explanation)||"No data available"},readability:{score:((V=($=(L=yt.scores)==null?void 0:L.scores)==null?void 0:$.readability)==null?void 0:V.score)||0,explanation:((W=(X=(D=yt.scores)==null?void 0:D.scores)==null?void 0:X.readability)==null?void 0:W.explanation)||"No data available"},security:{score:((rt=(tt=(K=yt.scores)==null?void 0:K.scores)==null?void 0:tt.security_vulnerability)==null?void 0:rt.score)||0,explanation:((wt=(bt=(Ot=yt.scores)==null?void 0:Ot.scores)==null?void 0:bt.security_vulnerability)==null?void 0:wt.explanation)||"No data available"},testCoverage:{score:((Ft=(mt=(St=yt.scores)==null?void 0:St.scores)==null?void 0:mt.test_coverage)==null?void 0:Ft.score)||0,explanation:((dt=(Rt=(Nt=yt.scores)==null?void 0:Nt.scores)==null?void 0:Rt.test_coverage)==null?void 0:dt.explanation)||"No data available"}}},functionalityAnalysis:yt.functionality_analysis||null}}catch(ht){throw console.error("Analysis API Error:",ht),ht}},zq=async n=>{const e=await fetch(`${Hv}/api/optimize`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok)throw new Error(`Failed to optimize code: ${e.status} ${e.statusText}`);const r=await e.json();return{optimizedCode:r.optimized_code,metrics:{executionTime:{value:r.improvement_percentages.execution_time,label:"% faster",improvement:r.improvement_percentages.execution_time>0},memoryUsage:{value:r.improvement_percentages.memory_usage,label:"% reduction",improvement:r.improvement_percentages.memory_usage>0},codeComplexity:{value:r.improvement_percentages.code_complexity,label:"% simpler",improvement:r.improvement_percentages.code_complexity>0}},changedLines:r.changed_lines??[],optimized_code_flowchart:r.optimized_code_flowchart,detailed_changes:r.detailed_changes??[],improvement_summary:r.improvement_summary??"",improvement_percentages:r.improvement_percentages}},PL=async n=>{const e=await fetch(`${Hv}/api/document`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok){const r=await e.json();throw new Error(r.message||`Failed to generate documentation: ${e.status}`)}return e.json()},bL=async(n,e,r)=>{const o=await fetch(`${Hv}/api/convert`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n,source_language:e,target_language:r})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Failed to convert code: ${o.status}`)}return o.json()},hSt=()=>{const n=ya(),e=Uo(),[r,o]=U.useState(""),[a,h]=U.useState(!1),[f,p]=U.useState(!1),[g,x]=U.useState(!1),[v,S]=U.useState(!1),[b,M]=U.useState("python"),[j,Q]=U.useState("python"),[R,L]=U.useState("python"),[$,V]=U.useState(!1),[D,X]=U.useState(null),[W,K]=U.useState(!1),[tt,rt]=U.useState(""),Ot=yt=>["python","r","sas"].includes(yt.toLowerCase()),bt=yt=>{console.log("Language detected in CodeOptimizer:",yt),Q(yt),L(yt),Ot(yt)&&K(!1)},wt=yt=>{console.log("Manual language change to:",yt),Q(yt),Ot(yt)&&K(!1)},St=async()=>{if(!r.trim()){an.error("Please enter some code to optimize");return}h(!0);try{const yt=await zq(r);console.log("Optimization results:",yt),n("/results/optimize",{state:{results:yt,originalCode:r,sourceLanguage:j}}),an.success("Code optimized successfully!")}catch(yt){console.error("Optimization error:",yt),an.error("Failed to optimize code. Please try again.")}finally{h(!1)}},mt=async()=>{if(!r.trim()){an.error("Please enter some code to analyze");return}p(!0);try{const yt=await uSt(r);console.log("Analysis results:",yt),n("/results/analyze",{state:{results:yt,originalCode:r,sourceLanguage:j}}),an.success("Code analysis completed!")}catch(yt){console.error("Analysis error:",yt),an.error("Failed to analyze code. Please try again.")}finally{p(!1)}},Ft=async()=>{if(!r.trim()){an.error("Please enter some code to document");return}S(!0);try{const yt=await PL(r);console.log("Documentation results:",yt),n("/results/document",{state:{results:yt,originalCode:r,sourceLanguage:j}}),an.success("Documentation generated successfully!")}catch(yt){console.error("Documentation error:",yt),an.error("Failed to generate documentation. Please try again.")}finally{S(!1)}},Nt=()=>{if(!r.trim()){an.error("Please enter some code to convert");return}if(console.log("Convert clicked with sourceLanguage:",j),!Ot(j)){rt(j),K(!0),an.error("Conversion only supports Python, R, and SAS as input languages.");return}X(null),V(!0)},Rt=async yt=>{x(!0);try{const Dt=await bL(r,j,yt);console.log("Conversion results:",Dt),n("/results/convert",{state:{results:Dt,originalCode:r,sourceLanguage:j,targetLanguage:yt}}),V(!1),X(null),an.success(`Code converted to ${yt.toUpperCase()} successfully!`)}catch(Dt){console.error("Conversion error:",Dt),an.error("Failed to convert code. Please try again.")}finally{x(!1)}},dt=()=>{g||(V(!1),X(null))},ht=yt=>{X(yt)};return U.useEffect(()=>{const yt=e.state;yt!=null&&yt.preserveCode&&yt.preserveCode!==r&&o(yt.preserveCode),yt!=null&&yt.preserveLanguage&&yt.preserveLanguage!==j&&(Q(yt.preserveLanguage),L(yt.preserveLanguage))},[e.state]),U.useEffect(()=>{console.log("CodeOptimizer state:",{sourceLanguage:j,detectedLanguage:R,showConvertModal:$,selectedTargetLanguage:D})},[j,R,$,D]),N.jsxs(N.Fragment,{children:[W&&N.jsx("div",{className:"fixed top-4 left-4 right-4 z-40",children:N.jsx(lSt,{isVisible:W,onDismiss:()=>K(!1),detectedLanguage:tt})}),N.jsx(kL,{isOpen:$,onClose:dt,onConvert:Rt,sourceLanguage:j,isConverting:g,selectedLanguage:D,onLanguageSelect:ht}),N.jsx(oSt,{code:r,onCodeChange:o,onAnalyze:mt,onOptimize:St,onConvert:Nt,onDocument:Ft,isAnalyzing:f,isOptimizing:a,isConverting:g,isDocumenting:v,analysisResults:null,optimizationResults:null,convertResult:null,documentResult:null,selectedLanguage:b,onLanguageChange:M,activeView:null,setActiveView:()=>{},sourceLanguage:j,onSourceLanguageChange:wt,onDetectedLanguageChange:bt,onResetResults:()=>{}})]})},Px=()=>{const{user:n,logout:e}=Kg(),r=ya(),o=async()=>{try{await e(),r("/login")}catch(a){console.error("Logout failed",a)}};return N.jsxs("header",{className:"glassmorphic-header",children:[N.jsx("style",{children:`
        .glassmorphic-header {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
          padding: 1rem;
          transition: all 0.3s ease;
          position: sticky;
          top: 0;
          z-index: 50;
        }
        
        .glassmorphic-header:hover {
          background-color: rgba(15, 15, 30, 0.35);
          border-color: rgba(255, 255, 255, 0.15);
        }
        
        .glass-logo {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          color: rgba(255, 255, 255, 0.9);
          font-weight: 600;
          text-decoration: none;
          transition: all 0.2s ease;
        }
        
        .glass-logo:hover {
          color: rgba(255, 255, 255, 1);
          transform: translateY(-1px);
        }
        
        .glass-btn {
          background-color: rgba(255, 255, 255, 0.07);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 6px;
          color: rgba(255, 255, 255, 0.85);
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          transition: all 0.2s ease;
        }
        
        .glass-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
          border-color: rgba(255, 255, 255, 0.2);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .glass-btn-logout {
          background-color: rgba(239, 68, 68, 0.2);
          border-color: rgba(239, 68, 68, 0.3);
        }
        
        .glass-btn-logout:hover {
          background-color: rgba(239, 68, 68, 0.3);
          border-color: rgba(239, 68, 68, 0.4);
        }
        
        .welcome-text {
          color: rgba(255, 255, 255, 0.7);
          font-size: 0.875rem;
        }
      `}),N.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[N.jsxs(oY,{to:"/",className:"glass-logo",children:[N.jsx(zc,{className:"h-5 w-5"}),N.jsx("span",{children:"agenticAI"})]}),N.jsx("div",{className:"flex items-center space-x-4",children:N.jsxs("button",{onClick:o,className:"glass-btn glass-btn-logout",children:[N.jsx(aet,{className:"h-4 w-4"}),N.jsx("span",{children:"Logout"})]})})]})]})},cSt=()=>N.jsxs(Mh,{children:[N.jsx(Px,{}),N.jsx(hSt,{})]});function fSt(){const[n,e]=U.useState(!1);return N.jsxs("header",{className:Do("fixed","top-2 sm:top-4","inset-x-2 sm:inset-x-8","z-50","flex flex-col justify-center sm:flex-row sm:items-center sm:justify-between","p-4","bg-[rgba(0,0,0,0.1)]","backdrop-blur-[3.5px]","shadow-none","rounded-2xl","border border-[rgba(255,255,255,0.18)]"),children:[N.jsxs("div",{className:"flex items-center justify-between w-full sm:w-auto",children:[N.jsx("div",{className:"text-white text-xl font-bold",children:"agenticAI"}),N.jsx("button",{className:"sm:hidden text-white text-2xl focus:outline-none",onClick:()=>e(r=>!r),"aria-label":"Toggle menu",children:n?N.jsx(d2,{}):N.jsx(het,{})})]}),N.jsx("nav",{className:Do(n?"mt-4":"mt-0","sm:mt-0","w-full sm:w-auto","overflow-hidden","transition-[max-height,opacity] duration-700 ease-in-out",n?"max-h-60 opacity-100":"max-h-0 opacity-0","sm:max-h-none sm:opacity-100"),children:N.jsxs("ul",{className:Do("flex flex-col sm:flex-row","items-center","space-y-2 sm:space-y-0 sm:space-x-8","text-white","text-center","bg-[rgba(0,0,0,0.2)] sm:bg-transparent","p-4 sm:p-0","rounded-lg sm:rounded-none","transition-transform duration-700",n?"translate-y-0":"-translate-y-2","sm:translate-y-0"),children:[N.jsx("li",{children:N.jsx("a",{href:"#features",className:"hover:text-gray-200 transition-colors",children:"Features"})}),N.jsx("li",{children:N.jsx("a",{href:"#benefits",className:"hover:text-gray-200 transition-colors",children:"Benefits"})}),N.jsx("li",{children:N.jsx("a",{href:"#contact",className:"hover:text-gray-200 transition-colors",children:"Contact"})})]})}),N.jsx("button",{onClick:()=>window.location.href="/login",className:Do(n?"mt-4":"mt-0","sm:mt-0","px-4 py-2","bg-white/20 hover:bg-white/30","rounded-md text-white","self-center sm:self-auto","overflow-hidden","transition-[max-height,opacity] duration-700 ease-in-out",n?"max-h-12 opacity-100":"max-h-0 opacity-0","sm:max-h-none sm:opacity-100"),children:"Get Started"})]})}const Bq=U.memo(({blur:n=0,inactiveZone:e=.7,proximity:r=0,spread:o=20,variant:a="default",glow:h=!1,className:f,movementDuration:p=2,borderWidth:g=1,disabled:x=!0})=>{const v=U.useRef(null),S=U.useRef({x:0,y:0}),b=U.useRef(0),M=U.useCallback(j=>{v.current&&(b.current&&cancelAnimationFrame(b.current),b.current=requestAnimationFrame(()=>{const Q=v.current;if(!Q)return;const{left:R,top:L,width:$,height:V}=Q.getBoundingClientRect(),D=(j==null?void 0:j.x)??S.current.x,X=(j==null?void 0:j.y)??S.current.y;j&&(S.current={x:D,y:X});const W=[R+$*.5,L+V*.5],K=Math.hypot(D-W[0],X-W[1]),tt=.5*Math.min($,V)*e;if(K<tt){Q.style.setProperty("--active","0");return}const rt=D>R-r&&D<R+$+r&&X>L-r&&X<L+V+r;if(Q.style.setProperty("--active",rt?"1":"0"),!rt)return;const Ot=parseFloat(Q.style.getPropertyValue("--start"))||0,wt=(180*Math.atan2(X-W[1],D-W[0])/Math.PI+90-Ot+180)%360-180,St=Ot+wt;aft(Ot,St,{duration:p,ease:[.16,1,.3,1],onUpdate:mt=>{Q.style.setProperty("--start",String(mt))}})}))},[e,r,p]);return U.useEffect(()=>{if(x)return;const j=()=>M(),Q=R=>M(R);return window.addEventListener("scroll",j,{passive:!0}),document.body.addEventListener("pointermove",Q,{passive:!0}),()=>{b.current&&cancelAnimationFrame(b.current),window.removeEventListener("scroll",j),document.body.removeEventListener("pointermove",Q)}},[M,x]),N.jsxs(N.Fragment,{children:[N.jsx("div",{className:Do("pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity",h&&"opacity-100",a==="white"&&"border-white",x&&"!block",f)}),N.jsx("div",{ref:v,style:{"--blur":`${n}px`,"--spread":o,"--start":"0","--active":"0","--glowingeffect-border-width":`${g}px`,"--repeating-conic-gradient-times":"5","--gradient":a==="white"?`repeating-conic-gradient(
                  from 236.84deg at 50% 50%,
                  var(--black),
                  var(--black) calc(25% / var(--repeating-conic-gradient-times))
                )`:`radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),
                radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),
                radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%), 
                radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),
                repeating-conic-gradient(
                  from 236.84deg at 50% 50%,
                  #dd7bbb 0%,
                  #d79f1e calc(25% / var(--repeating-conic-gradient-times)),
                  #5a922c calc(50% / var(--repeating-conic-gradient-times)), 
                  #4c7894 calc(75% / var(--repeating-conic-gradient-times)),
                  #dd7bbb calc(100% / var(--repeating-conic-gradient-times))
                )`},className:Do("pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity",h&&"opacity-100",n>0&&"blur-[var(--blur)]",x&&"!hidden",f),children:N.jsx("div",{className:Do("glow","rounded-[inherit]",'after:content-[""] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]',"after:[border:var(--glowingeffect-border-width)_solid_transparent]","after:[background:var(--gradient)] after:[background-attachment:fixed]","after:opacity-[var(--active)] after:transition-opacity after:duration-300","after:[mask-clip:padding-box,border-box]","after:[mask-composite:intersect]","after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]")})})]})});Bq.displayName="GlowingEffect";const dSt=[{title:"SmartAnalyzer",description:"Intelligent analysis that identifies inefficiencies and anomalies automatically.",icon:Gtt,items:["Comprehensive Code Diagnostics","Interactive Visual Flowcharts","Advanced Bug and Bottleneck Detection"]},{title:"OptiCode",description:"AI-powered code refactoring that enhances efficiency and readability.",icon:zc,items:["AI-Powered Code Refactoring","Real-Time Optimization Suggestions","Adaptive Learning Algorithms"]},{title:"CodeTranslator",description:"Seamless translation between analytics languages such as SAS, Python, R, and more.",icon:eZ,items:["Effortless Multi-Language Conversion","Accuracy and Fidelity Assurance","Customization and Compliance"]},{title:"DocuGen",description:"Automatically creates professional-grade documentation for your analytics processes.",icon:jd,items:["Automated Documentation Generation","Real-Time Updates","Customizable Templates"]}];function pSt(){return N.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-4",children:dSt.map(({icon:n,title:e,description:r,items:o})=>N.jsx(mSt,{icon:N.jsx(n,{className:"h-4 w-4 text-white"}),title:e,description:r,items:o},e))})}const mSt=({icon:n,title:e,description:r,items:o})=>N.jsx("li",{className:"min-h-[20rem] list-none",children:N.jsxs("div",{className:"relative h-full rounded-2xl border p-2 md:rounded-3xl md:p-3",children:[N.jsx(Bq,{spread:40,glow:!0,disabled:!1,proximity:64,inactiveZone:.01}),N.jsx("div",{className:"border-0.75 relative flex h-full flex-col justify-between gap-6 overflow-hidden rounded-xl p-6 md:p-6 dark:shadow-[0px_0px_27px_0px_#2D2D2D]",children:N.jsxs("div",{className:"relative flex flex-1 flex-col justify-between gap-3",children:[N.jsx("div",{className:"w-fit rounded-lg border border-gray-600 p-2",children:n}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("h3",{className:"-tracking-4 pt-0.5 font-sans text-xl/[1.375rem] font-semibold text-balance text-white md:text-2xl/[1.875rem]",children:e}),N.jsx("p",{className:"font-sans text-sm/[1.125rem] text-neutral-300 md:text-base/[1.375rem]",children:r}),N.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-sm text-neutral-400",children:o.map(a=>N.jsx("li",{children:a},a))})]})]})})]})}),gSt=`# Before optimization
def process_data(df):
 results = []
 for i in range(len(df)):
 if df.iloc[i]['value'] > 100:
 results.append({
 'id': df.iloc[i]['id'],
 'value': df.iloc[i]['value'] * 2
 })
 return results

# After AgenticAI optimization
def process_data(df):
 return df[df['value'] > 100].apply(
 lambda row: {'id': row['id'], 'value': row['value'] * 2},
 axis=1
 ).tolist()`;function ySt(){const n=["Reduce execution time by up to 80%","Decrease code complexity and improve readability","Maintain logical equivalence with the original code"];return N.jsx("section",{className:"relative py-20",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4",children:N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[N.jsxs("div",{className:"space-y-6",children:[N.jsx("h3",{className:"text-sm uppercase text-indigo-400 tracking-wide",children:"What We Do"}),N.jsx("h2",{className:"text-4xl font-bold text-white",children:"See the Power of Optimization"}),N.jsx("p",{className:"text-lg text-gray-300",children:"At Agentic AI, we harness state-of-the-art machine learning to automatically refactor your analytics code—boosting performance, clarity, and maintainability in one seamless step."}),N.jsx("ul",{className:"space-y-4",children:n.map(e=>N.jsxs("li",{className:"flex items-start space-x-3",children:[N.jsx(tP,{className:"mt-1 h-5 w-5 text-white"}),N.jsx("span",{className:"text-white",children:e})]},e))}),N.jsxs("button",{className:"mt-4 inline-flex items-center px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-full transition",children:["Try Code Optimization",N.jsx(tP,{className:"ml-2 h-4 w-4"})]})]}),N.jsx("div",{className:"flex justify-center",children:N.jsxs("div",{className:"w-full max-w-lg bg-[rgba(255,255,255,0.1)] backdrop-blur-[12px] border border-[rgba(255,255,255,0.18)] rounded-2xl p-6",children:[N.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[N.jsx("span",{className:"h-3 w-3 bg-red-500 rounded-full"}),N.jsx("span",{className:"h-3 w-3 bg-yellow-500 rounded-full"}),N.jsx("span",{className:"h-3 w-3 bg-green-500 rounded-full"})]}),N.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-white",children:N.jsx("code",{children:gSt})})]})})]})})})}const OSt=`# Original implementation (unoptimized)

import pandas as pd
from datetime import datetime, timedelta

def process_data(df):
    # Initialize results list
    results = []
    # Loop through each row
    for index in range(len(df)):
        row = df.iloc[index]
        if row['value'] > 100:
            item = {'id': row['id'], 'value': row['value'] * 2}
            results.append(item)
    # Return list of dicts
    return results

# Usage example
records = process_data(dataframe)
print(len(records), "items processed")
`,vSt=`# AgenticAI optimized implementation

import pandas as pd
from datetime import datetime, timedelta

def process_data(df):
    # Filter and apply transformation in one step
    return (
        df[df['value'] > 100]
        .apply(lambda row: {'id': row['id'], 'value': row['value'] * 2}, axis=1)
        .tolist()
    )

# Usage example
records = process_data(dataframe)
print(f"Processed {len(records)} items efficiently")
`;function xSt({firstCode:n,secondCode:e,className:r="",codeClass:o="",initialPct:a=50}){const[h,f]=U.useState(a),[p,g]=U.useState(!1),x=U.useRef(null),v=U.useCallback(S=>{if(!x.current)return;const{left:b,width:M}=x.current.getBoundingClientRect();let j=(S-b)/M*100;j=Math.max(0,Math.min(100,j)),f(j)},[]);return U.useEffect(()=>{const S=M=>p&&v(M.clientX),b=()=>g(!1);return window.addEventListener("mousemove",S),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",b)}},[p,v]),N.jsxs("div",{ref:x,className:Do("relative w-full h-full select-none overflow-hidden",r),onMouseDown:S=>{g(!0),v(S.clientX)},onMouseMove:S=>v(S.clientX),children:[N.jsx(ylt,{children:N.jsxs(w5.div,{className:"absolute top-0 h-full w-[2px] bg-gradient-to-b from-transparent via-indigo-400 to-transparent z-30 transition-left",style:{left:`${h}%`,transition:"left 0.2s ease-out"},transition:{duration:0},children:[N.jsx("div",{className:"absolute inset-y-0 left-0 w-20 [mask-image:radial-gradient(100px_at_left,white,transparent)] bg-indigo-400 opacity-20"}),N.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-2.5 w-6 h-6 bg-white rounded-md flex items-center justify-center shadow-md",children:N.jsx(cft,{className:"h-4 w-4 text-black"})})]})}),N.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none",children:N.jsx("div",{className:o,style:{clipPath:`inset(0 ${100-h}% 0 0)`,transition:"clip-path 0.2s ease-out"},children:N.jsx("pre",{className:"h-full overflow-auto p-6 font-mono text-sm text-white leading-relaxed bg-transparent",children:N.jsx("code",{children:n})})})}),N.jsx("div",{className:"absolute inset-0 z-10",children:N.jsx("div",{className:o,style:{clipPath:`inset(0 0 0 ${h}%)`,transition:"clip-path 0.2s ease-out"},children:N.jsx("pre",{className:"h-full overflow-auto p-6 font-mono text-sm text-white leading-relaxed bg-transparent",children:N.jsx("code",{children:e})})})})]})}function wSt(){return N.jsx("section",{className:"py-20",children:N.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[N.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Before & After: Code Comparison"}),N.jsx("div",{className:"h-[70vh] bg-[rgba(255,255,255,0.05)] backdrop-blur-[16px] border border-[rgba(255,255,255,0.12)] rounded-3xl overflow-hidden relative",children:N.jsx(xSt,{firstCode:OSt,secondCode:vSt,initialPct:50,className:"w-full h-full",codeClass:"rounded-none"})})]})})}function SSt(){const[n,e]=U.useState(""),r=o=>{o.preventDefault(),console.log("Joined waiting list:",n),e("")};return N.jsx("section",{className:"py-16",children:N.jsxs("div",{className:"max-w-md mx-auto px-4",children:[N.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:"Join Our Waiting List"}),N.jsxs("form",{onSubmit:r,className:Do("flex flex-col sm:flex-row gap-4 glass-card p-6 rounded-2xl","bg-[rgba(255,255,255,0.1)] backdrop-blur-[8px]","border border-[rgba(255,255,255,0.18)]"),children:[N.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),N.jsx("input",{id:"email",type:"email",required:!0,placeholder:"you@example.com",value:n,onChange:o=>e(o.target.value),className:Do("flex-1 px-4 py-3 bg-transparent placeholder-gray-400","border border-transparent focus:border-white rounded-md","text-white outline-none")}),N.jsx("button",{type:"submit",className:Do("px-6 py-3 bg-white/20 hover:bg-white/30 text-white","rounded-md transition"),children:"Notify Me"})]})]})})}function kSt(){return N.jsx("footer",{className:"bg-gray-900 border-t border-gray-800",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[N.jsxs("div",{children:[N.jsx("div",{className:"flex items-center gap-2 mb-4",children:N.jsx("span",{className:"text-xl font-bold text-white",children:"AgenticAI"})}),N.jsx("p",{className:"text-white/70 mb-4",children:"Transforming analytics program management through intelligent automation"}),N.jsxs("div",{className:"flex space-x-4",children:[N.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:N.jsx(cet,{size:20})}),N.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:N.jsx(net,{size:20})}),N.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:N.jsx(set,{size:20})})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Product"}),N.jsxs("ul",{className:"space-y-3",children:[N.jsx("li",{children:N.jsx("a",{href:"#features",className:"text-white/70 hover:text-white transition",children:"Features"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Pricing"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Case Studies"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Documentation"})})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Company"}),N.jsxs("ul",{className:"space-y-3",children:[N.jsx("li",{children:N.jsx("a",{href:"#about",className:"text-white/70 hover:text-white transition",children:"About"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Careers"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Blog"})}),N.jsx("li",{children:N.jsx("a",{href:"#contact",className:"text-white/70 hover:text-white transition",children:"Contact"})})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Legal"}),N.jsxs("ul",{className:"space-y-3",children:[N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Privacy Policy"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Terms of Service"})}),N.jsx("li",{children:N.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Cookie Policy"})})]})]})]}),N.jsx("div",{className:"mt-12 pt-8 border-t border-[rgba(255,255,255,0.12)]",children:N.jsxs("p",{className:"text-center text-sm text-white/60",children:["© ",new Date().getFullYear()," AgenticAI. All rights reserved."]})})]})})}function PSt(){return N.jsx(N.Fragment,{children:N.jsx(Mh,{intensity:"medium",className:"min-h-screen",children:N.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen dark",children:[N.jsx(fSt,{}),N.jsxs("main",{className:"flex-grow",children:[N.jsx("section",{className:"h-screen flex items-center justify-center px-4 text-center",children:N.jsxs(w5.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},children:[N.jsx("h1",{className:"text-3xl md:text-7xl font-bold text-white",children:"Agentic AI: Next-Level Analytics"}),N.jsx("p",{className:"mt-4 font-extralight text-base md:text-4xl text-neutral-200",children:"Automate. Integrate. Optimize."}),N.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-8 bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-300 rounded-full w-fit text-white px-6 py-3",children:"Start Free Trial"})]})}),N.jsx("section",{id:"features",className:"py-16 px-4",children:N.jsx(pSt,{})}),N.jsx("div",{id:"benefits",children:N.jsx(ySt,{})}),N.jsx(wSt,{}),N.jsx("div",{id:"contact",children:N.jsx(SSt,{})})]}),N.jsx(kSt,{})]})})})}const bSt=()=>{const n=Uo();return U.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:N.jsxs("div",{className:"text-center",children:[N.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),N.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),N.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},TSt=mR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jc=U.forwardRef(({className:n,variant:e,size:r,asChild:o=!1,...a},h)=>{const f=o?itt:"button";return N.jsx(f,{className:$n(TSt({variant:e,size:r,className:n})),ref:h,...a})});Jc.displayName="Button";var q2="Collapsible",[CSt,Xq]=Ud(q2),[MSt,TL]=CSt(q2),_q=U.forwardRef((n,e)=>{const{__scopeCollapsible:r,open:o,defaultOpen:a,disabled:h,onOpenChange:f,...p}=n,[g,x]=ox({prop:o,defaultProp:a??!1,onChange:f,caller:q2});return N.jsx(MSt,{scope:r,disabled:h,contentId:OR(),open:g,onOpenToggle:U.useCallback(()=>x(v=>!v),[x]),children:N.jsx(Fn.div,{"data-state":ML(g),"data-disabled":h?"":void 0,...p,ref:e})})});_q.displayName=q2;var Uq="CollapsibleTrigger",Zq=U.forwardRef((n,e)=>{const{__scopeCollapsible:r,...o}=n,a=TL(Uq,r);return N.jsx(Fn.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ML(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...o,ref:e,onClick:Ln(n.onClick,a.onOpenToggle)})});Zq.displayName=Uq;var CL="CollapsibleContent",Yq=U.forwardRef((n,e)=>{const{forceMount:r,...o}=n,a=TL(CL,n.__scopeCollapsible);return N.jsx(u2,{present:r||a.open,children:({present:h})=>N.jsx(NSt,{...o,ref:e,present:h})})});Yq.displayName=CL;var NSt=U.forwardRef((n,e)=>{const{__scopeCollapsible:r,present:o,children:a,...h}=n,f=TL(CL,r),[p,g]=U.useState(o),x=U.useRef(null),v=Bo(e,x),S=U.useRef(0),b=S.current,M=U.useRef(0),j=M.current,Q=f.open||p,R=U.useRef(Q),L=U.useRef(void 0);return U.useEffect(()=>{const $=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame($)},[]),Ou(()=>{const $=x.current;if($){L.current=L.current||{transitionDuration:$.style.transitionDuration,animationName:$.style.animationName},$.style.transitionDuration="0s",$.style.animationName="none";const V=$.getBoundingClientRect();S.current=V.height,M.current=V.width,R.current||($.style.transitionDuration=L.current.transitionDuration,$.style.animationName=L.current.animationName),g(o)}},[f.open,o]),N.jsx(Fn.div,{"data-state":ML(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!Q,...h,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...n.style},children:Q&&a})});function ML(n){return n?"open":"closed"}var QSt=_q,ASt=Zq,jSt=Yq,RSt=U.createContext(void 0);function LSt(n){const e=U.useContext(RSt);return n||e||"ltr"}var xa="Accordion",ESt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[NL,$St,DSt]=CU(xa),[G2,ePt]=Ud(xa,[DSt,Xq]),QL=Xq(),Wq=$t.forwardRef((n,e)=>{const{type:r,...o}=n,a=o,h=o;return N.jsx(NL.Provider,{scope:n.__scopeAccordion,children:r==="multiple"?N.jsx(zSt,{...h,ref:e}):N.jsx(VSt,{...a,ref:e})})});Wq.displayName=xa;var[qq,ISt]=G2(xa),[Gq,FSt]=G2(xa,{collapsible:!1}),VSt=$t.forwardRef((n,e)=>{const{value:r,defaultValue:o,onValueChange:a=()=>{},collapsible:h=!1,...f}=n,[p,g]=ox({prop:r,defaultProp:o??"",onChange:a,caller:xa});return N.jsx(qq,{scope:n.__scopeAccordion,value:$t.useMemo(()=>p?[p]:[],[p]),onItemOpen:g,onItemClose:$t.useCallback(()=>h&&g(""),[h,g]),children:N.jsx(Gq,{scope:n.__scopeAccordion,collapsible:h,children:N.jsx(Hq,{...f,ref:e})})})}),zSt=$t.forwardRef((n,e)=>{const{value:r,defaultValue:o,onValueChange:a=()=>{},...h}=n,[f,p]=ox({prop:r,defaultProp:o??[],onChange:a,caller:xa}),g=$t.useCallback(v=>p((S=[])=>[...S,v]),[p]),x=$t.useCallback(v=>p((S=[])=>S.filter(b=>b!==v)),[p]);return N.jsx(qq,{scope:n.__scopeAccordion,value:f,onItemOpen:g,onItemClose:x,children:N.jsx(Gq,{scope:n.__scopeAccordion,collapsible:!0,children:N.jsx(Hq,{...h,ref:e})})})}),[BSt,H2]=G2(xa),Hq=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,disabled:o,dir:a,orientation:h="vertical",...f}=n,p=$t.useRef(null),g=Bo(p,e),x=$St(r),S=LSt(a)==="ltr",b=Ln(n.onKeyDown,M=>{var tt;if(!ESt.includes(M.key))return;const j=M.target,Q=x().filter(rt=>{var Ot;return!((Ot=rt.ref.current)!=null&&Ot.disabled)}),R=Q.findIndex(rt=>rt.ref.current===j),L=Q.length;if(R===-1)return;M.preventDefault();let $=R;const V=0,D=L-1,X=()=>{$=R+1,$>D&&($=V)},W=()=>{$=R-1,$<V&&($=D)};switch(M.key){case"Home":$=V;break;case"End":$=D;break;case"ArrowRight":h==="horizontal"&&(S?X():W());break;case"ArrowDown":h==="vertical"&&X();break;case"ArrowLeft":h==="horizontal"&&(S?W():X());break;case"ArrowUp":h==="vertical"&&W();break}const K=$%L;(tt=Q[K].ref.current)==null||tt.focus()});return N.jsx(BSt,{scope:r,disabled:o,direction:a,orientation:h,children:N.jsx(NL.Slot,{scope:r,children:N.jsx(Fn.div,{...f,"data-orientation":h,ref:g,onKeyDown:o?void 0:b})})})}),UP="AccordionItem",[XSt,AL]=G2(UP),Kq=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,value:o,...a}=n,h=H2(UP,r),f=ISt(UP,r),p=QL(r),g=OR(),x=o&&f.value.includes(o)||!1,v=h.disabled||n.disabled;return N.jsx(XSt,{scope:r,open:x,disabled:v,triggerId:g,children:N.jsx(QSt,{"data-orientation":h.orientation,"data-state":rG(x),...p,...a,ref:e,disabled:v,open:x,onOpenChange:S=>{S?f.onItemOpen(o):f.onItemClose(o)}})})});Kq.displayName=UP;var Jq="AccordionHeader",tG=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=H2(xa,r),h=AL(Jq,r);return N.jsx(Fn.h3,{"data-orientation":a.orientation,"data-state":rG(h.open),"data-disabled":h.disabled?"":void 0,...o,ref:e})});tG.displayName=Jq;var mj="AccordionTrigger",eG=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=H2(xa,r),h=AL(mj,r),f=FSt(mj,r),p=QL(r);return N.jsx(NL.ItemSlot,{scope:r,children:N.jsx(ASt,{"aria-disabled":h.open&&!f.collapsible||void 0,"data-orientation":a.orientation,id:h.triggerId,...p,...o,ref:e})})});eG.displayName=mj;var iG="AccordionContent",nG=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=H2(xa,r),h=AL(iG,r),f=QL(r);return N.jsx(jSt,{role:"region","aria-labelledby":h.triggerId,"data-orientation":a.orientation,...f,...o,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});nG.displayName=iG;function rG(n){return n?"open":"closed"}var _St=Wq,USt=Kq,ZSt=tG,sG=eG,oG=nG;const lG=_St,jL=U.forwardRef(({className:n,...e},r)=>N.jsx(USt,{ref:r,className:$n("border-b",n),...e}));jL.displayName="AccordionItem";const RL=U.forwardRef(({className:n,children:e,...r},o)=>N.jsx(ZSt,{className:"flex",children:N.jsxs(sG,{ref:o,className:$n("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...r,children:[e,N.jsx(Ktt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));RL.displayName=sG.displayName;const LL=U.forwardRef(({className:n,children:e,...r},o)=>N.jsx(oG,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:N.jsx("div",{className:$n("pb-4 pt-0",n),children:e})}));LL.displayName=oG.displayName;const Qh=U.forwardRef(({className:n,...e},r)=>N.jsx("div",{ref:r,className:$n("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Qh.displayName="Card";const ay=U.forwardRef(({className:n,...e},r)=>N.jsx("div",{ref:r,className:$n("flex flex-col space-y-1.5 p-6",n),...e}));ay.displayName="CardHeader";const uy=U.forwardRef(({className:n,...e},r)=>N.jsx("h3",{ref:r,className:$n("text-2xl font-semibold leading-none tracking-tight",n),...e}));uy.displayName="CardTitle";const K2=U.forwardRef(({className:n,...e},r)=>N.jsx("p",{ref:r,className:$n("text-sm text-muted-foreground",n),...e}));K2.displayName="CardDescription";const Ah=U.forwardRef(({className:n,...e},r)=>N.jsx("div",{ref:r,className:$n("p-6 pt-0",n),...e}));Ah.displayName="CardContent";const YSt=U.forwardRef(({className:n,...e},r)=>N.jsx("div",{ref:r,className:$n("flex items-center p-6 pt-0",n),...e}));YSt.displayName="CardFooter";const WSt=({content:n})=>{const e=n.split(/(?=^#+\s+.*$)/m).filter(a=>a.trim()!==""),r=a=>{const h=a.match(/^#+\s+(.*?)$/m);return h?h[1]:"Overview"},o=a=>a.replace(/^#+\s+.*?$/m,"").trim().split(/\n{2,}/g).map((f,p)=>{if(f.match(/^```[\s\S]*?```$/m)){const x=f.replace(/^```(\w+)?\n([\s\S]*?)```$/m,"$2");return N.jsx("pre",{className:"bg-secondary/20 p-4 rounded-md my-4 overflow-x-auto",children:N.jsx("code",{className:"text-sm text-primary",children:x})},p)}if(f.match(/^\s*[-*]\s+/m)){const x=f.split(/\n/).filter(v=>v.trim()!=="").map(v=>v.replace(/^\s*[-*]\s+/,""));return N.jsx("ul",{className:"list-disc pl-5 my-3 space-y-1",children:x.map((v,S)=>N.jsx("li",{className:"text-sm",children:v},S))},p)}if(f.match(/^\s*\d+\.\s+/m)){const x=f.split(/\n/).filter(v=>v.trim()!=="").map(v=>v.replace(/^\s*\d+\.\s+/,""));return N.jsx("ol",{className:"list-decimal pl-5 my-3 space-y-1",children:x.map((v,S)=>N.jsx("li",{className:"text-sm",children:v},S))},p)}let g=f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(g=g.replace(/\*(.*?)\*/g,"<em>$1</em>"),g=g.replace(/`(.*?)`/g,"<code>$1</code>"),g.match(/^#+\s+/)){const x=(g.match(/^(#+)/)||["#"])[0].length,v=g.replace(/^#+\s+/,"");return N.jsx("div",{className:`font-semibold my-3 ${x===2?"text-lg":x===3?"text-base":"text-sm"}`,children:v},p)}return N.jsx("p",{className:"my-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:g}},p)});return N.jsx(Qh,{className:"border border-border",children:N.jsx(Ah,{className:"p-6",children:N.jsx("div",{className:"space-y-6",children:e.map((a,h)=>{const f=r(a);return N.jsxs("div",{className:"pb-4",children:[N.jsx("h3",{className:"text-base font-semibold border-b border-border pb-2 mb-3",children:f}),N.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:mb-2 prose-p:my-2",children:o(a)})]},h)})})})})},qSt=({results:n})=>{const[e,r]=U.useState("opportunities");U.useEffect(()=>{var f;console.log("AnalysisResultTabs - Full results:",n),console.log("AnalysisResultTabs - Categories:",n.categories),console.log("AnalysisResultTabs - Categories with issues:",((f=n.categories)==null?void 0:f.filter(p=>p.hasIssues))||[])},[n]);const o=n.categories||[],a=o.filter(f=>f.hasIssues),h=a.reduce((f,p)=>{var g;return f+(((g=p.issues)==null?void 0:g.length)||0)},0);return N.jsxs("div",{className:"border border-gray-800 rounded-2xl p-6",children:[N.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[N.jsxs("button",{type:"button",onClick:()=>r("opportunities"),className:`px-4 py-2 -mb-px focus:outline-none transition-colors ${e==="opportunities"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:["Optimization Opportunities ",h>0&&`(${h})`]}),N.jsx("button",{type:"button",onClick:()=>r("functionality"),className:`px-4 py-2 -mb-px focus:outline-none transition-colors ${e==="functionality"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Functionality Analysis"})]}),e==="opportunities"&&N.jsxs("div",{children:[N.jsxs("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-700/30 rounded-lg text-sm",children:[N.jsx("div",{className:"text-blue-300 font-medium mb-2",children:"Debug Information:"}),N.jsxs("div",{className:"text-blue-200 space-y-1",children:[N.jsxs("div",{children:["Total categories: ",o.length]}),N.jsxs("div",{children:["Categories with issues: ",a.length]}),N.jsxs("div",{children:["Total issues: ",h]})]})]}),o.length===0?N.jsxs("div",{className:"text-center py-8",children:[N.jsx(qF,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),N.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Analysis Data"}),N.jsx("p",{className:"text-gray-400",children:"No categories found in the analysis results."})]}):a.length===0?N.jsxs("div",{className:"text-center py-8",children:[N.jsx("div",{className:"mx-auto h-12 w-12 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:N.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),N.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Great Code Quality!"}),N.jsx("p",{className:"text-gray-400",children:"No optimization opportunities found. Your code looks good!"})]}):N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((f,p)=>{var g,x,v,S;return N.jsxs(Qh,{className:`bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-2xl hover:shadow-lg transition-shadow ${f.hasIssues?"border-amber-700/30 bg-amber-950/10":""}`,children:[N.jsxs(ay,{children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs(uy,{className:"text-sm font-medium flex items-center gap-2 text-white",children:[f.hasIssues&&N.jsx(gR,{size:16,className:"text-amber-500"}),f.name]}),f.hasIssues&&N.jsxs("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full",children:[((g=f.issues)==null?void 0:g.length)||0," ",(((x=f.issues)==null?void 0:x.length)||0)===1?"issue":"issues"]})]}),N.jsx(K2,{className:"text-xs text-gray-300",children:f.hasIssues?`${((v=f.issues)==null?void 0:v.length)||0} optimization ${(((S=f.issues)==null?void 0:S.length)||0)===1?"opportunity":"opportunities"} found`:"No optimization opportunities found"})]}),f.hasIssues&&f.issues&&f.issues.length>0&&N.jsx(Ah,{children:N.jsx(lG,{type:"single",collapsible:!0,className:"w-full bg-transparent",children:f.issues.map((b,M)=>N.jsxs(jL,{value:`issue-${M}`,children:[N.jsx(RL,{className:"text-sm text-white hover:text-gray-200",children:b.title||`Issue ${M+1}`}),N.jsx(LL,{children:N.jsxs("div",{className:"space-y-3 text-sm text-gray-200",children:[b.location&&N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"CODE LOCATION"}),N.jsx("div",{className:"bg-secondary/50 px-3 py-1 rounded-sm text-white",children:b.location})]}),b.reason&&N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"REASON"}),N.jsx("p",{children:b.reason})]}),b.suggestion&&N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"SUGGESTION"}),N.jsx("p",{className:"text-primary",children:b.suggestion})]})]})})]},M))})})]},p)})})]}),e==="functionality"&&N.jsx("div",{className:"border border-gray-700 rounded-2xl p-4",children:n.functionalityAnalysis?N.jsx(WSt,{content:n.functionalityAnalysis}):N.jsxs("div",{className:"text-center py-8",children:[N.jsx(qF,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),N.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Functionality Analysis"}),N.jsx("p",{className:"text-gray-400",children:"Functionality analysis data is not available."})]})})]})};(function(){var n;function e(t){var i=0;return function(){return i<t.length?{done:!1,value:t[i++]}:{done:!0}}}function r(t){var i=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:e(t)}}function o(t){for(var i,s=[];!(i=t.next()).done;)s.push(i.value);return s}var a=typeof Object.create=="function"?Object.create:function(t){function i(){}return i.prototype=t,new i},h;if(typeof Object.setPrototypeOf=="function")h=Object.setPrototypeOf;else{var f;t:{var p={a:!0},g={};try{g.__proto__=p,f=g.a;break t}catch{}f=!1}h=f?function(t,i){if(t.__proto__=i,t.__proto__!==i)throw new TypeError(t+" is not extensible");return t}:null}var x=h;function v(t,i){if(t.prototype=a(i.prototype),t.prototype.constructor=t,x)x(t,i);else for(var s in i)if(s!="prototype")if(Object.defineProperties){var l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(t,s,l)}else t[s]=i[s];t.TA=i.prototype}var S=typeof global<"u"&&global!=null?global:self,b=typeof Object.assign=="function"?Object.assign:function(t,i){for(var s=1;s<arguments.length;s++){var l=arguments[s];if(l)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(t[u]=l[u])}return t},M=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,i,s){t!=Array.prototype&&t!=Object.prototype&&(t[i]=s.value)};function j(t,i){if(i){var s=S;t=t.split(".");for(var l=0;l<t.length-1;l++){var u=t[l];u in s||(s[u]={}),s=s[u]}t=t[t.length-1],l=s[t],i=i(l),i!=l&&i!=null&&M(s,t,{writable:!0,value:i})}}j("Object.assign",function(t){return t||b}),j("Array.prototype.fill",function(t){return t||function(i,s,l){var u=this.length||0;for(0>s&&(s=Math.max(0,u+s)),(l==null||l>u)&&(l=u),l=Number(l),0>l&&(l=Math.max(0,u+l)),s=Number(s||0);s<l;s++)this[s]=i;return this}});var Q=typeof globalThis=="object"&&globalThis||typeof global=="object"&&global.global===global&&global||typeof self=="object"&&self.self===self&&self||{};Q.requestAnimationFrame===void 0&&(Q.setImmediate===void 0?Q.requestAnimationFrame=function(t){Q.setTimeout(t,0)}:Q.requestAnimationFrame=Q.setImmediate);function R(){}function L(t,i){var s=-1;return function(){var l=this,u=arguments;s!==-1&&Q.clearTimeout(s),s=$(function(){s=-1,t.apply(l,u)},i)}}function $(t,i){return Q.setTimeout(t,i)}function V(t){return Q.document.createElement(t)}function D(t){throw Error(t)}function X(t,i){t="The object is frozen, so its properties cannot be set: "+t.toString(),i!==void 0&&(t+="  to value: "+i),D(t)}function W(t,i,s,l){s=s===null?"*":typeof s=="string"?s:typeof s=="function"&&typeof s.className=="string"?s.className:"",l!==void 0&&(s+="."+l),D(s+" is not in the range "+i+": "+t)}function K(t){Q.console&&Q.console.log(t)}function tt(t){return typeof t=="object"&&t!==null}function rt(t){return Array.isArray(t)||Q.NodeList&&t instanceof Q.NodeList||Q.HTMLCollection&&t instanceof Q.HTMLCollection}function Ot(t){return Array.prototype.slice.call(t)}function bt(t,i,s){Array.isArray(t)?i>=t.length?t.push(s):t.splice(i,0,s):D("Cannot insert an object into an HTMLCollection or NodeList: "+s+" at "+i)}function wt(t,i){Array.isArray(t)?i>=t.length?t.pop():t.splice(i,1):D("Cannot remove an object from an HTMLCollection or NodeList at "+i)}function St(){var t=qt.pop();return t===void 0?[]:t}function mt(t){t.length=0,qt.push(t)}function Ft(t){if(typeof t=="function"){if(t.className)return t.className;if(t.name)return t.name;var i=t.toString();if(i=i.substring(9,i.indexOf("(")).trim(),i!=="")return t._className=i}else if(tt(t)&&t.constructor)return Ft(t.constructor);return typeof t}function Nt(t){var i=t;return tt(t)&&(t.text?i=t.text:t.name?i=t.name:t.key!==void 0?i=t.key:t.id!==void 0?i=t.id:t.constructor===Object&&(t.Text?i=t.Text:t.Name?i=t.Name:t.Key!==void 0?i=t.Key:t.Id!==void 0?i=t.Id:t.ID!==void 0&&(i=t.ID))),i===void 0?"undefined":i===null?"null":i.toString()}function Rt(t,i){if(t.hasOwnProperty(i))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(i))return!0;var s=t.GA;if(s&&s[i])return!0;t=Object.getPrototypeOf(t)}return!1}function dt(t,i,s){Object.defineProperty(Ce.prototype,t,{get:i,set:s})}function ht(t){for(var i=[],s=0;256>s;s++)i["0123456789abcdef".charAt(s>>4)+"0123456789abcdef".charAt(s&15)]=String.fromCharCode(s);t.length%2&&(t="0"+t),s=[];for(var l=0,u=0;u<t.length;u+=2)s[l++]=i[t.substr(u,2)];for(t=s.join(""),t=t===""?"0":t,i=[],s=0;256>s;s++)i[s]=s;for(s=l=0;256>s;s++)l=(l+i[s]+119)%256,u=i[s],i[s]=i[l],i[l]=u;l=s=0;for(var c="",d=0;d<t.length;d++)s=(s+1)%256,l=(l+i[s])%256,u=i[s],i[s]=i[l],i[l]=u,c+=String.fromCharCode(t.charCodeAt(d)^i[(i[s]+i[l])%256]);return c}var yt=Q.navigator!==void 0&&0<Q.navigator.userAgent.indexOf("Trident/7"),Dt=Q.navigator!==void 0&&Q.navigator.platform!==void 0&&Q.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null,qt=[];R.className="Util",R.Dx="32ab5ff3b26f42dc0ed90f21472913b5",R.adym="gojs.net",R.vfo="28e645fdb26f",R.className="Util";function it(t,i,s){Ye(this),this.j=t,this.xa=i,this.o=s}it.prototype.toString=function(){return"EnumValue."+this.xa};function xe(t,i){return i==null||i===""?null:t[i]}S.Object.defineProperties(it.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.xa}},value:{get:function(){return this.o}}}),it.className="EnumValue";function Be(){this.gw=[]}Be.prototype.toString=function(){return this.gw.join("")},Be.prototype.add=function(t){t!==""&&this.gw.push(t)},Be.className="StringBuilder";function le(){}le.className="PropertyCollection";var Ni={IA:!1,NA:!1,KA:!1,MA:!1,RA:!1,PA:!1,px:!1,JA:null,trace:function(t){Q.console&&Q.console.log(t)},LA:function(t,i,s,l){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(s,s),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),t.lineWidth=2,t.beginPath(),t.moveTo(l.left,l.top+20),t.lineTo(l.left,l.top),t.lineTo(l.left+20,l.top),t.moveTo(l.right,l.bottom-20),t.lineTo(l.right,l.bottom),t.lineTo(l.right-20,l.bottom),t.stroke(),t.fillText("DB: "+Math.round(l.x)+", "+Math.round(l.y)+", "+Math.round(l.width)+", "+Math.round(l.height),l.left,l.top-5)},HA:function(t){var i={},s;for(s in t){if(i.x=s,i.x!=="licenseKey"){var l=t[i.x];if(l.prototype!==void 0){i.$l=Object.getOwnPropertyNames(l.prototype);for(var u={Sj:0};u.Sj<i.$l.length;u={Sj:u.Sj},u.Sj++){var c=Object.getOwnPropertyDescriptor(l.prototype,i.$l[u.Sj]);c.get!==void 0&&c.set===void 0&&Object.defineProperty(l.prototype,i.$l[u.Sj],{set:function(d,m){return function(){throw Error("Property "+d.$l[m.Sj]+" of "+d.x+" is read-only.")}}(i,u)})}}}i={$l:i.$l,x:i.x}}}};function Ie(){}Ie.prototype.reset=function(){},Ie.prototype.next=function(){return!1},Ie.prototype.Ad=function(){return!1},Ie.prototype.first=function(){return null},Ie.prototype.any=function(){return!1},Ie.prototype.all=function(){return!0},Ie.prototype.each=function(){return this},Ie.prototype.map=function(){return this},Ie.prototype.filter=function(){return this},Ie.prototype.de=function(){},Ie.prototype.toString=function(){return"EmptyIterator"},S.Object.defineProperties(Ie.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Ie.prototype.first=Ie.prototype.first,Ie.prototype.hasNext=Ie.prototype.Ad,Ie.prototype.next=Ie.prototype.next,Ie.prototype.reset=Ie.prototype.reset;var fi=null;Ie.className="EmptyIterator",fi=new Ie;function Xe(t){this.key=-1,this.value=t}Xe.prototype.reset=function(){this.key=-1},Xe.prototype.next=function(){return this.key===-1?(this.key=0,!0):!1},Xe.prototype.Ad=function(){return this.next()},Xe.prototype.first=function(){return this.key=0,this.value},Xe.prototype.any=function(t){return this.key=-1,t(this.value)},Xe.prototype.all=function(t){return this.key=-1,t(this.value)},Xe.prototype.each=function(t){return this.key=-1,t(this.value),this},Xe.prototype.map=function(t){return new Xe(t(this.value))},Xe.prototype.filter=function(t){return t(this.value)?new Xe(this.value):fi},Xe.prototype.de=function(){this.value=null},Xe.prototype.toString=function(){return"SingletonIterator("+this.value+")"},S.Object.defineProperties(Xe.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Xe.prototype.first=Xe.prototype.first,Xe.prototype.hasNext=Xe.prototype.Ad,Xe.prototype.next=Xe.prototype.next,Xe.prototype.reset=Xe.prototype.reset,Xe.className="SingletonIterator";function ti(t){this.Cb=t,this.qf=null,t.Sa=null,this.qa=t.Ja,this.Za=-1}ti.prototype.reset=function(){var t=this.Cb;t.Sa=null,this.qa=t.Ja,this.Za=-1},ti.prototype.next=function(){var t=this.Cb;if(t.Ja!==this.qa&&0>this.key)return!1;t=t.s;var i=t.length,s=++this.Za,l=this.qf;if(l!==null)for(;s<i;){var u=t[s];if(l(u))return this.key=this.Za=s,this.value=u,!0;s++}else{if(s<i)return this.key=s,this.value=t[s],!0;this.de()}return!1},ti.prototype.Ad=function(){return this.next()},ti.prototype.first=function(){var t=this.Cb;this.qa=t.Ja,this.Za=0,t=t.s;var i=t.length,s=this.qf;if(s!==null){for(var l=0;l<i;){var u=t[l];if(s(u))return this.key=this.Za=l,this.value=u;l++}return null}return 0<i?(t=t[0],this.key=0,this.value=t):null},ti.prototype.any=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];if((l===null||l(c))&&t(c))return!0}return!1},ti.prototype.all=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];if((l===null||l(c))&&!t(c))return!1}return!0},ti.prototype.each=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];(l===null||l(c))&&t(c)}return this},ti.prototype.map=function(t){var i=this.Cb;i.Sa=null,this.Za=-1;var s=[];i=i.s;for(var l=i.length,u=this.qf,c=0;c<l;c++){var d=i[c];(u===null||u(d))&&s.push(t(d))}return t=new ct,t.s=s,t.yb(),t.iterator},ti.prototype.filter=function(t){var i=this.Cb;i.Sa=null,this.Za=-1;var s=[];i=i.s;for(var l=i.length,u=this.qf,c=0;c<l;c++){var d=i[c];(u===null||u(d))&&t(d)&&s.push(d)}return t=new ct,t.s=s,t.yb(),t.iterator},ti.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.qf=null,this.Cb.Sa=this},ti.prototype.toString=function(){return"ListIterator@"+this.Za+"/"+this.Cb.count},S.Object.defineProperties(ti.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.qf},set:function(t){this.qf=t}},count:{get:function(){var t=this.qf;if(t!==null){for(var i=0,s=this.Cb.s,l=s.length,u=0;u<l;u++)t(s[u])&&i++;return i}return this.Cb.s.length}}}),ti.prototype.first=ti.prototype.first,ti.prototype.hasNext=ti.prototype.Ad,ti.prototype.next=ti.prototype.next,ti.prototype.reset=ti.prototype.reset,ti.className="ListIterator";function Oi(t){this.Cb=t,t.Hg=null,this.qa=t.Ja,this.Za=t.s.length}Oi.prototype.reset=function(){var t=this.Cb;t.Hg=null,this.qa=t.Ja,this.Za=t.s.length},Oi.prototype.next=function(){var t=this.Cb;if(t.Ja!==this.qa&&0>this.key)return!1;var i=--this.Za;return 0<=i?(this.key=i,this.value=t.s[i],!0):(this.de(),!1)},Oi.prototype.Ad=function(){return this.next()},Oi.prototype.first=function(){var t=this.Cb;this.qa=t.Ja;var i=t.s;return this.Za=t=i.length-1,0<=t?(i=i[t],this.key=t,this.value=i):null},Oi.prototype.any=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)if(t(i[s]))return!0;return!1},Oi.prototype.all=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)if(!t(i[s]))return!1;return!0},Oi.prototype.each=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)t(i[s]);return this},Oi.prototype.map=function(t){var i=this.Cb;i.Hg=null;var s=[];i=i.s;var l=i.length;for(this.Za=l,--l;0<=l;l--)s.push(t(i[l]));return t=new ct,t.s=s,t.yb(),t.iterator},Oi.prototype.filter=function(t){var i=this.Cb;i.Hg=null;var s=[];i=i.s;var l=i.length;for(this.Za=l,--l;0<=l;l--){var u=i[l];t(u)&&s.push(u)}return t=new ct,t.s=s,t.yb(),t.iterator},Oi.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.Cb.Hg=this},Oi.prototype.toString=function(){return"ListIteratorBackwards("+this.Za+"/"+this.Cb.count+")"},S.Object.defineProperties(Oi.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Cb.s.length}}}),Oi.prototype.first=Oi.prototype.first,Oi.prototype.hasNext=Oi.prototype.Ad,Oi.prototype.next=Oi.prototype.next,Oi.prototype.reset=Oi.prototype.reset,Oi.className="ListIteratorBackwards";function ct(t){Ye(this),this._isFrozen=!1,this.s=[],this.Ja=0,this.Hg=this.Sa=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=ct.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"List()#"+Qi(this)},n.add=function(t){return t===null?this:(this._isFrozen&&X(this,t),this.s.push(t),this.yb(),this)},n.push=function(t){this.add(t)},n.addAll=function(t){if(t===null)return this;this._isFrozen&&X(this);var i=this.s;if(rt(t))for(var s=t.length,l=0;l<s;l++)i.push(t[l]);else for(t=t.iterator;t.next();)i.push(t.value);return this.yb(),this},n.clear=function(){this._isFrozen&&X(this),this.s.length=0,this.yb()},n.contains=function(t){return t===null?!1:this.s.indexOf(t)!==-1},n.has=function(t){return this.contains(t)},n.indexOf=function(t){return t===null?-1:this.s.indexOf(t)},n.M=function(t){var i=this.s;return(0>t||t>=i.length)&&W(t,"0 <= i < length",ct,"elt:i"),i[t]},n.get=function(t){return this.M(t)},n.cd=function(t,i){var s=this.s;(0>t||t>=s.length)&&W(t,"0 <= i < length",ct,"setElt:i"),this._isFrozen&&X(this,t),s[t]=i},n.set=function(t,i){this.cd(t,i)},n.first=function(){var t=this.s;return t.length===0?null:t[0]},n.lc=function(){var t=this.s,i=t.length;return 0<i?t[i-1]:null},n.pop=function(){this._isFrozen&&X(this);var t=this.s;return 0<t.length?t.pop():null},ct.prototype.any=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)if(t(i[l]))return!0;return!1},ct.prototype.all=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)if(!t(i[l]))return!1;return!0},ct.prototype.each=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)t(i[l]);return this},ct.prototype.map=function(t){for(var i=new ct,s=[],l=this.s,u=l.length,c=0;c<u;c++)s.push(t(l[c]));return i.s=s,i.yb(),i},ct.prototype.filter=function(t){for(var i=new ct,s=[],l=this.s,u=l.length,c=0;c<u;c++){var d=l[c];t(d)&&s.push(d)}return i.s=s,i.yb(),i},n=ct.prototype,n.Hb=function(t,i){0>t&&W(t,">= 0",ct,"insertAt:i"),this._isFrozen&&X(this,t);var s=this.s;t>=s.length?s.push(i):s.splice(t,0,i),this.yb()},n.remove=function(t){if(t===null)return!1;this._isFrozen&&X(this,t);var i=this.s;return t=i.indexOf(t),t===-1?!1:(t===i.length-1?i.pop():i.splice(t,1),this.yb(),!0)},n.delete=function(t){return this.remove(t)},n.mb=function(t){var i=this.s;(0>t||t>=i.length)&&W(t,"0 <= i < length",ct,"removeAt:i"),this._isFrozen&&X(this,t),t===i.length-1?i.pop():i.splice(t,1),this.yb()},n.removeRange=function(t,i){var s=this.s,l=s.length;if(0>t)t=0;else if(t>=l)return this;if(0>i)return this;if(i>=l&&(i=l-1),t>i)return this;this._isFrozen&&X(this);for(var u=t,c=i+1;c<l;)s[u++]=s[c++];return s.length=l-(i-t+1),this.yb(),this},ct.prototype.copy=function(){var t=new ct,i=this.s;return 0<i.length&&(t.s=Array.prototype.slice.call(i)),t},n=ct.prototype,n.Fa=function(){for(var t=this.s,i=this.count,s=Array(i),l=0;l<i;l++)s[l]=t[l];return s},n.Kv=function(){for(var t=new ut,i=this.s,s=this.count,l=0;l<s;l++)t.add(i[l]);return t},n.sort=function(t){return this._isFrozen&&X(this),this.s.sort(t),this.yb(),this},n.Ai=function(t,i,s){var l=this.s,u=l.length;i===void 0&&(i=0),s===void 0&&(s=u),this._isFrozen&&X(this);var c=s-i;if(1>=c)return this;if((0>i||i>=u-1)&&W(i,"0 <= from < length",ct,"sortRange:from"),c===2)return s=l[i],u=l[i+1],0<t(s,u)&&(l[i]=u,l[i+1]=s,this.yb()),this;if(i===0)if(s>=u)l.sort(t);else for(i=l.slice(0,s),i.sort(t),t=0;t<s;t++)l[t]=i[t];else if(s>=u)for(s=l.slice(i),s.sort(t),t=i;t<u;t++)l[t]=s[t-i];else for(u=l.slice(i,s),u.sort(t),t=i;t<s;t++)l[t]=u[t-i];return this.yb(),this},n.reverse=function(){return this._isFrozen&&X(this),this.s.reverse(),this.yb(),this},S.Object.defineProperties(ct.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return fi;var t=this.Sa;return t!==null?(t.reset(),t):new ti(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return fi;var t=this.Hg;return t!==null?(t.reset(),t):new Oi(this)}}}),ct.prototype.reverse=ct.prototype.reverse,ct.prototype.sortRange=ct.prototype.Ai,ct.prototype.sort=ct.prototype.sort,ct.prototype.toSet=ct.prototype.Kv,ct.prototype.toArray=ct.prototype.Fa,ct.prototype.removeRange=ct.prototype.removeRange,ct.prototype.removeAt=ct.prototype.mb,ct.prototype.delete=ct.prototype.delete,ct.prototype.remove=ct.prototype.remove,ct.prototype.insertAt=ct.prototype.Hb,ct.prototype.pop=ct.prototype.pop,ct.prototype.last=ct.prototype.lc,ct.prototype.first=ct.prototype.first,ct.prototype.set=ct.prototype.set,ct.prototype.setElt=ct.prototype.cd,ct.prototype.get=ct.prototype.get,ct.prototype.elt=ct.prototype.M,ct.prototype.indexOf=ct.prototype.indexOf,ct.prototype.has=ct.prototype.has,ct.prototype.contains=ct.prototype.contains,ct.prototype.clear=ct.prototype.clear,ct.prototype.addAll=ct.prototype.addAll,ct.prototype.push=ct.prototype.push,ct.prototype.add=ct.prototype.add,ct.prototype.thaw=ct.prototype.ka,ct.prototype.freeze=ct.prototype.freeze,ct.className="List";function gi(t){this.eg=t,t.Sa=null,this.qa=t.Ja,this.sa=null}gi.prototype.reset=function(){var t=this.eg;t.Sa=null,this.qa=t.Ja,this.sa=null},gi.prototype.next=function(){var t=this.eg;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=i.value,this.key=i.key,!0):(this.de(),!1)},gi.prototype.Ad=function(){return this.next()},gi.prototype.first=function(){var t=this.eg;if(this.qa=t.Ja,t=t.ea,t!==null){this.sa=t;var i=t.value;return this.key=t.key,this.value=i}return null},gi.prototype.any=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},gi.prototype.all=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},gi.prototype.each=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;)t(i.value),i=i.va;return this},gi.prototype.map=function(t){var i=this.eg;i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.value)),i=i.va;return s.iterator},gi.prototype.filter=function(t){var i=this.eg;i.Sa=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.value;t(l)&&s.add(l),i=i.va}return s.iterator},gi.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.eg.Sa=this},gi.prototype.toString=function(){return this.sa!==null?"SetIterator@"+this.sa.value:"SetIterator"},S.Object.defineProperties(gi.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.eg.Ub}}}),gi.prototype.first=gi.prototype.first,gi.prototype.hasNext=gi.prototype.Ad,gi.prototype.next=gi.prototype.next,gi.prototype.reset=gi.prototype.reset,gi.className="SetIterator";function ut(t){Ye(this),this._isFrozen=!1,this.Vb={},this.Ub=0,this.Sa=null,this.Ja=0,this.kf=this.ea=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=ut.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"Set()#"+Qi(this)},n.add=function(t){if(t===null)return this;this._isFrozen&&X(this,t);var i=t;return tt(t)&&(i=ws(t)),this.Vb[i]===void 0&&(this.Ub++,t=new Zo(t,t),this.Vb[i]=t,i=this.kf,i===null?this.ea=t:(t.ll=i,i.va=t),this.kf=t,this.yb()),this},n.addAll=function(t){if(t===null)return this;if(this._isFrozen&&X(this),rt(t))for(var i=t.length,s=0;s<i;s++)this.add(t[s]);else for(t=t.iterator;t.next();)this.add(t.value);return this},n.contains=function(t){if(t===null)return!1;var i=t;return tt(t)&&(i=Qi(t),i===void 0)?!1:this.Vb[i]!==void 0},n.has=function(t){return this.contains(t)},n.Xy=function(t){if(t===null)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},n.Yy=function(t){if(t===null)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},n.first=function(){var t=this.ea;return t===null?null:t.value},ut.prototype.any=function(t){for(var i=this.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},ut.prototype.all=function(t){for(var i=this.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},ut.prototype.each=function(t){for(var i=this.ea;i!==null;)t(i.value),i=i.va;return this},ut.prototype.map=function(t){for(var i=new ut,s=this.ea;s!==null;)i.add(t(s.value)),s=s.va;return i},ut.prototype.filter=function(t){for(var i=new ut,s=this.ea;s!==null;){var l=s.value;t(l)&&i.add(l),s=s.va}return i},n=ut.prototype,n.remove=function(t){if(t===null)return!1;this._isFrozen&&X(this,t);var i=t;if(tt(t)&&(i=Qi(t),i===void 0)||(t=this.Vb[i],t===void 0))return!1;var s=t.va,l=t.ll;return s!==null&&(s.ll=l),l!==null&&(l.va=s),this.ea===t&&(this.ea=s),this.kf===t&&(this.kf=l),delete this.Vb[i],this.Ub--,this.yb(),!0},n.delete=function(t){return this.remove(t)},n.hp=function(t){if(t===null)return this;if(this._isFrozen&&X(this),rt(t))for(var i=t.length,s=0;s<i;s++)this.remove(t[s]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},n.tA=function(t){if(t===null||this.count===0)return this;this._isFrozen&&X(this);var i=new ut;i.addAll(t),t=[];for(var s=this.iterator;s.next();){var l=s.value;i.contains(l)||t.push(l)}return this.hp(t),this},n.clear=function(){this._isFrozen&&X(this),this.Vb={},this.Ub=0,this.Sa!==null&&this.Sa.reset(),this.kf=this.ea=null,this.yb()},ut.prototype.copy=function(){var t=new ut,i=this.Vb,s;for(s in i)t.add(i[s].value);return t},ut.prototype.Fa=function(){var t=Array(this.Ub),i=this.Vb,s=0,l;for(l in i)t[s]=i[l].value,s++;return t},ut.prototype.Jv=function(){var t=new ct,i=this.Vb,s;for(s in i)t.add(i[s].value);return t};function Ye(t){t.__gohashid=pn++}function ws(t){var i=t.__gohashid;return i===void 0&&(i=pn++,t.__gohashid=i),i}function Qi(t){return t.__gohashid}S.Object.defineProperties(ut.prototype,{count:{get:function(){return this.Ub}},size:{get:function(){return this.Ub}},iterator:{get:function(){if(0>=this.Ub)return fi;var t=this.Sa;return t!==null?(t.reset(),t):new gi(this)}}}),ut.prototype.toList=ut.prototype.Jv,ut.prototype.toArray=ut.prototype.Fa,ut.prototype.clear=ut.prototype.clear,ut.prototype.retainAll=ut.prototype.tA,ut.prototype.removeAll=ut.prototype.hp,ut.prototype.delete=ut.prototype.delete,ut.prototype.remove=ut.prototype.remove,ut.prototype.first=ut.prototype.first,ut.prototype.containsAny=ut.prototype.Yy,ut.prototype.containsAll=ut.prototype.Xy,ut.prototype.has=ut.prototype.has,ut.prototype.contains=ut.prototype.contains,ut.prototype.addAll=ut.prototype.addAll,ut.prototype.add=ut.prototype.add,ut.prototype.thaw=ut.prototype.ka,ut.prototype.freeze=ut.prototype.freeze;var pn=1;ut.className="Set",ut.uniqueHash=Ye,ut.hashIdUnique=ws,ut.hashId=Qi;function Ei(t){this.ma=t,this.qa=t.Ja,this.sa=null}Ei.prototype.reset=function(){this.qa=this.ma.Ja,this.sa=null},Ei.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=this.key=t=i.key,!0):(this.de(),!1)},Ei.prototype.Ad=function(){return this.next()},Ei.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,t=t.ea,t!==null?(this.sa=t,this.value=this.key=t=t.key):null},Ei.prototype.any=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;){if(t(i.key))return!0;i=i.va}return!1},Ei.prototype.all=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;){if(!t(i.key))return!1;i=i.va}return!0},Ei.prototype.each=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;)t(i.key),i=i.va;return this},Ei.prototype.map=function(t){var i=this.ma;this.sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.key)),i=i.va;return s.iterator},Ei.prototype.filter=function(t){var i=this.ma;this.sa=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.key;t(l)&&s.add(l),i=i.va}return s.iterator},Ei.prototype.de=function(){this.value=this.key=null,this.qa=-1},Ei.prototype.toString=function(){return this.sa!==null?"MapKeySetIterator@"+this.sa.value:"MapKeySetIterator"},S.Object.defineProperties(Ei.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Ub}}}),Ei.prototype.first=Ei.prototype.first,Ei.prototype.hasNext=Ei.prototype.Ad,Ei.prototype.next=Ei.prototype.next,Ei.prototype.reset=Ei.prototype.reset,Ei.className="MapKeySetIterator";function Ae(t){ut.call(this),Ye(this),this._isFrozen=!0,this.ma=t}v(Ae,ut),n=Ae.prototype,n.freeze=function(){return this},n.ka=function(){return this},n.toString=function(){return"MapKeySet("+this.ma.toString()+")"},n.add=function(){D("This Set is read-only: "+this.toString())},n.contains=function(t){return this.ma.contains(t)},n.has=function(t){return this.contains(t)},n.remove=function(){D("This Set is read-only: "+this.toString())},n.delete=function(t){return this.remove(t)},n.clear=function(){D("This Set is read-only: "+this.toString())},n.first=function(){var t=this.ma.ea;return t!==null?t.key:null},Ae.prototype.any=function(t){for(var i=this.ma.ea;i!==null;){if(t(i.key))return!0;i=i.va}return!1},Ae.prototype.all=function(t){for(var i=this.ma.ea;i!==null;){if(!t(i.key))return!1;i=i.va}return!0},Ae.prototype.each=function(t){for(var i=this.ma.ea;i!==null;)t(i.key),i=i.va;return this},Ae.prototype.map=function(t){for(var i=new ut,s=this.ma.ea;s!==null;)i.add(t(s.key)),s=s.va;return i},Ae.prototype.filter=function(t){for(var i=new ut,s=this.ma.ea;s!==null;){var l=s.key;t(l)&&i.add(l),s=s.va}return i},Ae.prototype.copy=function(){return new Ae(this.ma)},Ae.prototype.Kv=function(){var t=new ut,i=this.ma.Vb,s;for(s in i)t.add(i[s].key);return t},Ae.prototype.Fa=function(){var t=this.ma.Vb,i=Array(this.ma.Ub),s=0,l;for(l in t)i[s]=t[l].key,s++;return i},Ae.prototype.Jv=function(){var t=new ct,i=this.ma.Vb,s;for(s in i)t.add(i[s].key);return t},S.Object.defineProperties(Ae.prototype,{count:{get:function(){return this.ma.Ub}},size:{get:function(){return this.ma.Ub}},iterator:{get:function(){return 0>=this.ma.Ub?fi:new Ei(this.ma)}}}),Ae.prototype.toList=Ae.prototype.Jv,Ae.prototype.toArray=Ae.prototype.Fa,Ae.prototype.toSet=Ae.prototype.Kv,Ae.prototype.first=Ae.prototype.first,Ae.prototype.clear=Ae.prototype.clear,Ae.prototype.delete=Ae.prototype.delete,Ae.prototype.remove=Ae.prototype.remove,Ae.prototype.has=Ae.prototype.has,Ae.prototype.contains=Ae.prototype.contains,Ae.prototype.add=Ae.prototype.add,Ae.prototype.thaw=Ae.prototype.ka,Ae.prototype.freeze=Ae.prototype.freeze,Ae.className="MapKeySet";function _e(t){this.ma=t,t.jf=null,this.qa=t.Ja,this.sa=null}_e.prototype.reset=function(){var t=this.ma;t.jf=null,this.qa=t.Ja,this.sa=null},_e.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=i.value,this.key=i.key,!0):(this.de(),!1)},_e.prototype.Ad=function(){return this.next()},_e.prototype.first=function(){var t=this.ma;if(this.qa=t.Ja,t=t.ea,t!==null){this.sa=t;var i=t.value;return this.key=t.key,this.value=i}return null},_e.prototype.any=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},_e.prototype.all=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},_e.prototype.each=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;)t(i.value),i=i.va;return this},_e.prototype.map=function(t){var i=this.ma;this.sa=i.jf=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.value)),i=i.va;return s.iterator},_e.prototype.filter=function(t){var i=this.ma;this.sa=i.jf=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.value;t(l)&&s.add(l),i=i.va}return s.iterator},_e.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.jf=this},_e.prototype.toString=function(){return this.sa!==null?"MapValueSetIterator@"+this.sa.value:"MapValueSetIterator"},S.Object.defineProperties(_e.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Ub}}}),_e.prototype.first=_e.prototype.first,_e.prototype.hasNext=_e.prototype.Ad,_e.prototype.next=_e.prototype.next,_e.prototype.reset=_e.prototype.reset,_e.className="MapValueSetIterator";function Zo(t,i){this.key=t,this.value=i,this.ll=this.va=null}Zo.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Zo.className="KeyValuePair";function Ui(t){this.ma=t,t.Sa=null,this.qa=t.Ja,this.sa=null}Ui.prototype.reset=function(){var t=this.ma;t.Sa=null,this.qa=t.Ja,this.sa=null},Ui.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.key=i.key,this.value=i.value,!0):(this.de(),!1)},Ui.prototype.Ad=function(){return this.next()},Ui.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,t=t.ea,t!==null?(this.sa=t,this.key=t.key,this.value=t.value,t):null},Ui.prototype.any=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(t(i))return!0;i=i.va}return!1},Ui.prototype.all=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(!t(i))return!1;i=i.va}return!0},Ui.prototype.each=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;)t(i),i=i.va;return this},Ui.prototype.map=function(t){var i=this.ma;this.sa=i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i)),i=i.va;return s.iterator},Ui.prototype.filter=function(t){var i=this.ma;this.sa=i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)t(i)&&s.add(i),i=i.va;return s.iterator},Ui.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.Sa=this},Ui.prototype.toString=function(){return this.sa!==null?"MapIterator@"+this.sa:"MapIterator"},S.Object.defineProperties(Ui.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Ub}}}),Ui.prototype.first=Ui.prototype.first,Ui.prototype.hasNext=Ui.prototype.Ad,Ui.prototype.next=Ui.prototype.next,Ui.prototype.reset=Ui.prototype.reset,Ui.className="MapIterator";function jt(t){Ye(this),this._isFrozen=!1,this.Vb={},this.Ub=0,this.jf=this.Sa=null,this.Ja=0,this.kf=this.ea=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=jt.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"Map()#"+Qi(this)},n.add=function(t,i){this._isFrozen&&X(this,t);var s=t;tt(t)&&(s=ws(t));var l=this.Vb[s];return l===void 0?(this.Ub++,t=new Zo(t,i),this.Vb[s]=t,s=this.kf,s===null?this.ea=t:(t.ll=s,s.va=t),this.kf=t,this.yb()):l.value=i,this},n.set=function(t,i){return this.add(t,i)},n.addAll=function(t){if(t===null)return this;if(rt(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];this.add(l.key,l.value)}else if(t instanceof jt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)i=t.value,this.add(i.key,i.value);return this},n.first=function(){return this.ea},jt.prototype.any=function(t){for(var i=this.ea;i!==null;){if(t(i))return!0;i=i.va}return!1},jt.prototype.all=function(t){for(var i=this.ea;i!==null;){if(!t(i))return!1;i=i.va}return!0},jt.prototype.each=function(t){for(var i=this.ea;i!==null;)t(i),i=i.va;return this},jt.prototype.map=function(t){for(var i=new jt,s=this.ea;s!==null;)i.add(s.key,t(s)),s=s.va;return i},jt.prototype.filter=function(t){for(var i=new jt,s=this.ea;s!==null;)t(s)&&i.add(s.key,s.value),s=s.va;return i},n=jt.prototype,n.contains=function(t){var i=t;return tt(t)&&(i=Qi(t),i===void 0)?!1:this.Vb[i]!==void 0},n.has=function(t){return this.contains(t)},n.I=function(t){var i=t;return tt(t)&&(i=Qi(t),i===void 0)?null:(t=this.Vb[i],t===void 0?null:t.value)},n.get=function(t){return this.I(t)},n.remove=function(t){if(t===null)return!1;this._isFrozen&&X(this,t);var i=t;if(tt(t)&&(i=Qi(t),i===void 0)||(t=this.Vb[i],t===void 0))return!1;var s=t.va,l=t.ll;return s!==null&&(s.ll=l),l!==null&&(l.va=s),this.ea===t&&(this.ea=s),this.kf===t&&(this.kf=l),delete this.Vb[i],this.Ub--,this.yb(),!0},n.delete=function(t){return this.remove(t)},n.clear=function(){this._isFrozen&&X(this),this.Vb={},this.Ub=0,this.Sa!==null&&this.Sa.reset(),this.jf!==null&&this.jf.reset(),this.kf=this.ea=null,this.yb()},jt.prototype.copy=function(){var t=new jt,i=this.Vb,s;for(s in i){var l=i[s];t.add(l.key,l.value)}return t},jt.prototype.Fa=function(){var t=this.Vb,i=Array(this.Ub),s=0,l;for(l in t){var u=t[l];i[s]=new Zo(u.key,u.value),s++}return i},jt.prototype.Lf=function(){return new Ae(this)},S.Object.defineProperties(jt.prototype,{count:{get:function(){return this.Ub}},size:{get:function(){return this.Ub}},iterator:{get:function(){if(0>=this.count)return fi;var t=this.Sa;return t!==null?(t.reset(),t):new Ui(this)}},iteratorKeys:{get:function(){return 0>=this.count?fi:new Ei(this)}},iteratorValues:{get:function(){if(0>=this.count)return fi;var t=this.jf;return t!==null?(t.reset(),t):new _e(this)}}}),jt.prototype.toKeySet=jt.prototype.Lf,jt.prototype.toArray=jt.prototype.Fa,jt.prototype.clear=jt.prototype.clear,jt.prototype.delete=jt.prototype.delete,jt.prototype.remove=jt.prototype.remove,jt.prototype.get=jt.prototype.get,jt.prototype.getValue=jt.prototype.I,jt.prototype.has=jt.prototype.has,jt.prototype.contains=jt.prototype.contains,jt.prototype.first=jt.prototype.first,jt.prototype.addAll=jt.prototype.addAll,jt.prototype.set=jt.prototype.set,jt.prototype.add=jt.prototype.add,jt.prototype.thaw=jt.prototype.ka,jt.prototype.freeze=jt.prototype.freeze,jt.className="Map";function F(t,i){t===void 0?this.y=this.x=0:typeof t=="number"&&typeof i=="number"?(this.x=t,this.y=i):D("Invalid arguments to Point constructor: "+t+", "+i),this._isFrozen=!1}var po,Wd,hf,wa,cf;F.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},F.prototype.h=function(t,i){return this.x=t,this.y=i,this},F.prototype.sg=function(t,i){return this.x=t,this.y=i,this},F.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},F.prototype.copy=function(){var t=new F;return t.x=this.x,t.y=this.y,t},n=F.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function Tu(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;return(l=t[i++])&&(u=parseFloat(l)),new F(s,u)}return new F}function bx(t){return t.x.toString()+" "+t.y.toString()}n.toString=function(){return"Point("+this.x+","+this.y+")"},n.D=function(t){return t instanceof F?this.x===t.x&&this.y===t.y:!1},n.ii=function(t,i){return this.x===t&&this.y===i},n.Xa=function(t){return Y.B(this.x,t.x)&&Y.B(this.y,t.y)},n.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.re=function(t){return this.x-=t.x,this.y-=t.y,this},n.offset=function(t,i){return this.x+=t,this.y+=i,this},F.prototype.rotate=function(t){if(t===0)return this;var i=this.x,s=this.y;if(i===0&&s===0)return this;if(360<=t?t-=360:0>t&&(t+=360),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));return this.x=t*i-l*s,this.y=l*i+t*s,this},n=F.prototype,n.scale=function(t,i){return this.x*=t,this.y*=i,this},n.Bf=function(t){var i=t.x-this.x;return t=t.y-this.y,i*i+t*t},n.zd=function(t,i){return t-=this.x,i-=this.y,t*t+i*i},n.normalize=function(){var t=this.x,i=this.y,s=Math.sqrt(t*t+i*i);return 0<s&&(this.x=t/s,this.y=i/s),this},n.ab=function(t){return Tx(t.x-this.x,t.y-this.y)},n.direction=function(t,i){return Tx(t-this.x,i-this.y)};function Tx(t,i){if(t===0)return 0<i?90:0>i?270:0;if(i===0)return 0<t?0:180;if(isNaN(t)||isNaN(i))return 0;var s=180*Math.atan(Math.abs(i/t))/Math.PI;return 0>t?s=0>i?s+180:180-s:0>i&&(s=360-s),s}n.Wy=function(t,i){return Y.Fl(t.x,t.y,i.x,i.y,this.x,this.y)},n.jA=function(t,i,s,l){return Y.qh(t,i,s,l,this.x,this.y,this),this},n.kA=function(t,i){return Y.qh(t.x,t.y,i.x,i.y,this.x,this.y,this),this},n.yA=function(t,i,s,l){return Y.Oo(this.x,this.y,t,i,s,l,this),this},n.zA=function(t,i){return Y.Oo(this.x,this.y,t.x,t.y,i.width,i.height,this),this},n.yi=function(t,i){return this.x=t.x+i.x*t.width+i.offsetX,this.y=t.y+i.y*t.height+i.offsetY,this},n.zi=function(t,i,s,l,u){return this.x=t+u.x*s+u.offsetX,this.y=i+u.y*l+u.offsetY,this},n.transform=function(t){return t.Ga(this),this};function $i(t,i){return i.Cd(t),t}function Di(t,i,s,l,u,c){var d=u-s,m=c-l,y=d*d+m*m;s-=t,l-=i;var O=-s*d-l*m;return 0>=O||O>=y?(d=u-t,m=c-i,Math.min(s*s+l*l,d*d+m*m)):(t=d*l-m*s,t*t/y)}function mo(t,i,s,l){return t=s-t,i=l-i,t*t+i*i}function ff(t,i,s,l){return t=s-t,i=l-i,t===0?0<i?90:0>i?270:0:i===0?0<t?0:180:isNaN(t)||isNaN(i)?0:(l=180*Math.atan(Math.abs(i/t))/Math.PI,0>t?l=0>i?l+180:180-l:0>i&&(l=360-l),l)}n.w=function(){return isFinite(this.x)&&isFinite(this.y)},F.alloc=function(){var t=Yo.pop();return t===void 0?new F:t},F.allocAt=function(t,i){var s=Yo.pop();return s===void 0?new F(t,i):(s.x=t,s.y=i,s)},F.free=function(t){Yo.push(t)},F.prototype.isReal=F.prototype.w,F.prototype.setSpot=F.prototype.zi,F.prototype.setRectSpot=F.prototype.yi,F.prototype.snapToGridPoint=F.prototype.zA,F.prototype.snapToGrid=F.prototype.yA,F.prototype.projectOntoLineSegmentPoint=F.prototype.kA,F.prototype.projectOntoLineSegment=F.prototype.jA,F.intersectingLineSegments=function(t,i,s,l,u,c,d,m){return Y.Rl(t,i,s,l,u,c,d,m)},F.prototype.compareWithLineSegmentPoint=F.prototype.Wy,F.compareWithLineSegment=function(t,i,s,l,u,c){return Y.Fl(t,i,s,l,u,c)},F.prototype.direction=F.prototype.direction,F.prototype.directionPoint=F.prototype.ab,F.prototype.normalize=F.prototype.normalize,F.prototype.distanceSquared=F.prototype.zd,F.prototype.distanceSquaredPoint=F.prototype.Bf,F.prototype.scale=F.prototype.scale,F.prototype.rotate=F.prototype.rotate,F.prototype.offset=F.prototype.offset,F.prototype.subtract=F.prototype.re,F.prototype.add=F.prototype.add,F.prototype.equalsApprox=F.prototype.Xa,F.prototype.equalTo=F.prototype.ii,F.prototype.equals=F.prototype.D,F.prototype.set=F.prototype.set,F.prototype.setTo=F.prototype.sg;var Yo=[];F.className="Point",F.parse=Tu,F.stringify=bx,F.distanceLineSegmentSquared=Di,F.distanceSquared=mo,F.direction=ff,F.Origin=po=new F(0,0).ja(),F.InfiniteTopLeft=Wd=new F(-1/0,-1/0).ja(),F.InfiniteBottomRight=hf=new F(1/0,1/0).ja(),F.SixPoint=wa=new F(6,6).ja(),F.NoPoint=cf=new F(NaN,NaN).ja(),F.parse=Tu,F.stringify=bx,F.distanceLineSegmentSquared=Di,F.distanceSquared=mo,F.direction=ff;function At(t,i){t===void 0?this.height=this.width=0:typeof t=="number"&&(0<=t||isNaN(t))&&typeof i=="number"&&(0<=i||isNaN(i))?(this.width=t,this.height=i):D("Invalid arguments to Size constructor: "+t+", "+i),this._isFrozen=!1}var Cu,df,qd,ge,Cn,Vn,fr;At.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},At.prototype.h=function(t,i){return this.width=t,this.height=i,this},At.prototype.sg=function(t,i){return this.width=t,this.height=i,this},At.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},At.prototype.copy=function(){var t=new At;return t.width=this.width,t.height=this.height,t},n=At.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function pf(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;return(l=t[i++])&&(u=parseFloat(l)),new At(s,u)}return new At}function zn(t){return t.width.toString()+" "+t.height.toString()}n.toString=function(){return"Size("+this.width+","+this.height+")"},n.D=function(t){return t instanceof At?this.width===t.width&&this.height===t.height:!1},n.ii=function(t,i){return this.width===t&&this.height===i},n.Xa=function(t){return Y.B(this.width,t.width)&&Y.B(this.height,t.height)},n.Bc=function(t,i){return t=this.width+t,this.width=0<=t?t:0,i=this.height+i,this.height=0<=i?i:0,this},n.w=function(){return isFinite(this.width)&&isFinite(this.height)},At.alloc=function(){var t=Ss.pop();return t===void 0?new At:t},At.free=function(t){Ss.push(t)},At.prototype.isReal=At.prototype.w,At.prototype.inflate=At.prototype.Bc,At.prototype.equalsApprox=At.prototype.Xa,At.prototype.equalTo=At.prototype.ii,At.prototype.equals=At.prototype.D,At.prototype.set=At.prototype.set,At.prototype.setTo=At.prototype.sg;var Ss=[];At.className="Size",At.parse=pf,At.stringify=zn,At.ZeroSize=Cu=new At(0,0).ja(),At.OneSize=df=new At(1,1).ja(),At.SixSize=qd=new At(6,6).ja(),At.EightSize=ge=new At(8,8).ja(),At.TenSize=Cn=new At(10,10).ja(),At.InfiniteSize=Vn=new At(1/0,1/0).ja(),At.NoSize=fr=new At(NaN,NaN).ja(),At.parse=pf,At.stringify=zn;function J(t,i,s,l){t===void 0?this.height=this.width=this.y=this.x=0:typeof t=="number"&&typeof i=="number"&&typeof s=="number"&&(0<=s||isNaN(s))&&typeof l=="number"&&(0<=l||isNaN(l))?(this.x=t,this.y=i,this.width=s,this.height=l):t instanceof F?(s=t.x,t=t.y,i instanceof F?(l=i.x,i=i.y,this.x=Math.min(s,l),this.y=Math.min(t,i),this.width=Math.abs(s-l),this.height=Math.abs(t-i)):i instanceof At?(this.x=s,this.y=t,this.width=i.width,this.height=i.height):D("Incorrect second argument supplied to Rect constructor "+i)):D("Invalid arguments to Rect constructor: "+t+", "+i+", "+s+", "+l),this._isFrozen=!1}n=J.prototype,n.assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.h=function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this};function Ji(t,i,s){t.width=i,t.height=s}n.sg=function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this},n.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.dd=function(t){return this.x=t.x,this.y=t.y,this},n.xA=function(t){return this.width=t.width,this.height=t.height,this},J.prototype.copy=function(){var t=new J;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n=J.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function Bs(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;(l=t[i++])&&(u=parseFloat(l));for(var c=0;t[i]==="";)i++;(l=t[i++])&&(c=parseFloat(l));for(var d=0;t[i]==="";)i++;return(l=t[i++])&&(d=parseFloat(l)),new J(s,u,c,d)}return new J}function hy(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}n.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},n.D=function(t){return t instanceof J?this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1},n.ii=function(t,i,s,l){return this.x===t&&this.y===i&&this.width===s&&this.height===l},n.Xa=function(t){return Y.B(this.x,t.x)&&Y.B(this.y,t.y)&&Y.B(this.width,t.width)&&Y.B(this.height,t.height)};function Rl(t,i){return Y.$(t.x,i.x)&&Y.$(t.y,i.y)&&Y.$(t.width,i.width)&&Y.$(t.height,i.height)}n.ca=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},n.Re=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},n.contains=function(t,i,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),this.x<=t&&t+s<=this.x+this.width&&this.y<=i&&i+l<=this.y+this.height},n.offset=function(t,i){return this.x+=t,this.y+=i,this},n.Bc=function(t,i){return cy(this,i,t,i,t)},n.Do=function(t){return cy(this,t.top,t.right,t.bottom,t.left)},n.Hv=function(t){return cy(this,-t.top,-t.right,-t.bottom,-t.left)},n.Mz=function(t,i,s,l){return cy(this,t,i,s,l)};function cy(t,i,s,l,u){var c=t.width;return s+u<=-c?(t.x+=c/2,t.width=0):(t.x-=u,t.width+=s+u),s=t.height,i+l<=-s?(t.y+=s/2,t.height=0):(t.y-=i,t.height+=i+l),t}n.Gx=function(t){return DL(this,t.x,t.y,t.width,t.height)},n.Wu=function(t,i,s,l){return DL(this,t,i,s,l)};function DL(t,i,s,l,u){var c=Math.max(t.x,i),d=Math.max(t.y,s);return i=Math.min(t.x+t.width,i+l),s=Math.min(t.y+t.height,s+u),t.x=c,t.y=d,t.width=Math.max(0,i-c),t.height=Math.max(0,s-d),t}n.Yc=function(t){return this.Xu(t.x,t.y,t.width,t.height)},n.Xu=function(t,i,s,l){var u=this.width,c=this.x;return u!==1/0&&s!==1/0&&(u+=c,s+=t,isNaN(s)||isNaN(u)||c>s||t>u)?!1:(t=this.height,s=this.y,!(t!==1/0&&l!==1/0&&(t+=s,l+=i,isNaN(l)||isNaN(t)||s>l||i>t)))};function IL(t,i){var s=t.width,l=t.x,u=i.x-10;return l>i.width+10+10+u||u>s+l?!1:(s=t.height,t=t.y,l=i.y-10,!(t>i.height+10+10+l||l>s+t))}n.Ye=function(t){return wi(this,t.x,t.y,0,0)},n.ed=function(t){return wi(this,t.x,t.y,t.width,t.height)},n.Mv=function(t,i,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),wi(this,t,i,s,l)};function wi(t,i,s,l,u){var c=Math.min(t.x,i),d=Math.min(t.y,s);return i=Math.max(t.x+t.width,i+l),s=Math.max(t.y+t.height,s+u),t.x=c,t.y=d,t.width=i-c,t.height=s-d,t}n.zi=function(t,i,s){return this.x=t-s.offsetX-s.x*this.width,this.y=i-s.offsetY-s.y*this.height,this};function Xs(t,i,s,l,u,c,d,m){return d===void 0&&(d=0),m===void 0&&(m=0),t<=u&&u+d<=t+s&&i<=c&&c+m<=i+l}function FL(t,i,s,l,u,c,d,m){return t>d+u||u>s+t?!1:!(i>m+c||c>l+i)}n.w=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.Rz=function(){return this.width===0&&this.height===0},J.alloc=function(){var t=tb.pop();return t===void 0?new J:t},J.allocAt=function(t,i,s,l){var u=tb.pop();return u===void 0?new J(t,i,s,l):u.h(t,i,s,l)},J.free=function(t){tb.push(t)},S.Object.defineProperties(J.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new F(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new At(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new F(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),J.prototype.isEmpty=J.prototype.Rz,J.prototype.isReal=J.prototype.w,J.intersectsLineSegment=function(t,i,s,l,u,c,d,m){return Y.Hx(t,i,s,l,u,c,d,m)},J.prototype.setSpot=J.prototype.zi,J.prototype.union=J.prototype.Mv,J.prototype.unionRect=J.prototype.ed,J.prototype.unionPoint=J.prototype.Ye,J.prototype.intersects=J.prototype.Xu,J.prototype.intersectsRect=J.prototype.Yc,J.prototype.intersect=J.prototype.Wu,J.prototype.intersectRect=J.prototype.Gx,J.prototype.grow=J.prototype.Mz,J.prototype.subtractMargin=J.prototype.Hv,J.prototype.addMargin=J.prototype.Do,J.prototype.inflate=J.prototype.Bc,J.prototype.offset=J.prototype.offset,J.prototype.contains=J.prototype.contains,J.prototype.containsRect=J.prototype.Re,J.prototype.containsPoint=J.prototype.ca,J.prototype.equalsApprox=J.prototype.Xa,J.prototype.equalTo=J.prototype.ii,J.prototype.equals=J.prototype.D,J.prototype.setSize=J.prototype.xA,J.prototype.setPoint=J.prototype.dd,J.prototype.set=J.prototype.set,J.prototype.setTo=J.prototype.sg;var Cx=null,VL=null,tb=[];J.className="Rect",J.parse=Bs,J.stringify=hy,J.contains=Xs,J.intersects=FL,J.ZeroRect=Cx=new J(0,0,0,0).ja(),J.NoRect=VL=new J(NaN,NaN,NaN,NaN).ja(),J.parse=Bs,J.stringify=hy,J.contains=Xs,J.intersects=FL;function ne(t,i,s,l){t===void 0?this.left=this.bottom=this.right=this.top=0:i===void 0?this.left=this.bottom=this.right=this.top=t:s===void 0?(this.top=t,this.right=i,this.bottom=t,this.left=i):l!==void 0?(this.top=t,this.right=i,this.bottom=s,this.left=l):D("Invalid arguments to Margin constructor: "+t+", "+i+", "+s+", "+l),this._isFrozen=!1}ne.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},ne.prototype.sg=function(t,i,s,l){return this.top=t,this.right=i,this.bottom=s,this.left=l,this},ne.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},ne.prototype.copy=function(){var t=new ne;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},n=ne.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function zL(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=NaN;t[i]==="";)i++;var l=t[i++];if(l&&(s=parseFloat(l)),isNaN(s))return new ne;for(var u=NaN;t[i]==="";)i++;if((l=t[i++])&&(u=parseFloat(l)),isNaN(u))return new ne(s);for(var c=NaN;t[i]==="";)i++;if((l=t[i++])&&(c=parseFloat(l)),isNaN(c))return new ne(s,u);for(var d=NaN;t[i]==="";)i++;return(l=t[i++])&&(d=parseFloat(l)),isNaN(d)?new ne(s,u):new ne(s,u,c,d)}return new ne}function BL(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}n.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},n.D=function(t){return t instanceof ne?this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left:!1},n.ii=function(t,i,s,l){return this.top===t&&this.right===i&&this.bottom===s&&this.left===l},n.Xa=function(t){return Y.B(this.top,t.top)&&Y.B(this.right,t.right)&&Y.B(this.bottom,t.bottom)&&Y.B(this.left,t.left)},n.w=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},ne.alloc=function(){var t=XL.pop();return t===void 0?new ne:t},ne.free=function(t){XL.push(t)},ne.prototype.isReal=ne.prototype.w,ne.prototype.equalsApprox=ne.prototype.Xa,ne.prototype.equalTo=ne.prototype.ii,ne.prototype.equals=ne.prototype.D,ne.prototype.set=ne.prototype.set,ne.prototype.setTo=ne.prototype.sg;var Gd=null,eb=null,XL=[];ne.className="Margin",ne.parse=zL,ne.stringify=BL,ne.ZeroMargin=Gd=new ne(0,0,0,0).ja(),ne.TwoMargin=eb=new ne(2,2,2,2).ja(),ne.parse=zL,ne.stringify=BL;function Tt(t,i,s,l){t===void 0?this.offsetY=this.offsetX=this.y=this.x=0:(i===void 0&&(i=0),s===void 0&&(s=0),l===void 0&&(l=0),this.x=t,this.y=i,this.offsetX=s,this.offsetY=l),this._isFrozen=!1}var Zi,tn,Ll,Hd,fy,oe,dy,Kd,mf,Wo,Jd,tp,ep,ip,ib,nb,rb,sb,ob,lb,ab,ub,hb,cb,fb,Yi,_L,UL,Mx,ZL,Zr,Yr,Gn,Wr,db,pb;Tt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Tt.prototype.sg=function(t,i,s,l){return this.x=t,this.y=i,this.offsetX=s,this.offsetY=l,this},Tt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Tt.prototype.copy=function(){var t=new Tt;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},n=Tt.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function Cr(t,i){return t.x=NaN,t.y=NaN,t.offsetX=i,t}function mb(t){if(typeof t=="string"){if(t=t.trim(),t==="None")return Zi;if(t==="TopLeft")return tn;if(t==="Top"||t==="TopCenter"||t==="MiddleTop")return Ll;if(t==="TopRight")return Hd;if(t==="Left"||t==="LeftCenter"||t==="MiddleLeft")return fy;if(t==="Center")return oe;if(t==="Right"||t==="RightCenter"||t==="MiddleRight")return dy;if(t==="BottomLeft")return Kd;if(t==="Bottom"||t==="BottomCenter"||t==="MiddleBottom")return mf;if(t==="BottomRight")return Wo;if(t==="TopSide")return Jd;if(t==="LeftSide")return tp;if(t==="RightSide")return ep;if(t==="BottomSide")return ip;if(t==="TopBottomSides")return ib;if(t==="LeftRightSides")return nb;if(t==="TopLeftSides")return rb;if(t==="TopRightSides")return sb;if(t==="BottomLeftSides")return ob;if(t==="BottomRightSides")return lb;if(t==="NotTopSide")return ab;if(t==="NotLeftSide")return ub;if(t==="NotRightSide")return hb;if(t==="NotBottomSide")return cb;if(t==="AllSides")return fb;if(t==="Default")return Yi;t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l!==void 0&&0<l.length&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;l=t[i++],l!==void 0&&0<l.length&&(u=parseFloat(l));for(var c=0;t[i]==="";)i++;l=t[i++],l!==void 0&&0<l.length&&(c=parseFloat(l));for(var d=0;t[i]==="";)i++;return l=t[i++],l!==void 0&&0<l.length&&(d=parseFloat(l)),new Tt(s,u,c,d)}return new Tt}function YL(t){return t.sb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}n.toString=function(){return this.sb()?this.offsetX===0&&this.offsetY===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.D(Zi)?"None":this.D(tn)?"TopLeft":this.D(Ll)?"Top":this.D(Hd)?"TopRight":this.D(fy)?"Left":this.D(oe)?"Center":this.D(dy)?"Right":this.D(Kd)?"BottomLeft":this.D(mf)?"Bottom":this.D(Wo)?"BottomRight":this.D(Jd)?"TopSide":this.D(tp)?"LeftSide":this.D(ep)?"RightSide":this.D(ip)?"BottomSide":this.D(ib)?"TopBottomSides":this.D(nb)?"LeftRightSides":this.D(rb)?"TopLeftSides":this.D(sb)?"TopRightSides":this.D(ob)?"BottomLeftSides":this.D(lb)?"BottomRightSides":this.D(ab)?"NotTopSide":this.D(ub)?"NotLeftSide":this.D(hb)?"NotRightSide":this.D(cb)?"NotBottomSide":this.D(fb)?"AllSides":this.D(Yi)?"Default":"None"},n.D=function(t){return t instanceof Tt?(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY:!1},n.iv=function(){return new Tt(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},n.Hf=function(t){if(!this.$c())return!1;if(!t.$c())if(t.D(_L))t=tp;else if(t.D(UL))t=ep;else if(t.D(Mx))t=Jd;else if(t.D(ZL))t=ip;else return!1;return t=t.offsetY,(this.offsetY&t)===t},n.sb=function(){return!isNaN(this.x)&&!isNaN(this.y)},n.Nc=function(){return isNaN(this.x)||isNaN(this.y)},n.$c=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0},n.ys=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0},n.$b=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0},Tt.alloc=function(){var t=WL.pop();return t===void 0?new Tt:t},Tt.free=function(t){WL.push(t)},Tt.prototype.isDefault=Tt.prototype.$b,Tt.prototype.isNone=Tt.prototype.ys,Tt.prototype.isSide=Tt.prototype.$c,Tt.prototype.isNoSpot=Tt.prototype.Nc,Tt.prototype.isSpot=Tt.prototype.sb,Tt.prototype.includesSide=Tt.prototype.Hf,Tt.prototype.opposite=Tt.prototype.iv,Tt.prototype.equals=Tt.prototype.D,Tt.prototype.set=Tt.prototype.set,Tt.prototype.setTo=Tt.prototype.sg;var WL=[];Tt.className="Spot",Tt.parse=mb,Tt.stringify=YL,Tt.None=Zi=Cr(new Tt(0,0,0,0),0).ja(),Tt.Default=Yi=Cr(new Tt(0,0,-1,0),-1).ja(),Tt.TopLeft=tn=new Tt(0,0,0,0).ja(),Tt.TopCenter=Ll=new Tt(.5,0,0,0).ja(),Tt.TopRight=Hd=new Tt(1,0,0,0).ja(),Tt.LeftCenter=fy=new Tt(0,.5,0,0).ja(),Tt.Center=oe=new Tt(.5,.5,0,0).ja(),Tt.RightCenter=dy=new Tt(1,.5,0,0).ja(),Tt.BottomLeft=Kd=new Tt(0,1,0,0).ja(),Tt.BottomCenter=mf=new Tt(.5,1,0,0).ja(),Tt.BottomRight=Wo=new Tt(1,1,0,0).ja(),Tt.MiddleTop=Zr=Ll,Tt.MiddleLeft=Yr=fy,Tt.MiddleRight=Gn=dy,Tt.MiddleBottom=Wr=mf,Tt.Top=Mx=Ll,Tt.Left=_L=fy,Tt.Right=UL=dy,Tt.Bottom=ZL=mf,Tt.TopSide=Jd=Cr(new Tt(0,0,1,1),1).ja(),Tt.LeftSide=tp=Cr(new Tt(0,0,1,2),1).ja(),Tt.RightSide=ep=Cr(new Tt(0,0,1,4),1).ja(),Tt.BottomSide=ip=Cr(new Tt(0,0,1,8),1).ja(),Tt.TopBottomSides=ib=Cr(new Tt(0,0,1,9),1).ja(),Tt.LeftRightSides=nb=Cr(new Tt(0,0,1,6),1).ja(),Tt.TopLeftSides=rb=Cr(new Tt(0,0,1,3),1).ja(),Tt.TopRightSides=sb=Cr(new Tt(0,0,1,5),1).ja(),Tt.BottomLeftSides=ob=Cr(new Tt(0,0,1,10),1).ja(),Tt.BottomRightSides=lb=Cr(new Tt(0,0,1,12),1).ja(),Tt.NotTopSide=ab=Cr(new Tt(0,0,1,14),1).ja(),Tt.NotLeftSide=ub=Cr(new Tt(0,0,1,13),1).ja(),Tt.NotRightSide=hb=Cr(new Tt(0,0,1,11),1).ja(),Tt.NotBottomSide=cb=Cr(new Tt(0,0,1,7),1).ja(),Tt.AllSides=fb=Cr(new Tt(0,0,1,15),1).ja(),db=new Tt(.156,.156).ja(),pb=new Tt(.844,.844).ja(),Tt.parse=mb,Tt.stringify=YL;function Bt(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Bt.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},Bt.prototype.setTransform=function(t,i,s,l,u,c){return this.m11=t,this.m12=i,this.m21=s,this.m22=l,this.dx=u,this.dy=c,this},Bt.prototype.copy=function(){var t=new Bt;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},Bt.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},Bt.prototype.D=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},Bt.prototype.ws=function(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1},Bt.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},Bt.prototype.multiply=function(t){var i=this.m11*t.m11+this.m21*t.m12,s=this.m12*t.m11+this.m22*t.m12,l=this.m11*t.m21+this.m21*t.m22,u=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=i,this.m12=s,this.m21=l,this.m22=u,this},Bt.prototype.ev=function(t){var i=1/(t.m11*t.m22-t.m12*t.m21),s=t.m22*i,l=-t.m12*i,u=-t.m21*i,c=t.m11*i,d=i*(t.m21*t.dy-t.m22*t.dx);return t=i*(t.m12*t.dx-t.m11*t.dy),i=this.m11*s+this.m21*l,s=this.m12*s+this.m22*l,l=this.m11*u+this.m21*c,u=this.m12*u+this.m22*c,this.dx=this.m11*d+this.m21*t+this.dx,this.dy=this.m12*d+this.m22*t+this.dy,this.m11=i,this.m12=s,this.m21=l,this.m22=u,this},Bt.prototype.Uj=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*t,s=-this.m21*t,l=this.m11*t,u=t*(this.m21*this.dy-this.m22*this.dx),c=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=i,this.m21=s,this.m22=l,this.dx=u,this.dy=c,this},Bt.prototype.rotate=function(t,i,s){if(360<=t?t-=360:0>t&&(t+=360),t===0)return this;if(this.translate(i,s),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));var u=this.m12*t+this.m22*l,c=this.m11*-l+this.m21*t,d=this.m12*-l+this.m22*t;return this.m11=this.m11*t+this.m21*l,this.m12=u,this.m21=c,this.m22=d,this.translate(-i,-s),this},n=Bt.prototype,n.translate=function(t,i){return this.dx+=this.m11*t+this.m21*i,this.dy+=this.m12*t+this.m22*i,this},n.scale=function(t,i){return i===void 0&&(i=t),this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this},n.Ga=function(t){var i=t.x,s=t.y;return t.h(i*this.m11+s*this.m21+this.dx,i*this.m12+s*this.m22+this.dy)},n.Cd=function(t){var i=1/(this.m11*this.m22-this.m12*this.m21),s=t.x,l=t.y;return t.h(s*this.m22*i+l*-this.m21*i+i*(this.m21*this.dy-this.m22*this.dx),s*-this.m12*i+l*this.m11*i+i*(this.m12*this.dx-this.m11*this.dy))},n.Gu=function(t){var i=1/(this.m11*this.m22-this.m12*this.m21),s=1.25*t.x,l=1.2*t.y;return t.h(s*this.m22*i+l*-this.m21*i+i*(this.m21*this.dy-this.m22*this.dx),s*-this.m12*i+l*this.m11*i+i*(this.m12*this.dx-this.m11*this.dy))},n.pp=function(t){var i=t.x,s=t.y,l=i+t.width,u=s+t.height,c=this.m11,d=this.m12,m=this.m21,y=this.m22,O=this.dx,w=this.dy,k=i*c+s*m+O,P=i*d+s*y+w,T=l*c+s*m+O,C=l*d+s*y+w;return s=i*c+u*m+O,i=i*d+u*y+w,c=l*c+u*m+O,l=l*d+u*y+w,u=Math.min(k,T),k=Math.max(k,T),T=Math.min(P,C),P=Math.max(P,C),u=Math.min(u,s),k=Math.max(k,s),T=Math.min(T,i),P=Math.max(P,i),u=Math.min(u,c),k=Math.max(k,c),T=Math.min(T,l),P=Math.max(P,l),t.h(u,T,k-u,P-T),t},Bt.alloc=function(){var t=qL.pop();return t===void 0?new Bt:t},Bt.free=function(t){qL.push(t)},Bt.prototype.transformRect=Bt.prototype.pp,Bt.prototype.transformPoint=Bt.prototype.Ga,Bt.prototype.scale=Bt.prototype.scale,Bt.prototype.translate=Bt.prototype.translate,Bt.prototype.rotate=Bt.prototype.rotate,Bt.prototype.invert=Bt.prototype.Uj,Bt.prototype.multiplyInverted=Bt.prototype.ev,Bt.prototype.multiply=Bt.prototype.multiply,Bt.prototype.reset=Bt.prototype.reset,Bt.prototype.isIdentity=Bt.prototype.ws,Bt.prototype.equals=Bt.prototype.D,Bt.prototype.setTransform=Bt.prototype.setTransform,Bt.prototype.set=Bt.prototype.set;var qL=[];Bt.className="Transform",Bt.xF="54a702f3e53909c447824c6706603faf4c";var Y={EA:"7da71ca0ad381e90",wg:(Math.sqrt(2)-1)/3*4,Wv:null,sqrt:function(t){if(0>=t)return 0;var i=Y.Wv;if(i===null){i=[];for(var s=0;2e3>=s;s++)i[s]=Math.sqrt(s);Y.Wv=i}return 1>t?(s=1/t,2e3>=s?1/i[s|0]:Math.sqrt(t)):2e3>=t?i[t|0]:Math.sqrt(t)},B:function(t,i){return t-=i,.5>t&&-.5<t},$:function(t,i){return t-=i,5e-8>t&&-5e-8<t},ac:function(t,i,s,l,u,c,d){if(0>=u&&(u=1e-6),t<s)var m=t,y=s;else m=s,y=t;if(i<l)var O=i,w=l;else O=l,w=i;if(t===s)return O<=d&&d<=w&&t-u<=c&&c<=t+u;if(i===l)return m<=c&&c<=y&&i-u<=d&&d<=i+u;if(y+=u,m-=u,m<=c&&c<=y&&(w+=u,O-=u,O<=d&&d<=w))if(y-m>w-O)if(t-s>u||s-t>u){if(c=(l-i)/(s-t)*(c-t)+i,c-u<=d&&d<=c+u)return!0}else return!0;else if(i-l>u||l-i>u){if(d=(s-t)/(l-i)*(d-i)+t,d-u<=c&&c<=d+u)return!0}else return!0;return!1},cs:function(t,i,s,l,u,c,d,m,y,O,w,k){if(Y.ac(t,i,d,m,k,s,l)&&Y.ac(t,i,d,m,k,u,c))return Y.ac(t,i,d,m,k,O,w);var P=(t+s)/2,T=(i+l)/2,C=(s+u)/2,A=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(P+C)/2,s=(T+A)/2,C=(C+u)/2,A=(A+c)/2;var I=(l+C)/2,E=(s+A)/2;return Y.cs(t,i,P,T,l,s,I,E,y,O,w,k)||Y.cs(I,E,C,A,u,c,d,m,y,O,w,k)},ex:function(t,i,s,l,u,c,d,m,y){var O=(s+u)/2,w=(l+c)/2;return y.h((((t+s)/2+O)/2+(O+(u+d)/2)/2)/2,(((i+l)/2+w)/2+(w+(c+m)/2)/2)/2),y},Oy:function(t,i,s,l,u,c,d,m){var y=(s+u)/2,O=(l+c)/2;return ff(((t+s)/2+y)/2,((i+l)/2+O)/2,(y+(u+d)/2)/2,(O+(c+m)/2)/2)},Dl:function(t,i,s,l,u,c,d,m,y,O){if(Y.ac(t,i,d,m,y,s,l)&&Y.ac(t,i,d,m,y,u,c))wi(O,t,i,0,0),wi(O,d,m,0,0);else{var w=(t+s)/2,k=(i+l)/2,P=(s+u)/2,T=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(w+P)/2,s=(k+T)/2,P=(P+u)/2,T=(T+c)/2;var C=(l+P)/2,A=(s+T)/2;Y.Dl(t,i,w,k,l,s,C,A,y,O),Y.Dl(C,A,P,T,u,c,d,m,y,O)}return O},Qe:function(t,i,s,l,u,c,d,m,y,O){if(Y.ac(t,i,d,m,y,s,l)&&Y.ac(t,i,d,m,y,u,c))O.length===0&&(O.push(t),O.push(i)),O.push(d),O.push(m);else{var w=(t+s)/2,k=(i+l)/2,P=(s+u)/2,T=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(w+P)/2,s=(k+T)/2,P=(P+u)/2,T=(T+c)/2;var C=(l+P)/2,A=(s+T)/2;Y.Qe(t,i,w,k,l,s,C,A,y,O),Y.Qe(C,A,P,T,u,c,d,m,y,O)}return O},lv:function(t,i,s,l,u,c,d,m,y,O){if(Y.ac(t,i,u,c,O,s,l))return Y.ac(t,i,u,c,O,m,y);var w=(t+s)/2,k=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var P=(w+s)/2,T=(k+l)/2;return Y.lv(t,i,w,k,P,T,d,m,y,O)||Y.lv(P,T,s,l,u,c,d,m,y,O)},SA:function(t,i,s,l,u,c,d){return d.h(((t+s)/2+(s+u)/2)/2,((i+l)/2+(l+c)/2)/2),d},kv:function(t,i,s,l,u,c,d,m){if(Y.ac(t,i,u,c,d,s,l))wi(m,t,i,0,0),wi(m,u,c,0,0);else{var y=(t+s)/2,O=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var w=(y+s)/2,k=(O+l)/2;Y.kv(t,i,y,O,w,k,d,m),Y.kv(w,k,s,l,u,c,d,m)}return m},ep:function(t,i,s,l,u,c,d,m){if(Y.ac(t,i,u,c,d,s,l))m.length===0&&(m.push(t),m.push(i)),m.push(u),m.push(c);else{var y=(t+s)/2,O=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var w=(y+s)/2,k=(O+l)/2;Y.ep(t,i,y,O,w,k,d,m),Y.ep(w,k,s,l,u,c,d,m)}return m},Fo:function(t,i,s,l,u,c,d,m,y,O,w,k,P,T){if(Y.ac(t,i,d,m,P,s,l)&&Y.ac(t,i,d,m,P,u,c))return!Y.Rl(t,i,d,m,y,O,w,k)||(P=(t-d)*(O-k)-(i-m)*(y-w),P===0)?!1:(T.h(((t*m-i*d)*(y-w)-(t-d)*(y*k-O*w))/P,((t*m-i*d)*(O-k)-(i-m)*(y*k-O*w))/P),!0);var C=(t+s)/2,A=(i+l)/2,I=(s+u)/2,E=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(C+I)/2,s=(A+E)/2,I=(I+u)/2,E=(E+c)/2;var z=(l+I)/2,B=(s+E)/2,_=1/0,Z=!1,H=0,at=0;return Y.Fo(t,i,C,A,l,s,z,B,y,O,w,k,P,T)&&(t=(T.x-y)*(T.x-y)+(T.y-O)*(T.y-O),t<_&&(_=t,Z=!0,H=T.x,at=T.y)),Y.Fo(z,B,I,E,u,c,d,m,y,O,w,k,P,T)&&(T.x-y)*(T.x-y)+(T.y-O)*(T.y-O)<_&&(Z=!0,H=T.x,at=T.y),Z&&(T.x=H,T.y=at),Z},Go:function(t,i,s,l,u,c,d,m,y,O,w,k,P){var T=0;if(Y.ac(t,i,d,m,P,s,l)&&Y.ac(t,i,d,m,P,u,c)){if(P=(t-d)*(O-k)-(i-m)*(y-w),P===0)return T;var C=((t*m-i*d)*(y-w)-(t-d)*(y*k-O*w))/P,A=((t*m-i*d)*(O-k)-(i-m)*(y*k-O*w))/P;if(C>=w)return T;if((y>w?y-w:w-y)<(O>k?O-k:k-O)){if(i<m?(y=i,t=m):(y=m,t=i),A<y||A>t)return T}else if(t<d?(y=t,t=d):y=d,C<y||C>t)return T;0<P?T++:0>P&&T--}else{C=(t+s)/2,A=(i+l)/2;var I=(s+u)/2,E=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(C+I)/2,s=(A+E)/2,I=(I+u)/2,E=(E+c)/2;var z=(l+I)/2,B=(s+E)/2;T+=Y.Go(t,i,C,A,l,s,z,B,y,O,w,k,P),T+=Y.Go(z,B,I,E,u,c,d,m,y,O,w,k,P)}return T},qh:function(t,i,s,l,u,c,d){return Y.$(t,s)?(i<l?(s=i,i=l):s=l,c<s?(d.h(t,s),!1):c>i?(d.h(t,i),!1):(d.h(t,c),!0)):Y.$(i,l)?(t<s?(l=t,t=s):l=s,u<l?(d.h(l,i),!1):u>t?(d.h(t,i),!1):(d.h(u,i),!0)):(u=((t-u)*(t-s)+(i-c)*(i-l))/((s-t)*(s-t)+(l-i)*(l-i)),-5e-6>u?(d.h(t,i),!1):1.000005<u?(d.h(s,l),!1):(d.h(t+u*(s-t),i+u*(l-i)),!0))},Ve:function(t,i,s,l,u,c,d,m,y){return Y.B(t,s)&&Y.B(i,l)?(y.h(t,i),!1):Y.$(u,d)?Y.$(t,s)?(Y.qh(t,i,s,l,u,c,y),!1):Y.qh(t,i,s,l,u,(l-i)/(s-t)*(u-t)+i,y):(m=(m-c)/(d-u),Y.$(t,s)?(s=m*(t-u)+c,i<l?(u=i,i=l):u=l,s<u?(y.h(t,u),!1):s>i?(y.h(t,i),!1):(y.h(t,s),!0)):(d=(l-i)/(s-t),Y.$(m,d)?(Y.qh(t,i,s,l,u,c,y),!1):(u=(d*t-m*u+c-i)/(d-m),Y.$(d,0)?(t<s?(l=t,t=s):l=s,u<l?(y.h(l,i),!1):u>t?(y.h(t,i),!1):(y.h(u,i),!0)):Y.qh(t,i,s,l,u,d*(u-t)+i,y))))},QA:function(t,i,s,l,u){return Y.Ve(s.x,s.y,l.x,l.y,t.x,t.y,i.x,i.y,u)},OA:function(t,i,s,l,u,c,d,m,y,O){function w(I,E){var z=(I-t)*(I-t)+(E-i)*(E-i);z<k&&(k=z,y.h(I,E))}var k=1/0;w(y.x,y.y);var P=0,T=0,C=0,A=0;if(u<d?(P=u,T=d):(P=d,T=u),c<m?(C=u,A=d):(C=d,A=u),P=(T-P)/2+O,O=(A-C)/2+O,u=(u+d)/2,c=(c+m)/2,P===0||O===0)return y;if(.5>(s>t?s-t:t-s)){if(P=1-(s-u)*(s-u)/(P*P),0>P)return y;P=Math.sqrt(P),l=-O*P+c,w(s,O*P+c),w(s,l)}else{if(s=(l-i)/(s-t),l=1/(P*P)+s*s/(O*O),m=2*s*(i-s*t)/(O*O)-2*s*c/(O*O)-2*u/(P*P),P=m*m-4*l*(2*s*t*c/(O*O)-2*i*c/(O*O)+c*c/(O*O)+u*u/(P*P)-1+(i-s*t)*(i-s*t)/(O*O)),0>P)return y;P=Math.sqrt(P),O=(-m+P)/(2*l),w(O,s*O-s*t+i),P=(-m-P)/(2*l),w(P,s*P-s*t+i)}return y},Ff:function(t,i,s,l,u,c,d,m,y){var O=1e21,w=t,k=i;if(Y.Ve(t,i,t,l,u,c,d,m,y)){var P=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c);P<O&&(O=P,w=y.x,k=y.y)}return Y.Ve(s,i,s,l,u,c,d,m,y)&&(P=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),P<O&&(O=P,w=y.x,k=y.y)),Y.Ve(t,i,s,i,u,c,d,m,y)&&(i=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),i<O&&(O=i,w=y.x,k=y.y)),Y.Ve(t,l,s,l,u,c,d,m,y)&&(t=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),t<O&&(O=t,w=y.x,k=y.y)),y.h(w,k),1e21>O},us:function(t,i,s){return Y.Hx(t.x,t.y,t.width,t.height,i.x,i.y,s.x,s.y)},Hx:function(t,i,s,l,u,c,d,m){var y=t+s,O=i+l;return u===d?(c<m?(d=c,c=m):d=m,t<=u&&u<=y&&d<=O&&c>=i):c===m?(u<d?(m=u,u=d):m=d,i<=c&&c<=O&&m<=y&&u>=t):!!(Xs(t,i,s,l,u,c)||Xs(t,i,s,l,d,m)||Y.Rl(t,i,y,i,u,c,d,m)||Y.Rl(y,i,y,O,u,c,d,m)||Y.Rl(y,O,t,O,u,c,d,m)||Y.Rl(t,O,t,i,u,c,d,m))},Rl:function(t,i,s,l,u,c,d,m){return t===s&&i===l&&u===d&&c===m?t===u&&i===c:0>=Y.Fl(t,i,s,l,u,c)*Y.Fl(t,i,s,l,d,m)&&0>=Y.Fl(u,c,d,m,t,i)*Y.Fl(u,c,d,m,s,l)},Fl:function(t,i,s,l,u,c){return s-=t,l-=i,t=u-t,i=c-i,c=t*l-i*s,c===0&&(c=t*s+i*l,0<c&&(c=(t-s)*s+(i-l)*l,0>c&&(c=0))),c},cp:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},lx:function(t,i,s,l,u,c){var d=Math.PI;c||(l*=d/180,u*=d/180);var m=l>u?-1:1;c=[];var y=d/2,O=l;if(l=Math.min(2*d,Math.abs(u-l)),1e-5>l)return y=O+m*Math.min(l,y),m=t+s*Math.cos(O),O=i+s*Math.sin(O),t+=s*Math.cos(y),i+=s*Math.sin(y),s=(m+t)/2,y=(O+i)/2,c.push([m,O,s,y,s,y,t,i]),c;for(;1e-5<l;)u=O+m*Math.min(l,y),c.push(Y.$y(s,O,u,t,i)),l-=Math.abs(u-O),O=u;return c},$y:function(t,i,s,l,u){var c=(s-i)/2,d=t*Math.cos(c),m=t*Math.sin(c),y=-m,O=d*d+y*y,w=O+d*d+y*m;return O=4/3*(Math.sqrt(2*O*w)-w)/(d*m-y*d),m=d-O*y,d=y+O*d,y=-d,O=c+i,c=Math.cos(O),O=Math.sin(O),[l+t*Math.cos(i),u+t*Math.sin(i),l+m*c-d*O,u+m*O+d*c,l+m*c-y*O,u+m*O+y*c,l+t*Math.cos(s),u+t*Math.sin(s)]},Oo:function(t,i,s,l,u,c,d){s=Math.floor((t-s)/u)*u+s,l=Math.floor((i-l)/c)*c+l;var m=s;return s+u-t<u/2&&(m=s+u),t=l,l+c-i<c/2&&(t=l+c),d.h(m,t),d},xx:function(t,i){var s=Math.max(t,i);t=Math.min(t,i);var l;do i=s%t,s=l=t,t=i;while(0<i);return l},ez:function(t,i,s,l){var u=0>s,c=0>l;if(t<i)var d=1,m=0;else d=0,m=1;var y=d===0?t:i,O=d===0?s:l;return(d===0?u:c)&&(O=-O),d=m,s=d===0?s:l,(d===0?u:c)&&(s=-s),Y.fz(y,d===0?t:i,O,s,0,0)},fz:function(t,i,s,l,u,c){if(0<l)if(0<s){u=t*t,c=i*i,t*=s;var d=i*l,m=-c+d,y=-c+Math.sqrt(t*t+d*d);i=m;for(var O=0;9999999999>O&&(i=.5*(m+y),!(i===m||i===y));++O){var w=t/(i+u),k=d/(i+c);if(w=w*w+k*k-1,0<w)m=i;else if(0>w)y=i;else break}s=u*s/(i+u)-s,l=c*l/(i+c)-l,s=Math.sqrt(s*s+l*l)}else s=Math.abs(l-i);else l=t*t-i*i,c=t*s,c<l?(l=c/l,c=i*Math.sqrt(Math.abs(1-l*l)),s=t*l-s,s=Math.sqrt(s*s+c*c)):s=Math.abs(s-t);return s},Ze:new le,vm:new le,Mf:new le,Nf:0,wm:100};Y.za=Y.EA;function lt(t){Ye(this),this.l=2,t===void 0&&(t=lt.j),this.na=t,this.Ec=this.Dc=this.pd=this.od=0,t===lt.j?this.ee=new ct:(lt.V===null&&(lt.V=new ct().freeze()),this.ee=lt.V),this.aq=this.ee.Ja,this.Ip=new J().freeze(),this.zm=this.sk=null,this.Am=NaN,this.fg=tn,this.gg=Wo,this.Qk=this.Rk=NaN,this.Uf=$e}lt.prototype.copy=function(){var t=new lt;if(t.l=this.l&-2,t.na=this.na,t.od=this.od,t.pd=this.pd,t.Dc=this.Dc,t.Ec=this.Ec,this.na===lt.j){for(var i=this.ee.s,s=t.ee,l=0;l<i.length;l++)s.add(i[l].copy());t.ee=s}else t.ee=this.ee;return t.aq=this.aq,t.Ip.assign(this.Ip),t.sk=this.sk,t.zm=this.zm,t.Am=this.Am,t.fg=this.fg.J(),t.gg=this.gg.J(),t.Rk=this.Rk,t.Qk=this.Qk,t.Uf=this.Uf,t},lt.prototype.ja=function(){return this.freeze(),Object.freeze(this),this},lt.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==lt.j)return this;var t=this.figures;t.freeze(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].freeze();return this},lt.prototype.ka=function(){if(Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==lt.j)return this;var t=this.figures;t.ka(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].ka();return this},lt.prototype.Xa=function(t){if(!(t instanceof lt))return!1;if(this.type!==t.type)return this.type===lt.o&&t.type===lt.j?GL(this,t):t.type===lt.o&&this.type===lt.j?GL(t,this):!1;if(this.type===lt.j){var i=this.figures.s;t=t.figures.s;var s=i.length;if(s!==t.length)return!1;for(var l=0;l<s;l++)if(!i[l].Xa(t[l]))return!1;return!0}return Y.B(this.startX,t.startX)&&Y.B(this.startY,t.startY)&&Y.B(this.endX,t.endX)&&Y.B(this.endY,t.endY)};function GL(t,i){return t.type!==lt.o||i.type!==lt.j?!1:!!(i.figures.count===1&&(i=i.figures.M(0),i.segments.count===1&&Y.B(t.startX,i.startX)&&Y.B(t.startY,i.startY)&&(i=i.segments.M(0),i.type===Pe&&Y.B(t.endX,i.endX)&&Y.B(t.endY,i.endY))))}lt.ia=function(t){return t.toString()},lt.prototype.qb=function(t){t.classType===lt&&(this.type=t)},lt.prototype.toString=function(t){switch(t===void 0&&(t=-1),this.type){case lt.o:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case lt.u:var i=new J(this.startX,this.startY,0,0);return i.Mv(this.endX,this.endY,0,0),0>t?"M"+i.x.toString()+" "+i.y.toString()+"H"+i.right.toString()+"V"+i.bottom.toString()+"H"+i.left.toString()+"z":"M"+i.x.toFixed(t)+" "+i.y.toFixed(t)+"H"+i.right.toFixed(t)+"V"+i.bottom.toFixed(t)+"H"+i.left.toFixed(t)+"z";case lt.F:if(i=new J(this.startX,this.startY,0,0),i.Mv(this.endX,this.endY,0,0),0>t)return t=i.left.toString()+" "+(i.y+i.height/2).toString(),"M"+t+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+(i.right.toString()+" "+(i.y+i.height/2).toString())+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+t;var s=i.left.toFixed(t)+" "+(i.y+i.height/2).toFixed(t);return"M"+s+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+(i.right.toFixed(t)+" "+(i.y+i.height/2).toFixed(t))+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+s;case lt.j:i="",s=this.figures.s;for(var l=s.length,u=0;u<l;u++){var c=s[u];0<u&&(i+=" x "),c.isFilled&&(i+="F "),i+=c.toString(t)}return i;default:return this.type.toString()}},lt.nb=function(t){t=t.split(/[Xx]/);for(var i=t.length,s="",l=0;l<i;l++){var u=t[l];s=u.match(/[Ff]/)!==null?l===0?s+u:s+("X"+(u[0]===" "?"":" ")+u):s+((l===0?"":"X ")+"F"+(u[0]===" "?"":" ")+u)}return s},lt.parse=function(t,i){function s(){return A>=_-1?!0:O[A+1].match(Z)!==null}function l(){return A++,O[A]}function u(Lt){var Qt=parseFloat(l()),Gt=parseFloat(l());I===I.toLowerCase()&&(Qt=B.x+Qt,Gt=B.y+Gt),Lt.h(Qt,Gt)}function c(){return u(B),B}function d(){return u(z),z}function m(){var Lt=E.toLowerCase();return Lt!=="c"&&Lt!=="s"&&Lt!=="q"&&Lt!=="t"?new F(B.x,B.y):new F(2*B.x-z.x,2*B.y-z.y)}i===void 0&&(i=!1);var y=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm;t=t.replace(/,/gm," "),t=t.replace(y,"$1 $2"),t=t.replace(y,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2"),t=t.replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");var O=t.split(" ");for(t=0;t<O.length;t++){var w=O[t];if(w.match(/(\.[0-9]*)(\.)/gm)!==null){y=St();for(var k="",P=!1,T=0;T<w.length;T++){var C=w[T];C!=="."||P?C==="."?(y.push(k),k="."):k+=C:(P=!0,k+=C)}for(y.push(k),O.splice(t,1),w=0;w<y.length;w++)O.splice(t+w,0,y[w]);t+=y.length-1,mt(y)}}var A=-1,I="",E="";y=new F(0,0);var z=new F(0,0),B=new F(0,0),_=O.length;t=z$(null),P=k=w=!1,T=!0,C=null;for(var Z=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(A>=_-1);)if(E=I,I=l(),I!=="")switch(I.toUpperCase()){case"X":T=!0,k=w=!1;break;case"M":for(C=c(),t.oc===null||T===!0?(Ip(t,C.x,C.y,w,!k,P),T=!1):t.moveTo(C.x,C.y),y.assign(B);!s();)C=c(),t.lineTo(C.x,C.y);break;case"L":for(;!s();)C=c(),t.lineTo(C.x,C.y);break;case"H":for(;!s();)B.h((I===I.toLowerCase()?B.x:0)+parseFloat(l()),B.y),t.lineTo(B.x,B.y);break;case"V":for(;!s();)B.h(B.x,(I===I.toLowerCase()?B.y:0)+parseFloat(l())),t.lineTo(B.x,B.y);break;case"C":for(;!s();){C=new F,u(C);var H=d(),at=c();ja(t,C.x,C.y,H.x,H.y,at.x,at.y)}break;case"S":for(;!s();)C=m(),H=d(),at=c(),ja(t,C.x,C.y,H.x,H.y,at.x,at.y);break;case"Q":for(;!s();)C=d(),H=c(),D1(t,C.x,C.y,H.x,H.y);break;case"T":for(;!s();)C=m(),z.assign(C),H=c(),D1(t,C.x,C.y,H.x,H.y),z.assign(H);break;case"B":for(;!s();){C=parseFloat(l()),H=parseFloat(l()),at=parseFloat(l());var pt=parseFloat(l()),gt=parseFloat(l()),ot=gt,et=!1;s()||(ot=parseFloat(l()),s()||(et=parseFloat(l())!==0)),I===I.toLowerCase()&&(at+=B.x,pt+=B.y),t.arcTo(C,H,at,pt,gt,ot,et)}break;case"A":for(;!s();)C=Math.abs(parseFloat(l())),H=Math.abs(parseFloat(l())),at=parseFloat(l()),gt=pt=!1,et=ot=0,ot=l(),ot.length===1?(pt=!!parseFloat(ot),gt=!!parseFloat(l()),ot=parseFloat(l())):ot.length===2?(pt=!!parseFloat(ot[0]),gt=!!parseFloat(ot[1]),ot=parseFloat(l())):(pt=!!parseFloat(ot[0]),gt=!!parseFloat(ot[1]),ot=parseFloat(ot.slice(2))),et=parseFloat(l()),I===I.toLowerCase()&&(ot=B.x+ot,et=B.y+et),B.h(ot,et),ZG(t,C,H,at,pt,gt,ot,et);break;case"Z":UG(t),B.assign(y);break;case"F":for(C="",H=1;O[A+H];)if(O[A+H]==="0")P=!0,H++;else if(O[A+H].match(/[Uu]/)!==null)H++;else if(O[A+H].match(Z)===null)H++;else{C=O[A+H];break}C.match(/[Mm]/)?w=!0:0<t.oc.segments.length&&(t.oc.isFilled=!0);break;case"U":for(C="",H=1;O[A+H];)if(O[A+H].match(/[Ff]/)!==null)H++;else if(O[A+H].match(Z)===null)H++;else{C=O[A+H];break}C.match(/[Mm]/)?k=!0:t.oc.isShadowed=!1}if(y=t.os,I1=t,i)for(i=y.figures.iterator;i.next();)i.value.isFilled=!0;return y},lt.Ha=function(t,i){for(var s=t.length,l=F.alloc(),u=0;u<s;u++){var c=t[u];l.x=c[0],l.y=c[1],i.Ga(l),c[0]=l.x,c[1]=l.y,l.x=c[2],l.y=c[3],i.Ga(l),c[2]=l.x,c[3]=l.y,l.x=c[4],l.y=c[5],i.Ga(l),c[4]=l.x,c[5]=l.y,l.x=c[6],l.y=c[7],i.Ga(l),c[6]=l.x,c[7]=l.y}F.free(l)},lt.prototype.av=function(){if(this._isInvalidBounds)return!0;if(this.type===lt.j){if(this.aq!==this.figures.Ja)return!0;for(var t=this.figures.s,i=t.length,s=0;s<i;s++)if(t[s].av())return!0}return!1},lt.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.zm=this.sk=null,this.Am=NaN,this.type===lt.j){this.aq=this.figures.Ja;for(var t=this.figures.s,i=t.length,s=0;s<i;s++){var l=t[s];l._isInvalidBounds=!1;var u=l.segments;l.sr=u.Ja,l=u.s,u=l.length;for(var c=0;c<u;c++){var d=l[c];d._isInvalidBounds=!1,d.ae=null}}}t=this.Ip,t.ka(),isNaN(this.Rk)||isNaN(this.Qk)?t.h(0,0,0,0):t.h(0,0,this.Rk,this.Qk),HL(this,t,!1),wi(t,0,0,0,0),t.freeze()},lt.prototype.kx=function(){var t=new J;return HL(this,t,!0),t};function HL(t,i,s){switch(t.type){case lt.o:case lt.u:case lt.F:s?i.h(t.od,t.pd,0,0):wi(i,t.od,t.pd,0,0),wi(i,t.Dc,t.Ec,0,0);break;case lt.j:var l=t.figures;t=l.s,l=l.length;for(var u=0;u<l;u++){var c=t[u];s&&u===0?i.h(c.startX,c.startY,0,0):wi(i,c.startX,c.startY,0,0);for(var d=c.segments.s,m=d.length,y=c.startX,O=c.startY,w=0;w<m;w++){var k=d[w];switch(k.type){case Pe:case qr:y=k.endX,O=k.endY,wi(i,y,O,0,0);break;case dr:Y.Dl(y,O,k.point1X,k.point1Y,k.point2X,k.point2Y,k.endX,k.endY,.5,i),y=k.endX,O=k.endY;break;case _s:Y.kv(y,O,k.point1X,k.point1Y,k.endX,k.endY,.5,i),y=k.endX,O=k.endY;break;case We:case ks:var P=k.type===We?El(k,c):jh(k,c,y,O),T=P.length;if(T===0){y=k.type===We?k.centerX:k.endX,O=k.type===We?k.centerY:k.endY,wi(i,y,O,0,0);break}k=null;for(var C=0;C<T;C++)k=P[C],Y.Dl(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],.5,i);k!==null&&(y=k[6],O=k[7]);break;default:D("Unknown Segment type: "+k.type)}}}break;default:D("Unknown Geometry type: "+t.type)}}lt.prototype.normalize=function(){this._isFrozen&&X(this);var t=this.kx();return this.offset(-t.x,-t.y),new F(-t.x,-t.y)},lt.prototype.offset=function(t,i){return this._isFrozen&&X(this),this.transform(1,0,0,1,t,i),this},lt.prototype.scale=function(t,i){return this._isFrozen&&X(this),this.transform(t,0,0,i,0,0),this},lt.prototype.rotate=function(t,i,s){this._isFrozen&&X(this),i===void 0&&(i=0),s===void 0&&(s=0);var l=Bt.alloc();return l.reset(),l.rotate(t,i,s),this.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),Bt.free(l),this},n=lt.prototype,n.transform=function(t,i,s,l,u,c){switch(this.type){case lt.o:case lt.u:case lt.F:var d=this.od,m=this.pd;this.od=d*t+m*s+u,this.pd=d*i+m*l+c,d=this.Dc,m=this.Ec,this.Dc=d*t+m*s+u,this.Ec=d*i+m*l+c;break;case lt.j:for(var y=this.figures.s,O=y.length,w=0;w<O;w++){var k=y[w];d=k.startX,m=k.startY,k.startX=d*t+m*s+u,k.startY=d*i+m*l+c,k=k.segments.s;for(var P=k.length,T=0;T<P;T++){var C=k[T];switch(C.type){case Pe:case qr:d=C.endX,m=C.endY,C.endX=d*t+m*s+u,C.endY=d*i+m*l+c;break;case dr:d=C.point1X,m=C.point1Y,C.point1X=d*t+m*s+u,C.point1Y=d*i+m*l+c,d=C.point2X,m=C.point2Y,C.point2X=d*t+m*s+u,C.point2Y=d*i+m*l+c,d=C.endX,m=C.endY,C.endX=d*t+m*s+u,C.endY=d*i+m*l+c;break;case _s:d=C.point1X,m=C.point1Y,C.point1X=d*t+m*s+u,C.point1Y=d*i+m*l+c,d=C.endX,m=C.endY,C.endX=d*t+m*s+u,C.endY=d*i+m*l+c;break;case We:d=C.centerX,m=C.centerY,C.centerX=d*t+m*s+u,C.centerY=d*i+m*l+c,i!==0&&(d=180*Math.atan2(i,t)/Math.PI,0>d&&(d+=360),C.startAngle+=d),0>t&&(C.startAngle=180-C.startAngle,C.sweepAngle=-C.sweepAngle),0>l&&(C.startAngle=-C.startAngle,C.sweepAngle=-C.sweepAngle),C.radiusX*=Math.sqrt(t*t+s*s),C.radiusY!==void 0&&(C.radiusY*=Math.sqrt(i*i+l*l));break;case ks:if(d=C.endX,m=C.endY,C.endX=d*t+m*s+u,C.endY=d*i+m*l+c,C.radiusX===0||C.radiusY===0)break;i!==0&&(d=180*Math.atan2(i,t)/Math.PI,0>d&&(d+=360),C.xAxisRotation+=d),0>t&&(C.xAxisRotation=180-C.xAxisRotation,C.isClockwiseArc=!C.isClockwiseArc),0>l&&(C.xAxisRotation=-C.xAxisRotation,C.isClockwiseArc=!C.isClockwiseArc),C.radiusX*=Math.sqrt(t*t+s*s),C.radiusY*=Math.sqrt(i*i+l*l);break;default:D("Unknown Segment type: "+C.type)}}}}return this._isInvalidBounds=!0,this},n.ca=function(t,i){i===void 0&&(i=0);var s=this.od,l=this.pd,u=this.Dc,c=this.Ec;switch(this.type){case lt.o:return Y.ac(s,l,u,c,i,t.x,t.y);case lt.u:var d=J.allocAt(Math.min(s,u)-i,Math.min(l,c)-i,Math.abs(u-s)+2*i,Math.abs(c-l)+2*i);return t=d.ca(t),J.free(d),t;case lt.F:d=Math.min(s,u)-i;var m=Math.min(l,c)-i;return s=(Math.abs(u-s)+2*i)/2,i=(Math.abs(c-l)+2*i)/2,0>=s||0>=i?!1:(d=t.x-(d+s),m=t.y-(m+i),1>=d*d/(s*s)+m*m/(i*i));case lt.j:return gb(this,t,i,!0,!1);default:return!1}};function gb(t,i,s,l,u){var c=i.x;i=i.y;for(var d=t.bounds.x-20,m=0,y,O,w,k,P=t.figures.s,T=P.length,C=0;C<T;C++){var A=P[C],I=!A.isEvenOdd;if(A.isFilled){if(l&&A.ca(c,i,s))return!0;var E=A.segments;y=A.startX,O=A.startY;for(var z=y,B=O,_=E.s,Z=0;Z<=E.length;Z++){var H=void 0;if(Z!==E.length){H=_[Z];var at=H.type;t=H.endX,k=H.endY}else at=Pe,t=z,k=B;switch(at){case qr:if(z=Nx(c,i,d,i,y,O,z,B),isNaN(z))return!0;m+=z,z=t,B=k;break;case Pe:if(y=Nx(c,i,d,i,y,O,t,k),isNaN(y))return!0;m+=y;break;case dr:w=Y.Go(y,O,H.point1X,H.point1Y,H.point2X,H.point2Y,t,k,d,i,c,i,.5),m+=w;break;case _s:w=Y.Go(y,O,(y+2*H.point1X)/3,(O+2*H.point1Y)/3,(2*H.point1X+t)/3,(2*H.point1Y+k)/3,t,k,d,i,c,i,.5),m+=w;break;case We:case ks:at=H.type===We?El(H,A):jh(H,A,y,O);var pt=at.length;if(pt===0){if(y=Nx(c,i,d,i,y,O,H.type===We?H.centerX:H.endX,H.type===We?H.centerY:H.endY),isNaN(y))return!0;m+=y;break}H=null;for(var gt=0;gt<pt;gt++){if(H=at[gt],gt===0){if(w=Nx(c,i,d,i,y,O,H[0],H[1]),isNaN(w))return!0;m+=w}w=Y.Go(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],d,i,c,i,.5),m+=w}H!==null&&(t=H[6],k=H[7]);break;default:D("Unknown Segment type: "+H.type)}y=t,O=k}if(I){if(m!==0)return!0}else if(m%2!==0)return!0;m=0}else if(A.ca(c,i,u?s:s+2))return!0}return!1}function Nx(t,i,s,l,u,c,d,m){if(Y.ac(u,c,d,m,.05,t,i))return NaN;var y=(t-s)*(c-m);if(y===0)return 0;var O=((t*l-i*s)*(u-d)-(t-s)*(u*m-c*d))/y;if(i=(t*l-i*s)*(c-m)/y,O>=t)return 0;if((u>d?u-d:d-u)<(c>m?c-m:m-c)){if(c<m){if(i<c||i>m)return 0}else if(i<m||i>c)return 0}else if(u<d){if(O<u||O>d)return 0}else if(O<d||O>u)return 0;return 0<y?1:-1}function KL(t,i,s,l){t=t.figures.s;for(var u=t.length,c=0;c<u;c++)if(t[c].ca(i,s,l))return!0;return!1}n.Ru=function(t,i){if(0>t?t=0:1<t&&(t=1),i===void 0&&(i=new F),this.type===lt.o)return i.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),i;for(var s=this.flattenedSegments,l=this.flattenedLengths,u=s.length,c=this.flattenedTotalLength*t,d=0,m=0;m<u;m++){var y=l[m],O=y.length;for(t=0;t<O;t++){var w=y[t];if(d+w>=c)return l=c-d,l=w===0?0:l/w,s=s[m],m=s[2*t],u=s[2*t+1],i.h(m+(s[2*t+2]-m)*l,u+(s[2*t+3]-u)*l),i;d+=w}}return i},n.yx=function(t){if(0>t?t=0:1<t&&(t=1),this.type===lt.o)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var i=this.flattenedSegments,s=this.flattenedLengths,l=i.length,u=this.flattenedTotalLength*t,c=0,d=0;d<l;d++){var m=s[d],y=m.length;for(t=0;t<y;t++){var O=m[t];if(c+O>=u)return u=i[d],i=u[2*t],s=u[2*t+1],l=u[2*t+2],t=u[2*t+3],1>Math.abs(l-i)&&1>Math.abs(t-s)?0:1>Math.abs(l-i)?0<=t-s?90:270:1>Math.abs(t-s)?0<=l-i?0:180:180*Math.atan2(t-s,l-i)/Math.PI;c+=O}}return NaN},n.Su=function(t,i){if(0>t?t=0:1<t&&(t=1),i===void 0&&(i=[]),i.length=3,this.type===lt.o)return i[0]=this.startX+t*(this.endX-this.startX),i[1]=this.startY+t*(this.endY-this.startY),i[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,i;for(var s=this.flattenedSegments,l=this.flattenedLengths,u=s.length,c=this.flattenedTotalLength*t,d=0,m=0;m<u;m++){var y=l[m],O=y.length;for(t=0;t<O;t++){var w=y[t];if(d+w>=c)return l=c-d,l=w===0?0:l/w,w=s[m],s=w[2*t],m=w[2*t+1],u=w[2*t+2],t=w[2*t+3],i[0]=s+(u-s)*l,i[1]=m+(t-m)*l,i[2]=1>Math.abs(u-s)&&1>Math.abs(t-m)?0:1>Math.abs(u-s)?0<=t-m?90:270:1>Math.abs(t-m)?0<=u-s?0:180:180*Math.atan2(t-m,u-s)/Math.PI,i;d+=w}}return i},n.zx=function(t){if(this.type===lt.o){var i=this.startX,s=this.startY,l=this.endX,u=this.endY;if(i!==l||s!==u){var c=t.x;if(t=t.y,i===l){if(s<u){var d=s;l=u}else d=u,l=s;return t<=d?d===s?0:1:t>=l?l===s?0:1:Math.abs(t-s)/(l-d)}if(s===u)return i<l?d=i:(d=l,l=i),c<=d?d===i?0:1:c>=l?l===i?0:1:Math.abs(c-i)/(l-d);d=(l-i)*(l-i)+(u-s)*(u-s);var m=F.alloc();return Y.qh(i,s,l,u,c,t,m),t=m.x,c=m.y,F.free(m),Math.sqrt(((t-i)*(t-i)+(c-s)*(c-s))/d)}}else if(this.type===lt.u){d=this.startX,m=this.startY;var y=this.endX;if(u=this.endY,d!==y||m!==u){i=y-d,s=u-m,c=2*i+2*s,l=t.x,t=t.y,l=Math.min(Math.max(l,d),y),t=Math.min(Math.max(t,m),u),d=Math.abs(l-d),y=Math.abs(l-y),m=Math.abs(t-m),u=Math.abs(t-u);var O=Math.min(d,y,m,u);if(O===m)return l/c;if(O===y)return(i+t)/c;if(O===u)return(2*i+s-l)/c;if(O===d)return(2*i+2*s-t)/c}}else{i=this.flattenedSegments,s=this.flattenedLengths,c=this.flattenedTotalLength,l=F.alloc(),u=1/0,m=d=0,y=i.length;for(var w=O=0,k=0;k<y;k++)for(var P=i[k],T=s[k],C=P.length,A=0;A<C;A+=2){var I=P[A],E=P[A+1];if(A!==0){Y.qh(O,w,I,E,t.x,t.y,l);var z=(l.x-t.x)*(l.x-t.x)+(l.y-t.y)*(l.y-t.y);z<u&&(u=z,d=m,d+=Math.sqrt((l.x-O)*(l.x-O)+(l.y-w)*(l.y-w))),m+=T[(A-2)/2]}O=I,w=E}return F.free(l),t=d/c,0>t?0:1<t?1:t}return 0};function JL(t){if(t.sk===null){var i=t.sk=[],s=t.zm=[],l=[],u=[];if(t.type===lt.o)l.push(t.startX),l.push(t.startY),l.push(t.endX),l.push(t.endY),i.push(l),u.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),s.push(u);else if(t.type===lt.u)l.push(t.startX),l.push(t.startY),l.push(t.endX),l.push(t.startY),l.push(t.endX),l.push(t.endY),l.push(t.startX),l.push(t.endY),l.push(t.startX),l.push(t.startY),i.push(l),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),s.push(u);else if(t.type===lt.F){var c=new vi;c.startX=t.endX,c.startY=(t.startY+t.endY)/2;var d=new Jt(We);if(d.startAngle=0,d.sweepAngle=360,d.centerX=(t.startX+t.endX)/2,d.centerY=(t.startY+t.endY)/2,d.radiusX=Math.abs(t.startX-t.endX)/2,d.radiusY=Math.abs(t.startY-t.endY)/2,c.add(d),t=El(d,c),u=t.length,u===0)l.push(d.centerX),l.push(d.centerY);else{d=c.startX,c=c.startY;for(var m=0;m<u;m++){var y=t[m];Y.Qe(d,c,y[2],y[3],y[4],y[5],y[6],y[7],.5,l),d=y[6],c=y[7]}}i.push(l),s.push(yb(l))}else for(t=t.figures.iterator;t.next();){u=t.value,l=[],l.push(u.startX),l.push(u.startY),d=u.startX,c=u.startY,m=d,y=c;for(var O=u.segments.s,w=O.length,k=0;k<w;k++){var P=O[k];switch(P.type){case qr:4<=l.length&&(i.push(l),s.push(yb(l))),l=[],l.push(P.endX),l.push(P.endY),d=P.endX,c=P.endY,m=d,y=c;break;case Pe:l.push(P.endX),l.push(P.endY),d=P.endX,c=P.endY;break;case dr:Y.Qe(d,c,P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY,.5,l),d=P.endX,c=P.endY;break;case _s:Y.ep(d,c,P.point1X,P.point1Y,P.endX,P.endY,.5,l),d=P.endX,c=P.endY;break;case We:var T=El(P,u),C=T.length;if(C===0){l.push(P.centerX),l.push(P.centerY),d=P.centerX,c=P.centerY;break}for(var A=0;A<C;A++){var I=T[A];Y.Qe(d,c,I[2],I[3],I[4],I[5],I[6],I[7],.5,l),d=I[6],c=I[7]}break;case ks:if(T=jh(P,u,d,c),C=T.length,A=P.endX,I=P.endY,C===0){l.push(A),l.push(I),d=A,c=I;break}for(A=0;A<C;A++)I=T[A],Y.Qe(d,c,I[2],I[3],I[4],I[5],I[6],I[7],.5,l),d=I[6],c=I[7];break;default:D("Segment not of valid type: "+P.type)}P.isClosed&&(l.push(m),l.push(y))}4<=l.length&&(i.push(l),s.push(yb(l)))}}}function yb(t){for(var i=[],s=0,l=0,u=t.length,c=0;c<u;c+=2){var d=t[c],m=t[c+1];c!==0&&i.push(Math.sqrt(mo(s,l,d,m))),s=d,l=m}return i}n.add=function(t){return this.ee.add(t),this},n.qm=function(t,i,s,l,u,c,d,m){return this._isFrozen&&X(this),this.fg=new Tt(t,i,u,c).freeze(),this.gg=new Tt(s,l,d,m).freeze(),this},S.Object.defineProperties(lt.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},flattenedSegments:{get:function(){return JL(this),this.sk}},flattenedLengths:{get:function(){return JL(this),this.zm}},flattenedTotalLength:{get:function(){var t=this.Am;if(isNaN(t)){if(this.type===lt.o){t=Math.abs(this.endX-this.startX);var i=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+i*i)}else if(this.type===lt.u)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else{i=this.flattenedLengths;for(var s=i.length,l=t=0;l<s;l++)for(var u=i[l],c=u.length,d=0;d<c;d++)t+=u[d]}this.Am=t}return t}},type:{get:function(){return this.na},set:function(t){this.na!==t&&(this._isFrozen&&X(this,t),this.na=t,t===lt.j?this.ee=new ct:(lt.V===null&&(lt.V=new ct().freeze()),this.ee=lt.V),this._isInvalidBounds=!0)}},startX:{get:function(){return this.od},set:function(t){this.od!==t&&(this._isFrozen&&X(this,t),this.od=t,this._isInvalidBounds=!0)}},startY:{get:function(){return this.pd},set:function(t){this.pd!==t&&(this._isFrozen&&X(this,t),this.pd=t,this._isInvalidBounds=!0)}},endX:{get:function(){return this.Dc},set:function(t){this.Dc!==t&&(this._isFrozen&&X(this,t),this.Dc=t,this._isInvalidBounds=!0)}},endY:{get:function(){return this.Ec},set:function(t){this.Ec!==t&&(this._isFrozen&&X(this,t),this.Ec=t,this._isInvalidBounds=!0)}},figures:{get:function(){return this.ee},set:function(t){this.ee!==t&&(this._isFrozen&&X(this,t),this.ee=t,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.fg},set:function(t){this._isFrozen&&X(this,t),this.fg=t.J()}},spot2:{get:function(){return this.gg},set:function(t){this._isFrozen&&X(this,t),this.gg=t.J()}},defaultStretch:{get:function(){return this.Uf},set:function(t){this._isFrozen&&X(this,t),this.Uf=t}},bounds:{get:function(){return this.av()&&this.computeBounds(),this.Ip}}}),lt.prototype.setSpots=lt.prototype.qm,lt.prototype.add=lt.prototype.add,lt.prototype.getFractionForPoint=lt.prototype.zx,lt.prototype.getPointAndAngleAlongPath=lt.prototype.Su,lt.prototype.getAngleAlongPath=lt.prototype.yx,lt.prototype.getPointAlongPath=lt.prototype.Ru,lt.prototype.containsPoint=lt.prototype.ca,lt.prototype.transform=lt.prototype.transform,lt.prototype.rotate=lt.prototype.rotate,lt.prototype.scale=lt.prototype.scale,lt.prototype.offset=lt.prototype.offset,lt.prototype.normalize=lt.prototype.normalize,lt.prototype.computeBoundsWithoutOrigin=lt.prototype.kx,lt.prototype.equalsApprox=lt.prototype.Xa,lt.className="Geometry",lt.o=new it(lt,"Line",0),lt.u=new it(lt,"Rectangle",1),lt.F=new it(lt,"Ellipse",2),lt.j=new it(lt,"Path",3),lt.V=null,lt.hb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",lt.className="Geometry",lt.stringify=lt.ia,lt.fillPath=lt.nb,lt.parse=lt.parse,lt.Line=lt.o,lt.Rectangle=lt.u,lt.Ellipse=lt.F,lt.Path=lt.j;function vi(t,i,s,l,u){Ye(this),s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=!1),this.l=2|(s?4:0)|(l?8:0)|(u?16:0),t!==void 0?this.od=t:this.od=0,i!==void 0?this.pd=i:this.pd=0,this.pl=new ct,this.sr=this.pl.Ja,this.hw=null}vi.prototype.copy=function(){var t=new vi;t.l=this.l&-2,t.od=this.od,t.pd=this.pd;for(var i=this.pl.s,s=i.length,l=t.pl,u=0;u<s;u++){var c=i[u].copy();l.add(c)}return t.sr=this.sr,t.hw=this.hw,t},n=vi.prototype,n.Xa=function(t){if(!(t instanceof vi&&Y.B(this.startX,t.startX)&&Y.B(this.startY,t.startY)))return!1;var i=this.segments.s;t=t.segments.s;var s=i.length;if(s!==t.length)return!1;for(var l=0;l<s;l++)if(!i[l].Xa(t[l]))return!1;return!0},n.toString=function(t){t===void 0&&(t=-1);for(var i=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),s=this.segments.s,l=s.length,u=0;u<l;u++)i+=" "+s[u].toString(t);return i},n.freeze=function(){this._isFrozen=!0;var t=this.segments;t.freeze();var i=t.s;t=t.length;for(var s=0;s<t;s++)i[s].freeze();return this},n.ka=function(){this._isFrozen=!1;var t=this.segments;t.ka(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].ka();return this},n.av=function(){if(this._isInvalidBounds)return!0;var t=this.segments;if(this.sr!==t.Ja)return!0;t=t.s;for(var i=t.length,s=0;s<i;s++)if(t[s]._isInvalidBounds)return!0;return!1},n.add=function(t){return this.pl.add(t),this},n.ca=function(t,i,s){for(var l=this.startX,u=this.startY,c=l,d=u,m=this.segments.s,y=m.length,O=0;O<y;O++){var w=m[O];switch(w.type){case qr:c=w.endX,d=w.endY,l=w.endX,u=w.endY;break;case Pe:if(Y.ac(l,u,w.endX,w.endY,s,t,i))return!0;l=w.endX,u=w.endY;break;case dr:if(Y.cs(l,u,w.point1X,w.point1Y,w.point2X,w.point2Y,w.endX,w.endY,.5,t,i,s))return!0;l=w.endX,u=w.endY;break;case _s:if(Y.lv(l,u,w.point1X,w.point1Y,w.endX,w.endY,.5,t,i,s))return!0;l=w.endX,u=w.endY;break;case We:case ks:var k=w.type===We?El(w,this):jh(w,this,l,u),P=k.length,T=w.type===We?w.centerX:w.endX,C=w.type===We?w.centerY:w.endY;if(P===0){if(Y.ac(l,u,T,C,s,t,i))return!0;l=T,u=C;break}for(T=null,C=0;C<P;C++)if(T=k[C],C===0&&Y.ac(l,u,T[0],T[1],s,t,i)||Y.cs(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],.5,t,i,s))return!0;T!==null&&(l=T[6],u=T[7]);break;default:D("Unknown Segment type: "+w.type)}if(w.isClosed&&(l!==c||u!==d)&&Y.ac(l,u,c,d,s,t,i))return!0}return!1},S.Object.defineProperties(vi.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},isFilled:{get:function(){return(this.l&4)!==0},set:function(t){this._isFrozen&&X(this,t),this.l=t?this.l|4:this.l&-5}},isShadowed:{get:function(){return(this.l&8)!==0},set:function(t){this._isFrozen&&X(this,t),this.l=t?this.l|8:this.l&-9}},isEvenOdd:{get:function(){return(this.l&16)!==0},set:function(t){this._isFrozen&&X(this,t),this.l=t?this.l|16:this.l&-17}},startX:{get:function(){return this.od},set:function(t){this._isFrozen&&X(this,t),this.od=t,this._isInvalidBounds=!0}},startY:{get:function(){return this.pd},set:function(t){this._isFrozen&&X(this,t),this.pd=t,this._isInvalidBounds=!0}},segments:{get:function(){return this.pl},set:function(t){this._isFrozen&&X(this,t),this.pl=t,this._isInvalidBounds=!0}}}),vi.prototype.add=vi.prototype.add,vi.prototype.equalsApprox=vi.prototype.Xa,vi.className="PathFigure";function Jt(t,i,s,l,u,c,d,m){Ye(this),t===void 0&&(t=Pe),this.na=t,this.l=2,i!==void 0?this.Dc=i:this.Dc=0,s!==void 0?this.Ec=s:this.Ec=0,l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),t===ks?(t=c%360,0>t&&(t+=360),this.Ne=t,this.Vh=0,this.Wh=Math.max(l,0),this.Pg=Math.max(u,0),typeof d=="boolean"?d&&(this.isLargeArc=!0):typeof d=="number"&&d&&(this.isLargeArc=!0),m&&(this.isClockwiseArc=!0)):(this.Ne=l,this.Vh=u,t===We&&(c=Math.max(c,0)),this.Wh=c,typeof d=="number"?(t===We&&(d=Math.max(d,0)),this.Pg=d):this.Pg=0),this.ae=null}Jt.prototype.copy=function(){var t=new Jt;return t.na=this.na,t.l=this.l&-2,t.Dc=this.Dc,t.Ec=this.Ec,t.Ne=this.Ne,t.Vh=this.Vh,t.Wh=this.Wh,t.Pg=this.Pg,t},n=Jt.prototype,n.Xa=function(t){if(!(t instanceof Jt)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case qr:case Pe:return Y.B(this.endX,t.endX)&&Y.B(this.endY,t.endY);case dr:return Y.B(this.endX,t.endX)&&Y.B(this.endY,t.endY)&&Y.B(this.point1X,t.point1X)&&Y.B(this.point1Y,t.point1Y)&&Y.B(this.point2X,t.point2X)&&Y.B(this.point2Y,t.point2Y);case _s:return Y.B(this.endX,t.endX)&&Y.B(this.endY,t.endY)&&Y.B(this.point1X,t.point1X)&&Y.B(this.point1Y,t.point1Y);case We:return Y.B(this.startAngle,t.startAngle)&&Y.B(this.sweepAngle,t.sweepAngle)&&Y.B(this.centerX,t.centerX)&&Y.B(this.centerY,t.centerY)&&Y.B(this.radiusX,t.radiusX)&&Y.B(this.radiusY,t.radiusY);case ks:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&Y.B(this.xAxisRotation,t.xAxisRotation)&&Y.B(this.endX,t.endX)&&Y.B(this.endY,t.endY)&&Y.B(this.radiusX,t.radiusX)&&Y.B(this.radiusY,t.radiusY);default:return!1}},n.qb=function(t){t.classType===Jt&&(this.type=t)},n.toString=function(t){switch(t===void 0&&(t=-1),this.type){case qr:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Pe:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case dr:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case _s:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case We:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case ks:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.isClosed?"z":"")},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.close=function(){return this.isClosed=!0,this};function El(t,i){if(t.ae!==null&&i._isInvalidBounds===!1)return t.ae;var s=t.radiusX,l=t.radiusY;if(l===void 0&&(l=s),s===0||l===0)return t.ae=[],t.ae;i=t.Ne;var u=t.Vh,c=Y.lx(0,0,s<l?s:l,t.startAngle,t.startAngle+t.sweepAngle,!1);if(s!==l){var d=Bt.alloc();d.reset(),s<l?d.scale(1,l/s):d.scale(s/l,1),lt.Ha(c,d),Bt.free(d)}for(s=c.length,l=0;l<s;l++)d=c[l],d[0]+=i,d[1]+=u,d[2]+=i,d[3]+=u,d[4]+=i,d[5]+=u,d[6]+=i,d[7]+=u;return t.ae=c,t.ae}function jh(t,i,s,l){function u(A,I,E,z){return(A*z<I*E?-1:1)*Math.acos((A*E+I*z)/(Math.sqrt(A*A+I*I)*Math.sqrt(E*E+z*z)))}if(t.ae!==null&&i._isInvalidBounds===!1)return t.ae;if(t.radiusX===0||t.radiusY===0)return t.ae=[],t.ae;i=t.Wh;var c=t.Pg;i===0&&(i=1e-4),c===0&&(c=1e-4);var d=Math.PI/180*t.Ne,m=t.isLargeArc,y=t.isClockwiseArc,O=t.Dc,w=t.Ec,k=Math.cos(d),P=Math.sin(d),T=k*(s-O)/2+P*(l-w)/2;d=-P*(s-O)/2+k*(l-w)/2;var C=T*T/(i*i)+d*d/(c*c);return 1<C&&(i*=Math.sqrt(C),c*=Math.sqrt(C)),C=(m===y?-1:1)*Math.sqrt((i*i*c*c-i*i*d*d-c*c*T*T)/(i*i*d*d+c*c*T*T)),isNaN(C)&&(C=0),m=C*i*d/c,C=C*-c*T/i,isNaN(m)&&(m=0),isNaN(C)&&(C=0),s=(s+O)/2+k*m-P*C,l=(l+w)/2+P*m+k*C,w=u(1,0,(T-m)/i,(d-C)/c),k=(T-m)/i,O=(d-C)/c,T=(-T-m)/i,m=(-d-C)/c,d=u(k,O,T,m),T=(k*T+O*m)/(Math.sqrt(k*k+O*O)*Math.sqrt(T*T+m*m)),-1>=T?d=Math.PI:1<=T&&(d=0),!y&&0<d&&(d-=2*Math.PI),y&&0>d&&(d+=2*Math.PI),y=i>c?1:i/c,T=i>c?c/i:1,i=Y.lx(0,0,i>c?i:c,w,w+d,!0),c=Bt.alloc(),c.reset(),c.translate(s,l),c.rotate(t.Ne,0,0),c.scale(y,T),lt.Ha(i,c),Bt.free(c),t.ae=i,t.ae}S.Object.defineProperties(Jt.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},isClosed:{get:function(){return(this.l&8)!==0},set:function(t){this.isClosed!==t&&(this.l=t?this.l|8:this.l&-9,this._isInvalidBounds=!0)}},type:{get:function(){return this.na},set:function(t){this._isFrozen&&X(this,t),this.na=t,this._isInvalidBounds=!0}},endX:{get:function(){return this.Dc},set:function(t){this._isFrozen&&X(this,t),this.Dc=t,this._isInvalidBounds=!0}},endY:{get:function(){return this.Ec},set:function(t){this._isFrozen&&X(this,t),this.Ec=t,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Ne},set:function(t){this._isFrozen&&X(this,t),this.Ne=t,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Vh},set:function(t){this._isFrozen&&X(this,t),this.Vh=t,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Wh},set:function(t){this._isFrozen&&X(this,t),this.Wh=t,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Pg},set:function(t){this._isFrozen&&X(this,t),this.Pg=t,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Ne},set:function(t){this._isFrozen&&X(this,t),this.Ne=t,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Vh},set:function(t){this._isFrozen&&X(this,t),this.Vh=t,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Wh},set:function(t){0>t&&W(t,">= zero",Jt,"radiusX"),this._isFrozen&&X(this,t),this.Wh=t,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Pg},set:function(t){0>t&&W(t,">= zero",Jt,"radiusY"),this._isFrozen&&X(this,t),this.Pg=t,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.Dc},set:function(t){this._isFrozen&&X(this,t),t%=360,0>t&&(t+=360),this.Dc=t,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.Ec},set:function(t){this._isFrozen&&X(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Ec=t,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return(this.l&4)!==0},set:function(t){this._isFrozen&&X(this,t),this.l=t?this.l|4:this.l&-5,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return(this.l&16)!==0},set:function(t){this._isFrozen&&X(this,t),this.l=t?this.l|16:this.l&-17,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Ne},set:function(t){this._isFrozen&&X(this,t),t%=360,0>t&&(t+=360),this.Ne=t,this._isInvalidBounds=!0}}}),Jt.prototype.equalsApprox=Jt.prototype.Xa;var qr=new it(Jt,"Move",0),Pe=new it(Jt,"Line",1),dr=new it(Jt,"Bezier",2),_s=new it(Jt,"QuadraticBezier",3),We=new it(Jt,"Arc",4),ks=new it(Jt,"SvgArc",4);Jt.className="PathSegment",Jt.Move=qr,Jt.Line=Pe,Jt.Bezier=dr,Jt.QuadraticBezier=_s,Jt.Arc=We,Jt.SvgArc=ks;function Mr(){this.H=null,this.yu=new F(0,0).freeze(),this.nt=new F(0,0).freeze(),this.Bp=this.Rq=0,this.Cp=1,this.xq="",this.Wr=this.Tp=!1,this.Rp=this.Ep=0,this.xg=this.nq=this.tq=!1,this.Zp=null,this.Rr=0,this.xd=this.Nr=null}Mr.prototype.copy=function(){var t=new Mr;return this.clone(t)},Mr.prototype.clone=function(t){return t.H=this.H,t.yu.assign(this.viewPoint),t.nt.assign(this.documentPoint),t.Rq=this.Rq,t.Bp=this.Bp,t.Cp=this.Cp,t.xq=this.xq,t.Tp=this.Tp,t.Wr=this.Wr,t.Ep=this.Ep,t.Rp=this.Rp,t.tq=this.tq,t.nq=this.nq,t.xg=this.xg,t.Zp=this.Zp,t.Rr=this.Rr,t.Nr=this.Nr,t.xd=this.xd,t},Mr.prototype.toString=function(){var t="^";return this.modifiers!==0&&(t+="M:"+this.modifiers),this.button!==0&&(t+="B:"+this.button),this.key!==""&&(t+="K:"+this.key),this.clickCount!==0&&(t+="C:"+this.clickCount),this.delta!==0&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),this.documentPoint!==null&&(t+="@"+this.documentPoint.toString()),t},Mr.prototype.To=function(t,i){var s=this.diagram;return s===null||LE(s,t,i),i},Mr.prototype.Gz=function(t,i){var s=this.diagram;return s===null||(LE(s,t,i),i.assign(s.Qs(i))),i},S.Object.defineProperties(Mr.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},viewPoint:{get:function(){return this.yu},set:function(t){this.yu.assign(t)}},documentPoint:{get:function(){return this.nt},set:function(t){this.nt.assign(t)}},modifiers:{get:function(){return this.Rq},set:function(t){this.Rq=t}},button:{get:function(){return this.Bp},set:function(t){if(this.Bp=t,this.event===null)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Cp},set:function(t){this.Cp=t}},key:{get:function(){return this.xq},set:function(t){this.xq=t}},down:{get:function(){return this.Tp},set:function(t){this.Tp=t}},up:{get:function(){return this.Wr},set:function(t){this.Wr=t}},clickCount:{get:function(){return this.Ep},set:function(t){this.Ep=t}},delta:{get:function(){return this.Rp},set:function(t){this.Rp=t}},isMultiTouch:{get:function(){return this.tq},set:function(t){this.tq=t}},handled:{get:function(){return this.nq},set:function(t){this.nq=t}},bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},event:{get:function(){return this.Zp},set:function(t){this.Zp=t}},isTouchEvent:{get:function(){var t=this.event;return t===null?!1:t.pointerType==="touch"||t.pointerType==="pen"}},timestamp:{get:function(){return this.Rr},set:function(t){this.Rr=t}},targetDiagram:{get:function(){return this.Nr},set:function(t){this.Nr=t}},targetObject:{get:function(){return this.xd},set:function(t){this.xd=t}},control:{get:function(){return(this.modifiers&1)!==0},set:function(t){this.modifiers=t?this.modifiers|1:this.modifiers&-2}},shift:{get:function(){return(this.modifiers&4)!==0},set:function(t){this.modifiers=t?this.modifiers|4:this.modifiers&-5}},alt:{get:function(){return(this.modifiers&2)!==0},set:function(t){this.modifiers=t?this.modifiers|2:this.modifiers&-3}},meta:{get:function(){return(this.modifiers&8)!==0},set:function(t){this.modifiers=t?this.modifiers|8:this.modifiers&-9}},left:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&1)!==0:this.button===0},set:function(t){this.buttons=t?this.buttons|1:this.buttons&-2}},right:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&2)!==0:this.button===2},set:function(t){this.buttons=t?this.buttons|2:this.buttons&-3}},middle:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&4)!==0:this.button===1},set:function(t){this.buttons=t?this.buttons|4:this.buttons&-5}}}),Mr.prototype.getMultiTouchDocumentPoint=Mr.prototype.Gz,Mr.prototype.getMultiTouchViewPoint=Mr.prototype.To,Mr.className="InputEvent";function gf(){this.H=null,this.xa="",this.ar=this.Lr=null}gf.prototype.copy=function(){var t=new gf;return t.H=this.H,t.xa=this.xa,t.Lr=this.Lr,t.ar=this.ar,t},gf.prototype.toString=function(){var t="*"+this.name;return this.subject!==null&&(t+=":"+this.subject.toString()),this.parameter!==null&&(t+="("+this.parameter.toString()+")"),t},S.Object.defineProperties(gf.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},subject:{get:function(){return this.Lr},set:function(t){this.Lr=t}},parameter:{get:function(){return this.ar},set:function(t){this.ar=t}}}),gf.className="DiagramEvent";function Te(){this.Gm=Se,this.rf=this.Qq="",this.Mn=this.Nn=this.Sn=this.Tn=this.Rn=this.H=this.ec=null}Te.prototype.clear=function(){this.Mn=this.Nn=this.Sn=this.Tn=this.Rn=this.H=this.ec=null},Te.prototype.copy=function(){var t=new Te;t.Gm=this.Gm,t.Qq=this.Qq,t.rf=this.rf,t.ec=this.ec,t.H=this.H,t.Rn=this.Rn;var i=this.Tn;return t.Tn=tt(i)&&typeof i.J=="function"?i.J():i,i=this.Sn,t.Sn=tt(i)&&typeof i.J=="function"?i.J():i,i=this.Nn,t.Nn=tt(i)&&typeof i.J=="function"?i.J():i,i=this.Mn,t.Mn=tt(i)&&typeof i.J=="function"?i.J():i,t},Te.prototype.qb=function(t){t.classType===Te&&(this.change=t)},Te.prototype.toString=function(){var t="";return t=this.change===Ps?t+"* ":this.change===Se?t+(this.model!==null?"!m":"!d"):t+((this.model!==null?"!m":"!d")+this.change),this.propertyName&&typeof this.propertyName=="string"&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Ps?this.oldValue!==null&&(t+=" "+this.oldValue):(this.object!==null&&(t+=Nt(this.object)),this.oldValue!==null&&(t+="  old: "+Nt(this.oldValue)),this.oldParam!==null&&(t+=" "+this.oldParam),this.newValue!==null&&(t+="  new: "+Nt(this.newValue)),this.newParam!==null&&(t+=" "+this.newParam)),t},Te.prototype.I=function(t){return t?this.oldValue:this.newValue},Te.prototype.Iz=function(t){return t?this.oldParam:this.newParam},Te.prototype.canUndo=function(){return this.model!==null||this.diagram!==null},Te.prototype.undo=function(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.changeState(this,!0))},Te.prototype.canRedo=function(){return this.model!==null||this.diagram!==null},Te.prototype.redo=function(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.changeState(this,!1))},S.Object.defineProperties(Te.prototype,{model:{get:function(){return this.ec},set:function(t){this.ec=t}},diagram:{get:function(){return this.H},set:function(t){this.H=t}},change:{get:function(){return this.Gm},set:function(t){this.Gm=t}},modelChange:{get:function(){return this.Qq},set:function(t){this.Qq=t}},propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},isTransactionFinished:{get:function(){return this.Gm===Ps&&(this.rf==="CommittedTransaction"||this.rf==="FinishedUndo"||this.rf==="FinishedRedo")}},object:{get:function(){return this.Rn},set:function(t){this.Rn=t}},oldValue:{get:function(){return this.Tn},set:function(t){this.Tn=t}},oldParam:{get:function(){return this.Sn},set:function(t){this.Sn=t}},newValue:{get:function(){return this.Nn},set:function(t){this.Nn=t}},newParam:{get:function(){return this.Mn},set:function(t){this.Mn=t}}}),Te.prototype.redo=Te.prototype.redo,Te.prototype.canRedo=Te.prototype.canRedo,Te.prototype.undo=Te.prototype.undo,Te.prototype.canUndo=Te.prototype.canUndo,Te.prototype.getParam=Te.prototype.Iz,Te.prototype.getValue=Te.prototype.I,Te.prototype.clear=Te.prototype.clear;var Ps=new it(Te,"Transaction",-1),Se=new it(Te,"Property",0),ei=new it(Te,"Insert",1),ui=new it(Te,"Remove",2);Te.className="ChangedEvent",Te.Transaction=Ps,Te.Property=Se,Te.Insert=ei,Te.Remove=ui;function Si(){this.o=new ct().freeze(),this.xa="",this.j=!1}Si.prototype.toString=function(t){var i="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(t!==void 0&&0<t){t=this.changes.count;for(var s=0;s<t;s++){var l=this.changes.M(s);l!==null&&(i+=`
  `+l.toString())}}return i},Si.prototype.clear=function(){var t=this.changes;t.ka();for(var i=t.count-1;0<=i;i--){var s=t.M(i);s!==null&&s.clear()}t.clear(),t.freeze()},Si.prototype.canUndo=function(){return this.isComplete},Si.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var i=this.changes.M(t);i!==null&&i.undo()}},Si.prototype.canRedo=function(){return this.isComplete},Si.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,i=0;i<t;i++){var s=this.changes.M(i);s!==null&&s.redo()}},Si.prototype.$j=function(){if(this.isComplete){var t=this.changes;t.ka();for(var i=new jt,s=0;s<t.count;s++){var l=t.M(s);if(l!==null&&l.change===Se&&l.object){var u=i.get(l.object);u||(u=new jt,i.set(l.object,u));var c=u.get(l.propertyName);c===null?u.set(l.propertyName,-1):(0<c&&t.cd(c,null),u.set(l.propertyName,s))}}for(s=i=0;s<t.count;s++)l=t.M(s),l!==null&&(s>i&&t.cd(i,l),i++);for(;t.length>i;)t.pop();t.freeze()}},S.Object.defineProperties(Si.prototype,{changes:{get:function(){return this.o}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isComplete:{get:function(){return this.j},set:function(t){this.j=t}}}),Si.prototype.optimize=Si.prototype.$j,Si.prototype.redo=Si.prototype.redo,Si.prototype.canRedo=Si.prototype.canRedo,Si.prototype.undo=Si.prototype.undo,Si.prototype.canUndo=Si.prototype.canUndo,Si.prototype.clear=Si.prototype.clear,Si.className="Transaction";function Ee(){this.Qt=new ut,this.Jd=!1,this.u=new ct().freeze(),this.Ce=-1,this.o=999,this.Fe=!1,this.Np=null,this.bi=0,this.j=!1,this.Ie=new ct().freeze(),this.gl=new ct,this.ut=!0,this.Et=this.rq=this.Ht=this.Gt=!1}Ee.prototype.toString=function(t){var i="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;i+="[";for(var s=this.nestedTransactionNames.count,l=0;l<s;l++)0<l&&(i+=" "),i+=this.nestedTransactionNames.M(l);if(i+="]",t!==void 0&&0<t)for(s=this.history.count,l=0;l<s;l++)i+=`
 `+this.history.M(l).toString(t-1);return i},Ee.prototype.clear=function(){var t=this.history;t.ka();for(var i=t.count-1;0<=i;i--){var s=t.M(i);s!==null&&s.clear()}t.clear(),this.Ce=-1,t.freeze(),this.Fe=!1,this.Np=null,this.bi=0,this.Ie.ka(),this.Ie.clear(),this.Ie.freeze(),this.gl.clear(),this.Et=this.rq=this.Ht=this.Gt=!1},Ee.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},n=Ee.prototype,n.Zw=function(t){this.Qt.add(t)},n.Tx=function(t){this.Qt.remove(t)},n.Ea=function(t){if(t===void 0&&(t=""),t===null&&(t=""),this.isUndoingRedoing)return!1;this.ut===!0&&(this.ut=!1,this.bi++,this.isInternalTransaction||this.Pb("StartingFirstTransaction",t,this.currentTransaction),0<this.bi&&this.bi--),this.isEnabled&&(this.Ie.ka(),this.Ie.add(t),this.Ie.freeze(),this.currentTransaction===null?this.gl.add(0):this.gl.add(this.currentTransaction.changes.count)),this.bi++;var i=this.transactionLevel===1;return i&&(this.isInternalTransaction||this.Pb("StartedTransaction",t,this.currentTransaction)),i},n.eb=function(t){return t===void 0&&(t=""),tE(this,!0,t)},n.Kf=function(){return tE(this,!1,"")};function tE(t,i,s){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&K("Ending transaction without having started a transaction: "+s);var l=t.transactionLevel===1,u=t.currentTransaction;l&&i&&(t.isInternalTransaction||t.Pb("CommittingTransaction",s,u));var c=0;if(0<t.transactionLevel&&(t.bi--,t.isEnabled)){var d=t.Ie.count;0<d&&(s===""&&(s=t.Ie.M(0)),t.Ie.ka(),t.Ie.mb(d-1),t.Ie.freeze()),d=t.gl.count,0<d&&(c=t.gl.M(d-1),t.gl.mb(d-1))}if(l){if(i)t.rq=!1,u===null&&s!==""&&(u=t.currentTransaction),t.isEnabled&&u!==null&&(u.isComplete||(u.isComplete=!0,u.name=s),t.nx(),i=t.history,i.ka(),l=t.maxHistoryLength,0<=l&&(l===0?i.clear():i.count>=l&&(c=i.M(0),c!==null&&c.clear(),i.mb(0),t.Ce--)),l===0||i.count!==0&&i.get(i.count-1)===u||(i.add(u),t.Ce++),i.freeze()),t.isInternalTransaction||t.Pb("CommittedTransaction",s,u);else{t.Fe=!0;try{t.isEnabled&&u!==null&&(u.isComplete=!0,u.undo())}finally{t.isInternalTransaction||t.Pb("RolledBackTransaction",s,u),t.Fe=!1}u!==null&&u.clear()}return t.Np=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!i&&u!==null){for(t=c,s=u.changes,u=s.count-1;u>=t;u--)i=s.M(u),i!==null&&i.undo(),s.ka(),s.mb(u);s.freeze()}return!1}n.nx=function(){if(!this.isUndoingRedoing&&this.canRedo()){var t=this.history;t.ka();for(var i=t.count-1;i>this.historyIndex;i--){var s=t.M(i);s!==null&&s.clear(),t.mb(i),this.rq=!0}t.freeze()}},Ee.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!!(t!==null&&t.canUndo())},Ee.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.Fe=!0,this.Pb("StartingUndo","Undo",t),this.Ce--,t.undo()}catch(i){K("undo error: "+i.toString())}finally{this.Pb("FinishedUndo","Undo",t),this.Fe=!1}}},Ee.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!!(t!==null&&t.canRedo())},Ee.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.Fe=!0,this.Pb("StartingRedo","Redo",t),this.Ce++,t.redo()}catch(i){K("redo error: "+i.toString())}finally{this.Pb("FinishedRedo","Redo",t),this.Fe=!1}}},Ee.prototype.Pb=function(t,i,s){s===void 0&&(s=null);var l=new Te;for(l.change=Ps,l.propertyName=t,l.object=s,l.oldValue=i,t=this.models;t.next();)i=t.value,l.model=i,i.ds(l)},Ee.prototype.Vu=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var i=this.currentTransaction;i===null&&(this.Np=i=new Si);var s=t.copy();i=i.changes,i.ka(),i.add(s),i.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.ut&&(t=t.diagram,t!==null&&t.ri===!1||K("Change not within a transaction: "+s.toString()))}},Ee.prototype.skipsEvent=function(t){if(t===null||0>t.change.value)return!0;if(t=t.object,t===null)return!1;if(t.layer!==void 0){if(t=t.layer,t!==null&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},S.Object.defineProperties(Ee.prototype,{models:{get:function(){return this.Qt.iterator}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.M(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.M(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.Fe}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.o},set:function(t){this.o=t}},historyIndex:{get:function(){return this.Ce}},currentTransaction:{get:function(){return this.Np}},transactionLevel:{get:function(){return this.bi}},isInTransaction:{get:function(){return 0<this.bi}},checksTransactionLevel:{get:function(){return this.j},set:function(t){this.j=t}},nestedTransactionNames:{get:function(){return this.Ie}},isPendingClear:{get:function(){return this.Gt},set:function(t){this.Gt=t}},isPendingUnmodified:{get:function(){return this.Ht},set:function(t){this.Ht=t}},isInternalTransaction:{get:function(){return this.Et},set:function(t){this.Et=t}},isJustDiscarded:{get:function(){return this.rq}}}),Ee.prototype.handleChanged=Ee.prototype.Vu,Ee.prototype.redo=Ee.prototype.redo,Ee.prototype.undo=Ee.prototype.undo,Ee.prototype.canUndo=Ee.prototype.canUndo,Ee.prototype.discardHistoryAfterIndex=Ee.prototype.nx,Ee.prototype.rollbackTransaction=Ee.prototype.Kf,Ee.prototype.commitTransaction=Ee.prototype.eb,Ee.prototype.startTransaction=Ee.prototype.Ea,Ee.prototype.removeModel=Ee.prototype.Tx,Ee.prototype.addModel=Ee.prototype.Zw,Ee.prototype.clear=Ee.prototype.clear,Ee.className="UndoManager";function Kt(){Ye(this),this.H=dp,this.xa="",this.Jd=!0,this.nb=!1,this.xm=null,this.Ay=new Mr,this.Zr=-1}Kt.prototype.toString=function(){return this.name!==""?this.name+" Tool":Ft(this.constructor)},Kt.prototype.updateAdornments=function(){},Kt.prototype.canStart=function(){return this.isEnabled},Kt.prototype.doStart=function(){},Kt.prototype.doActivate=function(){this.isActive=!0},Kt.prototype.doDeactivate=function(){this.isActive=!1},Kt.prototype.doStop=function(){},Kt.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},Kt.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},Kt.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},Kt.prototype.doMouseMove=function(){},Kt.prototype.doMouseUp=function(){this.stopTool()},Kt.prototype.doMouseWheel=function(){},Kt.prototype.canStartMultiTouch=function(){return!0},Kt.prototype.standardPinchZoomStart=function(){var t=this.diagram,i=t.lastInput,s=i.To(0,F.allocAt(NaN,NaN)),l=i.To(1,F.allocAt(NaN,NaN));if(s.w()&&l.w()&&(this.doCancel(),t.Ql("hasGestureZoom"))){t.Dw=t.scale;var u=l.x-s.x,c=l.y-s.y;t.Lw=Math.sqrt(u*u+c*c),i.bubbles=!1}F.free(s),F.free(l)},Kt.prototype.standardPinchZoomMove=function(){var t=this.diagram,i=t.lastInput,s=i.To(0,F.allocAt(NaN,NaN)),l=i.To(1,F.allocAt(NaN,NaN));if(s.w()&&l.w()&&(this.doCancel(),t.Ql("hasGestureZoom"))){var u=l.x-s.x,c=l.y-s.y;c=Math.sqrt(u*u+c*c)/t.Lw,u=new F((Math.min(l.x,s.x)+Math.max(l.x,s.x))/2,(Math.min(l.y,s.y)+Math.max(l.y,s.y))/2),c*=t.Dw;var d=t.commandHandler;if(c!==t.scale&&d.canResetZoom(c)){var m=t.zoomPoint;t.zoomPoint=u,d.resetZoom(c),t.zoomPoint=m}i.bubbles=!1}F.free(s),F.free(l)},Kt.prototype.doKeyDown=function(){this.diagram.lastInput.key==="Esc"&&this.doCancel()},Kt.prototype.doKeyUp=function(){},Kt.prototype.Ea=function(t){return t===void 0&&(t=this.name),this.transactionResult=null,this.diagram.Ea(t)},Kt.prototype.stopTransaction=function(){var t=this.diagram;return this.transactionResult===null?t.Kf():t.eb(this.transactionResult)},Kt.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var i=t.lastInput,s=t.Ol(i.documentPoint,!1);if(s!==null){if(Dt?i.meta:i.control){for(t.S("ChangingSelection",t.selection),i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&(i.isSelected=!i.isSelected),t.S("ChangedSelection",t.selection)}else if(i.shift){if(!s.isSelected){for(t.S("ChangingSelection",t.selection),i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&(i.isSelected=!0),t.S("ChangedSelection",t.selection)}}else if(!s.isSelected){for(i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&t.select(i)}}else!i.left||(Dt?i.meta:i.control)||i.shift||t.clearSelection()}},Kt.prototype.standardMouseClick=function(t,i){t===void 0&&(t=null),i===void 0&&(i=function(u){return!u.layer.isTemporary});var s=this.diagram,l=s.lastInput;return t=s.kc(l.documentPoint,t,i),l.targetObject=t,mG(t,l,s),l.handled};function mG(t,i,s){if(i.handled=!1,t===null||t.If()){var l=0;i.left?l=i.clickCount===1?1:i.clickCount===2?2:1:i.right&&i.clickCount===1&&(l=3);var u="ObjectSingleClicked";if(t!==null){switch(l){case 1:u="ObjectSingleClicked";break;case 2:u="ObjectDoubleClicked";break;case 3:u="ObjectContextClicked"}l!==0&&s.S(u,t)}else{switch(l){case 1:u="BackgroundSingleClicked";break;case 2:u="BackgroundDoubleClicked";break;case 3:u="BackgroundContextClicked"}l!==0&&s.S(u)}if(t!==null)for(;t!==null;){switch(s=null,l){case 1:s=t.click;break;case 2:s=t.doubleClick?t.doubleClick:t.click;break;case 3:s=t.contextClick}if(s!==null&&(s(i,t),i.handled))break;t=t.panel}else{switch(t=null,l){case 1:t=s.click;break;case 2:t=s.doubleClick?s.doubleClick:s.click;break;case 3:t=s.contextClick}t!==null&&t(i)}}}Kt.prototype.standardMouseOver=function(){var t=this.diagram,i=t.lastInput;if(t.animationManager.Ab!==!0){var s=t.skipsUndoManager;t.skipsUndoManager=!0;var l=t.viewportBounds.ca(i.documentPoint)?t.kc(i.documentPoint,null,null):null;!i.event||i.event.type!=="pointercancel"&&i.event.type!=="pointerout"||(l=null),i.targetObject=l;var u=!1;if(l!==t.Bk){var c=t.Bk,d=c;for(t.Bk=l,this.doCurrentObjectChanged(c,l),i.handled=!1;c!==null;){var m=c.mouseLeave;if(m!==null&&(l===c||l!==null&&l.rg(c)||(m(i,c,l),u=!0,i.handled)))break;c=c.panel}for(c=d,i.handled=!1;l!==null&&(d=l.mouseEnter,!(d!==null&&(c===l||c!==null&&c.rg(l)||(d(i,l,c),u=!0,i.handled))));)l=l.panel;l=t.Bk}if(l!==null){for(c=l,d="";c!==null&&(d=c.cursor,d==="");)c=c.panel;for(t.currentCursor=d,i.handled=!1,c=l;c!==null&&(l=c.mouseOver,!(l!==null&&(l(i,c),u=!0,i.handled)));)c=c.panel}else this.doUpdateCursor(null),l=t.mouseOver,l!==null&&(l(i),u=!0);u&&t.Rb(),t.skipsUndoManager=s}},Kt.prototype.doUpdateCursor=function(){var t=this.diagram;t&&(t.currentCursor="")},Kt.prototype.doCurrentObjectChanged=function(){},Kt.prototype.standardMouseWheel=function(){var t=this.diagram,i=t.lastInput,s=i.delta;if(s!==0&&t.documentBounds.w()){var l=t.commandHandler,u=t.toolManager.mouseWheelBehavior;if(l!==null&&(u===np&&!i.shift||u===yf&&i.control))(0<s?l.canIncreaseZoom():l.canDecreaseZoom())&&(u=t.zoomPoint,t.zoomPoint=i.viewPoint,0<s?l.increaseZoom():l.decreaseZoom(),t.zoomPoint=u),i.bubbles=!1;else if(u===np&&i.shift||u===yf&&!i.control){l=t.position.copy();var c=i.event;u=c.deltaMode;var d=c.deltaX;c=c.deltaY;var m="pixel";if(d===0&&c===0||i.shift)!i.shift&&t.allowVerticalScroll?(s=3*s*t.scrollVerticalLineChange,t.scroll(m,0<s?"up":"down",Math.abs(s))):i.shift&&t.allowHorizontalScroll&&(s=3*s*t.scrollHorizontalLineChange,t.scroll(m,0<s?"left":"right",Math.abs(s)));else{switch(u){case 0:m="pixel";break;case 1:m="line";break;case 2:m="page"}d!==0&&t.allowHorizontalScroll&&(d*=t.scrollHorizontalLineChange/16,t.scroll(m,0<d?"right":"left",Math.abs(d))),c!==0&&t.allowVerticalScroll&&(c*=t.scrollVerticalLineChange/16,t.scroll(m,0<c?"down":"up",Math.abs(c)))}this.doWheelChange(t,l,i)}}},Kt.prototype.doWheelChange=function(t,i,s){t.position.D(i)&&s.event.wheelDeltaX===0||(s.bubbles=!1)},Kt.prototype.standardWaitAfter=function(t,i){i===void 0&&(i=this.diagram.lastInput),this.cancelWaitAfter();var s=this,l=i.clone(this.Ay);this.Zr=$(function(){s.doWaitAfter(l)},t)},Kt.prototype.cancelWaitAfter=function(){this.Zr!==-1&&Q.clearTimeout(this.Zr),this.Zr=-1},Kt.prototype.doWaitAfter=function(){},Kt.prototype.findToolHandleAt=function(t,i){return t=this.diagram.kc(t,function(s){for(;s!==null&&!(s.panel instanceof Wt);)s=s.panel;return s}),t===null?null:t.part.category===i?t:null},Kt.prototype.isBeyondDragSize=function(t,i){var s=this.diagram;t===void 0&&(t=s.firstInput.viewPoint),i===void 0&&(i=s.lastInput.viewPoint);var l=s.toolManager.dragSize,u=l.width;return l=l.height,s.firstInput.isTouchEvent&&(u+=6,l+=6),Math.abs(i.x-t.x)>u||Math.abs(i.y-t.y)>l},S.Object.defineProperties(Kt.prototype,{diagram:{get:function(){return this.H},set:function(t){t instanceof G&&(this.H=t)}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},isActive:{get:function(){return this.nb},set:function(t){this.nb=t}},transactionResult:{get:function(){return this.xm},set:function(t){this.xm=t}}}),Kt.prototype.startTransaction=Kt.prototype.Ea,Kt.className="Tool";function Ce(){Kt.call(this),this.name="ToolManager",this.hb=new ct,this.ob=new ct,this.Ib=new ct,this.F=this.V=850,this.o=new At(2,2).ja(),this.Ha=5e3,this.ia=yf,this.u=Ob,this.Mp=this.j=null,this.Aj=-1}v(Ce,Kt),Ce.prototype.initializeStandardTools=function(){},Ce.prototype.updateAdornments=function(t){var i=this.currentToolTip;if(i instanceof Wt&&this.Mp===t){var s=i.adornedObject;(t!==null?s.part===t:s===null)?this.showToolTip(i,s):this.hideToolTip()}},Ce.prototype.doMouseDown=function(){var t=this.diagram,i=t.lastInput;if(i.isTouchEvent&&this.gestureBehavior===py&&(i.bubbles=!1),i.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Qx){i.bubbles=!0;return}if(this.gestureBehavior===py)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomStart();return}}for(var s=this.mouseDownTools.length,l=0;l<s;l++){var u=this.mouseDownTools.M(l);if(u.diagram=this.diagram,u.canStart()){t.doFocus(),t.currentTool=u,t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseDown());return}}t.lastInput.button===1&&(this.mouseWheelBehavior===yf?this.mouseWheelBehavior=np:this.mouseWheelBehavior===np&&(this.mouseWheelBehavior=yf)),this.doActivate(),this.standardWaitAfter(this.holdDelay,i)},Ce.prototype.doMouseMove=function(){var t=this.diagram,i=t.lastInput;if(i.isMultiTouch){if(this.gestureBehavior===Qx){i.bubbles=!0;return}if(this.gestureBehavior===py)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomMove();return}}if(this.isActive)for(var s=this.mouseMoveTools.length,l=0;l<s;l++){var u=this.mouseMoveTools.M(l);if(u.diagram=this.diagram,u.canStart()){t.doFocus(),t.currentTool=u,t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseMove());return}}eE(this,t),t=i.event,t===null||t.type!=="pointermove"&&t.cancelable||(i.bubbles=!0)};function eE(t,i){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,i.lastInput)}Ce.prototype.doCurrentObjectChanged=function(t,i){t=this.currentToolTip,t===null||i!==null&&t instanceof Wt&&(i===t||i.rg(t))||this.hideToolTip()},Ce.prototype.doWaitAfter=function(t){var i=this.diagram;i.ta!==null&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!i.lastInput.handled&&(t=t.copy(),t.button=2,t.buttons=2,i.lastInput=t,i.ru=!0,i.doMouseUp()))},Ce.prototype.doMouseHover=function(){var t=this.diagram,i=t.lastInput;i.targetObject===null&&(i.targetObject=t.kc(i.documentPoint,null,null));var s=i.targetObject;if(s!==null)for(i.handled=!1;s!==null&&(t=this.isActive?s.mouseHold:s.mouseHover,!(t!==null&&(t(i,s),i.handled)));)s=s.panel;else s=this.isActive?t.mouseHold:t.mouseHover,s!==null&&s(i)},Ce.prototype.doToolTip=function(){var t=this.diagram,i=t.lastInput;if(i.targetObject===null&&(i.targetObject=t.kc(i.documentPoint,null,null)),i=i.targetObject,i!==null){if(t=this.currentToolTip,!(t instanceof Wt)||i!==t&&!i.rg(t)){for(;i!==null;){if(t=i.toolTip,t!==null){this.showToolTip(t,i);return}i=i.panel}this.hideToolTip()}}else i=t.toolTip,i!==null?this.showToolTip(i,null):this.hideToolTip()},Ce.prototype.showToolTip=function(t,i){var s=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof Wt){t.layerName="Tool",t.selectable=!1,t.scale=1/s.scale,t.category="ToolTip",t.placeholder!==null&&(t.placeholder.scale=s.scale);var l=t.diagram;l!==null&&l!==s&&l.remove(t),s.add(t),i!==null?t.adornedObject=i:t.data=s.model,t.Va(),this.positionToolTip(t,i)}else t instanceof ka&&t!==this.currentToolTip&&t.show(i,s,this);if(this.currentToolTip=t,this.Aj!==-1&&(Q.clearTimeout(this.Aj),this.Aj=-1),t=this.toolTipDuration,0<t&&t!==1/0){var u=this;this.Aj=$(function(){u.hideToolTip()},t)}},Ce.prototype.positionToolTip=function(t){if(t.placeholder===null){var i=this.diagram,s=i.lastInput.documentPoint.copy(),l=t.measuredBounds,u=i.viewportBounds;i.lastInput.isTouchEvent&&(s.x-=l.width),s.x+l.width>u.right&&(s.x-=l.width+5/i.scale),s.x<u.x&&(s.x=u.x),s.y=s.y+20/i.scale+l.height>u.bottom?s.y-(l.height+5/i.scale):s.y+20/i.scale,s.y<u.y&&(s.y=u.y),t.position=s}},Ce.prototype.hideToolTip=function(){this.Aj!==-1&&(Q.clearTimeout(this.Aj),this.Aj=-1);var t=this.diagram,i=this.currentToolTip;i!==null&&(i instanceof Wt?(t.remove(i),this.Mp!==null&&this.Mp.Jf(i.category),i.data=null,i.adornedObject=null):i instanceof ka&&i.hide!==null&&i.hide(t,this),this.currentToolTip=null)},Ce.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var i=this.mouseUpTools.length,s=0;s<i;s++){var l=this.mouseUpTools.M(s);if(l.diagram=this.diagram,l.canStart()){t.doFocus(),t.currentTool=l,t.currentTool===l&&(l.isActive||l.doActivate(),l.doMouseUp());return}}t.doFocus(),this.doDeactivate()},Ce.prototype.doMouseWheel=function(){this.standardMouseWheel()},Ce.prototype.doKeyDown=function(){var t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyDown()},Ce.prototype.doKeyUp=function(){var t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyUp()},Ce.prototype.findTool=function(t){for(var i=this.mouseDownTools.length,s=0;s<i;s++){var l=this.mouseDownTools.M(s);if(l.name===t)return l}for(i=this.mouseMoveTools.length,s=0;s<i;s++)if(l=this.mouseMoveTools.M(s),l.name===t)return l;for(i=this.mouseUpTools.length,s=0;s<i;s++)if(l=this.mouseUpTools.M(s),l.name===t)return l;return null},Ce.prototype.replaceTool=function(t,i){i!==null&&(i.diagram=this.diagram);for(var s=this.mouseDownTools.length,l=0;l<s;l++){var u=this.mouseDownTools.M(l);if(u.name===t)return i!==null?this.mouseDownTools.cd(l,i):this.mouseDownTools.mb(l),u}for(s=this.mouseMoveTools.length,l=0;l<s;l++)if(u=this.mouseMoveTools.M(l),u.name===t)return i!==null?this.mouseMoveTools.cd(l,i):this.mouseMoveTools.mb(l),u;for(s=this.mouseUpTools.length,l=0;l<s;l++)if(u=this.mouseUpTools.M(l),u.name===t)return i!==null?this.mouseUpTools.cd(l,i):this.mouseUpTools.mb(l),u;return null},Ce.prototype.gb=function(t,i,s){i!==null&&(i.name=t,i.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,i):i!==null&&s.add(i)},S.Object.defineProperties(Ce.prototype,{mouseWheelBehavior:{get:function(){return this.ia},set:function(t){this.ia=t}},gestureBehavior:{get:function(){return this.u},set:function(t){this.u=t}},currentToolTip:{get:function(){return this.j},set:function(t){this.j=t,this.Mp=t!==null&&t instanceof Wt?t.adornedPart:null}},mouseDownTools:{get:function(){return this.hb}},mouseMoveTools:{get:function(){return this.ob}},mouseUpTools:{get:function(){return this.Ib}},hoverDelay:{get:function(){return this.V},set:function(t){this.V=t}},holdDelay:{get:function(){return this.F},set:function(t){this.F=t}},dragSize:{get:function(){return this.o},set:function(t){this.o=t.J()}},toolTipDuration:{get:function(){return this.Ha},set:function(t){this.Ha=t}}}),Ce.prototype.replaceStandardTool=Ce.prototype.gb;var yf=new it(Ce,"WheelScroll",0),np=new it(Ce,"WheelZoom",1),iE=new it(Ce,"WheelNone",2),Ob=new it(Ce,"GestureZoom",3),py=new it(Ce,"GestureCancel",4),Qx=new it(Ce,"GestureNone",5);Ce.className="ToolManager",Ce.WheelScroll=yf,Ce.WheelZoom=np,Ce.WheelNone=iE,Ce.GestureZoom=Ob,Ce.GestureCancel=py,Ce.GestureNone=Qx;function Me(){Kt.call(this),this.name="Dragging",this.u=this.Uw=this.ob=!0,this.o=this.Ha=this.V=this.Oe=null,this.Zm=this.Ib=!1,this.tl=new F(NaN,NaN),this.Fr=new F,this.hb=!0,this.Hk=100,this.Cg=[],this.te=new ut().freeze(),this.ia=new vp,this.Cn=null,this.F="copy",this.Pc="",this.Qc="no-drop"}var Of;v(Me,Kt),Me.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var i=t.lastInput;return!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.Hk)?!1:this.findDraggablePart()!==null},Me.prototype.findDraggablePart=function(){var t=this.diagram;if(t=t.Ol(t.firstInput.documentPoint,!1),t===null)return null;for(;t!==null&&!t.canSelect();)t=t.containingGroup;return t!==null&&(t.canMove()||t.canCopy())?t:null},Me.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var i=t.Ol(t.firstInput.documentPoint,!1);if(i!==null){for(;i!==null&&!i.canSelect();)i=i.containingGroup;this.currentPart=i,this.currentPart===null||this.currentPart.isSelected||(t.S("ChangingSelection",t.selection),i=t.lastInput,(Dt?i.meta:i.control)||i.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.S("ChangedSelection",t.selection))}}},Me.prototype.doActivate=function(){var t=this.diagram;this.Cn=null,this.currentPart===null&&this.standardMouseSelect();var i=this.currentPart;i!==null&&(i.canMove()||i.canCopy())&&(t.Hu(!0),Ai=null,this.isActive=!0,this.tl.set(t.position),vb(this,t.selection),this.Cg.length=0,t.animationManager.Cc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),this.Uw=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.Os=!0,t.Gf("temporaryPixelRatio")===!0&&30<t.bx&&Py(t),Wx(t,this.draggedParts),this.Ea("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Zm=!1,Ai=this,Rh=this.diagram,this.doSimulatedDragOut()))};function vb(t,i){if(t.dragsLink){var s=t.diagram;s.allowRelink&&(s.model.Vj()&&i.count===1&&i.first()instanceof st?(t.draggedLink=i.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.Ej(),t.Oe=s.toolManager.findTool("Relinking"),t.Oe===null&&(t.Oe=new Gr,t.Oe.diagram=s),t.Oe.originalLink=t.draggedLink):(t.draggedLink=null,t.Oe=null))}}Me.prototype.computeEffectiveCollection=function(t,i){return this.diagram.commandHandler.computeEffectiveCollection(t,i)},Me.prototype.Pd=function(t){return t===void 0?new Qu(po):this.isGridSnapEnabled?new Qu(new F(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3)):new Qu(t.copy())},Me.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(this.diagram.layout.isRealtime=this.Uw,t.Hu(!1),t.ug(),xb(this),Cy(t,this.draggedParts),this.draggedParts=this.currentPart=this.Cn=null,this.Zm=this.isDragOutStarted=!1,0<Of.count){for(var i=Of,s=i.length,l=0;l<s;l++){var u=i.M(l);rE(u),Mu(u),xb(u),u.diagram.ug()}i.clear()}rE(this),this.tl.h(NaN,NaN),Rh!==null&&(Rh.currentCursor=""),Ai=Rh=null,Mu(this),t.isMouseCaptured=!1,t.currentCursor="",t.Os=!1,this.stopTransaction(),_x(t,!0)},Me.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i};function xb(t){var i=t.diagram,s=i.skipsUndoManager;i.skipsUndoManager=!0,sE(t,i.lastInput,null),i.skipsUndoManager=s,t.Cg.length=0}function nE(){var t=Ai;Mu(t),Sb(t);var i=t.diagram;t.tl.w()&&(i.position=t.tl),i.ug()}Me.prototype.doCancel=function(){Mu(this),Sb(this);var t=this.diagram;this.tl.w()&&(t.position=this.tl),this.stopTool()},Me.prototype.doKeyDown=function(){var t=this.diagram;if(this.isActive){var i=t.lastInput;t=t.previousInput,i.key==="Esc"?this.doCancel():(i.key!==t.key||i.modifiers!==t.modifiers)&&this.doMouseMove()}},Me.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()};function wb(t,i){if(t.copiedParts===null){var s=t.diagram;if((!i||!s.isReadOnly&&!s.isModelReadOnly)&&t.draggedParts!==null){var l=s.undoManager;for(l.isEnabled&&l.isInTransaction?l.currentTransaction!==null&&0<l.currentTransaction.changes.count&&(s.undoManager.Kf(),s.Ea("Drag")):Sb(t),s.skipsUndoManager=!i,s.partManager.addsToTemporaryLayer=!i,t.startPoint=s.firstInput.documentPoint,i=t.copiesEffectiveCollection?t.draggedParts.Lf():s.selection,i=s.Kj(i,s,!0),s=new jt,l=t.draggedParts.iterator;l.next();){var u=l.key;if(u.Zc()&&u.canCopy()){var c=i.I(u);c!==null&&(c.location=u.location,c.Va(),s.add(c,t.Pd(c.location)))}}for(i=i.iterator;i.next();)l=i.value,l instanceof st&&l.canCopy()&&s.add(l,t.Pd());t.copiedParts=s,vb(t,s.Lf()),t.draggedLink!==null&&(s=t.draggedLink,i=s.routeBounds,Ea(s,t.startPoint.x-(i.x+i.width/2),t.startPoint.y-(i.y+i.height/2))),t.doUpdateCursor(null)}}}function Mu(t){var i=t.diagram;if(t.copiedParts!==null){if(i.Js(t.copiedParts.Lf(),!1),t.copiedParts=null,t.draggedParts!==null)for(var s=t.draggedParts.iterator;s.next();)s.key instanceof st&&(s.value.point=new F(0,0));t.doUpdateCursor(null)}i.skipsUndoManager=!1,i.partManager.addsToTemporaryLayer=!1,t.startPoint=i.firstInput.documentPoint}function rE(t){if(t.draggedLink!==null){if(t.dragsLink&&t.Oe!==null){var i=t.Oe;i.diagram.remove(i.temporaryFromNode),i.diagram.remove(i.temporaryToNode),t.Oe.originalLink=null}t.draggedLink=null,t.Oe=null}}function vf(t,i,s){var l=t.diagram,u=t.startPoint,c=F.alloc();c.assign(l.lastInput.documentPoint),t.moveParts(i,c.re(u),s),F.free(c),l.Gf("temporaryPixelRatio")===!0&&l.Yh===null&&30<l.bx&&(Py(l),l.gk())}Me.prototype.moveParts=function(t,i,s){s===void 0&&(s=!1);var l=this.diagram;l!==null&&Yb(l,t,i,this.dragOptions,s)};function Sb(t){if(t.draggedParts!==null){for(var i=t.diagram,s=t.draggedParts.iterator;s.next();){var l=s.key;l.Zc()&&(l.location=s.value.point)}for(s=t.draggedParts.iterator;s.next();)if(l=s.key,l instanceof st&&l.suspendsRouting){var u=s.value.point;t.draggedParts.add(l,t.Pd()),Ea(l,-u.x,-u.y)}i.bd()}}function kb(t,i){var s=t.diagram;t.dragsLink&&(t.draggedLink!==null&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),aE(t,!1));var l=t.findDragOverObject(i),u=s.lastInput;u.targetObject=l,t.doUpdateCursor(l);var c=s.skipsUndoManager,d=!1;try{if(s.skipsUndoManager=!0,d=sE(t,u,l),!t.isActive&&Ai===null)return;var m=l!==null?l.part:null;if(m===null||s.handlesDragDropForTopLevelParts&&m.isTopLevel&&!(m instanceof Et)){var y=s.mouseDragOver;y!==null&&(y(u),d=!0)}if(!t.isActive&&Ai===null||(t.doDragOver(i,l),!t.isActive&&Ai===null))return}finally{s.skipsUndoManager=c,d&&s.bd()}t.Cn=l,s.isReadOnly||!s.allowMove&&!s.allowCopy||!s.allowHorizontalScroll&&!s.allowVerticalScroll||s.gs(u.viewPoint)}Me.prototype.findDragOverObject=function(t){var i=this;return zb(this.diagram,t,null,function(s){return s===null?s=!0:(s=s.part,s=!!(s===null||s instanceof Wt||s.layer.isTemporary||i.draggedParts&&i.draggedParts.contains(s)||i.copiedParts&&i.copiedParts.contains(s))),!s})},Me.prototype.doUpdateCursor=function(t){var i=this.diagram;(t===null||this.Cn!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?i.currentCursor=this.copyCursor:this.mayMove()?i.currentCursor=this.moveCursor:this.mayDragOut()&&(i.currentCursor=this.nodropCursor))};function sE(t,i,s){var l=!1,u=t.Cg.length,c=0<u?t.Cg[0]:null;if(s===c)return!1;i.handled=!1;for(var d=0;d<u;d++){var m=t.Cg[d],y=m.mouseDragLeave;if(y!==null&&(y(i,m,s),l=!0,i.handled))break}if(t.Cg.length=0,!t.isActive&&Ai===null||s===null)return l;for(i.handled=!1,u=s;u!==null;)t.Cg.push(u),u=oE(u);for(u=t.Cg.length,s=0;s<u&&(d=t.Cg[s],m=d.mouseDragEnter,m===null||(m(i,d,c),l=!0,!i.handled));s++);return l}function oE(t){var i=t.panel;return i!==null?i:t instanceof kt&&!(t instanceof Et)&&(t=t.containingGroup,t!==null&&t.handlesDragDropForMembers)?t:null}function lE(t,i,s){var l=t.Oe;if(l===null)return null;var u=t.diagram.og(i,l.portGravity,function(O){return l.findValidLinkablePort(O,s)});t=F.alloc();var c=1/0,d=null;for(u=u.iterator;u.next();){var m=u.value;if(m.part!==null){var y=m.ga(oe,t);y=i.Bf(y),y<c&&(d=m,c=y)}}return F.free(t),d}function aE(t,i){var s=t.draggedLink;if(s!==null&&!(2>s.pointsCount)){var l=t.diagram;if(!l.isReadOnly){var u=t.Oe;if(u!==null){var c=null,d=null;s.fromNode===null&&(c=lE(t,s.i(0),!1),c!==null&&(d=c.part));var m=null,y=null;s.toNode===null&&(m=lE(t,s.i(s.pointsCount-1),!0),m!==null&&(y=m.part)),u.isValidLink(d,c,y,m)?i?(s.defaultFromPoint=s.i(0),s.defaultToPoint=s.i(s.pointsCount-1),s.suspendsRouting=!1,s.fromNode=d,c!==null&&(s.fromPortId=c.portId),s.toNode=y,m!==null&&(s.toPortId=m.portId),s.fromPort!==l.Ox&&l.S("LinkRelinked",s,l.Ox),s.toPort!==l.Px&&l.S("LinkRelinked",s,l.Px)):dE(u,d,c,y,m):dE(u,null,null,null,null)}}}}Me.prototype.doDragOver=function(){};function uE(t,i){var s=t.diagram;t.dragsLink&&aE(t,!0),xb(t);var l=t.findDragOverObject(i),u=s.lastInput;if(u.targetObject=l,l!==null){u.handled=!1;for(var c=l;c!==null;){var d=c.mouseDrop;if(d!==null&&(d(u,c),u.handled))break;gG(t,u,c),c=oE(c)}}else c=s.mouseDrop,c!==null&&c(u);if(t.isActive||Ai!==null){for(u=(t.copiedParts||t.draggedParts).iterator;u.next();)c=u.key,c instanceof ft&&c.linksConnected.each(function(m){m.suspendsRouting=!1});if(t.doDropOnto(i,l),t.isActive||Ai!==null){for(t=J.alloc(),i=s.selection.iterator;i.next();)l=i.value,l instanceof ft&&yG(s,l,t);J.free(t)}}}function gG(t,i,s){t=t.diagram,s=s.part,!t.handlesDragDropForTopLevelParts||!s.isTopLevel||s instanceof Et||(s=t.mouseDrop,s!==null&&s(i))}function yG(t,i,s){var l=!1;if(s=i.getAvoidableRect(s),t.viewportBounds.Re(s)&&(l=!0),t=t.Pu(s,function(u){return u.part},function(u){return u instanceof st},!0,function(u){return u instanceof st},l),t.count!==0)for(t=t.iterator;t.next();)s=t.value,!s.Td(i)&&s.isAvoiding&&s.bb()}Me.prototype.doDropOnto=function(){},Me.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,i=t.lastInput;this.simulatedMouseMove(i.event,i.documentPoint,i.targetDiagram)||this.currentPart===null||this.draggedParts===null||(this.mayCopy()?(wb(this,!1),Wx(t,this.copiedParts),vf(this,this.copiedParts,!1),Cy(t,this.copiedParts)):this.mayMove()?(Mu(this),vf(this,this.draggedParts,!0)):this.mayDragOut()?(wb(this,!1),vf(this,this.copiedParts,!1)):Mu(this),kb(this,t.lastInput.documentPoint))}},Me.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,i=t.lastInput;if(!this.simulatedMouseUp(i.event,i.documentPoint,i.targetDiagram)){i=!1;var s=this.mayCopy();if(s&&this.copiedParts!==null?(Mu(this),wb(this,!0),Wx(t,this.copiedParts),vf(this,this.copiedParts,!1),Cy(t,this.copiedParts),this.copiedParts!==null&&(t.S("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(c){c.isSelected=!0}))):(i=!0,Mu(this),this.mayMove()&&(vf(this,this.draggedParts,!0),kb(this,t.lastInput.documentPoint))),this.Zm=!0,uE(this,t.lastInput.documentPoint),this.isActive){var l=s&&this.copiedParts!==null,u=l?this.copiedParts.Lf():this.draggedParts.Lf();this.copiedParts=null,i&&OG(this),t.Ya(),Cy(t,this.draggedParts),this.transactionResult=l?"Copy":"Move",t.S(l?"SelectionCopied":"SelectionMoved",u)}this.stopTool(),s&&t.S("ChangedSelection",t.selection)}}},Me.prototype.simulatedMouseMove=function(t,i,s){if(Ai===null)return!1;var l=Ai.diagram;s instanceof G||(s=null);var u=Rh;return s!==u&&(u!==null&&u!==l&&(u.ug(),Ai.isDragOutStarted=!1,u=u.toolManager.findTool("Dragging"),u!==null&&u.doSimulatedDragLeave()),Rh=s,s!==null&&s!==l&&(nE(),u=s.toolManager.findTool("Dragging"),u!==null&&(Of.contains(u)||Of.add(u),u.doSimulatedDragEnter())),this.doUpdateCursor(null)),s===null||s===l||!s.allowDrop||s.isReadOnly||!s.allowInsert?!1:(l=s.toolManager.findTool("Dragging"),l!==null&&(t!==null&&(t.targetTouches!==void 0&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),i=s.getMouse(t)),s.lastInput.documentPoint=i,s.lastInput.viewPoint=s.op(i),s.lastInput.down=!1,s.lastInput.up=!1,l.doSimulatedDragOver()),!0)},Me.prototype.simulatedMouseUp=function(t,i,s){if(Ai===null)return!1;var l=Rh,u=Ai.diagram;if(s===null)return Ai.doCancel(),!0;if(s!==l){var c=l.toolManager.findTool("Dragging");if(l!==null&&l!==u&&c!==null)return l.ug(),Ai.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;Rh=s,l=s.toolManager.findTool("Dragging"),l!==null&&(nE(),Of.contains(l)||Of.add(l),l.doSimulatedDragEnter())}return s!==this.diagram?(t!==null?(t.targetTouches!==void 0&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),i=s.getMouse(t)):i===null&&(i=new F),s.lastInput.documentPoint=i,s.lastInput.viewPoint=s.op(i),s.lastInput.down=!1,s.lastInput.up=!0,t=s.toolManager.findTool("Dragging"),t!==null&&t.doSimulatedDrop(),t=Ai,t!==null&&(s=t.mayCopy(),t.transactionResult=s?"Copy":"Move",t.stopTool()),!0):!1};function OG(t){if(t.draggedParts!==null)for(var i=t.draggedParts.iterator;i.next();){var s=i.key;s instanceof ft&&(s=s.containingGroup,s===null||s.placeholder===null||t.draggedParts.contains(s)||s.placeholder.v())}}Me.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(Dt?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())},Me.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())},Me.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())},Me.prototype.computeBorder=function(t,i,s){return this.Zm||this.draggedParts===null||this.draggedParts.contains(t)?null:s.assign(i)},Me.prototype.Fz=function(){return Ai},Me.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;var i=Ai;return!(i===null||i.diagram.model.dataFormat!==t.model.dataFormat)},Me.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Cc(),ba(t),t.animationManager.Cc();var i=Ai;i!==null&&(i.diagram.Os=!1,t.lastInput.event===null&&(t.lastInput.event=i.diagram.lastInput.event)),this.doUpdateCursor(null)}},Me.prototype.doSimulatedDragLeave=function(){var t=Ai;t!==null&&t.doSimulatedDragOut(),this.doCancel()},Me.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.Em=!0;var i=Ai;if(i!==null&&i.draggedParts!==null){if(!this.mayDragIn())return;hE(this,i.draggedParts.Lf(),!1,t.firstInput),vf(this,this.copiedParts,!1),kb(this,t.lastInput.documentPoint)}t.animationManager.Em=!1},Me.prototype.doSimulatedDrop=function(){var t=this.diagram,i=Ai;if(i!==null){var s=i.diagram;if(i.Zm=!0,Mu(this),!this.mayDragIn())return;t.animationManager.Em=!0,t.S("ChangingSelection",t.selection),this.Ea("Drop"),hE(this,i.draggedParts.Lf(),!0,t.lastInput),vf(this,this.copiedParts,!1);var l=new ut;this.copiedParts!==null&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(u){u.isSelected=!0,l.add(u)})),uE(this,t.lastInput.documentPoint),t.Ya(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,t.doFocus(),t.S("ExternalObjectsDropped",l,s),this.stopTransaction(),t.S("ChangedSelection",t.selection)}t.animationManager.Em=!1};function hE(t,i,s,l){if(t.copiedParts===null){var u=t.diagram;if(!u.isReadOnly&&!u.isModelReadOnly){u.skipsUndoManager=!s,u.partManager.addsToTemporaryLayer=!s,t.startPoint=l.documentPoint,s=u.Kj(i,u,!0);var c=J.alloc();u=l=1/0;for(var d=-1/0,m=-1/0,y=i.iterator;y.next();){var O=y.value;if(O.isVisible()){var w=O.location;O=w.x,w=w.y,isNaN(O)||isNaN(w)||(O<l&&(l=O),w<u&&(u=w),O>d&&(d=O),w>m&&(m=w))}}for(l===1/0?c.h(0,0,0,0):c.h(l,u,d-l,m-u),l=c.x+c.width/2,u=c.y+c.height/2,J.free(c),c=t.Fr,d=new jt,m=F.alloc(),y=i.iterator;y.next();)O=y.value,O instanceof st&&O.canCopy()&&(w=s.I(O),w!==null&&(w.points=O.points,Ea(w,c.x-l,c.y-u),w.suspendsRouting=!0,d.add(w,t.Pd())));for(i=i.iterator;i.next();)O=i.value,O.Zc()&&O.canCopy()&&(y=s.I(O),y!==null&&(O=O.location,m.h(c.x-(l-O.x),c.y-(u-O.y)),y.location=m,y.Va(),d.add(y,t.Pd(m))));F.free(m),t.copiedParts=d,vb(t,d.Lf()),t.draggedLink!==null&&(s=t.draggedLink,i=s.routeBounds,Ea(s,t.startPoint.x-(i.x+i.width/2),t.startPoint.y-(i.y+i.height/2))),t.doUpdateCursor(null)}}}Me.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.Os=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.Cn=null},Me.prototype.computeMove=function(t,i,s,l){return s=this.diagram,s!==null?s.computeMove(t,i,this.dragOptions,l):new F},S.Object.defineProperties(Me.prototype,{isCopyEnabled:{get:function(){return this.ob},set:function(t){this.ob=t}},copiesEffectiveCollection:{get:function(){return this.u},set:function(t){this.u=t}},dragOptions:{get:function(){return this.ia},set:function(t){this.ia=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.hb},set:function(t){this.hb=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.D(t)||(t=t.J(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.F},set:function(t){this.F=t}},moveCursor:{get:function(){return this.Pc},set:function(t){this.Pc=t}},nodropCursor:{get:function(){return this.Qc},set:function(t){this.Qc=t}},currentPart:{get:function(){return this.V},set:function(t){this.V=t}},copiedParts:{get:function(){return this.o},set:function(t){this.o=t}},draggedParts:{get:function(){return this.Ha},set:function(t){this.Ha=t}},draggingParts:{get:function(){return this.copiedParts!==null?this.copiedParts.Lf():this.draggedParts!==null?this.draggedParts.Lf():this.te}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Ib},set:function(t){this.Ib=t}},startPoint:{get:function(){return this.Fr},set:function(t){this.Fr.D(t)||this.Fr.assign(t)}},delay:{get:function(){return this.Hk},set:function(t){this.Hk=t}}}),Me.prototype.getDraggingSource=Me.prototype.Fz;var Ai=null,Rh=null;Me.className="DraggingTool",Of=new ct,dt("draggingTool",function(){return this.findTool("Dragging")},function(t){this.gb("Dragging",t,this.mouseMoveTools)}),Ce.prototype.doCancel=function(){Ai!==null&&Ai.doCancel(),Kt.prototype.doCancel.call(this)};function Wi(){Kt.call(this),this.te=100,this.Ha=!1,this.u="pointer";var t=new st,i=new It;i.isPanelMain=!0,i.stroke="blue",t.add(i),i=new It,i.toArrow="Standard",i.fill="blue",i.stroke="blue",t.add(i),t.layerName="Tool",this.Di=t,t=new ft,i=new It,i.portId="",i.figure="Rectangle",i.fill=null,i.stroke="magenta",i.strokeWidth=2,i.desiredSize=df,t.add(i),t.selectable=!1,t.layerName="Tool",this.Ci=t,this.j=i,t=new ft,i=new It,i.portId="",i.figure="Rectangle",i.fill=null,i.stroke="magenta",i.strokeWidth=2,i.desiredSize=df,t.add(i),t.selectable=!1,t.layerName="Tool",this.Ei=t,this.o=i,this.Qc=this.Pc=this.ob=this.hb=this.Ib=null,this.ia=!0,this.jy=new jt,this.Of=this.hj=this.Pf=null}v(Wi,Kt),Wi.prototype.doStop=function(){this.diagram.ug(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Wi.prototype.copyPortProperties=function(t,i,s,l,u){if(t!==null&&i!==null&&s!==null&&l!==null){var c=i.Df(),d=At.alloc();d.width=i.naturalBounds.width*c,d.height=i.naturalBounds.height*c,l.desiredSize=d,At.free(d),u?(l.toSpot=i.toSpot,l.toEndSegmentLength=i.toEndSegmentLength):(l.fromSpot=i.fromSpot,l.fromEndSegmentLength=i.fromEndSegmentLength),s.locationSpot=oe,c=F.alloc(),s.location=i.ga(oe,c),F.free(c),l.angle=i.mi(),this.portTargeted!==null&&this.portTargeted(t,i,s,l,u)}},Wi.prototype.setNoTargetPortProperties=function(t,i,s){i!==null&&(i.desiredSize=df,i.fromSpot=Zi,i.toSpot=Zi),t!==null&&(t.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,t,i,s)},Wi.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Wi.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof ft){var i=this.targetPort.part;this.isForwards?this.copyPortProperties(i,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(i,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.gs(t.lastInput.viewPoint)}},Wi.prototype.findValidLinkablePort=function(t,i){if(t===null)return null;var s=t.part;if(!(s instanceof ft))return null;for(;t!==null;){var l=i?t.toLinkable:t.fromLinkable;if(l===!0&&(t.portId!==null||t instanceof ft)&&(i?this.isValidTo(s,t):this.isValidFrom(s,t)))return t;if(l===!1)break;t=t.panel}return null},Wi.prototype.findTargetPort=function(t){var i=this.diagram,s=i.lastInput.documentPoint,l=this.portGravity;0>=l&&(l=.1);var u=this,c=i.og(s,l,function(k){return u.findValidLinkablePort(k,t)},null,!0);for(l=1/0,i=null,c=c.iterator;c.next();){var d=c.value,m=d.part;if(m instanceof ft){var y=d.ga(oe,F.alloc()),O=s.x-y.x,w=s.y-y.y;F.free(y),y=O*O+w*w,y<l&&(O=this.validPortsCache.I(d),O!==null?O&&(i=d,l=y):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,m,d)||!t&&this.isValidLink(m,d,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(d,!0),i=d,l=y):this.validPortsCache.add(d,!1))}}return i!==null&&(s=i.part,s instanceof ft&&(s.layer===null||s.layer.allowLink))?i:null},Wi.prototype.isValidFrom=function(t,i){if(t===null||i===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||i.fromLinkable!==!0))return!1;var s=i.fromMaxLinks;if(1/0>s){if(this.originalLink!==null&&t===this.originalFromNode&&i===this.originalFromPort)return!0;if(i=i.portId,i===null&&(i=""),t.No(i).count>=s)return!1}return!0},Wi.prototype.isValidTo=function(t,i){if(t===null||i===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||i.toLinkable!==!0))return!1;var s=i.toMaxLinks;if(1/0>s){if(this.originalLink!==null&&t===this.originalToNode&&i===this.originalToPort)return!0;if(i=i.portId,i===null&&(i=""),t.Sd(i).count>=s)return!1}return!0},Wi.prototype.isInSameNode=function(t,i){return t===null||i===null?!1:t===i?!0:(t=t.part,i=i.part,t!==null&&t===i)},Wi.prototype.isLinked=function(t,i){if(t===null||i===null)return!1;var s=t.part;if(!(s instanceof ft))return!1;t=t.portId,t===null&&(t="");var l=i.part;if(!(l instanceof ft))return!1;for(i=i.portId,i===null&&(i=""),i=l.Sd(i);i.next();)if(l=i.value,l.fromNode===s&&l.fromPortId===t)return!0;return!1},Wi.prototype.isValidLink=function(t,i,s,l){if(!this.isValidFrom(t,i)||!this.isValidTo(s,l)||!(i===null||l===null||(i.fromLinkableSelfNode&&l.toLinkableSelfNode||!this.isInSameNode(i,l))&&(i.fromLinkableDuplicates&&l.toLinkableDuplicates||!this.isLinked(i,l)))||this.originalLink!==null&&(t!==null&&this.isLabelDependentOnLink(t,this.originalLink)||s!==null&&this.isLabelDependentOnLink(s,this.originalLink))||t!==null&&s!==null&&(t.data===null&&s.data!==null||t.data!==null&&s.data===null)||!this.isValidCycle(t,s,this.originalLink))return!1;if(t!==null){var u=t.linkValidation;if(u!==null&&!u(t,i,s,l,this.originalLink))return!1}return s!==null&&(u=s.linkValidation,u!==null&&!u(t,i,s,l,this.originalLink))?!1:(u=this.linkValidation,u!==null?u(t,i,s,l,this.originalLink):!0)},Wi.prototype.isLabelDependentOnLink=function(t,i){if(t===null)return!1;var s=t.labeledLink;if(s===null)return!1;if(s===i)return!0;var l=new ut;return l.add(t),Pb(this,s,i,l)};function Pb(t,i,s,l){if(i===s)return!0;var u=i.fromNode;return u!==null&&u.isLinkLabel&&(l.add(u),Pb(t,u.labeledLink,s,l))?!0:(i=i.toNode,!!(i!==null&&i.isLinkLabel&&(l.add(i),Pb(t,i.labeledLink,s,l))))}Wi.prototype.isValidCycle=function(t,i,s){if(s===void 0&&(s=null),t===null||i===null)return this.isUnconnectedLinkValid;var l=this.diagram.validCycle;if(l!==Hx){if(l===lT){if(l=s||this.temporaryLink,l!==null&&!l.isTreeLink)return!0;for(l=i.linksConnected;l.next();){var u=l.value;if(u!==s&&u.isTreeLink&&u.toNode===i)return!1}return!my(this,t,i,s,!0)}if(l===aT){if(l=s||this.temporaryLink,l!==null&&!l.isTreeLink)return!0;for(l=t.linksConnected;l.next();)if(u=l.value,u!==s&&u.isTreeLink&&u.fromNode===t)return!1;return!my(this,t,i,s,!0)}if(l===sT)return t===i?t=!0:(l=new ut,l.add(i),t=cE(this,l,t,i,s)),!t;if(l===qE)return!my(this,t,i,s,!1);if(l===oT)return t===i?t=!0:(l=new ut,l.add(i),t=fE(this,l,t,i,s)),!t}return!0};function my(t,i,s,l,u){if(i===s)return!0;if(i===null||s===null)return!1;for(var c=i.linksConnected;c.next();){var d=c.value;if(d!==l&&(!u||d.isTreeLink)&&d.toNode===i&&(d=d.fromNode,d!==i&&my(t,d,s,l,u)))return!0}return!1}function cE(t,i,s,l,u){if(s===l)return!0;if(s===null||l===null||i.contains(s))return!1;i.add(s);for(var c=s.linksConnected;c.next();){var d=c.value;if(d!==u&&d.toNode===s&&(d=d.fromNode,d!==s&&cE(t,i,d,l,u)))return!0}return!1}function fE(t,i,s,l,u){if(s===l)return!0;if(s===null||l===null||i.contains(s))return!1;i.add(s);for(var c=s.linksConnected;c.next();){var d=c.value;if(d!==u){var m=d.fromNode;if(d=d.toNode,m=m===s?d:m,m!==s&&fE(t,i,m,l,u))return!0}}return!1}S.Object.defineProperties(Wi.prototype,{portGravity:{get:function(){return this.te},set:function(t){0<=t&&(this.te=t)}},isUnconnectedLinkValid:{get:function(){return this.Ha},set:function(t){this.Ha=t}},linkingCursor:{get:function(){return this.u},set:function(t){this.u=t}},temporaryLink:{get:function(){return this.Di},set:function(t){this.Di=t}},temporaryFromNode:{get:function(){return this.Ci},set:function(t){(this.Ci=t)&&(this.j=t.port)}},temporaryFromPort:{get:function(){return this.j},set:function(t){if(this.j!==null){var i=this.j.panel;if(i!==null){var s=i.O.indexOf(this.j);i.mb(s),i.Hb(s,t)}}this.j=t}},temporaryToNode:{get:function(){return this.Ei},set:function(t){(this.Ei=t)&&(this.o=t.port)}},temporaryToPort:{get:function(){return this.o},set:function(t){if(this.o!==null){var i=this.o.panel;if(i!==null){var s=i.O.indexOf(this.o);i.mb(s),i.Hb(s,t)}}this.o=t}},originalLink:{get:function(){return this.Ib},set:function(t){this.Ib=t}},originalFromNode:{get:function(){return this.hb},set:function(t){this.hb=t}},originalFromPort:{get:function(){return this.ob},set:function(t){this.ob=t}},originalToNode:{get:function(){return this.Pc},set:function(t){this.Pc=t}},originalToPort:{get:function(){return this.Qc},set:function(t){this.Qc=t}},isForwards:{get:function(){return this.ia},set:function(t){this.ia=t}},validPortsCache:{get:function(){return this.jy}},targetPort:{get:function(){return this.Pf},set:function(t){this.Pf=t}},linkValidation:{get:function(){return this.hj},set:function(t){this.hj=t}},portTargeted:{get:function(){return this.Of},set:function(t){this.Of=t}}}),Wi.className="LinkingBaseTool";function Bn(){Wi.call(this),this.name="Linking",this.V={},this.F=null,this.K=gy,this.Xd=null}v(Bn,Wi),Bn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.xs()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null},Bn.prototype.findLinkablePort=function(){var t=this.diagram,i=this.startObject;if(i===null&&(i=t.kc(t.firstInput.documentPoint,null,null)),i===null||(t=i.part,!(t instanceof ft)))return null;var s=this.direction;if(s===gy||s===bb){var l=this.findValidLinkablePort(i,!1);if(l!==null||this.startObject===t&&(l=t.port,this.findValidLinkablePort(l,!1)))return this.isForwards=!0,l}return(s===gy||s===Tb)&&(i=this.findValidLinkablePort(i,!0),i!==null||this.startObject===t&&(i=t.port,this.findValidLinkablePort(i,!0)))?(this.isForwards=!1,i):null},Bn.prototype.doActivate=function(){var t=this.diagram,i=this.findLinkablePort();i===null?this.stopTool():(this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(this.temporaryToNode!==null&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=i,i=this.originalFromPort.part,i instanceof ft&&(this.originalFromNode=i),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(this.temporaryFromNode!==null&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=i,i=this.originalToPort.part,i instanceof ft&&(this.originalToNode=i),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.Va(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.Va(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0)},Bn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},Bn.prototype.doStop=function(){Wi.prototype.doStop.call(this),this.startObject=null},Bn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,i=this.transactionResult=null,s=null,l=null,u=null,c=null;try{var d=this.targetPort=this.findTargetPort(this.isForwards);if(d!==null){var m=d.part;m instanceof ft&&(this.isForwards?(this.originalFromNode!==null&&(i=this.originalFromNode,s=this.originalFromPort),l=m,u=d):(i=m,s=d,this.originalToNode!==null&&(l=this.originalToNode,u=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(i=this.originalFromNode,s=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(l=this.originalToNode,u=this.originalToPort);i!==null||l!==null?(c=this.insertLink(i,s,l,u),c!==null?(d===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.S("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.S("LinkDrawn",c)):this.doNoLink(i,s,l,u)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.S("ChangedSelection",t.selection)}}},Bn.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(t===null)return!0;if(t instanceof st)return t.isTreeLink;var i=this.diagram;return i===null?!0:(t=i.partManager.getLinkCategoryForData(t),i=i.partManager.findLinkTemplateForCategory(t),i!==null?i.isTreeLink:!0)},Bn.prototype.insertLink=function(t,i,s,l){return this.diagram.partManager.insertLink(t,i,s,l)},Bn.prototype.doNoLink=function(){},S.Object.defineProperties(Bn.prototype,{archetypeLinkData:{get:function(){return this.V},set:function(t){this.V=t}},archetypeLabelNodeData:{get:function(){return this.F},set:function(t){this.F=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.Xd},set:function(t){this.Xd=t}}});var gy=new it(Bn,"Either",0),bb=new it(Bn,"ForwardsOnly",0),Tb=new it(Bn,"BackwardsOnly",0);Bn.className="LinkingTool",Bn.Either=gy,Bn.ForwardsOnly=bb,Bn.BackwardsOnly=Tb;function Gr(){Wi.call(this),this.name="Relinking";var t=new It;t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.V=t,t=new It,t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Xd=t,this.F=null,this.Gw=new J}v(Gr,Wi),Gr.prototype.updateAdornments=function(t){if(t!==null&&t instanceof st){var i="RelinkFrom",s=null;if(t.isSelected&&!this.diagram.isReadOnly){var l=t.selectionObject;l!==null&&t.canRelinkFrom()&&t.actualBounds.w()&&t.isVisible()&&l.actualBounds.w()&&l.Ed()&&(s=t.Oj(i),s===null&&(s=this.makeAdornment(l,!1),t.bh(i,s)))}s===null&&t.Jf(i),i="RelinkTo",s=null,t.isSelected&&!this.diagram.isReadOnly&&(l=t.selectionObject,l!==null&&t.canRelinkTo()&&t.actualBounds.w()&&t.isVisible()&&l.actualBounds.w()&&l.Ed()&&(s=t.Oj(i),s===null?(s=this.makeAdornment(l,!0),t.bh(i,s)):s.v())),s===null&&t.Jf(i)}},Gr.prototype.makeAdornment=function(t,i){var s=new Wt;return s.type=nt.Link,i=i?this.toHandleArchetype:this.fromHandleArchetype,i!==null&&s.add(i.copy()),s.adornedObject=t,s},Gr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.xs()||!t.lastInput.left)return!1;var i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),i!==null},Gr.prototype.doActivate=function(){var t=this.diagram;if(this.originalLink===null){var i=this.handle;if(i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"),i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),i===null)return;var s=i.part;if(!(s instanceof Wt&&s.adornedPart instanceof st))return;this.handle=i,this.isForwards=s===null||s.category==="RelinkTo",this.originalLink=s.adornedPart}this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Gw.set(this.originalLink.actualBounds),this.originalLink!==null&&0<this.originalLink.pointsCount&&(this.originalLink.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=Cu),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=this.originalLink.i(0))),this.originalLink.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=Cu),this.temporaryToNode!==null&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0},Gr.prototype.copyLinkProperties=function(t,i){if(t!==null&&i!==null){i.adjusting=t.adjusting,i.corner=t.corner;var s=t.curve;(s===If||s===zl)&&(s=Fi),i.curve=s,i.curviness=t.curviness,i.isTreeLink=t.isTreeLink,i.points=t.points,i.routing=t.routing,i.smoothness=t.smoothness,i.fromSpot=t.fromSpot,i.fromEndSegmentLength=t.fromEndSegmentLength,i.fromShortLength=t.fromShortLength,i.toSpot=t.toSpot,i.toEndSegmentLength=t.toEndSegmentLength,i.toShortLength=t.toShortLength}},Gr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},Gr.prototype.doStop=function(){Wi.prototype.doStop.call(this),this.handle=null},Gr.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var i=this.originalFromNode,s=this.originalFromPort,l=this.originalToNode,u=this.originalToPort,c=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){var d=this.targetPort.part;d instanceof ft&&(this.isForwards?(l=d,u=this.targetPort):(i=d,s=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?u=l=null:s=i=null:c=null;c!==null?(this.reconnectLink(c,this.isForwards?l:i,this.isForwards?u:s,this.isForwards),this.targetPort===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint,c.bb()),this.transactionResult=this.name,t.S("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Yo(this.Gw)}finally{this.stopTool()}}},Gr.prototype.reconnectLink=function(t,i,s,l){return s=s!==null&&s.portId!==null?s.portId:"",l?(t.toNode=i,t.toPortId=s):(t.fromNode=i,t.fromPortId=s),!0},Gr.prototype.doNoRelink=function(){};function dE(t,i,s,l,u){i!==null?(t.copyPortProperties(i,s,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),l!==null?(t.copyPortProperties(l,u,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}S.Object.defineProperties(Gr.prototype,{fromHandleArchetype:{get:function(){return this.V},set:function(t){this.V=t}},toHandleArchetype:{get:function(){return this.Xd},set:function(t){this.Xd=t}},handle:{get:function(){return this.F},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.F=t}}}),Gr.className="RelinkingTool",dt("linkingTool",function(){return this.findTool("Linking")},function(t){this.gb("Linking",t,this.mouseMoveTools)}),dt("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.gb("Relinking",t,this.mouseDownTools)});function ii(){Kt.call(this),this.name="LinkReshaping";var t=new It;t.figure="Rectangle",t.desiredSize=qd,t.fill="lightblue",t.stroke="dodgerblue",this.o=t,t=new It,t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.u=t,this.F=3,this.Us=this.j=null,this.Hw=new F,this.Yq=new ct}v(ii,Kt),ii.prototype.Tu=function(t){return t&&t.reshapingBehavior.value!==0?t.reshapingBehavior:Ax},ii.prototype.pm=function(t,i){t.reshapingBehavior=i},ii.prototype.updateAdornments=function(t){if(t!==null&&t instanceof st){var i=null;if(t.isSelected&&!this.diagram.isReadOnly){var s=t.path;s!==null&&t.canReshape()&&t.actualBounds.w()&&t.isVisible()&&s.actualBounds.w()&&s.Ed()&&(i=t.Oj(this.name),i===null||i.Cw!==t.pointsCount||i.Ww!==t.resegmentable)&&(i=this.makeAdornment(s),i!==null&&(i.Cw=t.pointsCount,i.Ww=t.resegmentable,t.bh(this.name,i)))}i===null&&t.Jf(this.name)}},ii.prototype.makeAdornment=function(t){var i=t.part,s=i.pointsCount,l=i.isOrthogonal,u=null;if(i.points!==null&&1<s){u=new Wt,u.type=nt.Link,s=i.firstPickIndex;var c=i.lastPickIndex,d=l?1:0;if(i.resegmentable&&i.computeCurve()!==tr)for(var m=s+d;m<c-d;m++){var y=this.makeResegmentHandle(t,m);y!==null&&(y.segmentIndex=m,y.segmentFraction=.5,y.fromMaxLinks=999,u.add(y))}for(d=s+1;d<c;d++)if(m=this.makeHandle(t,d),m!==null){if(m.segmentIndex=d,d!==s)if(d===s+1&&l){y=i.i(s);var O=i.i(s+1);Y.B(y.x,O.x)&&Y.B(y.y,O.y)&&(O=i.i(s-1)),Y.B(y.x,O.x)?(this.pm(m,wf),m.cursor="n-resize"):Y.B(y.y,O.y)&&(this.pm(m,xf),m.cursor="w-resize")}else d===c-1&&l?(y=i.i(c-1),O=i.i(c),Y.B(y.x,O.x)&&Y.B(y.y,O.y)&&(y=i.i(c+1)),Y.B(y.x,O.x)?(this.pm(m,wf),m.cursor="n-resize"):Y.B(y.y,O.y)&&(this.pm(m,xf),m.cursor="w-resize")):d!==c&&(this.pm(m,jx),m.cursor="move");u.add(m)}u.adornedObject=t}return u},ii.prototype.makeHandle=function(){var t=this.handleArchetype;return t===null?null:t.copy()},ii.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return t===null?null:t.copy()},ii.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowReshape&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},ii.prototype.doActivate=function(){var t=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle!==null){var i=this.handle.part.adornedPart;if(i instanceof st){if(this.Us=i,t.isMouseCaptured=!0,this.Ea(this.name),i.resegmentable&&this.handle.fromMaxLinks===999){var s=i.points.copy(),l=this.getResegmentingPoint();if(s.Hb(this.handle.segmentIndex+1,l),i.isOrthogonal&&s.Hb(this.handle.segmentIndex+1,l),i.points=s,i.Zb(),i.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.Hw=i.i(this.handle.segmentIndex),this.Yq=i.points.copy(),this.isActive=!0}}},ii.prototype.doDeactivate=function(){this.stopTransaction(),this.Us=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},ii.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},ii.prototype.doCancel=function(){var t=this.adornedLink;t!==null&&(t.points=this.Yq),this.stopTool()},ii.prototype.getResegmentingPoint=function(){return this.handle.ga(oe)},ii.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},ii.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var i=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(i),i=this.adornedLink,i!==null&&i.resegmentable){var s=this.handle.segmentIndex,l=i.i(s-1),u=i.i(s),c=i.i(s+1);if(i.isOrthogonal){if(s>i.firstPickIndex+1&&s<i.lastPickIndex-1){var d=i.i(s-2);if(Math.abs(l.x-u.x)<this.resegmentingDistance&&Math.abs(l.y-u.y)<this.resegmentingDistance&&(rp(this,d,l,u,c,!0)||rp(this,d,l,u,c,!1))){var m=i.points.copy();rp(this,d,l,u,c,!0)?(m.cd(s-2,new F(d.x,(c.y+d.y)/2)),m.cd(s+1,new F(c.x,(c.y+d.y)/2))):(m.cd(s-2,new F((c.x+d.x)/2,d.y)),m.cd(s+1,new F((c.x+d.x)/2,c.y))),m.mb(s),m.mb(s-1),i.points=m,i.Zb()}else d=i.i(s+2),Math.abs(u.x-c.x)<this.resegmentingDistance&&Math.abs(u.y-c.y)<this.resegmentingDistance&&(rp(this,l,u,c,d,!0)||rp(this,l,u,c,d,!1))&&(m=i.points.copy(),rp(this,l,u,c,d,!0)?(m.cd(s-1,new F(l.x,(l.y+d.y)/2)),m.cd(s+2,new F(d.x,(l.y+d.y)/2))):(m.cd(s-1,new F((l.x+d.x)/2,l.y)),m.cd(s+2,new F((l.x+d.x)/2,d.y))),m.mb(s+1),m.mb(s),i.points=m,i.Zb())}}else d=F.alloc(),Y.qh(l.x,l.y,c.x,c.y,u.x,u.y,d)&&d.Bf(u)<this.resegmentingDistance*this.resegmentingDistance&&(l=i.points.copy(),l.mb(s),i.points=l,i.Zb()),F.free(d)}t.Ya(),this.transactionResult=this.name,t.S("LinkReshaped",this.adornedLink,this.Yq)}this.stopTool()};function rp(t,i,s,l,u,c){return c?Math.abs(i.y-s.y)<t.resegmentingDistance&&Math.abs(s.y-l.y)<t.resegmentingDistance&&Math.abs(l.y-u.y)<t.resegmentingDistance:Math.abs(i.x-s.x)<t.resegmentingDistance&&Math.abs(s.x-l.x)<t.resegmentingDistance&&Math.abs(l.x-u.x)<t.resegmentingDistance}ii.prototype.reshape=function(t){var i=this.adornedLink;i.uh();var s=this.handle.segmentIndex,l=this.Tu(this.handle);if(i.isOrthogonal)if(s===i.firstPickIndex+1)s=i.firstPickIndex+1,l===wf?(i.L(s,i.i(s-1).x,t.y),i.L(s+1,i.i(s+2).x,t.y)):l===xf&&(i.L(s,t.x,i.i(s-1).y),i.L(s+1,t.x,i.i(s+2).y));else if(s===i.lastPickIndex-1)s=i.lastPickIndex-1,l===wf?(i.L(s-1,i.i(s-2).x,t.y),i.L(s,i.i(s+1).x,t.y)):l===xf&&(i.L(s-1,t.x,i.i(s-2).y),i.L(s,t.x,i.i(s+1).y));else{l=s;var u=i.i(l),c=i.i(l-1),d=i.i(l+1);Y.B(c.x,u.x)&&Y.B(u.y,d.y)?(Y.B(c.x,i.i(l-2).x)&&!Y.B(c.y,i.i(l-2).y)?(i.m(l,t.x,c.y),s++,l++):i.L(l-1,t.x,c.y),Y.B(d.y,i.i(l+2).y)&&!Y.B(d.x,i.i(l+2).x)?i.m(l+1,d.x,t.y):i.L(l+1,d.x,t.y)):Y.B(c.y,u.y)&&Y.B(u.x,d.x)?(Y.B(c.y,i.i(l-2).y)&&!Y.B(c.x,i.i(l-2).x)?(i.m(l,c.x,t.y),s++,l++):i.L(l-1,c.x,t.y),Y.B(d.x,i.i(l+2).x)&&!Y.B(d.y,i.i(l+2).y)?i.m(l+1,t.x,d.y):i.L(l+1,t.x,d.y)):Y.B(c.x,u.x)&&Y.B(u.x,d.x)?(Y.B(c.x,i.i(l-2).x)&&!Y.B(c.y,i.i(l-2).y)?(i.m(l,t.x,c.y),s++,l++):i.L(l-1,t.x,c.y),Y.B(d.x,i.i(l+2).x)&&!Y.B(d.y,i.i(l+2).y)?i.m(l+1,t.x,d.y):i.L(l+1,t.x,d.y)):Y.B(c.y,u.y)&&Y.B(u.y,d.y)&&(Y.B(c.y,i.i(l-2).y)&&!Y.B(c.x,i.i(l-2).x)?(i.m(l,c.x,t.y),s++,l++):i.L(l-1,c.x,t.y),Y.B(d.y,i.i(l+2).y)&&!Y.B(d.x,i.i(l+2).x)?i.m(l+1,d.x,t.y):i.L(l+1,d.x,t.y)),i.L(s,t.x,t.y)}else i.L(s,t.x,t.y),l=i.fromNode,u=i.fromPort,l!==null&&(c=l.findVisibleNode(),c!==null&&c!==l&&(l=c,u=l.port)),s===1&&i.computeSpot(!0,u).Nc()&&(c=u.ga(oe,F.alloc()),l=i.getLinkPointFromPoint(l,u,c,t,!0,F.alloc()),i.L(0,l.x,l.y),F.free(c),F.free(l)),l=i.toNode,u=i.toPort,l!==null&&(c=l.findVisibleNode(),c!==null&&c!==l&&(l=c,u=l.port)),s===i.pointsCount-2&&i.computeSpot(!1,u).Nc()&&(s=u.ga(oe,F.alloc()),t=i.getLinkPointFromPoint(l,u,s,t,!1,F.alloc()),i.L(i.pointsCount-1,t.x,t.y),F.free(s),F.free(t));i.zf()},ii.prototype.computeReshape=function(t){var i=this.adornedLink,s=this.handle.segmentIndex;switch(this.Tu(this.handle)){case jx:return t;case wf:return new F(i.i(s).x,t.y);case xf:return new F(t.x,i.i(s).y);default:case Ax:return i.i(s)}},S.Object.defineProperties(ii.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},midHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.j},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedLink:{get:function(){return this.Us}},resegmentingDistance:{get:function(){return this.F},set:function(t){this.F=t}},originalPoint:{get:function(){return this.Hw}},originalPoints:{get:function(){return this.Yq}}}),ii.prototype.setReshapingBehavior=ii.prototype.pm,ii.prototype.getReshapingBehavior=ii.prototype.Tu;var Ax=new it(ii,"None",0),xf=new it(ii,"Horizontal",1),wf=new it(ii,"Vertical",2),jx=new it(ii,"All",3);ii.className="LinkReshapingTool",ii.None=Ax,ii.Horizontal=xf,ii.Vertical=wf,ii.All=jx,dt("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.gb("LinkReshaping",t,this.mouseDownTools)});function mn(){Kt.call(this),this.name="Resizing",this.o=new At(1,1).freeze(),this.j=new At(9999,9999).freeze(),this.yg=new At(NaN,NaN).freeze(),this.V=!1,this.ia=!0,this.ue=null;var t=new It;t.alignmentFocus=oe,t.figure="Rectangle",t.desiredSize=qd,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.F=t,this.u=null,this.Xq=new F,this.Fw=new At,this.Un=new F,this.st=new At(0,0),this.rt=new At(1/0,1/0),this.qt=new At(1,1)}v(mn,Kt),mn.prototype.updateAdornments=function(t){if(!(t===null||t instanceof st)){if(t.isSelected&&!this.diagram.isReadOnly){var i=t.resizeObject,s=t.Oj(this.name);if(i!==null&&t.canResize()&&t.actualBounds.w()&&t.isVisible()&&i.actualBounds.w()&&i.Ed()&&((s===null||s.adornedObject!==i)&&(s=this.makeAdornment(i)),s!==null)){i=i.mi(),Lu(t)&&this.updateResizeHandles(s,i),t.bh(this.name,s);return}}t.Jf(this.name)}},mn.prototype.makeAdornment=function(t){var i=t.part.resizeAdornmentTemplate;if(i===null){i=new Wt,i.type=nt.Spot,i.locationSpot=oe;var s=new On;s.isPanelMain=!0,i.add(s),i.add(this.makeHandle(t,tn)),i.add(this.makeHandle(t,Hd)),i.add(this.makeHandle(t,Wo)),i.add(this.makeHandle(t,Kd)),i.add(this.makeHandle(t,Zr)),i.add(this.makeHandle(t,Gn)),i.add(this.makeHandle(t,Wr)),i.add(this.makeHandle(t,Yr))}else if(Jr(i),i=i.copy(),i===null)return null;return i.adornedObject=t,i},mn.prototype.makeHandle=function(t,i){return t=this.handleArchetype,t===null?null:(t=t.copy(),t.alignment=i,t)},mn.prototype.updateResizeHandles=function(t,i){if(t!==null){if(!t.alignment.$b()&&(t.cursor==="pointer"||0<t.cursor.indexOf("resize")))t:{var s=t.alignment;if(s.Nc()&&(s=oe),0>=s.x)i=0>=s.y?i+225:1<=s.y?i+135:i+180;else if(1<=s.x)0>=s.y?i+=315:1<=s.y&&(i+=45);else if(0>=s.y)i+=270;else if(1<=s.y)i+=90;else break t;0>i?i+=360:360<=i&&(i-=360),t.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}else if(t instanceof nt)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,i)}},mn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowResize&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},mn.prototype.doActivate=function(){var t=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&(t.isMouseCaptured=!0,t.animationManager.Cc(),this.Ea(this.name),this.Xq.set(this.adornedObject.ga(this.handle.alignment.iv())),this.Un.set(this.adornedObject.part.location),this.Fw.set(this.adornedObject.desiredSize),this.qt=this.computeCellSize(),this.st=this.computeMinSize(),this.rt=this.computeMaxSize(),this.isActive=!0))},mn.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.isActive=t.isMouseCaptured=!1},mn.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},mn.prototype.doCancel=function(){this.adornedObject!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},mn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var i=this.st,s=this.rt,l=this.qt,u=this.adornedObject.qs(t.lastInput.documentPoint,F.alloc()),c=this.computeReshape();i=this.computeResize(u,this.handle.alignment,i,s,l,c),this.resize(i),t.bd(),F.free(u)}},mn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var i=this.st,s=this.rt,l=this.qt,u=this.adornedObject.qs(t.lastInput.documentPoint,F.alloc()),c=this.computeReshape();i=this.computeResize(u,this.handle.alignment,i,s,l,c),this.resize(i),F.free(u),t.Ya(),this.transactionResult=this.name,t.S("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},mn.prototype.resize=function(t){var i=this.diagram,s=this.adornedObject;if(s!==null){if(s.desiredSize=t.size,t=s.part,t.Va(),s=s.ga(this.handle.alignment.iv()),t instanceof Et){var l=new ct;if(l.add(t),!this.dragsMembers&&t.placeholder===null){var u=new vp;u.dragsMembers=!1}i.moveParts(l,this.oppositePoint.copy().re(s),!0,u)}else t.location=t.location.copy().re(s).add(this.oppositePoint);i.bd()}},mn.prototype.computeResize=function(t,i,s,l,u,c){i.Nc()&&(i=oe);var d=this.adornedObject.naturalBounds,m=d.x,y=d.y,O=d.x+d.width,w=d.y+d.height,k=1;if(!c){k=d.width;var P=d.height;0>=k&&(k=1),0>=P&&(P=1),k=P/k}return P=F.alloc(),Y.Oo(t.x,t.y,m,y,u.width,u.height,P),t=d.copy(),0>=i.x?0>=i.y?(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=Math.max(O-t.x,s.width),t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=Math.max(w-t.y,s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.x=O-t.width,t.y=w-t.height)):1<=i.y?(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=Math.max(O-t.x,s.width),t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.x=O-t.width)):(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=O-t.x,c||(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k,t.y=y+.5*(w-y-t.height))):1<=i.x?0>=i.y?(t.width=Math.max(Math.min(P.x-m,l.width),s.width),t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=Math.max(w-t.y,s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.y=w-t.height)):1<=i.y?(t.width=Math.max(Math.min(P.x-m,l.width),s.width),t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width))):(t.width=Math.max(Math.min(P.x-m,l.width),s.width),c||(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k,t.y=y+.5*(w-y-t.height))):0>=i.y?(t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=w-t.y,c||(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width,t.x=m+.5*(O-m-t.width))):1<=i.y&&(t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width,t.x=m+.5*(O-m-t.width))),F.free(P),t},mn.prototype.computeReshape=function(){var t=je;return this.adornedObject instanceof It&&(t=DT(this.adornedObject)),!(t===Hr||this.diagram.lastInput.shift)},mn.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),i=this.minSize;return!isNaN(i.width)&&i.width>t.width&&(t.width=i.width),!isNaN(i.height)&&i.height>t.height&&(t.height=i.height),t},mn.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),i=this.maxSize;return!isNaN(i.width)&&i.width<t.width&&(t.width=i.width),!isNaN(i.height)&&i.height<t.height&&(t.height=i.height),t},mn.prototype.computeCellSize=function(){var t=new At(NaN,NaN),i=this.adornedObject.part;return i!==null&&(i=i.resizeCellSize,!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)),i=this.cellSize,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),i=this.diagram,(isNaN(t.width)||isNaN(t.height))&&i&&(i=i.grid,i!==null&&i.visible&&this.isGridSnapEnabled&&(i=i.gridCellSize,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||t.width===0||t.width===1/0)&&(t.width=1),(isNaN(t.height)||t.height===0||t.height===1/0)&&(t.height=1),t},S.Object.defineProperties(mn.prototype,{handleArchetype:{get:function(){return this.F},set:function(t){this.F=t}},handle:{get:function(){return this.u},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.u=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(t!==null&&t.part instanceof Wt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},minSize:{get:function(){return this.o},set:function(t){if(!this.o.D(t)){var i=t.width;isNaN(i)&&(i=0),t=t.height,isNaN(t)&&(t=0),this.o.h(i,t)}}},maxSize:{get:function(){return this.j},set:function(t){if(!this.j.D(t)){var i=t.width;isNaN(i)&&(i=1/0),t=t.height,isNaN(t)&&(t=1/0),this.j.h(i,t)}}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||this.yg.assign(t)}},isGridSnapEnabled:{get:function(){return this.V},set:function(t){this.V=t}},dragsMembers:{get:function(){return this.ia},set:function(t){this.ia=t}},oppositePoint:{get:function(){return this.Xq},set:function(t){this.Xq.D(t)||this.Xq.assign(t)}},originalDesiredSize:{get:function(){return this.Fw}},originalLocation:{get:function(){return this.Un}}}),mn.className="ResizingTool",dt("resizingTool",function(){return this.findTool("Resizing")},function(t){this.gb("Resizing",t,this.mouseDownTools)});function pr(){Kt.call(this),this.name="Rotating",this.ia=45,this.V=2,this.Un=new F,this.ue=null;var t=new It;t.figure="Ellipse",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.o=t,this.j=null,this.Ew=0,this.kr=new F(NaN,NaN),this.u=0,this.F=50}v(pr,Kt),pr.prototype.updateAdornments=function(t){if(t!==null){if(t.ph()){var i=t.rotateObject;if(i===t||i===t.path||i.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(i=t.rotateObject,i!==null&&t.canRotate()&&t.actualBounds.w()&&t.isVisible()&&i.actualBounds.w()&&i.Ed())){var s=t.Oj(this.name);if((s===null||s.adornedObject!==i)&&(s=this.makeAdornment(i)),s!==null){s.angle=i.mi(),s.placeholder===null&&(s.location=this.computeAdornmentLocation(i)),t.bh(this.name,s);return}}t.Jf(this.name)}},pr.prototype.makeAdornment=function(t){var i=t.part.rotateAdornmentTemplate;if(i===null){i=new Wt,i.type=nt.Position,i.locationSpot=oe;var s=this.handleArchetype;s!==null&&i.add(s.copy())}else if(Jr(i),i=i.copy(),i===null)return null;return i.adornedObject=t,i},pr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowRotate&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},pr.prototype.doActivate=function(){var t=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject!==null&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.Ea(this.name),this.Ew=this.adornedObject.angle,this.kr=this.computeRotationPoint(this.adornedObject),this.Un=this.adornedObject.part.location.copy(),this.isActive=!0)},pr.prototype.computeRotationPoint=function(t){var i=t.part,s=i.locationObject;return i.rotationSpot.sb()?t.ga(i.rotationSpot):t===i||t===s?s.ga(i.locationSpot):t.ga(oe)},pr.prototype.computeAdornmentLocation=function(t){var i=this.rotationPoint;i.w()||(i=this.computeRotationPoint(t)),i=t.qs(i);var s=this.handleAngle;0>s?s+=360:360<=s&&(s-=360),s=Math.round(45*Math.round(s/45));var l=this.handleDistance;return s===0?i.x=t.naturalBounds.width+l:s===45?(i.x=t.naturalBounds.width+l,i.y=t.naturalBounds.height+l):s===90?i.y=t.naturalBounds.height+l:s===135?(i.x=-l,i.y=t.naturalBounds.height+l):s===180?i.x=-l:s===225?(i.x=-l,i.y=-l):s===270?i.y=-l:s===315&&(i.x=t.naturalBounds.width+l,i.y=-l),t.ga(i)},pr.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.kr=new F(NaN,NaN),this.isActive=t.isMouseCaptured=!1},pr.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},pr.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},pr.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},pr.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var i=this.computeRotate(t.lastInput.documentPoint);this.rotate(i),t.Ya(),this.transactionResult=this.name,t.S("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},pr.prototype.rotate=function(t){var i=this.adornedObject;if(i!==null){i.angle=t,i=i.part,i.Va();var s=i.locationObject,l=i.rotateObject;(s===l||s.rg(l))&&(s=this.Un.copy(),i.location=s.re(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.bd()}},pr.prototype.computeRotate=function(t){t=this.rotationPoint.ab(t)-this.handleAngle;var i=this.adornedObject.panel;i!==null&&(t-=i.mi()),360<=t?t-=360:0>t&&(t+=360),i=Math.min(Math.abs(this.snapAngleMultiple),180);var s=Math.min(Math.abs(this.snapAngleEpsilon),i/2);return!this.diagram.lastInput.shift&&0<i&&0<s&&(t%i<s?t=Math.floor(t/i)*i:t%i>i-s&&(t=(Math.floor(t/i)+1)*i)),360<=t?t-=360:0>t&&(t+=360),t},S.Object.defineProperties(pr.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},handle:{get:function(){return this.j},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(t!==null&&t.part instanceof Wt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},snapAngleMultiple:{get:function(){return this.ia},set:function(t){this.ia=t}},snapAngleEpsilon:{get:function(){return this.V},set:function(t){this.V=t}},originalAngle:{get:function(){return this.Ew}},rotationPoint:{get:function(){return this.kr},set:function(t){this.kr=t.copy()}},handleAngle:{get:function(){return this.u},set:function(t){this.u=t}},handleDistance:{get:function(){return this.F},set:function(t){this.F=t}}}),pr.className="RotatingTool",dt("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.gb("Rotating",t,this.mouseDownTools)});function sp(){Kt.call(this),this.name="ClickSelecting"}v(sp,Kt),sp.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},sp.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},sp.className="ClickSelectingTool";function Sa(){Kt.call(this),this.name="Action",this.nk=null}v(Sa,Kt),Sa.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,i=t.lastInput,s=t.kc(i.documentPoint,function(l){for(;l.panel!==null&&!l.isActionable;)l=l.panel;return l});return s!==null&&s.isActionable?(this.nk=s,t.Bk=t.kc(i.documentPoint,null,null),!0):!1},Sa.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionDown!==null&&i.actionDown(t,i))}else this.canStart()&&this.doActivate()},Sa.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionMove!==null&&i.actionMove(t,i))}},Sa.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;if(i===null)return;t.targetObject=i,i.actionUp!==null&&i.actionUp(t,i),this.standardMouseClick(function(s){for(;s.panel!==null&&(!s.isActionable||s!==i);)s=s.panel;return s},function(s){return s===i})}this.stopTool()},Sa.prototype.doCancel=function(){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionCancel!==null&&i.actionCancel(t,i),this.stopTool())},Sa.prototype.doStop=function(){this.nk=null},Sa.className="ActionTool";function Lh(){Kt.call(this),this.name="ClickCreating",this.Si=null,this.o=!0,this.j=!1,this.ow=new F(0,0)}v(Lh,Kt),Lh.prototype.canStart=function(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(t.lastInput.clickCount===1&&(this.ow=t.lastInput.viewPoint.copy()),t.lastInput.clickCount!==2||this.isBeyondDragSize(this.ow))return!1}else if(t.lastInput.clickCount!==1)return!1;return!(t.currentTool!==this&&t.Ol(t.lastInput.documentPoint,!0)!==null)},Lh.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},Lh.prototype.insertPart=function(t){var i=this.diagram,s=this.archetypeNodeData;if(s===null)return null;var l=null;try{if(i.S("ChangingSelection",i.selection),this.Ea(this.name),s instanceof kt)s.Zc()&&(Jr(s),l=s.copy(),l!==null&&i.add(l));else if(s!==null){var u=i.model.copyNodeData(s);tt(u)&&(i.model.xf(u),l=i.Mc(u))}if(l!==null){var c=F.allocAt(t.x,t.y);this.isGridSnapEnabled&&qb(this.diagram,l,t,c),l.location=c,i.allowSelect&&(i.clearSelection(!0),l.isSelected=!0),F.free(c)}i.Ya(),this.transactionResult=this.name,i.S("PartCreated",l)}finally{this.stopTransaction(),i.S("ChangedSelection",i.selection)}return l},S.Object.defineProperties(Lh.prototype,{archetypeNodeData:{get:function(){return this.Si},set:function(t){this.Si=t}},isDoubleClick:{get:function(){return this.o},set:function(t){this.o=t}},isGridSnapEnabled:{get:function(){return this.j},set:function(t){this.j=t}}}),Lh.className="ClickCreatingTool";function qo(){Kt.call(this),this.name="DragSelecting",this.Hk=175,this.o=!1;var t=new kt;t.layerName="Tool",t.selectable=!1;var i=new It;i.name="SHAPE",i.figure="Rectangle",i.fill=null,i.stroke="magenta",t.add(i),this.j=t}v(qo,Kt),qo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var i=t.lastInput;return!(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.timestamp-t.firstInput.timestamp<this.delay||t.Ol(i.documentPoint,!0)!==null))},qo.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},qo.prototype.doDeactivate=function(){var t=this.diagram;t.ug(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},qo.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&this.box!==null){var i=this.computeBoxBounds(),s=this.box.fb("SHAPE");s===null&&(s=this.box.Qb());var l=At.alloc().h(i.width,i.height);s.desiredSize=l,this.box.nm(i.x,i.y,!1),At.free(l),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.gs(t.lastInput.viewPoint)}},qo.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.S("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.S("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},qo.prototype.computeBoxBounds=function(){var t=this.diagram;return new J(t.firstInput.documentPoint,t.lastInput.documentPoint)},qo.prototype.selectInRect=function(t){var i=this.diagram,s=i.lastInput;if(t=i.wx(t,this.isPartialInclusion),Dt?s.meta:s.control)if(s.shift)for(t=t.iterator;t.next();)i=t.value,i.isSelected&&(i.isSelected=!1);else for(t=t.iterator;t.next();)i=t.value,i.isSelected=!i.isSelected;else if(s.shift)for(t=t.iterator;t.next();)i=t.value,i.isSelected||(i.isSelected=!0);else{for(s=new ct,i=i.selection.iterator;i.next();){var l=i.value;t.contains(l)||s.add(l)}for(i=s.iterator;i.next();)i.value.isSelected=!1;for(t=t.iterator;t.next();)i=t.value,i.isSelected||(i.isSelected=!0)}},S.Object.defineProperties(qo.prototype,{delay:{get:function(){return this.Hk},set:function(t){this.Hk=t}},isPartialInclusion:{get:function(){return this.o},set:function(t){this.o=t}},box:{get:function(){return this.j},set:function(t){this.j=t}}}),qo.className="DragSelectingTool";function Go(){Kt.call(this),this.name="Panning",this.Yt=new F,this.zy=new F,this.xg=!1;var t=this;this.Mw=function(){var i=t.diagram;i!==null&&i.removeEventListener(Q.document,"scroll",t.Mw,!1),t.stopTool()}}v(Go,Kt),Go.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},Go.prototype.doActivate=function(){var t=this.diagram;this.xg?(t.lastInput.bubbles=!0,t.addEventListener(Q.document,"scroll",this.Mw,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Yt.assign(t.position)),this.isActive=!0},Go.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},Go.prototype.doCancel=function(){var t=this.diagram;t.position=this.Yt,t.isMouseCaptured=!1,this.stopTool()},Go.prototype.doMouseMove=function(){this.move()},Go.prototype.doMouseUp=function(){this.move(),this.stopTool()},Go.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.xg)t.lastInput.bubbles=!0;else{var i=t.position,s=t.firstInput.documentPoint,l=t.lastInput.documentPoint,u=i.x+s.x-l.x;s=i.y+s.y-l.y,t.allowHorizontalScroll||(u=i.x),t.allowVerticalScroll||(s=i.y),t.position=this.zy.h(u,s)}},S.Object.defineProperties(Go.prototype,{bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},originalPosition:{get:function(){return this.Yt}}}),Go.className="PanningTool",dt("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.gb("ClickCreating",t,this.mouseUpTools)}),dt("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.gb("ClickSelecting",t,this.mouseUpTools)}),dt("panningTool",function(){return this.findTool("Panning")},function(t){this.gb("Panning",t,this.mouseMoveTools)}),dt("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.gb("DragSelecting",t,this.mouseMoveTools)}),dt("actionTool",function(){return this.findTool("Action")},function(t){this.gb("Action",t,this.mouseDownTools)});function ka(){this.F=this.u=this.j=this.o=null}S.Object.defineProperties(ka.prototype,{mainElement:{get:function(){return this.u},set:function(t){this.u=t}},show:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},hide:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},valueFunction:{get:function(){return this.F},set:function(t){this.F=t}}}),ka.className="HTMLInfo";function Us(t,i,s){this.text=t,this.jx=i,this.visible=s}Us.className="ContextMenuButtonInfo";function Hn(){Kt.call(this),this.name="ContextMenu",this.o=this.it=this.j=null,this.Aw=new F,this.kt=null,this.Ft=!1;var t=this;this.uu=function(){t.stopTool()}}v(Hn,Kt);function vG(t){var i=new ka;i.show=function(u,c,d){d.showDefaultContextMenu()},i.hide=function(u,c){c.hideDefaultContextMenu()},op=i,t.uu=function(){t.stopTool()},i=V("div");var s=V("div");i.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",s.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var l=V("style");Q.document.getElementsByTagName("head")[0].appendChild(l),l.sheet.insertRule(".goCXul { list-style: none; }",0),l.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),l.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),l=t.diagram,l!==null&&(l.addEventListener(i,"contextmenu",Cb,!1),l.addEventListener(i,"selectstart",Cb,!1),l.addEventListener(s,"contextmenu",Cb,!1)),i.className="goCXforeground",s.className="goCXbackground",Q.document.body&&(Q.document.body.appendChild(i),Q.document.body.appendChild(s)),Oy=i,yy=s,Mb=!0}function Cb(t){return t.preventDefault(),!1}Hn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount?!1:!!(t.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)},Hn.prototype.doStart=function(){this.Aw.set(this.diagram.firstInput.documentPoint)},Hn.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},Hn.prototype.findObjectWithContextMenu=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.lastInput,l=null;if(t instanceof G||(t instanceof vt?l=t:l=i.kc(s.documentPoint,null,function(u){return!u.layer.isTemporary})),l!==null){for(t=l;t!==null;){if(t.contextMenu!==null)return t;t=t.panel}if(i.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return l.part}else if(i.contextMenu!==null)return i;return null},Hn.prototype.doActivate=function(){},Hn.prototype.doMouseDown=function(){if(Kt.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Wt){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&pE(this)},Hn.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Wt){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}pE(this)};function pE(t){var i=t.diagram;if(t.isActive){var s=t.currentContextMenu;if(s!==null){var l=null;s instanceof ka||(l=i.kc(i.lastInput.documentPoint,null,null),l!==null&&l.rg(s)&&t.standardMouseClick(null,null)),t.maybeStopTool(l)}}else t.canStart()&&(mE(t,!0),t.isActive||t.stopTool())}Hn.prototype.maybeStopTool=function(){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())};function mE(t,i,s){if(s===void 0&&(s=null),!t.Ft&&(t.Ft=!0,i&&t.standardMouseSelect(),i=t.standardMouseClick(),t.Ft=!1,!i)){if(t.isActive=!0,i=op,s===null&&(s=t.findObjectWithContextMenu()),s!==null){var l=s.contextMenu;l!==null?(t.currentObject=s instanceof vt?s:null,t.showContextMenu(l,t.currentObject)):i!==null&&t.showContextMenu(i,t.currentObject)}else i!==null&&t.showContextMenu(i,null);t.currentContextMenu instanceof Wt&&!t.currentContextMenu.visible&&t.stopTool()}}Hn.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},Hn.prototype.showContextMenu=function(t,i){var s=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof Wt){t.layerName="Tool",t.selectable=!1,t.scale=1/s.scale,t.category=this.name,t.placeholder!==null&&(t.placeholder.scale=s.scale);var l=t.diagram;l!==null&&l!==s&&l.remove(t),s.add(t),i!==null?t.adornedObject=i:t.data=s.model,t.Va(),this.positionContextMenu(t,i)}else t instanceof ka&&t.show(i,s,this);this.currentContextMenu=t},Hn.prototype.positionContextMenu=function(t){if(t.placeholder===null){var i=this.diagram,s=i.lastInput.documentPoint.copy(),l=t.measuredBounds,u=i.viewportBounds;i.lastInput.isTouchEvent&&(s.x-=l.width),s.x+l.width>u.right&&(s.x-=l.width+5/i.scale),s.x<u.x&&(s.x=u.x),s.y+l.height>u.bottom&&(s.y-=l.height+5/i.scale),s.y<u.y&&(s.y=u.y),t.position=s}},Hn.prototype.hideContextMenu=function(){var t=this.diagram,i=this.currentContextMenu;i!==null&&(i instanceof Wt?(t.remove(i),this.it!==null&&this.it.Jf(i.category),i.data=null,i.adornedObject=null):i instanceof ka&&(i.hide!==null?i.hide(t,this):i.mainElement!==null&&(i.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())};function xG(t){var i=new ct;return i.add(new Us("Copy",function(s){s.commandHandler.copySelection()},function(s){return s.commandHandler.canCopySelection()})),i.add(new Us("Cut",function(s){s.commandHandler.cutSelection()},function(s){return s.commandHandler.canCutSelection()})),i.add(new Us("Delete",function(s){s.commandHandler.deleteSelection()},function(s){return s.commandHandler.canDeleteSelection()})),i.add(new Us("Paste",function(s){s.commandHandler.pasteSelection(t.mouseDownPoint)},function(s){return s.commandHandler.canPasteSelection(t.mouseDownPoint)})),i.add(new Us("Select All",function(s){s.commandHandler.selectAll()},function(s){return s.commandHandler.canSelectAll()})),i.add(new Us("Undo",function(s){s.commandHandler.undo()},function(s){return s.commandHandler.canUndo()})),i.add(new Us("Redo",function(s){s.commandHandler.redo()},function(s){return s.commandHandler.canRedo()})),i.add(new Us("Scroll To Part",function(s){s.commandHandler.scrollToPart()},function(s){return s.commandHandler.canScrollToPart()})),i.add(new Us("Zoom To Fit",function(s){s.commandHandler.zoomToFit()},function(s){return s.commandHandler.canZoomToFit()})),i.add(new Us("Reset Zoom",function(s){s.commandHandler.resetZoom()},function(s){return s.commandHandler.canResetZoom()})),i.add(new Us("Group Selection",function(s){s.commandHandler.groupSelection()},function(s){return s.commandHandler.canGroupSelection()})),i.add(new Us("Ungroup Selection",function(s){s.commandHandler.ungroupSelection()},function(s){return s.commandHandler.canUngroupSelection()})),i.add(new Us("Edit Text",function(s){s.commandHandler.editTextBlock()},function(s){return s.commandHandler.canEditTextBlock()})),i}Hn.prototype.showDefaultContextMenu=function(){var t=this.diagram;this.kt===null&&(this.kt=xG(this)),Oy.innerHTML="",yy.addEventListener("pointerdown",this.uu,!1);var i=this,s=V("ul");s.className="goCXul",Oy.appendChild(s),s.innerHTML="";for(var l=this.kt.iterator;l.next();){var u=l.value,c=u.visible;if(typeof u.jx=="function"&&(typeof c!="function"||c(t))){c=V("li"),c.className="goCXli";var d=V("a");d.className="goCXa",d.href="#",d.my=u.jx,d.addEventListener("pointerdown",function(m){return this.my(t),i.stopTool(),m.preventDefault(),!1},!1),d.textContent=u.text,c.appendChild(d),s.appendChild(c)}}Oy.style.display="block",yy.style.display="block"},Hn.prototype.hideDefaultContextMenu=function(){if(this.currentContextMenu!==null&&this.currentContextMenu===op){Oy.style.display="none",yy.style.display="none";var t=this.diagram;t!==null&&t.removeEventListener(yy,"pointerdown",this.uu,!1),this.currentContextMenu=null}},S.Object.defineProperties(Hn.prototype,{currentContextMenu:{get:function(){return this.j},set:function(t){this.j=t,this.it=t instanceof Wt?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return Mb===!1&&op===null&&bs&&vG(this),op},set:function(t){t===null&&(Mb=!0),op=t}},currentObject:{get:function(){return this.o},set:function(t){this.o=t}},mouseDownPoint:{get:function(){return this.Aw}}});var op=null,Mb=!1,yy=null,Oy=null;Hn.className="ContextMenuTool",dt("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.gb("ContextMenu",t,this.mouseUpTools)});function ve(){Kt.call(this),this.name="TextEditing",this.Zh=new fe,this.ia=null,this.V=Lx,this.wj=null,this.qa=lp,this.u=1,this.F=!0,this.o=null,this.j=new ka,this.lt=null,wG(this,this.j)}v(ve,Kt);function wG(t,i){if(bs){var s=V("textarea");t.lt=s,s.addEventListener("input",function(){if(t.textBlock!==null){var l=t.Mx(this.value);this.style.width=20+l.measuredBounds.width*this.AA+"px",this.rows=l.lineCount}},!1),s.addEventListener("keydown",function(l){if(!l.isComposing&&t.textBlock!==null){var u=l.key;u==="Enter"?(t.textBlock.isMultiline===!1&&l.preventDefault(),t.acceptText(xy)):u==="Tab"?(t.acceptText(Rx),l.preventDefault()):u==="Escape"&&(t.doCancel(),t.diagram!==null&&t.diagram.doFocus())}},!1),s.addEventListener("focus",function(){if(t.currentTextEditor!==null&&t.state!==lp){var l=t.lt;t.qa===ap&&(t.qa=wy),typeof l.select=="function"&&t.selectsTextOnActivate&&(l.select(),l.setSelectionRange(0,9999))}},!1),s.addEventListener("blur",function(){if(t.currentTextEditor!==null&&t.state!==lp){var l=t.lt;typeof l.focus=="function"&&l.focus(),typeof l.select=="function"&&t.selectsTextOnActivate&&(l.select(),l.setSelectionRange(0,9999))}},!1),i.valueFunction=function(){return s.value},i.mainElement=s,i.show=function(l,u,c){if(l instanceof fe&&c instanceof ve)if(c.state===up)s.style.border="3px solid red",s.focus();else{var d=l.ga(oe),m=u.position,y=u.scale,O=l.Df()*y;O<c.minimumEditorScale&&(O=c.minimumEditorScale);var w=l.naturalBounds.width*O+6,k=l.naturalBounds.height*O+2,P=(d.x-m.x)*y;d=(d.y-m.y)*y,m=l.verticalAlignment,y=(l.lineHeight+l.spacingAbove+l.spacingBelow)*l.lineCount*O,k=m.y*k-m.y*y+m.offsetY-(.5*k-.5*y)-y/2,s.value=l.text,u.div.style.font=l.font,s.style.position="absolute",s.style.zIndex="100",s.style.font="inherit",s.style.fontSize=100*O+"%",s.style.lineHeight="normal",s.style.width=w+"px",s.style.left=(P-w/2|0)-1+"px",s.style.top=(d+k|0)-1+"px",s.style.textAlign=l.textAlign,s.style.margin="0",s.style.padding="1px",s.style.border="0",s.style.outline="none",s.style.whiteSpace="pre-wrap",s.style.overflow="hidden",s.rows=l.lineCount,s.AA=O,s.className="goTXarea",u.div.appendChild(s),s.focus(),c.selectsTextOnActivate&&(s.select(),s.setSelectionRange(0,9999))}},i.hide=function(l){l.div.removeChild(s)}}}ve.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t===null||t.isReadOnly||Sf&&Sf!==this&&(Sf.acceptText(vy),Sf&&Sf!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var i=t.kc(t.lastInput.documentPoint);return i!==null&&i instanceof fe&&i.editable&&i.part.canEdit()?(i=i.part,!(i===null||this.starting===Lx&&!i.isSelected||this.starting===Qb&&2>t.lastInput.clickCount)):!1},ve.prototype.doStart=function(){Sf=this,this.textBlock!==null&&this.doActivate()},ve.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(t!==null){var i=this.textBlock;if(i===null&&(i=t.kc(t.lastInput.documentPoint)),i!==null&&i instanceof fe&&(this.textBlock=i,i.part!==null)){t.animationManager.Cc(),this.isActive=!0,this.qa=ap;var s=this.defaultTextEditor;i.textEditor!==null&&(s=i.textEditor),this.Zh=this.textBlock.copy();var l=new J(this.textBlock.ga(tn),this.textBlock.ga(Wo));t.vv(l),s.show(i,t,this),this.currentTextEditor=s}}}},ve.prototype.doCancel=function(){this.stopTool()},ve.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},ve.prototype.doMouseDown=function(){this.isActive&&this.acceptText(vy)},ve.prototype.acceptText=function(t){switch(t){case vy:this.qa===$x?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.qa===ap||this.qa===up||this.qa===wy)&&(this.qa=Ex,gE(this));break;case Nb:case xy:case Rx:(xy!==t||this.textBlock.isMultiline!==!0)&&(this.qa===ap||this.qa===up||this.qa===wy)&&(this.qa=Ex,gE(this))}};function gE(t){var i=t.textBlock,s=t.diagram,l=t.currentTextEditor;if(i!==null&&l!==null){var u=i.text,c="";l.valueFunction!==null&&(c=l.valueFunction()),t.isValidText(i,u,c)?(t.Ea(t.name),t.qa=$x,t.transactionResult=t.name,i.text=c,t.doSuccess(u,c),s!==null&&s.S("TextEdited",i,u),t.stopTransaction(),t.stopTool(),s!==null&&s.doFocus()):(t.qa=up,t.doError(u,c))}}ve.prototype.doError=function(t,i){var s=this.textBlock;s.errorFunction!==null&&s.errorFunction(this,t,i),(t=this.currentTextEditor)&&t.show(s,this.diagram,this)},ve.prototype.doSuccess=function(t,i){var s=this.textBlock;s.textEdited!==null&&s.textEdited(s,t,i)},ve.prototype.doDeactivate=function(){var t=this.diagram;t!==null&&(this.qa=lp,this.currentTextEditor!==null&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)},ve.prototype.doStop=function(){Sf=null},ve.prototype.isValidText=function(t,i,s){var l=this.textValidation;return l!==null&&!l(t,i,s)?!1:(l=t.textValidation,!!(l===null||l(t,i,s)))},ve.prototype.Mx=function(t){var i=this.Zh;return i.text=t,i.measure(this.textBlock.Ih,1/0),i},S.Object.defineProperties(ve.prototype,{textBlock:{get:function(){return this.ia},set:function(t){this.ia=t}},currentTextEditor:{get:function(){return this.o},set:function(t){this.o=t}},defaultTextEditor:{get:function(){return this.j},set:function(t){this.j=t}},starting:{get:function(){return this.V},set:function(t){this.V=t}},textValidation:{get:function(){return this.wj},set:function(t){this.wj=t}},minimumEditorScale:{get:function(){return this.u},set:function(t){this.u=t}},selectsTextOnActivate:{get:function(){return this.F},set:function(t){this.F=t}},state:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.qa=t)}}}),ve.prototype.measureTemporaryTextBlock=ve.prototype.Mx;var Nb=new it(ve,"LostFocus",0),vy=new it(ve,"MouseDown",1),Rx=new it(ve,"Tab",2),xy=new it(ve,"Enter",3),yE=new it(ve,"SingleClick",0),Lx=new it(ve,"SingleClickSelected",1),Qb=new it(ve,"DoubleClick",2),lp=new it(ve,"StateNone",0),ap=new it(ve,"StateActive",1),wy=new it(ve,"StateEditing",2),Ex=new it(ve,"StateValidating",3),up=new it(ve,"StateInvalid",4),$x=new it(ve,"StateValidated",5),Sf=null;ve.className="TextEditingTool",ve.LostFocus=Nb,ve.MouseDown=vy,ve.Tab=Rx,ve.Enter=xy,ve.SingleClick=yE,ve.SingleClickSelected=Lx,ve.DoubleClick=Qb,ve.StateNone=lp,ve.StateActive=ap,ve.StateEditing=wy,ve.StateValidating=Ex,ve.StateInvalid=up,ve.StateValidated=$x,dt("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.gb("TextEditing",t,this.mouseUpTools)});function Nr(t){Vx||(wE(),Vx=!0),this.H=dp,this.Nk=this.Ab=this.vq=this.dc=!1,this.Sw=!0,this.Ok=Sy,this.Em=!1,this.Gh=this.Jd=!0,this.Dg=600,this.ew=this.Qw=!1,this.Zd=new ut,this.ce=new en,this.ce.Yd=this,this.Fi=new ut,this.qu=new ut,this.Sr=new ut,this.pr=new ut,t&&Object.assign(this,t)}Nr.prototype.Xe=function(t){this.H=t},Nr.prototype.canStart=function(){return!0};function Pa(t,i){t.Jd&&t.canStart(i)&&(t.Zd.add(i),t.defaultAnimation.isAnimating&&t.Cc(),gn(t.H),t.Ab=!0)}function Ab(t){if(t.Jd&&t.Ab){var i=t.ce,s=t.H,l=t.Zd.contains("Model");l&&(t.Nk=!0,t.Ok===Sy?(i.isViewportUnconstrained=!0,i.vc.clear(),i.add(s,"position",s.position.copy().offset(0,-200),s.position),i.add(s,"opacity",0,1)):t.Ok===Lb&&i.vc.clear(),t.Sw=!!(t.Ok===Rb&&s.eu.D(s.pa)),s.S("InitialAnimationStarting",t)),l&&!t.Gh||i.vc.count===0?(t.Zd.clear(),t.Ab=!1,i.vc.clear(),zx(i,s),t.Nk=!1,s.N()):(t.Zd.clear(),s.kg=!1,l=i.vc.get(s),s.autoScale!==mr&&l!==null&&(delete l.start.scale,delete l.end.scale),Q.requestAnimationFrame(function(){t.Ab===!1||i.dc||(s.Gf("temporaryPixelRatio")&&Py(s),Fb(s),t.Ab=!1,i.start(),i.dc&&(hp(t),s.Ya(),kE(i,0),ba(s,!0),cp(t),s.S("AnimationStarting",t)))}))}}function Dx(t){return t.Zd.contains("Trigger")&&t.Zd.count===1}function OE(t,i,s,l){t.isTicking||Dx(t)||i instanceof st&&(i.fromNode!==null||i.toNode!==null)||t.ce.add(i,"position",s,l,!1)}n=Nr.prototype,n.Fs=function(t){return this.ce.Fs(t)},n.Zu=function(t){return this.ce.Zu(t)};function SG(t,i){function s(){if(0<u.Sr.count&&(l.addAll(u.Sr),u.Sr.clear(),u.dc=!0),u.dc!==!1&&l.count!==0){u.qu.addAll(l);for(var c=u.qu.iterator;c.next();){var d=c.value;if(d.dc!==!1){t:if(0<d.yl.count)var m=!0;else{for(m=d.vc.iterator;m.next();){var y=m.key;if(y instanceof vt&&y.diagram!==null||y instanceof G){m=!0;break t}}m=!1}m?SE(d,!1):d.Wk=!0}}u.qu.clear(),u.dc!==!1&&(hp(u),ba(u.H),cp(u)),Q.requestAnimationFrame(s)}}var l=t.Fi,u=t;t.dc?t.Sr.add(i):(t.dc=!0,l.add(i),Q.requestAnimationFrame(function(){s()}))}function kG(t){for(t=t.Fi.iterator;t.next();)t.value.Wk=!1}function hp(t){if(!t.vq){var i=t.H;t.Qw=i.skipsUndoManager,t.ew=i.skipsModelSourceBindings,i.skipsUndoManager=!0,i.skipsModelSourceBindings=!0,t.vq=!0}}function cp(t){var i=t.H;i.skipsUndoManager=t.Qw,i.skipsModelSourceBindings=t.ew,t.vq=!1}n.Cc=function(t){var i=this.ce;if(this.Ab===!0&&(this.Nk=this.Ab=!1,this.Zd.clear(),0<i.vc.count&&this.H.Rb()),this.dc){if(i.Ml(!0),i.vc.clear(),zx(i,null),t===!0)for(t=this.Fi.Fa(),i=0;i<t.length;i++)t[i].Ml(!0)}else i.vc.clear(),zx(i,this.H)},n.Ml=function(t){t===this.defaultAnimation&&this.defaultAnimation.vc.clear(),this.Fi.remove(t),this.Fi.count===0&&(this.dc=!1,this.H.Rb()),t===this.defaultAnimation&&(this.defaultAnimation.vc.clear(),this.H.S("AnimationFinished",this))},n.Dj=function(t,i){this.Ab&&(this.Zd.contains("Expand Tree")||this.Zd.contains("Expand SubGraph"))&&(this.ce.Dj(t,i),xE(this,t))},n.Bj=function(t,i){this.Ab&&(this.Zd.contains("Collapse Tree")||this.Zd.contains("Collapse SubGraph"))&&(this.ce.Bj(t,i),Eb(this.ce,i,"position",i.position,i.position),xE(this,t))};function vE(t,i,s){!t.Ab||i.D(s)||Dx(t)||(t.H.ri||(i=s.copy()),Eb(t.ce,t.H,"position",i,s))}function jb(t,i,s){i.fd&&(i.Tg=s,t.pr.add(i))}function xE(t,i){for(i=i.findLinksConnected();i.next();){var s=i.value;s.fd&&(s.Tg=s.points.copy(),t.pr.add(s))}}function Ix(t,i,s,l,u){t===null&&(t=[0,0,0,0]),i===null&&(i=[0,0,0,0]);var c=t[0],d=t[1],m=t[2];t=t[3];var y=i[0],O=i[1],w=i[2];return i=i[3],m===0||m===100?(c=y,d=O):(w===0||w===100)&&(y=c,O=d),180<Math.abs(y-c)&&(y>c?c+=360:y+=360),c=u(s,c,y-c,l)%360,d=u(s,d,O-d,l),m=u(s,m,w-m,l),s=u(s,t,i-t,l),"hsla("+c+", "+d+"%, "+m+"%, "+s+")"}function wE(){function t(s,l,u,c,d,m){s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}var i=new jt;i.add("position:diagram",t),i.add("position",t),i.add("position:part",function(s,l,u,c,d,m){d<m?s.nm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!1):s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("location",function(s,l,u,c,d,m){d<m?s.nm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!0):s.location=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("position:placeholder",function(s,l,u,c,d,m){d<m?s.nm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!1):s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("position:nodeCollapse",function(s,l,u,c,d,m){var y=s.actualBounds,O=u.actualBounds;u=O.x+O.width/2-y.width/2,y=O.y+O.height/2-y.height/2,d<m?s.nm(c(d,l.x,u-l.x,m),c(d,l.y,y-l.y,m),!1):s.position=new F(c(d,l.x,u-l.x,m),c(d,l.y,y-l.y,m))}),i.add("desiredSize",function(s,l,u,c,d,m){s.desiredSize=new J(c(d,l.width,u.width-l.width,m),c(d,l.height,u.height-l.height,m))}),i.add("width",function(s,l,u,c,d,m){s.width=c(d,l,u-l,m)}),i.add("height",function(s,l,u,c,d,m){s.height=c(d,l,u-l,m)}),i.add("fill",function(s,l,u,c,d,m){s.fill=Ix(l,u,d,m,c)}),i.add("stroke",function(s,l,u,c,d,m){s.stroke=Ix(l,u,d,m,c)}),i.add("strokeWidth",function(s,l,u,c,d,m){s.strokeWidth=c(d,l,u-l,m)}),i.add("strokeDashOffset",function(s,l,u,c,d,m){s.strokeDashOffset=c(d,l,u-l,m)}),i.add("background",function(s,l,u,c,d,m){s.background=Ix(l,u,d,m,c)}),i.add("areaBackground",function(s,l,u,c,d,m){s.areaBackground=Ix(l,u,d,m,c)}),i.add("opacity",function(s,l,u,c,d,m){s.opacity=c(d,l,u-l,m)}),i.add("scale",function(s,l,u,c,d,m){s.scale=c(d,l,u-l,m)}),i.add("angle",function(s,l,u,c,d,m){s.angle=c(d,l,u-l,m)}),Fx=i}S.Object.defineProperties(Nr.prototype,{animationReasons:{get:function(){return this.Zd}},isEnabled:{get:function(){return this.Jd},set:function(t){(this.Jd=t)&&this.Fi.each(function(i){i.isAnimating||i.runCount!==1/0||i.start()})}},duration:{get:function(){return this.Dg},set:function(t){1>t&&W(t,">= 1",Nr,"duration"),this.Dg=t}},isAnimating:{get:function(){return this.dc}},isTicking:{get:function(){return this.vq}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t}},defaultAnimation:{get:function(){return this.ce}},activeAnimations:{get:function(){return this.Fi}},initialAnimationStyle:{get:function(){return this.Ok},set:function(t){this.Ok=t}}}),Nr.prototype.stopAnimation=Nr.prototype.Cc;var Fx=null,Vx=!1,Sy=new it(Nr,"Default",1),Rb=new it(Nr,"AnimateLocations",2),Lb=new it(Nr,"None",3);Nr.className="AnimationManager",Nr.defineAnimationEffect=function(t,i){Vx||(wE(),Vx=!0),Fx.add(t,i)},Nr.Default=Sy,Nr.AnimateLocations=Rb,Nr.None=Lb;function en(t){this.wu=this.Pw=this.Yd=this.H=null,this.Wk=this.dc=this.j=!1,this.dn=this.Qd=0,this.Lp=this.pt=PE,this.Vk=this.io=!1,this.du=1,this.bu=0,this.Gd=this.Dg=NaN,this.iw=0,this.en=null,this.o=po,this.vc=new jt,this.Ut=new jt,this.yl=new ut,this.Vt=new ut,this.fw=Nu,t&&Object.assign(this,t)}en.prototype.suspend=function(){this.Wk=!0},en.prototype.advanceTo=function(t,i){i&&(this.Wk=!1),this.io&&t>=this.Gd&&(this.Vk=!0,t-=this.Gd),this.iw=t,SE(this,!0),hp(this.Yd),ba(this.H),cp(this.Yd),this.H.redraw()};function zx(t,i){if(t.Ut.clear(),t.Vk=!1,t.bu=0,t.Gd=NaN,0<t.yl.count&&t.yl.clear(),0<t.Vt.count&&t.Vt.clear(),i!==null)for(t=i.links;t.next();)t.value.Tg=null}n=en.prototype,n.start=function(){if(this.vc.count===0||this.dc)return this;for(var t=this.H,i=this.vc.iterator;i.next();){var s=i.key;t===null&&(s instanceof G?t=s:s instanceof vt&&(t=s.diagram))}if(t!==null)this.H=t,this.Yd=t.animationManager;else return this;return i=this.Yd,i.isEnabled===!1?this:(this.Gd=isNaN(this.Dg)?i.duration:this.Dg,this.Lp=this.pt,i.Nk&&i.Ok===Sy&&this===i.defaultAnimation&&(this.Lp=bE,this.Gd=isNaN(this.Dg)?i.duration===600?900:i.duration:this.Dg),this.fw=t.scrollMode,this.isViewportUnconstrained&&(t.tj=Kx),hp(i),this.yl.each(function(l){l.data=null,t.add(l)}),cp(i),this.dc=!0,this.Qd=+new Date,this.dn=this.Qd+this.Gd,SG(i,this),this)},n.Ky=function(t,i){return t.Zc()?(this.yl.add(t),this.H=i,this):this},n.add=function(t,i,s,l,u){if(i==="position"&&s.Xa(l))return this;if(this.H===null&&(t instanceof G?this.H=t:t instanceof vt&&t.diagram!==null&&(this.H=t.diagram)),t instanceof kt){if(!t.isAnimated)return this;i==="position"&&(i="position:part")}return Eb(this,t,i,s,l,u),this};function Eb(t,i,s,l,u,c){var d=t.vc;if(i instanceof G&&s==="position"&&(s="position:diagram"),(s==="fill"||s==="stroke"||s==="background"||s==="areaBackground")&&(Dl(l),vT(),l=[yr.j,yr.u,yr.o,yr.F],Dl(u),vT(),u=[yr.j,yr.u,yr.o,yr.F]),d.contains(i)){var m=d.I(i),y=m.start,O=m.end;y[s]===void 0&&(y[s]=fp(l)),O[s]=fp(u)}else y={},O={},y[s]=fp(l),O[s]=fp(u),m=y.position,i instanceof vt&&m instanceof F&&!m.w()&&i.diagram.animationManager.Zd.contains("Expand SubGraph")&&m.assign(O.position),m=new TE(y,O,c),d.add(i,m);d=y[s],d instanceof F&&!d.w()&&d.assign(t.o),c&&s.indexOf("position:")===0&&i instanceof kt?m.Mu.location=fp(i.location):c&&(m.Mu[s]=fp(l))}function fp(t){return t instanceof F||t instanceof At?t.copy():t}n.Fs=function(t){return this.dc?(t=this.vc.I(t),t!==null&&t.pv):!1},n.Zu=function(t){return this.dc?(t=this.vc.I(t),t!==null&&(t.start.position||t.start.location)):!1};function SE(t,i){if(!t.Wk||i){var s=t.Yd;if(t.dc!==!1){var l=+new Date,u=l>t.dn?t.Gd:l-t.Qd;i&&(u=t.iw,u<t.Gd?(t.Qd=+new Date-u,t.dn=t.Qd+t.Gd):u=t.Gd),hp(s),kE(t,u),ba(t.H,!0),cp(s),l>t.dn&&(t.io&&!t.Vk?(t.Qd=+new Date,t.dn=t.Qd+t.Gd,t.Vk=!0):t.Ml(!1))}}}function kE(t,i){for(var s=t.Gd,l=t.vc.iterator,u=t.Vk;l.next();){var c=l.key;if(!(c instanceof vt&&c.diagram===null)){var d=l.value,m=u?d.end:d.start;d=u?d.start:d.end;var y=Fx,O;for(O in d)O==="position"&&(d["position:placeholder"]||d["position:nodeCollapse"])||y.get(O)===null||y.get(O)(c,m[O],d[O],t.Lp,i,s,t)}}}n.stop=function(){return this.dc?(this.Ml(!0),this):this},n.Ml=function(t){if(this.wu!==null&&this.wu.ko.remove(this.Pw),this.dc){var i=this.H,s=this.Yd;this.Wk=this.dc=s.Nk=!1,hp(s);for(var l=this.vc,u=this.yl.iterator;u.next();)i.remove(u.value);for(u=this.Vt.iterator;u.next();)u.value.v();u=this.io,l=l.iterator;for(var c=Fx;l.next();){var d=l.key,m=l.value,y=u?m.end:m.start,O=u?m.start:m.end,w=m.Mu,k;for(k in O)if(c.get(k)!==null){var P=k;!m.Ju||P!=="position:nodeCollapse"&&P!=="position:placeholder"||(P="position"),c.get(P)(d,y[k],w[k]!==void 0?w[k]:m.Ju?y[k]:O[k],this.Lp,this.Gd,this.Gd,this)}m.Ju&&w.location!==void 0&&d instanceof kt&&(d.location=w.location),m.pv&&d instanceof kt&&d.bc(!1)}if(i.As.clear(),_x(i,!1),i.Ya(),i.N(),ba(i,!0),s.defaultAnimation===this){for(k=s.pr.iterator;k.next();)u=k.value,u.Tg!==null&&(u.points=u.Tg,u.Tg=null);s.pr.clear()}ba(i,!0),this.isViewportUnconstrained&&(i.scrollMode=this.fw),cp(s),this.bu++,!t&&this.du>this.bu?(this.Vk=!1,this.start()):(this.en&&this.en(this),zx(this,null),s.Ml(this),i.Rb())}},n.Dj=function(t,i){var s=i.actualBounds,l=null;if(i instanceof Et&&(l=i.placeholder),l!==null?(s=l.ga(tn),l=l.padding,s.x+=l.left,s.y+=l.top,this.add(t,"position",s,t.position,!1)):this.add(t,"position",new F(s.x+s.width/2,s.y+s.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof Et)for(t=t.memberParts;t.next();)l=t.value,l instanceof ft&&this.Dj(l,i)},n.Bj=function(t,i){if(t.isVisible()){var s=null;if(i instanceof Et&&(s=i.placeholder),s!==null){var l=s.ga(tn);s=s.padding,l.x+=s.left,l.y+=s.top,this.add(t,"position:placeholder",t.position,l,!0)}else this.add(t,"position:nodeCollapse",t.position,i,!0);if(this.add(t,"scale",t.scale,.01,!0),l=this.vc,l.contains(t)&&(l.I(t).pv=!0),t instanceof Et)for(t=t.memberParts;t.next();)l=t.value,l instanceof ft&&this.Bj(l,i)}},n.Jz=function(t){var i=this.Ut.get(t);return i===null&&(i={},this.Ut.add(t,i)),i},S.Object.defineProperties(en.prototype,{duration:{get:function(){return this.Dg},set:function(t){1>t&&W(t,">= 1",en,"duration"),this.Dg=t}},reversible:{get:function(){return this.io},set:function(t){this.io=t}},runCount:{get:function(){return this.du},set:function(t){0<t?this.du=t:D("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.en},set:function(t){this.en!==t&&(this.en=t)}},easing:{get:function(){return this.pt},set:function(t){this.pt=t}},isViewportUnconstrained:{get:function(){return this.j},set:function(t){this.j=t}},isAnimating:{get:function(){return this.dc}}}),en.prototype.getTemporaryState=en.prototype.Jz,en.prototype.stop=en.prototype.stop,en.prototype.add=en.prototype.add,en.prototype.addTemporaryPart=en.prototype.Ky;function PE(t,i,s,l){return t/=l/2,1>t?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i}function bE(t,i,s,l){return t===l?i+s:s*(-Math.pow(2,-10*t/l)+1)+i}en.className="Animation",en.EaseLinear=function(t,i,s,l){return s*t/l+i},en.EaseInOutQuad=PE,en.EaseInQuad=function(t,i,s,l){return s*(t/=l)*t+i},en.EaseOutQuad=function(t,i,s,l){return-s*(t/=l)*(t-2)+i},en.EaseInExpo=function(t,i,s,l){return t===0?i:s*Math.pow(2,10*(t/l-1))+i},en.EaseOutExpo=bE;function TE(t,i,s){this.start=t,this.end=i,this.Mu={},this.Ju=s,this.pv=!1}TE.className="AnimationState";function Ho(t,i,s){this.xd=null,this.rf=t,this.to=s||$b,this.tk=null,i!==void 0&&(this.tk=i,s===void 0&&(this.to=Bx))}Ho.prototype.copy=function(){var t=new Ho(this.rf);t.to=this.to;var i=this.tk;if(i!==null){var s={};i.duration!==void 0&&(s.duration=i.duration),i.finished!==void 0&&(s.finished=i.finished),i.easing!==void 0&&(s.easing=i.easing),t.tk=s}return t};function PG(t,i){t=t.tk,t!==null&&(t.duration&&(i.duration=t.duration),t.finished&&(i.finished=t.finished),t.easing&&(i.easing=t.easing))}S.Object.defineProperties(Ho.prototype,{propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},animationSettings:{get:function(){return this.tk},set:function(t){this.tk=t}},startCondition:{get:function(){return this.to},set:function(t){this.to=t}}});var $b=new it(Ho,"Default",1),Bx=new it(Ho,"Immediate",2),Db=new it(Ho,"Bundled",3);Ho.className="AnimationTrigger",Ho.Default=$b,Ho.Immediate=Bx,Ho.Bundled=Db;function nn(t){Ye(this),this.H=null,this.Pa=new ct,this.xa="",this.pb=1,this.o=!1,this.j=this.Uh=this.u=this.Pi=this.Oi=this.Ni=this.Mi=this.Ki=this.Li=this.Ji=this.Ri=this.Ii=this.Qi=this.Hi=this.Gi=!0,this.Zq=[],t&&Object.assign(this,t)}n=nn.prototype,n.clear=function(){for(var t=this.Pa,i=0;i<t.length;i++){var s=t.s[i];s.Ig=null,dT(s)}t.clear(),this.Zq.length=0},n.Xe=function(t){this.H=t},n.toString=function(t){t===void 0&&(t=0);var i='Layer "'+this.name+'"';if(0>=t)return i;for(var s=0,l=0,u=0,c=0,d=0,m=this.Pa.iterator;m.next();){var y=m.value;y instanceof Et?u++:y instanceof ft?l++:y instanceof st?c++:y instanceof Wt?d++:s++}if(m="",0<s&&(m+=s+" Parts "),0<l&&(m+=l+" Nodes "),0<u&&(m+=u+" Groups "),0<c&&(m+=c+" Links "),0<d&&(m+=d+" Adornments "),1<t)for(t=this.Pa.iterator;t.next();)s=t.value,m+=`
    `+s.toString(),l=s.data,l!==null&&Qi(l)&&(m+=" #"+Qi(l)),s instanceof ft?m+=" "+Nt(l):s instanceof st&&(m+=" "+Nt(s.fromNode)+" "+Nt(s.toNode));return i+" "+this.Pa.count+": "+m},n.kc=function(t,i,s){if(i===void 0&&(i=null),s===void 0&&(s=null),this.Uh===!1)return null;var l=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(l=!0);for(var u=F.alloc(),c=this.Pa.s,d=c.length;d--;){var m=c[d];if((l!==!0||Lu(m)!==!1)&&m.isVisible()&&(u.assign(t),$i(u,m.oe),m=m.kc(u,i,s),m!==null&&(i!==null&&(m=i(m)),m!==null&&(s===null||s(m)))))return F.free(u),m}return F.free(u),null},n.ki=function(t,i,s,l){if(i===void 0&&(i=null),s===void 0&&(s=null),l instanceof ct||l instanceof ut||(l=new ut),this.Uh===!1)return l;var u=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(u=!0);for(var c=F.alloc(),d=this.Pa.s,m=d.length;m--;){var y=d[m];if((u!==!0||Lu(y)!==!1)&&y.isVisible()){c.assign(t),$i(c,y.oe);var O=y;y.ki(c,i,s,l)&&(i!==null&&(O=i(O)),O===null||s!==null&&!s(O)||l.add(O))}}return F.free(c),l},n.Cf=function(t,i,s,l,u){if(i===void 0&&(i=null),s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof ut||(u=new ut),this.Uh===!1)return u;var c=!1;this.diagram!==null&&this.diagram.viewportBounds.Re(t)&&(c=!0);for(var d=this.Pa.s,m=d.length;m--;){var y=d[m];if((c!==!0||Lu(y)!==!1)&&y.isVisible()){var O=y;y.Cf(t,i,s,l,u)&&(i!==null&&(O=i(O)),O===null||s!==null&&!s(O)||u.add(O))}}return u},n.Pu=function(t,i,s,l,u,c,d){if(this.Uh===!1)return u;for(var m=this.Pa.s,y=m.length;y--;){var O=m[y];if((d!==!0||Lu(O)!==!1)&&c(O)&&O.isVisible()){var w=O;O.Cf(t,i,s,l,u)&&(i!==null&&(w=i(w)),w===null||s!==null&&!s(w)||u.add(w))}}return u},n.og=function(t,i,s,l,u,c){if(s===void 0&&(s=null),l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof ut)&&(c=u),u=!0),c instanceof ct||c instanceof ut||(c=new ut),this.Uh===!1)return c;var d=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(d=!0);for(var m=F.alloc(),y=F.alloc(),O=this.Pa.s,w=O.length;w--;){var k=O[w];if((d!==!0||Lu(k)!==!1)&&k.isVisible()){m.assign(t),$i(m,k.oe),y.h(t.x+i,t.y),$i(y,k.oe);var P=k;k.og(m,y,s,l,u,c)&&(s!==null&&(P=s(P)),P===null||l!==null&&!l(P)||c.add(P))}}return F.free(m),F.free(y),c},n.Fd=function(t,i){if(this.visible){var s=this.Pa.s,l=s.length;if(l!==0){t=St();for(var u=St(),c=0;c<l;c++){var d=s[c];if(d.xw=c,d instanceof st){if(d.fd===!1)continue}else if(d instanceof Wt&&d.adornedPart!==null)continue;var m=d.actualBounds;d.isVisible()&&IL(m,i)?(d.Fd(!0),t.push(d)):(d.Fd(!1),d.adornments!==null&&0<d.adornments.count&&u.push(d))}for(i=0;i<t.length;i++)for(s=t[i],WT(s),s=s.adornments;s.next();)l=s.value,l.measure(1/0,1/0),l.arrange(),l.Fd(!0);for(i=0;i<u.length;i++)WT(u[i]);mt(t),mt(u)}}};function ky(t,i){var s=1;return t.pb!==1&&(s=i.globalAlpha,i.globalAlpha=s*t.pb),s}n.ic=function(t,i,s){if(this.visible&&this.pb!==0&&(s===void 0&&(s=!0),s||!this.isTemporary)){s=this.Pa.s;var l=s.length;if(l!==0){if(t.isTemporary)for(var u=0;u<l;u++)s[u].Gj();u=ky(this,t);var c=this.Zq;c.length=0;for(var d=i.scale,m=J.alloc(),y=0;y<l;y++)this.Nj(t,s[y],i,c,d,m,!0);if(J.free(m),t.isTemporary)for(i=0;i<l;i++)s[i].Gj();t.globalAlpha=u}}};function bG(t,i,s,l,u){if(t.visible&&t.pb!==0&&(u||!t.isTemporary)){u=t.Pa.s;var c=u.length;if(c!==0){var d=ky(t,i),m=t.Zq;m.length=0;for(var y=s.scale,O=J.alloc(),w=0;w<c;w++){var k=u[w];l.contains(k)&&t.Nj(i,k,s,m,y,O,!1)}J.free(O),i.globalAlpha=d}}}n.Nj=function(t,i,s,l,u,c,d){if(d&&!Lu(i))t.Is(i);else{if(l!==null&&i instanceof st&&(i.isOrthogonal&&l.push(i),i.fd===!1)){t.Is(i);return}for(d=!1,l=i.containingGroup;l!==null;)d?l.tb!==null&&c.Gx(l.tb):l.tb!==null&&(d=!0,c.assign(l.tb)),l=l.containingGroup;var m=i.actualBounds;if(l=!1,d&&i.isVisible()){if(!c.Yc(m)){t.Is(i);return}l=!c.Re(m)}l&&(t.save(),t instanceof Kn?t.ak=c.copy():(t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip())),m.width*u>s.Oq||m.height*u>s.Oq?i.ic(t,s):(u=i.actualBounds,c=i.naturalBounds,u.width===0||u.height===0||isNaN(u.x)||isNaN(u.y)||!i.isVisible()||(s=i.transform,i.areaBackground!==null&&(gr(i,t,i.areaBackground,!0,!0,c,u),t.fillRect(u.x,u.y,u.width,u.height)),i.areaBackground===null&&i.background===null&&(gr(i,t,"rgba(0,0,0,0.3)",!0,!1,c,u),t.fillRect(u.x,u.y,u.width,u.height)),i.background!==null&&(t.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),gr(i,t,i.background,!0,!1,c,u),t.fillRect(0,0,c.width/2,c.height/2),s.ws()||(i=1/(s.m11*s.m22-s.m12*s.m21),t.transform(s.m22*i,-s.m12*i,-s.m21*i,s.m11*i,i*(s.m21*s.dy-s.m22*s.dx),i*(s.m12*s.dx-s.m11*s.dy)))))),l&&(t.restore(),t.Vc(!0))}},n.g=function(t,i,s,l,u){var c=this.diagram;c!==null&&c.cb(Se,t,this,i,s,l,u)},n.pi=function(t,i,s){var l=this.Pa;if(i.Ig=this,this===null&&dT(i),t>=l.count)t=l.count;else if(l.M(t)===i)return-1;return l.Hb(t,i),i.Wo(s),l=this.diagram,l!==null&&(s?l.N():l.pi(i)),Xx(this,t,i),t},n.qc=function(t,i,s){if(!s&&i.layer!==this&&i.layer!==null)return i.layer.qc(t,i,s);var l=this.Pa;if(0>t||t>=l.length){if(t=l.indexOf(i),0>t)return-1}else if(l.M(t)!==i&&(t=l.indexOf(i),0>t))return-1;return i.Xo(s),l.mb(t),l=this.diagram,l!==null&&(s?l.N():l.qc(i)),i.Ig=null,dT(i),t};function Xx(t,i,s){if(i=TG(t,i,s),s instanceof Et&&s!==null&&isNaN(s.zOrder)){if(s.memberParts.count!==0){for(var l=-1,u=t.Pa.s,c=u.length,d=0;d<c;d++){var m=u[d];if(m===s&&(i=d,0<=l)||0>l&&m.containingGroup===s&&(l=d,0<=i))break}!(0>l)&&l<i&&(u=t.Pa,u.mb(i),u.Hb(l,s))}i=s.containingGroup,i!==null&&Xx(t,-1,i)}s.svg!==null&&s.svg.remove()}function TG(t,i,s){var l=s.zOrder;if(isNaN(l))return i;t=t.Pa;var u=t.count;if(1>=u)return i;if(0>i&&(i=t.indexOf(s)),0>i)return-1;for(var c=i-1,d=NaN;0<=c&&(d=t.M(c).zOrder,!!isNaN(d));)c--;for(var m=i+1,y=NaN;m<u&&(y=t.M(m).zOrder,!!isNaN(y));)m++;if(!isNaN(d)&&d>l)for(;;){if(c===-1||d<=l){if(c++,c===i)break;return t.mb(i),t.Hb(c,s),c}for(d=NaN;0<=--c&&(d=t.M(c).zOrder,isNaN(d)););}else if(!isNaN(y)&&y<l)for(;;){if(m===u||y>=l){if(m--,m===i)break;return t.mb(i),t.Hb(m,s),m}for(y=NaN;++m<u&&(y=t.M(m).zOrder,isNaN(y)););}return i}S.Object.defineProperties(nn.prototype,{parts:{get:function(){return this.Pa.iterator}},partsBackwards:{get:function(){return this.Pa.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.xa},set:function(t){var i=this.xa;if(i!==t){var s=this.diagram;if(s!==null)for(i===""&&D("Cannot rename default Layer to: "+t),s=s.layers;s.next();)s.value.name===t&&D("Layer.name is already present in this diagram: "+t);for(this.xa=t,this.g("name",i,t),t=this.Pa.iterator;t.next();)t.value.layerName=this.xa}}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&W(t,"0 <= value <= 1",nn,"opacity"),this.pb=t,this.g("opacity",i,t),t=this.diagram,t!==null&&t.N())}},isTemporary:{get:function(){return this.o},set:function(t){var i=this.o;i!==t&&((this.o=t)&&(this.isInDocumentBounds=!1),this.g("isTemporary",i,t))}},visible:{get:function(){return this.u},set:function(t){var i=this.u;if(i!==t){for(this.u=t,this.g("visible",i,t),i=this.Pa.iterator;i.next();)i.value.bc(t);t=this.diagram,t!==null&&t.N()}}},pickable:{get:function(){return this.Uh},set:function(t){var i=this.Uh;i!==t&&(this.Uh=t,this.g("pickable",i,t))}},isInDocumentBounds:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,this.diagram!==null&&this.diagram.Ya())}},allowCopy:{get:function(){return this.Gi},set:function(t){var i=this.Gi;i!==t&&(this.Gi=t,this.g("allowCopy",i,t))}},allowDelete:{get:function(){return this.Hi},set:function(t){var i=this.Hi;i!==t&&(this.Hi=t,this.g("allowDelete",i,t))}},allowTextEdit:{get:function(){return this.Qi},set:function(t){var i=this.Qi;i!==t&&(this.Qi=t,this.g("allowTextEdit",i,t))}},allowGroup:{get:function(){return this.Ii},set:function(t){var i=this.Ii;i!==t&&(this.Ii=t,this.g("allowGroup",i,t))}},allowUngroup:{get:function(){return this.Ri},set:function(t){var i=this.Ri;i!==t&&(this.Ri=t,this.g("allowUngroup",i,t))}},allowLink:{get:function(){return this.Ji},set:function(t){var i=this.Ji;i!==t&&(this.Ji=t,this.g("allowLink",i,t))}},allowRelink:{get:function(){return this.Li},set:function(t){var i=this.Li;i!==t&&(this.Li=t,this.g("allowRelink",i,t))}},allowMove:{get:function(){return this.Ki},set:function(t){var i=this.Ki;i!==t&&(this.Ki=t,this.g("allowMove",i,t))}},allowReshape:{get:function(){return this.Mi},set:function(t){var i=this.Mi;i!==t&&(this.Mi=t,this.g("allowReshape",i,t))}},allowResize:{get:function(){return this.Ni},set:function(t){var i=this.Ni;i!==t&&(this.Ni=t,this.g("allowResize",i,t))}},allowRotate:{get:function(){return this.Oi},set:function(t){var i=this.Oi;i!==t&&(this.Oi=t,this.g("allowRotate",i,t))}},allowSelect:{get:function(){return this.Pi},set:function(t){var i=this.Pi;i!==t&&(this.Pi=t,this.g("allowSelect",i,t))}}}),nn.prototype.findObjectsNear=nn.prototype.og,nn.prototype.findObjectsIn=nn.prototype.Cf,nn.prototype.findObjectsAt=nn.prototype.ki,nn.prototype.findObjectAt=nn.prototype.kc,nn.className="Layer";function G(t,i){if(HE||(IG(),HE=!0),Ye(this),dp=this,this.wb=!0,this.Ka=null,this.ya=this.Aa=0,this.ta=null,bs){var s=this,l=function(){s.removeEventListener(Q.document,"DOMContentLoaded",l,!1),s.setRTL()};Q.document.body!==null?this.setRTL():s.addEventListener(Q.document,"DOMContentLoaded",l,!1)}this.ol=null,Gx.add("Model",re);var u=this;return this.Ib=function(c){var d=u.partManager;if(c.model===d.diagram.model&&d.diagram.aa){d.diagram.aa=!1;try{var m=c.change;c.modelChange===""&&m===Se&&d.updateDataBindings(c.object,c.propertyName)}finally{d.diagram.aa=!0}}},this.Pc=function(c){u.partManager.doModelChanged(c)},this.iu=this.lu=null,ME(this),this.model=OC(),this.Wg=!0,AE(this),this.layout=new ye,this.Wg=!1,this.bk=this.dk=this.ek=this.ck=this.vi=this.fA=this.Zj=this.Qv=null,this.gk=function(){},this.preventDefault=null,this.sn=!1,this.Yf=new KE,t!==void 0&&(typeof t=="string"||Q.Element&&t instanceof Element?Ib(this,t):i=t),i&&this.om(i),this.wb=!1,this.Rb(),this}var CE,dp;function ME(t){t.Yd=new Nr,t.Yd.Xe(t),t.Eb=17,t.Iw=!1,t.un=!1,t.cu="default",t.Wa=new ct,t.qj=new jt,t.nl="default",t.Vx(),t.Ux(),t.pb=1,t.pa=new F(NaN,NaN).freeze(),t.eu=new F(NaN,NaN),t.Ca=1,t.Pp=1,t.At=new F(NaN,NaN).freeze(),t.Bt=NaN,t.Pt=1e-4,t.Nt=100,t.Bb=new Bt,t.Au=new F(NaN,NaN).freeze(),t.vt=new J(NaN,NaN,NaN,NaN).freeze(),t.sj=new ne(0,0,0,0).freeze(),t.tj=Nu,t.ou=!1,t.$t=null,t.gu=null,t.yh=mr,t.yk=Yi,t.Fg=mr,t.pq=Yi,t.zt=tn,t.Ct=tn,t.Fc=!0,t.qn=!1,t.De=new ut,t.Eh=new jt,t.Ym=!0,t.vp=250,t.uk=-1,t.xp=new ne(16,16,16,16).freeze(),t.kg=!1,t.Ik=!1,t.gn=!0,t.bq=new Mr,t.bq.diagram=t,t.Qg=new Mr,t.Qg.diagram=t,t.dj=new Mr,t.dj.diagram=t,t.zg=null,t.pf=null,t.ru=!1,$G(t),t.ai=new ut,t.It=!0,t.vu=$h,t.rw=!1,t.xu=Hx,t.jt="auto",t.Op="auto",t.zh=null,t.Fh=null,t.Bh=null,t.Qh=null,t.Oh=null,t.Nh=null,t.Rt=null,t.Lh=null,t.yt=!1,t.Mh=null,t.Ph=null,t.$h=null,t.Ch=null,t.St=!1,t.Zt={},t.pj=[null,null],t.Wg=!1,t.Kw=!1,t.pu=!1,t.mt=!1,t.tw=!0,t.ld=!1,t.aj=!1,t.Vw=!0,t.Ce=-2,t.Og=new jt,t.Yn=new ct,t.Gg=!1,t.Jd=!0,t.Vs=!0,t.Gi=!0,t.Hi=!0,t.Ws=!1,t.Xs=!0,t.Qi=!0,t.Ii=!0,t.Ri=!0,t.Zs=!0,t.Ji=!0,t.Li=!0,t.Ki=!0,t.Mi=!0,t.Ni=!0,t.Oi=!0,t.Pi=!0,t.$s=!0,t.bt=!0,t.sw=!1,t.Uk=!1,t.nn=!0,t.on=!0,t.Ys=!0,t.at=!0,t.ju=16,t.nu=16,t.qr=!1,t.hu=!1,t.mu=0,t.ku=0,t.zb=new ne(5).freeze(),t.Jw=new ut().freeze(),t.Ot=999999999,t.pw=new ut().freeze(),t.$i=!0,t.Ee=!0,t.vd=!0,t.Be=!1,t.gf=!1,t.xh=!0,t.hf=!1,t.uy=new ut,t.qw=new ut,t.Xh=null,t.cw=new At(8,8),t.dw=999,t.Dw=1,t.Lw=0,t.hc={scale:1,position:new F,bounds:new J,Uy:new At,gA:new At,Tz:!1},t.hc.canvasSize=t.hc.Uy,t.hc.newCanvasSize=t.hc.gA,t.hc.isScroll=!1,t.Tw=new J(NaN,NaN,NaN,NaN).freeze(),t.xo=new At(NaN,NaN).freeze(),t.Sp=new J(NaN,NaN,NaN,NaN).freeze(),t.Jt=!1,t.Lg=new jt;var i=new ft,s=new fe;s.bind(new De("text","",Nt)),i.add(s),t.py=i,t.Lg.add("",i),i=new ft,s=new fe,s.stroke="brown",s.bind(new De("text","",Nt)),i.add(s),t.Lg.add("Comment",i),i=new ft,i.selectable=!1,i.avoidable=!1,s=new It,s.figure="Ellipse",s.fill="black",s.stroke=null,s.desiredSize=new At(3,3).ja(),i.add(s),t.Lg.add("LinkLabel",i),t.Zi=new jt,i=new Et,i.selectionObjectName="GROUPPANEL",i.type=nt.Vertical,s=new fe,s.font="bold 12pt sans-serif",s.bind(new De("text","",Nt)),i.add(s),s=new nt(nt.Auto),s.name="GROUPPANEL";var l=new It;l.figure="Rectangle",l.fill="rgba(128,128,128,0.2)",l.stroke="black",s.add(l),l=new On,l.padding=new ne(5,5,5,5).ja(),s.add(l),i.add(s),t.ny=i,t.Zi.add("",i),t.Kh=new jt,i=new st,s=new It,s.isPanelMain=!0,i.add(s),s=new It,s.toArrow="Standard",s.fill="black",s.stroke=null,s.strokeWidth=0,i.add(s),t.oy=i,t.Kh.add("",i),i=new st,s=new It,s.isPanelMain=!0,s.stroke="brown",i.add(s),t.Kh.add("Comment",i),i=new Wt,i.type=nt.Auto,s=new It,s.fill=null,s.stroke="dodgerblue",s.strokeWidth=3,i.add(s),s=new On,s.margin=new ne(1.5,1.5,1.5,1.5).ja(),i.add(s),t.Tt=i,t.xt=i,i=new Wt,i.type=nt.Link,s=new It,s.isPanelMain=!0,s.fill=null,s.stroke="dodgerblue",s.strokeWidth=3,i.add(s),t.Lt=i,t.fe=null,t.mq=!1,t.Bk=null,t.partManager=new re,t.toolManager=new Ce,t.toolManager.initializeStandardTools(),t.defaultTool=t.toolManager,t.currentTool=t.defaultTool,t.ot=null,t.Xm=new vp,t.Wt=null,t.Xt=null,t.Mr=!1,t.commandHandler=QE(),t.eq=null,t.fq=cf,t.Rw=!1,t.Nb=1,t.Yh=null,t.Oq=1,t.Sq=0,t.Bw=[0,0,0,0,0],t.Tq=0,t.yq=1,t.vw=0,t.ww=new F,t.By=500,t.wp=new F,t.wq=!1}G.prototype.clear=function(){this.animationManager.Cc(),this.model.clear(),gp=null,My="",NE(this,!1),this.Yn.clear(),$p(),this.Og.clear(),this.Xh=null,this.Ya(),this.Va(),this.N()};function NE(t,i){t.animationManager.Cc(!0),t.Jw=new ut().freeze(),t.pw=new ut().freeze();var s=t.skipsUndoManager,l=t.ec!==null&&t.ec!==void 0;l&&(t.skipsUndoManager=!0);var u=null;t.fe!==null&&(u=t.fe.part,u!==null&&t.remove(u));var c=[],d=t.Wa.length;if(i){for(i=0;i<d;i++)for(var m=t.Wa.s[i].parts;m.next();){var y=m.value;y!==u&&y.data===null&&c.push(y)}for(i=0;i<c.length;i++)t.remove(c[i])}for(i=0;i<d;i++)t.Wa.s[i].clear();return t.partManager.clear(),t.De.clear(),t.Eh.clear(),t.ai.clear(),t.Bk=null,t.Yn.clear(),$p(),t.Og.clear(),qt=[],u!==null&&(t.add(u),t.partManager.parts.remove(u)),l&&(t.skipsUndoManager=s),c}function QE(){return null}G.prototype.reset=function(){this.clear(),this.wb=!0,ME(this),Ma(this),this.Wg=!0,AE(this),this.layout=new ye,this.Wg=!1,this.model=OC(),this.model.undoManager=new Ee,this.wb=this.sn=!1,this.N()},G.prototype.setRTL=function(t){t=t===void 0?this.div:t,t===null&&(t=Q.document.body);var i=V("div");i.dir="rtl",i.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",i.textContent="A",t.appendChild(i);var s="reverse";0<i.scrollLeft?s="default":(i.scrollLeft=1,i.scrollLeft===0&&(s="negative")),t.removeChild(i),this.cu=s},G.prototype.setScrollWidth=function(t){t=t===void 0?this.div:t,t===null&&(t=Q.document.body);var i=0;if(bs){var s=WE;i=CE,s===null&&(s=WE=V("p"),s.style.width="100%",s.style.height="200px",s.style.boxSizing="content-box",i=CE=V("div"),i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.boxSizing="content-box",i.appendChild(s)),i.style.overflow="hidden",t.appendChild(i);var l=s.offsetWidth;i.style.overflow="scroll",s=s.offsetWidth,l===s&&(s=i.clientWidth),t.removeChild(i),i=l-s,i!==0||Dt||(i=11)}this.Eb=i,this.Iw=!0},G.prototype.qb=function(t){t.classType===G&&(this.autoScale=t)},G.prototype.toString=function(t){t===void 0&&(t=0);var i="";if(this.div&&this.div.id&&(i=this.div.id),i='Diagram "'+i+'"',0>=t)return i;for(var s=this.Wa.iterator;s.next();)i+=`
  `+s.value.toString(t-1);return i};function Ib(t,i){if(bs){if(i!=null||D("Diagram setup requires an argument DIV."),t.Ka!==null&&D("Diagram has already completed setup."),typeof i=="string"?t.Ka=Q.document.getElementById(i):i instanceof HTMLDivElement?t.Ka=i:D("No DIV or DIV id supplied: "+i),t.Ka===null&&D("Invalid DIV id; could not get element with id: "+i),t.Ka.H!==void 0&&D("Invalid div id; div already has a Diagram associated with it."),!t.ol&&Q.ResizeObserver){var s=L(function(){t.Rb()},250);t.ol=new Q.ResizeObserver(function(){s()}),t.ol.observe(t.Ka)}Q.getComputedStyle(t.Ka,null).position==="static"&&(t.Ka.style.position="relative"),i=5;var l="rgba(2"+i+"5, 255, 255, 0)";i--,t.Ka.style["-webkit-tap-highlight-color"]=l,t.Ka.innerHTML="",t.Ka.H=t,t.Ka.goDiagram=t,t.Ka.go=Q.go;var u=new Kr(t);if(u.style!==void 0&&(u.style.position="absolute",u.style.top="0px",u.style.left="0px",Q.getComputedStyle(t.Ka,null).getPropertyValue("direction")==="rtl"&&(t.un=!0),u.style.zIndex="2",u.style.userSelect="none",u.style.MozUserSelect="none",u.style.touchAction="none",u.style.letterSpacing="normal !important",u.style.wordSpacing="normal !important"),t.ta=u,t.ib=u.context,l=t.ib,t.Nb=t.computePixelRatio(),t.viewSize.w()||(t.Aa=t.Ka.clientWidth||1,t.ya=t.Ka.clientHeight||1),EE(t,t.Aa,t.ya),t.Ka.insertBefore(u.Oa,t.Ka.firstChild),u=new Kr(null),u.width=1,u.height=1,t.lw=u,t.qy=u.context,bs){u=V("div");var c=V("div");u.style.position="absolute",u.style.overflow="auto",u.style.width=t.Aa+"px",u.style.height=t.ya+"px",u.style.zIndex="1",c.style.position="absolute",c.style.width="1px",c.style.height="1px",t.Ka.appendChild(u),u.appendChild(c),u.onscroll=MG,u.addEventListener("pointerdown",NG),u.H=t,u.wy=!0,u.xy=!0,t.lu=u,t.iu=c}t.gk=L(function(){t.Yh=null,t.N()},300),t.Qv=L(function(){Fb(t)},250),t.preventDefault=function(d){return d.preventDefault(),!1},t.Zj=function(d){if(t.isEnabled){var m=kf(t,d,!0);m.bubbles=!0;var y=0,O=0;m.delta=0,d.deltaX!==void 0?(d.deltaX!==0&&(y=0<d.deltaX?1:-1),d.deltaY!==0&&(O=0<d.deltaY?1:-1),m.delta=Math.abs(d.deltaX)>Math.abs(d.deltaY)?-y:-O):d.wheelDeltaX!==void 0?(d.wheelDeltaX!==0&&(y=0<d.wheelDeltaX?-1:1),d.wheelDeltaY!==0&&(O=0<d.wheelDeltaY?-1:1),m.delta=Math.abs(d.wheelDeltaX)>Math.abs(d.wheelDeltaY)?-y:-O):d.wheelDelta!==void 0&&d.wheelDelta!==0&&(m.delta=0<d.wheelDelta?1:-1),t.doMouseWheel(),Eh(m,d)}},t.fA=function(d){t.isEnabled&&(t.Uk=!1,kf(t,d,!0),d=t.currentTool,d.cancelWaitAfter(),d.standardMouseOver())},t.vi=function(d){if(t.isEnabled){t.Uk=!0;var m=t.Zt;m[d.pointerId]===void 0&&(m[d.pointerId]=d),m=t.pj;var y=!1;if(m[0]===null||m[0].pointerId!==d.pointerId&&m[0].pointerType===d.pointerType)if(m[1]!==null&&m[1].pointerId===d.pointerId)m[1]=d,y=!0;else if(m[0]===null)m[0]=d;else if(m[1]===null)m[1]=d,y=!0;else{d.preventDefault();return}else m[0]=d;(m=d.pointerType==="touch"||d.pointerType==="pen")&&(t.ru=!1,t.wq=!0);var O=y;y=Xb(t,d,!0,!1,!0,O),by(t,d,y),y.targetDiagram=Bb(d,d.target),y.targetObject=null,O||y.clone(t.bq),O=t.ww,m=m?25:10,d.timeStamp-t.vw<t.By&&!(Math.abs(O.x-d.screenX)>m||Math.abs(O.y-d.screenY)>m)?t.yq++:t.yq=1,y.clickCount=t.yq,t.vw=d.timeStamp,t.ww.sg(d.screenX,d.screenY),t.doMouseDown(),d.button===1?d.preventDefault():Eh(y,d)}},t.ck=function(d){if(t.isEnabled){t.Uk=!0;var m=t.pj;if(m[0]===null||m[0].pointerId!==d.pointerId&&m[0].pointerType===d.pointerType){if(m[1]!==null&&m[1].pointerId===d.pointerId){m[1]=d;return}if(m[0]===null)m[0]=d;else return}else m[0]=d;if(m[0].pointerId===d.pointerId){m=Xb(t,d,!1,!1,!1,m[1]!==null);var y=Q.document.elementFromPoint(d.clientX,d.clientY)||null;y!==null&&y.shadowRoot!==void 0&&y.shadowRoot!==null&&(y=y.shadowRoot.elementFromPoint(d.clientX,d.clientY));var O=t,w=d;y&&y.H&&(w=d,O=y.H),m.targetDiagram=O,by(t,w,m),m.targetObject=null,t.doMouseMove(),Eh(m,d)}}},t.ek=function(d){if(t.isEnabled){t.Uk=!0;var m=d.pointerType==="touch"||d.pointerType==="pen",y=t.Zt;if(m&&t.ru)delete y[d.pointerId],d.preventDefault();else if(y=t.pj,y[0]===null||y[0].pointerId!==d.pointerId&&y[0].pointerType===d.pointerType)y[1]!==null&&y[1].pointerId===d.pointerId&&(y[1]=null);else{y[0]=null,y=Xb(t,d,!1,!0,!0,!1);var O=Q.document.elementFromPoint(d.clientX,d.clientY)||null;O!==null&&O.shadowRoot!==void 0&&O.shadowRoot!==null&&(O=O.shadowRoot.elementFromPoint(d.clientX,d.clientY)),O!==null&&O.H instanceof G&&O.H!==t&&by(O.H,d,y),O===null&&(O=d.target),by(t,d,y),y.clickCount=t.yq,y.targetDiagram=Bb(d,O),y.targetObject=null,t.doMouseUp(),Eh(y,d),m&&(t.wq=!1)}}},t.dk=function(d){if(t.isEnabled){t.Uk=!1;var m=t.Zt;m[d.pointerId]&&delete m[d.pointerId],m=t.pj,m[0]!==null&&m[0].pointerId===d.pointerId&&(m[0]=null),m[1]!==null&&m[1].pointerId===d.pointerId&&(m[1]=null),d.pointerType!=="touch"&&d.pointerType!=="pen"&&(d=t.currentTool,d.cancelWaitAfter(),d.standardMouseOver())}},t.bk=function(d){var m=t.pj;m[0]!==null&&m[0].pointerId===d.pointerId?(m[0]=null,t.wq=!1):m[1]!==null&&m[1].pointerId===d.pointerId&&(m[1]=null)},t.Vp=l.Z["d"+JE[1]+JE[2]+"wI"+yp.slice(1,5)]["b"+JG.slice(1,i)](l.Z,GE,i,i),l.Vc(!0),CG(t),t.nl==="svg"&&(i=t.qj.get("svg"),t.Ka.appendChild(i.Oa),t.ib=i.context)}}G.prototype.addEventListener=function(t,i,s,l){t.addEventListener(i,s,{capture:l,passive:!1})},G.prototype.removeEventListener=function(t,i,s,l){t.removeEventListener(i,s,{capture:l})};function CG(t){var i=t.ta.Oa;i instanceof HTMLCanvasElement||(i=t.div),t.addEventListener(i,"pointerdown",t.vi,!1),t.addEventListener(i,"pointermove",t.ck,!1),t.addEventListener(i,"pointerup",t.ek,!1),t.addEventListener(i,"pointerout",t.dk,!1),t.addEventListener(i,"pointercancel",t.bk,!1),t.addEventListener(i,"pointerenter",t.gz,!1),t.addEventListener(i,"pointerleave",t.hz,!1),t.addEventListener(i,"wheel",t.Zj,!1),t.addEventListener(i,"keydown",t.Vz,!1),t.addEventListener(i,"keyup",t.Wz,!1),t.addEventListener(i,"blur",t.Sy,!1),t.addEventListener(i,"focus",t.Ty,!1),t.addEventListener(i,"selectstart",function(s){return s.preventDefault(),!1},!1),t.addEventListener(i,"contextmenu",function(s){return s.preventDefault(),!1},!1),t.addEventListener(Q,"resize",t.Qv,!1)}function Py(t){30<t.Sq&&(t.Yh=1)}function _x(t,i){t.Yh!==null&&(t.Yh=null,i&&t.gk(),Ni&&Ni.px||(t.Sq=0,t.Bw=[0,0,0,0,0],t.Tq=0))}G.prototype.computePixelRatio=function(){return this.Yh!==null?this.Yh:Q.devicePixelRatio||1},G.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},G.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},G.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},G.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},G.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},G.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},G.prototype.doFocus=function(){this.focus()},G.prototype.focus=function(){if(this.ta)if(this.scrollsPageOnFocus)this.ta.focus();else{var t=Q.scrollX||Q.pageXOffset,i=Q.scrollY||Q.pageYOffset;this.ta.focus(),Q.scrollTo(t,i)}},G.prototype.Ty=function(){this.H.S("GainedFocus")},G.prototype.Sy=function(){this.H.S("LostFocus")};function Fb(t){if(t.ta!==null){var i=t.Ka;if(i!==null&&i.clientWidth!==0&&i.clientHeight!==0){t.Iw||t.setScrollWidth();var s=t.gf?t.Eb:0,l=t.Be?t.Eb:0,u=t.Nb;t.Nb=t.computePixelRatio(),t.Nb!==u&&(t.qn=!0,t.Rb()),(i.clientWidth!==t.Aa+s||i.clientHeight!==t.ya+l)&&(t.Ee=!0,t.Fc=!0,i=t.layout,i!==null&&i.isViewportSized&&t.autoScale===mr&&(t.Ik=!0,i.C()),t.ld||t.Rb())}}}function AE(t){var i=new nn;i.name="Background",t.Al(i),i=new nn,i.name="",t.Al(i),i=new nn,i.name="Foreground",t.Al(i),i=new nn,i.name="Adornment",i.isTemporary=!0,i.isInDocumentBounds=!1,t.Al(i),i=new nn,i.name="Tool",i.isTemporary=!0,i.isInDocumentBounds=!0,t.Al(i),i=new nn,i.name="Grid",i.allowSelect=!1,i.pickable=!1,i.isTemporary=!0,i.isInDocumentBounds=!1,t.Yw(i,t.Pj("Background"))}function jE(t){var i=new nt(nt.Grid);i.name="GRID";var s=new It;return s.figure="LineH",s.stroke="lightgray",s.strokeWidth=.5,s.interval=1,i.add(s),s=new It,s.figure="LineH",s.stroke="gray",s.strokeWidth=.5,s.interval=5,i.add(s),s=new It,s.figure="LineH",s.stroke="gray",s.strokeWidth=1,s.interval=10,i.add(s),s=new It,s.figure="LineV",s.stroke="lightgray",s.strokeWidth=.5,s.interval=1,i.add(s),s=new It,s.figure="LineV",s.stroke="gray",s.strokeWidth=.5,s.interval=5,i.add(s),s=new It,s.figure="LineV",s.stroke="gray",s.strokeWidth=1,s.interval=10,i.add(s),s=new kt,s.add(i),s.layerName="Grid",s.zOrder=0,s.isInDocumentBounds=!1,s.isAnimated=!1,s.pickable=!1,s.locationObjectName="GRID",t.add(s),t.partManager.parts.remove(s),i.visible=!1,i}function MG(){this.H.hu?this.H.hu=!1:this.H.isEnabled?this.H.mx(this):Ub(this.H)}function NG(t){this.H.isEnabled?(this.H.mu=t.target.scrollTop,this.H.ku=t.target.scrollLeft):Ub(this.H)}G.prototype.mx=function(t){if(this.ta!==null){var i=this.lu,s=this.iu;this.qr=!0;var l=this.documentBounds,u=this.viewportBounds,c=this.sj,d=l.x-c.left,m=l.y-c.top,y=l.width+c.left+c.right,O=l.height+c.top+c.bottom,w=l.right+c.right;c=l.bottom+c.bottom;var k=u.x;l=u.y;var P=u.width,T=u.height,C=u.right,A=u.bottom;u=this.scale;var I=t.scrollLeft;if(this.un)switch(this.cu){case"negative":I=I+t.scrollWidth-t.clientWidth;break;case"reverse":I=t.scrollWidth-I-t.clientWidth}var E=I;P<y||T<O?(I=F.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.ku!==E&&(I.x=E/u+d,this.ku=E),this.allowVerticalScroll&&this.mu!==t.scrollTop&&(I.y=t.scrollTop/u+m,this.mu=t.scrollTop),this.position=I,F.free(I),this.Ee=this.qr=!1):(I=F.alloc(),t.wy&&this.allowHorizontalScroll&&(d<k&&(this.position=I.h(E+d,this.position.y)),w>C&&(this.position=I.h(-(i.scrollWidth-this.Aa)+E-this.Aa/u+w,this.position.y))),t.xy&&this.allowVerticalScroll&&(m<l&&(this.position=I.h(this.position.x,t.scrollTop+m)),c>A&&(this.position=I.h(this.position.x,-(i.scrollHeight-this.ya)+t.scrollTop-this.ya/u+c))),F.free(I),this.vd=!0,this.Ee=this.qr=!1,l=this.documentBounds,u=this.viewportBounds,w=l.right,C=u.right,c=l.bottom,A=u.bottom,d=l.x,k=u.x,m=l.y,l=u.y,P>=y&&d>=k&&w<=C&&(s.style.width="1px"),T>=O&&m>=l&&c<=A&&(s.style.height="1px"))}},G.prototype.computeBounds=function(t){return t===void 0&&(t=new J),gn(this),RE(this,t)};function RE(t,i){if(t.fixedBounds.w())return i.assign(t.fixedBounds),i.Do(t.zb),i;for(var s=!0,l=t.Wa.s,u=l.length,c=0;c<u;c++){var d=l[c];if(d.visible&&d.isInDocumentBounds){d=d.Pa.s;for(var m=d.length,y=0;y<m;y++){var O=d[y];O.isInDocumentBounds&&O.isVisible()&&(O=O.actualBounds,O.w()&&(s?(s=!1,i.assign(O)):i.ed(O)))}}}return s&&i.h(0,0,0,0),i.Do(t.zb),i}G.prototype.computePartsBounds=function(t,i){i===void 0&&(i=!1);var s=null;if(rt(t))for(var l=0;l<t.length;l++){var u=t[l];!i&&u instanceof st||(u.Va(),s===null?s=u.actualBounds.copy():s.ed(u.actualBounds))}else for(t=t.iterator;t.next();)l=t.value,!i&&l instanceof st||(l.Va(),s===null?s=l.actualBounds.copy():s.ed(l.actualBounds));return s===null?new J(NaN,NaN,0,0):s};function Zs(t,i){if((i||t.hf)&&!t.wb&&t.ta!==null&&t.documentBounds.w()){if(t.wb=!0,i){var s=t.initialPosition;if(s.w()){t.wb=!1,t.position=s;return}s=F.alloc(),s.yi(t.documentBounds,t.initialDocumentSpot);var l=t.viewportBounds;l=J.allocAt(0,0,l.width,l.height);var u=F.alloc();u.yi(l,t.initialViewportSpot),u.h(s.x-u.x,s.y-u.y),t.position=u,J.free(l),F.free(u),F.free(s)}s=t.yh,i&&t.Fg!==mr&&(s=t.Fg);var c=s!==mr?pp(t,s):t.scale;s=t.pa.x,l=t.pa.y,u=t.Aa/c;var d=t.ya/c,m=t.yk,y=t.pq;i&&!m.sb()&&(y.sb()||y.$b())&&(m=y.$b()?oe:y),Vb(t,t.documentBounds,u,d,m,i),i=t.scale,t.scale=c,t.wb=!1,c=t.viewportBounds,Y.B(c.x,s)&&Y.B(c.y,l)&&Y.B(c.width,u)&&Y.B(c.height,d)||t.onViewportBoundsChanged(new J(s,l,u,d),c,i,!1)}}function pp(t,i){var s=t.Pp;if(t.ta===null)return s;t.Va();var l=t.documentBounds;if(!l.w())return s;var u=l.width;l=l.height;var c=t.Aa+(t.gf?t.Eb:0),d=t.ya+(t.Be?t.Eb:0),m=c/u,y=d/l;return i===Pf?(i=Math.min(y,m),i>s&&(i=s),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),i):i===Ny?(i=y>m?(d-t.Eb)/l:(c-t.Eb)/u,i>s&&(i=s),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),i):t.scale}G.prototype.zoomToFit=function(){var t=this.tj;this.tj=Nu,this.scale=pp(this,Pf),t!==Nu&&(Zs(this,!1),Vb(this,this.documentBounds,this.Aa/this.Ca,this.ya/this.Ca,this.yk,!1)),this.tj=t},n=G.prototype,n.FA=function(t,i){i===void 0&&(i=Pf);var s=t.width,l=t.height;if(!(s===0||l===0||isNaN(s)&&isNaN(l))){var u=1;if(i===Pf||i===Ny)if(isNaN(s))u=this.viewportBounds.height*this.scale/l;else if(isNaN(l))u=this.viewportBounds.width*this.scale/s;else{u=this.Aa;var c=this.ya;u=i===Ny?c/l>u/s?(c-(this.Be?this.Eb:0))/l:(u-(this.gf?this.Eb:0))/s:Math.min(c/l,u/s)}this.scale=u,this.position=new F(t.x,t.y)}},n.Ly=function(t,i){this.Va();var s=this.documentBounds,l=this.viewportBounds;this.position=new F(s.x+(t.x*s.width+t.offsetX)-(i.x*l.width-i.offsetX),s.y+(t.y*s.height+t.offsetY)-(i.y*l.height-i.offsetY))},n.Ez=function(t){if(t instanceof vt){this.eq=t;var i=F.alloc();this.fq=this.op(t.ga(tn,i)),F.free(i)}else this.eq=null,this.fq=cf};function Vb(t,i,s,l,u,c){var d=F.allocAt(t.pa.x,t.pa.y),m=d.x,y=d.y;if(t.eq!==null){var O=F.alloc();O=t.eq.ga(tn,O),m=O.x-t.fq.x/t.scale,y=O.y-t.fq.y/t.scale,u=Zi,F.free(O)}(c||t.scrollMode===Nu)&&(u.sb()&&(s>i.width&&(m=i.x+(u.x*i.width+u.offsetX)-(u.x*s-u.offsetX)),l>i.height&&(y=i.y+(u.y*i.height+u.offsetY)-(u.y*l-u.offsetY))),u=t.sj,c=s-i.width,s<i.width+u.left+u.right?(m=Math.min(m+s/2,i.right+Math.max(c,u.right)-s/2),m=Math.max(m,i.left-Math.max(c,u.left)+s/2),m-=s/2):m>i.left?m=i.left:m<i.right-s&&(m=i.right-s),s=l-i.height,l<i.height+u.top+u.bottom?(y=Math.min(y+l/2,i.bottom+Math.max(s,u.bottom)-l/2),y=Math.max(y,i.top-Math.max(s,u.top)+l/2),y-=l/2):y>i.top?y=i.top:y<i.bottom-l&&(y=i.bottom-l)),d.x=isFinite(m)?m:-t.zb.left,d.y=isFinite(y)?y:-t.zb.top,t.positionComputation!==null&&(i=t.positionComputation(t,d),d.x=i.x,d.y=i.y),vE(t.Yd,t.pa,d),t.pa.h(d.x,d.y),Ma(t),F.free(d)}n.Ol=function(t,i){if(i===void 0&&(i=!0),i){if(t=zb(this,t,function(s){return s.part},function(s){return s.canSelect()}),t instanceof kt)return t}else if(t=zb(this,t,function(s){return s.part}),t instanceof kt)return t;return null},n.kc=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null),gn(this);for(var l=this.Wa.iteratorBackwards;l.next();){var u=l.value;if(u.visible&&(u=u.kc(t,i,s),u!==null))return u}return null};function zb(t,i,s,l){for(s===void 0&&(s=null),l===void 0&&(l=null),gn(t),t=t.Wa.iteratorBackwards;t.next();){var u=t.value;if(u.visible&&!u.isTemporary&&(u=u.kc(i,s,l),u!==null))return u}return null}n.qz=function(t,i,s){return i===void 0&&(i=!0),QG(this,t,function(l){return l.part},i?function(l){return l instanceof kt&&l.canSelect()}:null,s)};function QG(t,i,s,l,u){for(s===void 0&&(s=null),l===void 0&&(l=null),u instanceof ct||u instanceof ut||(u=new ut),gn(t),t=t.Wa.iteratorBackwards;t.next();){var c=t.value;c.visible&&!c.isTemporary&&c.ki(i,s,l,u)}return u}n.ki=function(t,i,s,l){i===void 0&&(i=null),s===void 0&&(s=null),l instanceof ct||l instanceof ut||(l=new ut),gn(this);for(var u=this.Wa.iteratorBackwards;u.next();){var c=u.value;c.visible&&c.ki(t,i,s,l)}return l},n.wx=function(t,i,s,l){return i===void 0&&(i=!1),s===void 0&&(s=!0),AG(this,t,function(u){return u instanceof kt&&(!s||u.canSelect())},i,l)},n.Cf=function(t,i,s,l,u){i===void 0&&(i=null),s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof ut||(u=new ut),gn(this);for(var c=this.Wa.iteratorBackwards;c.next();){var d=c.value;d.visible&&d.Cf(t,i,s,l,u)}return u},n.Pu=function(t,i,s,l,u,c){var d=new ut;gn(this);for(var m=this.Wa.iteratorBackwards;m.next();){var y=m.value;y.visible&&y.Pu(t,i,s,l,d,u,c)}return d};function AG(t,i,s,l,u){var c=null;for(s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof ut||(u=new ut),gn(t),t=t.Wa.iteratorBackwards;t.next();){var d=t.value;d.visible&&!d.isTemporary&&d.Cf(i,c,s,l,u)}return u}n.rz=function(t,i,s,l,u){return s===void 0&&(s=!0),l===void 0&&(l=!0),jG(this,t,i,function(c){return c instanceof kt&&(!l||c.canSelect())},s,u)},n.og=function(t,i,s,l,u,c){s===void 0&&(s=null),l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof ut)&&(c=u),u=!0),c instanceof ct||c instanceof ut||(c=new ut),gn(this);for(var d=this.Wa.iteratorBackwards;d.next();){var m=d.value;m.visible&&m.og(t,i,s,l,u,c)}return c};function jG(t,i,s,l,u,c){var d=null;for(l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof ut)&&(c=u),u=!0),c instanceof ct||c instanceof ut||(c=new ut),gn(t),t=t.Wa.iteratorBackwards;t.next();){var m=t.value;m.visible&&!m.isTemporary&&m.og(i,s,d,l,u,c)}return c}G.prototype.acceptEvent=function(t){return kf(this,t,t instanceof MouseEvent)};function kf(t,i,s){var l=t.Qg;return t.Qg=t.dj,t.dj=l,l.diagram=t,l.event=i,s?by(t,i,l):(l.viewPoint=t.Qg.viewPoint,l.documentPoint=t.Qg.documentPoint),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),l.modifiers=t,l.button=i.button,i.buttons!==void 0&&(l.buttons=i.buttons),Dt&&i.button===0&&i.ctrlKey&&(l.button=2),l.down=!1,l.up=!1,l.clickCount=1,l.delta=0,l.handled=!1,l.bubbles=!1,l.timestamp=i.timeStamp,l.isMultiTouch=!1,l.targetDiagram=Bb(i,i.target),l.targetObject=null,l}function Bb(t,i){return i===null?null:(i=i.H)?i:((i=t.path)||typeof t.composedPath!="function"||(i=t.composedPath()),i&&i[0]&&i[0].H?i[0].H:null)}function Xb(t,i,s,l,u,c){var d=t.Qg;t.Qg=t.dj,t.dj=d,d.diagram=t,d.clickCount=1;var m=d.delta=0;return i.ctrlKey&&(m+=1),i.altKey&&(m+=2),i.shiftKey&&(m+=4),i.metaKey&&(m+=8),d.modifiers=m,d.event=i,d.timestamp=i.timeStamp,d.button=l?t.firstInput.button:i.button,d.buttons=i.buttons,Dt&&i.button===0&&i.ctrlKey&&(d.button=2),d.down=s,d.up=l,d.handled=!1,d.bubbles=u,d.isMultiTouch=c,d}function Eh(t,i){return t.bubbles?!0:(i.stopPropagation!==void 0&&i.stopPropagation(),i.cancelable!==!1&&i.preventDefault(),i.cancelBubble=!0,!1)}G.prototype.Vz=function(t){var i=this.H;if(!this.H.isEnabled)return!1;var s=kf(i,t,!1);switch(s.key=String.fromCharCode(t.which),s.down=!0,t.which){case 8:s.key="Backspace";break;case 33:s.key="PageUp";break;case 34:s.key="PageDown";break;case 35:s.key="End";break;case 36:s.key="Home";break;case 37:s.key="Left";break;case 38:s.key="Up";break;case 39:s.key="Right";break;case 40:s.key="Down";break;case 45:s.key="Insert";break;case 46:s.key="Del";break;case 48:s.key="0";break;case 187:case 61:case 107:s.key="Add";break;case 189:case 173:case 109:s.key="Subtract";break;case 27:s.key="Esc"}return i.doKeyDown(),Eh(s,t)},G.prototype.Wz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=kf(i,t,!1);switch(s.key=String.fromCharCode(t.which),s.up=!0,t.which){case 8:s.key="Backspace";break;case 33:s.key="PageUp";break;case 34:s.key="PageDown";break;case 35:s.key="End";break;case 36:s.key="Home";break;case 37:s.key="Left";break;case 38:s.key="Up";break;case 39:s.key="Right";break;case 40:s.key="Down";break;case 45:s.key="Insert";break;case 46:s.key="Del"}return i.doKeyUp(),Eh(s,t)},G.prototype.gz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=kf(i,t,!0);return i.mouseEnter!==null&&i.mouseEnter(s),i.currentTool.standardMouseOver(),Eh(s,t)},G.prototype.hz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=kf(i,t,!0);return i.mouseLeave!==null&&i.mouseLeave(s),Eh(s,t)},G.prototype.getMouse=function(t){var i=this.ta;if(i===null)return new F(0,0);var s=i.getBoundingClientRect();return i=this.Aa/s.width*(t.clientX-s.left),t=this.ya/s.height*(t.clientY-s.top),this.Bb!==null?$i(new F(i,t),this.Bb):new F(i,t)};function by(t,i,s){var l=t.ta,u=0,c=0;l!==null&&(l=l.getBoundingClientRect(),u=t.Aa/l.width*(i.clientX-l.left),c=t.ya/l.height*(i.clientY-l.top)),s.viewPoint.h(u,c),t.Bb!==null?(i=F.allocAt(u,c),t.Bb.Cd(i),s.documentPoint.assign(i),F.free(i)):s.documentPoint.h(u,c)}function LE(t,i,s){if(t.pj[0]!==null){i=t.pj[i];var l=t.ta;l!==null&&(l=l.getBoundingClientRect(),s.h(t.Aa/l.width*(i.clientX-l.left),t.ya/l.height*(i.clientY-l.top)))}}G.prototype.Ya=function(){this.$i||(this.$i=!0,this.Rb(!1))};function RG(t){t.ld||gn(t),t.Va()}G.prototype.redraw=function(){this.wb||this.ld||(this.N(),this.bd())},n=G.prototype,n.Uz=function(){return this.kg},n.bz=function(t){t===void 0&&(t=null);var i=this.animationManager,s=i.isEnabled;i.Cc(),i.isEnabled=!1,ba(this),this.hf=!1,this.eu=new F(NaN,NaN),i.isEnabled=s,this.ld=!0;var l=this;t!==null&&$(function(){l.ld=!1,Pa(i,"Model"),t(l)},1)},n.Rb=function(t){if(t===void 0&&(t=!1),this.kg!==!0&&!(this.wb||t===!1&&this.ld)){this.kg=!0;var i=this;Q.requestAnimationFrame(function(){i.kg&&i.bd()})}},n.bd=function(){(!this.gn||this.kg)&&(this.gn&&(this.gn=!1),ba(this))};function Ux(t,i,s){!t.Ee||t.wb||t.animationManager.defaultAnimation.isAnimating||Ub(t)||(i&&gn(t),s&&Zs(t,!1))}function ba(t,i){if(!t.ld&&(t.kg=!1,t.Ka!==null||t.xo.w())){t.ld=!0;var s=t.animationManager,l=t.Yn;if(!s.isAnimating&&l.length!==0){for(var u=l.s,c=u.length,d=0;d<c;d++){var m=u[d];Ar(m,!1),m.v()}l.clear()}l=t.qw,0<l.count&&(l.each(function(y){y.Pv()}),l.clear()),u=l=!1,s.defaultAnimation.isAnimating&&(u=!0,l=t.skipsUndoManager,t.skipsUndoManager=!0),s.Ab||Fb(t),Ux(t,!1,!0),t.fe!==null&&(t.fe.visible&&!t.mq&&(Ca(t),t.mq=!0),!t.fe.visible&&t.mq&&(t.mq=!1)),gn(t),c=!1,(!t.hf||t.xh)&&(t.hf?tT(t,!t.Ik):(t.Ea("Initial Layout"),s.isEnabled===!1&&s.Cc(),tT(t,!1)),c=!0),t.Ik=!1,gn(t),t.pu||RG(t),Ux(t,!0,!1),d=!1,c?(s=J.alloc(),s.assign(t.viewportBounds),t.hf||(d=t.hf=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,LG(t)),t.S("LayoutCompleted"),Ux(t,!0,!1),J.free(s)):s.Nk&&s.Sw&&(t.Fg!==mr?t.scale=pp(t,t.Fg):t.yh!==mr?t.scale=pp(t,t.yh):(s=t.initialScale,isFinite(s)&&0<s&&(t.scale=s)),Zs(t,!0)),c&&d&&t.eb("Initial Layout"),gn(t),i||t.ic(t.ib),u&&(t.skipsUndoManager=l),t.ld=!1}}function LG(t){if(t.Fg!==mr)t.scale=pp(t,t.Fg);else if(t.yh!==mr)t.scale=pp(t,t.yh);else{var i=t.initialScale;isFinite(i)&&0<i&&(t.scale=i)}Zs(t,!0),i=t.Wa.s,t.Fd(i,i.length,t,t.viewportBounds),t.S("InitialLayoutCompleted"),t.eu.assign(t.pa),Ca(t)}function gn(t){if(t.De.count!==0&&(t.ld||!t.animationManager.isTicking)){for(var i=0;23>i;i++){var s=t.De.iterator;if(s===null||t.De.count===0)break;t.De=new ut,t.Pv(s,t.De)}t.nodes.each(function(l){l instanceof Et&&l.R&65536&&(l.R=l.R^65536)})}}n.Pv=function(t,i){for(t.reset();t.next();){var s=t.value;!s.Zc()||s instanceof Et||(s.ti()?(s.measure(1/0,1/0),s.arrange()):i.add(s))}for(t.reset();t.next();)s=t.value,s instanceof Et&&s.isVisible()&&_b(this,s);for(t.reset();t.next();)s=t.value,s instanceof st&&s.isVisible()&&(s.ti()?(s.measure(1/0,1/0),s.arrange()):i.add(s));for(t.reset();t.next();)s=t.value,s instanceof Wt&&s.isVisible()&&(s.ti()?(s.measure(1/0,1/0),s.arrange()):i.add(s))};function _b(t,i){for(var s=St(),l=St(),u=i.memberParts;u.next();){var c=u.value;c.isVisible()&&(c instanceof Et?(Na(c)||Ts(c)||Ru(c))&&_b(t,c):c instanceof st?c.fromNode===i||c.toNode===i?l.push(c):s.push(c):(c.measure(1/0,1/0),c.arrange()))}for(t=s.length,u=0;u<t;u++)c=s[u],c.measure(1/0,1/0),c.arrange();for(mt(s),i.measure(1/0,1/0),i.arrange(),t=l.length,i=0;i<t;i++)s=l[i],s.measure(1/0,1/0),s.arrange();mt(l)}n.Fd=function(t,i,s,l){if(this.vd||this.animationManager.isAnimating)for(var u=0;u<i;u++)t[u].Fd(s,l)},n.ic=function(t){if(this.Ka!==null){if(this.ta===null&&D("No canvas specified"),this.nl==="svg"){if(this.Ka!==null){var i=this.animationManager;if(!i.Ab&&(!i.isAnimating||i.isTicking)){mp(this);var s=this.Aa,l=this.ya;if(t.Iv.resize(s,l,s,l),s=this.Wa.s,l=s.length,this.Fd(s,l,this,this.viewportBounds),this.Fc||i.isAnimating){i=this.pa;var u=this.Ca,c=Math.round(i.x*u)/u,d=Math.round(i.y*u)/u,m=this.Bb;for(m.reset(),u!==1&&m.scale(u),i.x===0&&i.y===0||m.translate(-c,-d),t.ui=null,u$(t,m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),this.pb!==1&&(t.globalAlpha=this.pb),Yx(this,t),i=this.Nb,this.ta.context.setTransform(i,0,0,i,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya),i=0;i<l;i++)s[i].ic(t,this);t=!1,this.Yf?Op(this.Yf,this)&&(t=this.Vp()):t=!0,t&&(Bt.prototype.Cd=Bt.prototype.Gu),this.Fc=this.vd=!1}}}}else t:if(c=this.animationManager,!c.Ab&&(!c.isAnimating||c.isTicking)&&(s=new Date,mp(this),this.Ka.style.opacity!=="0")){if(l=t!==this.ib,i=this.Wa.s,u=i.length,this.Fd(i,u,this,this.viewportBounds),l)t.Vc(!0),this.vd=!0;else if(!this.Fc&&!c.isAnimating)break t;c=this.Bb,c.reset(),d=this.Nb,m=this.pa;var y=this.Ca,O=Math.round(m.x*y)/y,w=Math.round(m.y*y)/y;for(y!==1&&c.scale(y),m.x===0&&m.y===0||c.translate(-O,-w),t.setTransform(d,0,0,d,0,0),t.clearRect(0,0,this.Aa,this.ya),this.pb!==1&&(t.globalAlpha=this.pb),Yx(this,t),m=0;m<u;m++)t.setTransform(d,0,0,d,0,0),t.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),t.yc(),i[m].ic(t,this);if(i=!1,this.Yf?Op(this.Yf,this)&&(i=this.Vp()):i=!0,i&&(Bt.prototype.Cd=Bt.prototype.Gu),l?(this.ib.Vc(!0),this.vd=!0):this.Fc=this.vd=!1,i=+new Date-+s,l=Ni&&Ni.px,s=this.Bw,l||this.Yh===null){for(s[this.Tq]=i,this.Tq=(this.Tq+1)%s.length,u=i=0;u<s.length;u++)i+=s[u];this.Sq=i/s.length}if(this.pb!==1&&(t.globalAlpha=1),l)for(t.setTransform(1,0,0,1,0,0),l=0;l<s.length;l++)t.fillText(s[l].toString(),20,150+ +(20*l))}}};function Zx(t,i,s,l,u,c,d,m,y,O){if(t.Ka!==null){t.ta===null&&D("No canvas specified"),d===void 0&&(d=null),m===void 0&&(m=null),y===void 0&&(y=!1),O===void 0&&(O=!1),mp(t),t.ib.Vc(!0),t.vd=!0,t.aj=!0;var w=t.Ca;t.Ca=u;var k=t.Wa.s,P=k.length;try{var T=new J(c.x,c.y,l.width/u,l.height/u),C=T.copy();C.Do(s),Ca(t,C),gn(t),t.Fd(k,P,t,T),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,l.width,l.height),m!==null&&m!==""&&(i.fillStyle=m,i.qx(0,0,l.width,l.height));var A=t.Nb;i.scale(A,A);var I=Bt.alloc();I.reset(),I.translate(s.left,s.top),I.scale(u),c.x===0&&c.y===0||I.translate(-c.x,-c.y),i.setTransform(I.m11,I.m12,I.m21,I.m22,I.dx,I.dy),i.yc(),i instanceof Kn&&u$(i,I.m11,I.m12,I.m21,I.m22,I.dx,I.dy),Bt.free(I),Yx(t,i),i.globalAlpha=t.pb;var E=t.Pj("Grid");if(d){var z=new ut,B=d.iterator;for(B.reset();B.next();){var _=B.value;_ instanceof kt&&(O||_.layer!==E)&&(_.Gj(),z.add(_))}for(O=0;O<P;O++)bG(k[O],i,t,z,y);z.each(function(H){return H.Gj()})}else for(z=0;z<P;z++){var Z=k[z];Z===E?O&&Z.ic(i,t,!0):Z.ic(i,t,y)}t.aj=!1,t.Yf&&Op(t.Yf,t)&&t.Vp()}finally{t.Ca=w,t.ib.Vc(!0),t.vd=!0,t.Fd(k,P,t,t.viewportBounds),Ca(t),t.ib instanceof Kn&&(t.ib.hi.replaceChildren(),t.redraw())}}}n.Gf=function(t){return this.Rg[t]},n.Zx=function(t,i){t==="minDrawingLength"&&(this.Oq=i),this.Rg[t]=i,this.redraw()},n.Vx=function(){this.Rg=new le,this.Rg.drawShadows=!0,this.Rg.textGreeking=!0,this.Rg.viewportOptimizations=!(Dt||yt),this.Rg.temporaryPixelRatio=!0,this.Rg.pictureRatioOptimization=!0,this.Oq=this.Rg.minDrawingLength=1};function Yx(t,i){t=t.Rg,t!==null&&(t.imageSmoothingEnabled!==void 0&&i.Yx(!!t.imageSmoothingEnabled),t=t.defaultFont,t!=null&&(i.font=t))}n.Ql=function(t){return this.pn[t]},n.wA=function(t,i){this.pn[t]=i},n.Ux=function(){this.pn=new le,this.pn.extraTouchArea=10,this.pn.extraTouchThreshold=10,this.pn.hasGestureZoom=!0},n.set=function(t){return Object.assign(this,t),this},n.Fu=function(t){return this.om(t)},n.om=function(t){return Ty(this,t),this};function Ty(t,i){var s=t instanceof nt,l=t instanceof G,u;for(u in i){u===""&&D("Setting properties requires non-empty property names");var c=t,d=u;if(s||l){var m=u.indexOf(".");if(0<m){var y=u.substring(0,m);s?c=t.fb(y):(c=t[y],c==null&&(c=t.toolManager[y])),tt(c)?d=u.substr(m+1):D("Unable to find object named: "+y+" in "+t.toString()+" when trying to set property: "+u)}}if(d[0]!=="_"&&!Rt(c,d))if(l&&d==="ModelChanged"){t.$w(i[d]);continue}else if(l&&d==="Changed"){t.Pe(i[d]);continue}else if(l&&Rt(t.toolManager,d))c=t.toolManager;else if(l&&BE(t,d)){t.Cj(d,i[d]);continue}else if(t instanceof xt&&d==="Changed"){t.Pe(i[d]);continue}else D('Trying to set undefined property "'+d+'" on object: '+c.toString());c[d]=i[u],d[0]==="_"&&c instanceof vt&&c.Xw(d)}}n.gx=function(){if(this.Eh.count!==0&&!(1<this.undoManager.transactionLevel)){for(;0<this.Eh.count;){var t=this.Eh;for(this.Eh=new jt,t=t.iterator;t.next();){var i=t.key;i.Yo(t.value),i.rc()}}this.N()}},n.N=function(t){if(t===void 0)this.Fc=!0,this.Rb();else{var i=this.viewportBounds;t.w()&&i.Yc(t)&&(this.Fc=!0,this.Rb())}this.S("InvalidateDraw")},G.prototype.invalidateViewport=function(t,i){if(this.Fc!==!0)if(this.Fc=!0,this.nl==="svg")this.bd();else{var s=this.Gf("temporaryPixelRatio")===!0;if(this.Gf("viewportOptimizations")===!0&&this.scrollMode!==Kx&&this.sj.ii(0,0,0,0)&&i.width===t.width&&i.height===t.height){var l=this.scale,u=Math.max(t.y,i.y),c=Math.min(t.y+t.height,i.y+i.height);if(0<Math.max(0,Math.min(t.x+t.width,i.x+i.width)-Math.max(t.x,i.x))*l&&0<Math.max(0,c-u)*l){if(!(this.ld||(this.kg=!1,this.Ka===null||(this.ld=!0,this.documentBounds.w()||(l=J.alloc(),Jb(this,this.computeBounds(l)),J.free(l)),l=this.ta,l===null||l instanceof go)))){var d=this.Nb;u=this.Aa*d;var m=this.ya*d,y=this.scale*d;c=Math.round(Math.round(i.x*y)-Math.round(t.x*y)),i=Math.round(Math.round(i.y*y)-Math.round(t.y*y)),y=this.lw,t=this.qy,y.width!==u&&(y.width=u),y.height!==m&&(y.height=m),t.clearRect(0,0,u,m),y=190*d;var O=70*d,w=Math.max(c,0),k=Math.max(i,0),P=Math.floor(u-w),T=Math.floor(m-k);t.drawImage(l.Oa,w,k,P,T,0,0,P,T),Op(this.Yf,this)&&t.clearRect(0,0,y,O),l=St(),t=St(),T=Math.abs(c),P=Math.abs(i);var C=w===0?0:u-T;w=F.allocAt(C,0),T=F.allocAt(T+C,m),t.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y)));var A=this.Bb;if(A.reset(),A.scale(d,d),this.Ca!==1&&A.scale(this.Ca),d=this.pa,(d.x!==0||d.y!==0)&&isFinite(d.x)&&isFinite(d.y)&&A.translate(-d.x,-d.y),$i(w,A),$i(T,A),l.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),C=k===0?0:m-P,w.h(0,C),T.h(u,P+C),t.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),$i(w,A),$i(T,A),l.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),Op(this.Yf,this)&&(u=0<c?0:-c,m=0<i?0:-i,w.h(u,m),T.h(y+u,O+m),t.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),$i(w,A),$i(T,A),l.push(new J(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y)))),F.free(w),F.free(T),Ux(this,!1,!0),this.Ka===null&&D("No div specified"),this.ta===null&&D("No canvas specified"),!this.animationManager.Ab&&(u=this.ib,this.Fc)){for(mp(this),m=this.Nb,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,this.Aa*m,this.ya*m),u.drawImage(this.lw.Oa,0<c?0:Math.round(-c),0<i?0:Math.round(-i)),c=this.pa,d=this.Ca,y=Math.round(c.x*d)/d,O=Math.round(c.y*d)/d,i=this.Bb,i.reset(),d!==1&&i.scale(d),c.x===0&&c.y===0||i.translate(-y,-O),u.save(),u.beginPath(),c=t.length,d=0;d<c;d++)y=t[d],y.width!==0&&y.height!==0&&u.rect(Math.floor(y.x),Math.floor(y.y),Math.ceil(y.width),Math.ceil(y.height));for(u.clip(),u.setTransform(m,0,0,m,0,0),u.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),u.yc(),i=this.Wa.s,c=i.length,this.Fd(i,c,this,this.viewportBounds),Yx(this,u),u.globalAlpha=this.pb,m=0;m<c;m++)if(d=i[m],y=l,d.visible&&d.pb!==0){O=ky(d,u),k=d.Zq,k.length=0,w=this.scale,P=J.alloc(),T=d.Pa.s,A=T.length,C=y.length;for(var I=0;I<A;I++){var E=T[I],z=Uh(E,E.actualBounds);t:{for(var B=2/w,_=4/w,Z=0;Z<C;Z++){var H=y[Z];if(H.width!==0&&H.height!==0&&z.Xu(H.x-B,H.y-B,H.width+_,H.height+_)){z=!0;break t}}z=!1}z&&d.Nj(u,E,this,k,w,P,!0)}J.free(P),u.globalAlpha=O}u.restore(),u.Vc(!0),this.Yf&&Op(this.Yf,this)&&this.Vp(),this.Fc=this.vd=!1,this.gk()}mt(l),mt(t),this.ld=!1}}else this.bd();s&&(Py(this),this.bd(),_x(this,!0))}else s?(Py(this),this.bd(),_x(this,!0)):this.bd()}};function mp(t){t.qn!==!1&&(t.qn=!1,EE(t,t.Aa,t.ya))}function EE(t,i,s){Ma(t);var l=t.Nb;t.ta.resize(i*l,s*l,i,s)&&(t.Fc=!0,t.ib.Vc(!0))}function Ub(t){var i=t.ta;if(i===null||t.xo.w())return!0;var s=t.Aa,l=t.ya,u=t.Ka,c=!1,d=t.gf?t.Eb:0,m=t.Be?t.Eb:0,y=u.clientWidth||s+d,O=u.clientHeight||l+m,w=t.viewportBounds;u=w.x;var k=w.y,P=w.width,T=w.height;if((y!==s+d||O!==l+m)&&(t.gf=!1,t.Be=!1,m=d=0,t.Aa=y,t.ya=O,c=t.qn=!0,Ma(t)),!t.hf||!t.viewportBounds.w())return!0;var C=t.lu,A=t.iu;if(t.Ee=!1,!(c||t.gf||t.Be||t.nn||t.on))return!0;var I=t.documentBounds,E=0,z=0,B=0,_=0,Z=w.width,H=w.height,at=t.sj;t.contentAlignment.sb()?(I.width>Z&&(E=at.left,z=at.right),I.height>H&&(B=at.top,_=at.bottom)):(E=at.left,z=at.right,B=at.top,_=at.bottom);var pt=I.width+E+z,gt=I.height+B+_;at=t.scale;var ot=pt>y/at,et=gt>O/at;if(!(c||t.gf||t.Be||ot||et))return!0;E=I.x-E,y=w.x,z=I.right+z,O=w.right+d,B=I.y-B;var Lt=w.y;I=I.bottom+_,w=w.bottom+m;var Qt="1px";if(_="1px",t.scrollMode===Nu&&(ot||et)&&(ot&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(ot=1,E+1<y&&(ot=Math.max((y-E)*at+t.Aa,ot)),z>O+1&&(ot=Math.max((z-O)*at+t.Aa,ot)),Z+d+1<pt&&(ot=Math.max((pt-Z)*at+t.Aa,ot)),Qt=ot.toString()+"px"),et&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(ot=1,B+1<Lt&&(ot=Math.max((Lt-B)*at+t.ya,ot)),I>w+1&&(ot=Math.max((I-w)*at+t.ya,ot)),H+m+1<gt&&(ot=Math.max((gt-H)*at+t.ya,ot)),_=ot.toString()+"px")),ot=Qt!=="1px",et=_!=="1px",ot&&et||!ot&&!et||(et&&(O-=t.Eb),ot&&(w-=t.Eb),pt<Z+d||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(d=1,E+1<y&&(d=Math.max((y-E)*at+t.Aa,d)),z>O+1&&(d=Math.max((z-O)*at+t.Aa,d)),Z+1<pt&&(d=Math.max((pt-Z)*at+t.Aa,d)),Qt=d.toString()+"px"),ot=Qt!=="1px",d=t.ya,ot!==t.Be&&(d=ot?t.ya-t.Eb:t.ya+t.Eb),gt<H+m||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(m=1,B+1<Lt&&(m=Math.max((Lt-B)*at+d,m)),I>w+1&&(m=Math.max((I-w)*at+d,m)),H+1<gt&&(m=Math.max((gt-H)*at+d,m)),_=m.toString()+"px"),et=_!=="1px"),t.qr&&ot===t.Be&&et===t.gf)return s===t.Aa&&l===t.ya||t.bd(),!1;if(ot!==t.Be&&(Qt==="1px"?t.ya=t.ya+t.Eb:t.ya=Math.max(t.ya-t.Eb,1),c=!0),t.Be=ot,A.style.width=Qt,et!==t.gf&&(_==="1px"?t.Aa=t.Aa+t.Eb:t.Aa=Math.max(t.Aa-t.Eb,1),c=!0,t.un&&(m=F.alloc(),et?(i.style.left=t.Eb+"px",t.position=m.h(t.pa.x+t.Eb/t.scale,t.pa.y)):(i.style.left="0px",t.position=m.h(t.pa.x-t.Eb/t.scale,t.pa.y)),F.free(m))),c&&Ma(t),t.gf=et,A.style.height=_,t.hu=!0,c&&(t.qn=!0),i=C.scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(Z+1<pt?i=(t.position.x-E)*at:E+1<y?i=C.scrollWidth-C.clientWidth:z>O+1&&(i=t.position.x*at)),t.un)switch(t.cu){case"negative":i=-(C.scrollWidth-i-C.clientWidth);break;case"reverse":i=C.scrollWidth-i-C.clientWidth}return C.scrollLeft=i,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(H+1<gt?C.scrollTop=(t.position.y-B)*at:B+1<Lt?C.scrollTop=C.scrollHeight-C.clientHeight:I>w+1&&(C.scrollTop=t.position.y*at)),y=t.Aa,O=t.ya,C.style.width=y+(t.gf?t.Eb:0)+"px",C.style.height=O+(t.Be?t.Eb:0)+"px",s!==y||l!==O||t.animationManager.Ab?(s=J.allocAt(u,k,P,T),t.onViewportBoundsChanged(s,t.viewportBounds,at,c),J.free(s),!1):!0}n=G.prototype,n.add=function(t){var i=t.diagram;if(i!==this&&(i!==null&&D("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+i.toString()),i=this.Pj(t.layerName),i===null&&(i=this.Pj("")),i===null&&D('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==i)){var s=i.pi(99999999,t,t.diagram===this);0<=s&&this.cb(ei,"parts",i,null,t,null,s),i.isTemporary||this.Ya(),t.C(1),s=t.layerChanged,s!==null&&s(t,null,i)}},n.pi=function(t){this.partManager.pi(t);var i=this;Bh(t,function(s){FE(i,s)}),(t instanceof Wt||t instanceof Et&&t.placeholder!==null)&&t.v(),t.data!==null&&Bh(t,function(s){mC(i.partManager,s)}),Ts(t)!==!0&&Ru(t)!==!0||this.De.add(t),W$(t,!0,this),G$(t)?(t.actualBounds.w()&&this.N(Uh(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(Uh(t,t.actualBounds)),this.Rb()},n.qc=function(t){t.Ej(),this.partManager.qc(t);var i=this;t.data!==null&&Bh(t,function(s){gC(i.partManager,s,i)}),this.De.remove(t),G$(t)?(t.actualBounds.w()&&this.N(Uh(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(Uh(t,t.actualBounds)),this.Rb()},n.remove=function(t){Zb(this,t,!0)};function Zb(t,i,s){var l=i.layer;l!==null&&l.diagram===t&&(i.isSelected=!1,i.isHighlighted=!1,i.C(2),s&&i.Lj(),s=l.qc(-1,i,!1),0<=s&&t.cb(ui,"parts",l,i,null,s,null),t=i.layerChanged,t!==null&&t(i,l,null))}n.Js=function(t,i){if(i===void 0&&(i=!1),rt(t))for(var s=t.length,l=0;l<s;l++){var u=t[l];i&&!u.canDelete()||this.remove(u)}else for(s=new ut,s.addAll(t),t=s.iterator;t.next();)s=t.value,i&&!s.canDelete()||this.remove(s)},n.Kj=function(t,i,s){return s===void 0&&(s=!1),this.partManager.Kj(t,i,s)},G.prototype.moveParts=function(t,i,s,l){if(s===void 0&&(s=!1),l===void 0&&(l=Wb(this)),this.toolManager!==null){var u=new jt;if(t!==null)if(rt(t))for(var c=0;c<t.length;c++)Ta(this,u,t[c],s,l);else for(t=t.iterator;t.next();)Ta(this,u,t.value,s,l);else{for(t=this.parts;t.next();)Ta(this,u,t.value,s,l);for(t=this.nodes;t.next();)Ta(this,u,t.value,s,l);for(t=this.links;t.next();)Ta(this,u,t.value,s,l)}Yb(this,u,i,l,s)}};function Ta(t,i,s,l,u,c){if(!i.contains(s)&&(c===void 0&&(c=!1),!l||c||s.canMove()||s.canCopy()))if(u===void 0&&(u=Wb(t)),s instanceof ft){if(i.add(s,t.Pd(u,s,s.location)),s instanceof Et&&(s.placeholder!==null||u.dragsMembers))for(c=s.memberParts;c.next();)Ta(t,i,c.value,l,u,u.groupsAlwaysMove);for(c=s.linksConnected;c.next();){var d=c.value;if(!i.contains(d)){var m=d.fromNode,y=d.toNode;m!==null&&i.contains(m)&&y!==null&&i.contains(y)&&Ta(t,i,d,l,u)}}if(u.dragsTree)for(s=s.Qu();s.next();)Ta(t,i,s.value,l,u)}else if(s instanceof st)for(i.add(s,t.Pd(u,s)),s=s.labelNodes;s.next();)Ta(t,i,s.value,l,u);else s instanceof Wt||i.add(s,t.Pd(u,s,s.location))}function Yb(t,i,s,l,u){if(i!==null&&i.count!==0){var c=F.alloc(),d=F.alloc();d.assign(s),isNaN(d.x)&&(d.x=0),isNaN(d.y)&&(d.y=0),(s=t.Mr)||Wx(t,i);for(var m=St(),y=St(),O=i.iterator,w=F.alloc();O.next();){var k=O.key,P=O.value;if(k.Zc()){var T=$E(t,k,i);T!==null?m.push(new t$(k,P,T)):(!u||k.canMove())&&(T=P.point,c.assign(T),t.computeMove(k,c.add(d),l,w),k.location=w,P.shifted===void 0&&(P.shifted=new F),P.shifted.assign(w.re(T)))}else O.key instanceof st&&y.push(O.sa)}for(F.free(w),u=m.length,O=0;O<u;O++)k=m[O],c.assign(k.info.point),k.Uu.shifted===void 0&&(k.Uu.shifted=new F),k.node.location=c.add(k.Uu.shifted);for(u=F.alloc(),O=F.alloc(),k=y.length,P=0;P<k;P++){var C=y[P];if(T=C.key,T instanceof st)if(T.suspendsRouting){T.Tg=null,w=T.fromNode;var A=T.toNode;if(t.draggedLink!==null&&l.dragsLink)if(A=C.value.point,T.dragComputation===null)i.add(T,t.Pd(l,T,d)),Ea(T,d.x-A.x,d.y-A.y);else{C=F.allocAt(0,0),(w=T.i(0))&&w.w()&&C.assign(w);var I=w=F.alloc().assign(C).add(d);l.isGridSnapEnabled&&(l.isGridSnapRealtime||t.lastInput.up)&&(I=F.alloc(),qb(t,T,w,I,l)),w.assign(T.dragComputation(T,w,I)).re(C),i.add(T,t.Pd(l,T,w)),Ea(T,w.x-A.x,w.y-A.y),F.free(C),F.free(w),I!==w&&F.free(I)}else w!==null&&(u.assign(w.location),I=i.I(w),I!==null&&u.re(I.point)),A!==null&&(O.assign(A.location),I=i.I(A),I!==null&&O.re(I.point)),w!==null&&A!==null?u.Xa(O)?(w=C.value.point,A=c,A.assign(u),A.re(w),i.add(T,t.Pd(l,T,u)),Ea(T,A.x,A.y)):(T.suspendsRouting=!1,T.bb()):(C=C.value.point,w=w!==null?u:A!==null?O:d,i.add(T,t.Pd(l,T,w)),Ea(T,w.x-C.x,w.y-C.y))}else(T.fromNode===null||T.toNode===null)&&(w=C.value.point,i.add(T,t.Pd(l,T,d)),Ea(T,d.x-w.x,d.y-w.y))}F.free(c),F.free(d),F.free(u),F.free(O),mt(m),mt(y),s||(gn(t),Cy(t,i))}}G.prototype.computeMove=function(t,i,s,l){if(l===void 0&&(l=new F),l.assign(i),t===null)return l;var u=i,c=s.isGridSnapEnabled;c&&(s.isGridSnapRealtime||this.lastInput.up)&&(u=F.alloc(),qb(this,t,i,u,s)),s=t.dragComputation!==null?t.dragComputation(t,i,u):u;var d=t.minLocation,m=d.x;isNaN(m)&&(m=c?Math.round(1e3*t.location.x)/1e3:t.location.x),d=d.y,isNaN(d)&&(d=c?Math.round(1e3*t.location.y)/1e3:t.location.y);var y=t.maxLocation,O=y.x;return isNaN(O)&&(O=c?Math.round(1e3*t.location.x)/1e3:t.location.x),y=y.y,isNaN(y)&&(y=c?Math.round(1e3*t.location.y)/1e3:t.location.y),l.h(Math.max(m,Math.min(s.x,O)),Math.max(d,Math.min(s.y,y))),u!==i&&F.free(u),l};function Wb(t){var i=t.toolManager.findTool("Dragging");return i!==null?i.dragOptions:t.Xm}function qb(t,i,s,l,u){if(u===void 0&&(u=Wb(t)),l.assign(s),i!==null){var c=t.grid;i=u.gridSnapCellSize,t=i.width,i=i.height;var d=u.gridSnapOrigin,m=d.x;if(d=d.y,u=u.gridSnapCellSpot,c!==null){var y=c.gridCellSize;isNaN(t)&&(t=y.width),isNaN(i)&&(i=y.height),c=c.gridOrigin,isNaN(m)&&(m=c.x),isNaN(d)&&(d=c.y)}c=F.allocAt(0,0),c.zi(0,0,t,i,u),Y.Oo(s.x,s.y,m+c.x,d+c.y,t,i,l),F.free(c)}}function Wx(t,i){if(i!==null)for(t.Mr=!0,t=i.iterator;t.next();)i=t.key,i instanceof st&&(i.suspendsRouting=!0)}function Cy(t,i){if(i!==null){for(i=i.iterator;i.next();){var s=i.key;s instanceof st&&(s.suspendsRouting=!1,fD(s)&&s.bb())}t.Mr=!1}}function $E(t,i,s){return i=i.containingGroup,i!==null&&(t=$E(t,i,s),t!==null||(t=s.I(i),t!==null))?t:null}n=G.prototype,n.Pd=function(t,i,s){if(s===void 0)return new Qu(po);var l=t.isGridSnapEnabled;return t.groupsSnapMembers||i.containingGroup===null||(l=!1),l?new Qu(new F(Math.round(1e3*s.x)/1e3,Math.round(1e3*s.y)/1e3)):new Qu(s.copy())};function Gb(t,i,s){if(i.diagram!==null&&i.diagram!==t&&D("Cannot share a Layer with another Diagram: "+i+" of "+i.diagram),s===null?i.diagram!==null&&D("Cannot add an existing Layer to this Diagram again: "+i):(s.diagram!==t&&D("Existing Layer must be in this Diagram: "+s+" not in "+s.diagram),i===s&&D("Cannot move a Layer before or after itself: "+i)),i.diagram!==t){i=i.name,t=t.Wa,s=t.count;for(var l=0;l<s;l++)t.M(l).name===i&&D("Cannot add Layer with the name '"+i+"'; a Layer with the same name is already present in this Diagram.")}}n.Al=function(t){Gb(this,t,null),t.Xe(this);var i=this.Wa,s=i.count-1;if(!t.isTemporary)for(;0<=s&&i.M(s).isTemporary;)s--;return i.Hb(s+1,t),this.ec!==null&&this.cb(ei,"layers",this,null,t,null,s+1),this.N(),this.Ya(),this},n.Yw=function(t,i){Gb(this,t,i),t.Xe(this);var s=this.Wa,l=s.indexOf(t);0<=l&&(s.remove(t),this.ec!==null&&this.cb(ui,"layers",this,t,null,l,null));var u=s.count,c;for(c=0;c<u;c++)if(s.M(c)===i){s.Hb(c,t);break}return this.ec!==null&&this.cb(ei,"layers",this,null,t,null,c),this.N(),0>l&&this.Ya(),this},n.Ey=function(t,i){Gb(this,t,i),t.Xe(this);var s=this.Wa,l=s.indexOf(t);0<=l&&(s.remove(t),this.ec!==null&&this.cb(ui,"layers",this,t,null,l,null));var u=s.count,c;for(c=0;c<u;c++)if(s.M(c)===i){s.Hb(c+1,t);break}return this.ec!==null&&this.cb(ei,"layers",this,null,t,null,c+1),this.N(),0>l&&this.Ya(),this},n.oA=function(t){if(t.diagram!==this&&D("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),t.name!==""){var i=this.Wa,s=i.indexOf(t);if(i.remove(t)){for(i=t.Pa.copy().iterator;i.next();){var l=i.value,u=l.layerName;u!==t.name?l.layerName=u:l.layerName=""}this.ec!==null&&this.cb(ui,"layers",this,t,null,s,null),this.N(),this.Ya()}}},n.Pj=function(t){for(var i=this.layers;i.next();){var s=i.value;if(s.name===t)return s}return null},n.$w=function(t){return this.pf===null&&(this.pf=new ct),this.pf.add(t),this.model.Pe(t),this},n.qA=function(t){this.pf!==null&&(this.pf.remove(t),this.pf.count===0&&(this.pf=null)),this.model.hk(t)},n.Pe=function(t){return this.zg===null&&(this.zg=new ct),this.zg.add(t),this},n.hk=function(t){this.zg!==null&&(this.zg.remove(t),this.zg.count===0&&(this.zg=null))},n.ds=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Vu(t),t.change!==Ps&&(this.isModified=!0),this.zg!==null)for(var i=this.zg,s=i.length,l=0;l<s;l++)i.M(l)(t)},n.cb=function(t,i,s,l,u,c,d){c===void 0&&(c=null),d===void 0&&(d=null);var m=new Te;m.diagram=this,m.change=t,m.propertyName=i,m.object=s,m.oldValue=l,m.oldParam=c,m.newValue=u,m.newParam=d,this.ds(m)},n.g=function(t,i,s,l,u){this.cb(Se,t,this,i,s,l,u)},G.prototype.changeState=function(t,i){if(t!==null&&t.diagram===this){var s=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var l=t.change;if(l===Se){var u=t.object;if(me(u,t.propertyName,t.I(i)),u instanceof vt){var c=u.part;c!==null&&c.Zb()}this.isModified=!0}else if(l===ei){var d=t.object,m=t.newParam,y=t.newValue;if(d instanceof nt)if(typeof m=="number"&&y instanceof vt){i?d.qc(m):d.Hb(m,y);var O=d.part;O!==null&&O.Zb()}else typeof m=="number"&&y instanceof qe&&(y.isRow?P$(d,m,i?void 0:y):b$(d,m,i?void 0:y));else if(d instanceof nn){var w=t.oldParam===!0;typeof m=="number"&&y instanceof kt&&(i?(y.isSelected=!1,y.isHighlighted=!1,y.Zb(),d.qc(w?m:-1,y,w)):d.pi(m,y,w))}else d instanceof G?typeof m=="number"&&y instanceof nn&&(i?this.Wa.mb(m):(y.Xe(this),this.Wa.Hb(m,y))):D("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(l===ui){var k=t.object,P=t.oldParam,T=t.oldValue;if(k instanceof nt)typeof P=="number"&&T instanceof vt?i?k.Hb(P,T):k.qc(P):typeof P=="number"&&T instanceof qe&&(T.isRow?P$(k,P,i?T:void 0):b$(k,P,i?T:void 0));else if(k instanceof nn){var C=t.newParam===!0;typeof P=="number"&&T instanceof kt&&(i?0>k.Pa.indexOf(T)&&k.pi(P,T,C):(T.isSelected=!1,T.isHighlighted=!1,T.Zb(),k.qc(C?P:-1,T,C)))}else k instanceof G?typeof P=="number"&&T instanceof nn&&(i?(T.Xe(this),this.Wa.Hb(P,T)):this.Wa.mb(P)):D("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else l!==Ps&&D("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=s}}},G.prototype.Ea=function(t){return this.undoManager.Ea(t)},G.prototype.eb=function(t){return this.undoManager.eb(t)},G.prototype.Kf=function(){return this.undoManager.Kf()},G.prototype.commit=function(t,i){i===void 0&&(i="");var s=this.skipsUndoManager;i===null&&(this.skipsUndoManager=!0,i=""),this.undoManager.Ea(i);var l=!1;try{t(this),l=!0}finally{l?this.undoManager.eb(i):this.undoManager.Kf(),this.skipsUndoManager=s}},G.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},G.prototype.rp=function(){this.partManager.rp()};function DE(t,i,s){var l=t.animationManager;if(t.wb||t.ld)t.Ca=s,Ma(t),t.N(),t.Ee=!0,l.Ab&&(Dx(l)||l.ce.add(l.H,"scale",i,t.Ca));else if(t.ta===null)t.Ca=s,Ma(t);else{t.wb=!0;var u=t.viewportBounds.copy(),c=t.Aa,d=t.ya,m=t.zoomPoint.x,y=t.zoomPoint.y,O=t.contentAlignment;isNaN(m)&&(O.$c()?O.Hf(tp)?m=0:O.Hf(ep)&&(m=c-1):m=O.sb()?O.x*(c-1):c/2),isNaN(y)&&(O.$c()?O.Hf(Jd)?y=0:O.Hf(ip)&&(y=d-1):y=O.sb()?O.y*(d-1):d/2),t.scaleComputation===null||t.animationManager.defaultAnimation.isAnimating||(s=t.scaleComputation(t,s)),s<t.minScale&&(s=t.minScale),s>t.maxScale&&(s=t.maxScale),c=F.allocAt(t.pa.x+m/i-m/s,t.pa.y+y/i-y/s),t.position=c,F.free(c),t.Ca=s,Ma(t),t.wb=!1,t.onViewportBoundsChanged(u,t.viewportBounds,i,!1),Zs(t,!1),l.Ab&&(Dx(l)||l.ce.add(l.H,"scale",i,t.Ca))}}G.prototype.onViewportBoundsChanged=function(t,i,s,l){if(!t.D(i)){l===void 0&&(l=!1),l||(this.Ee=!0),this.vd=!0;var u=this.layout;u===null||!u.isViewportSized||this.autoScale!==mr||t.width===i.width&&t.height===i.height||u.C(),u=this.currentTool,this.Uk===!0&&u instanceof Ce&&(this.lastInput.documentPoint=this.Qs(this.lastInput.viewPoint),eE(u,this)),this.wb||this.invalidateViewport(t,i),Ca(this),this.hc.scale=s,this.hc.position.x=t.x,this.hc.position.y=t.y,this.hc.bounds.assign(t),this.hc.canvasSize.width=Math.round(t.width*s),this.hc.canvasSize.height=Math.round(t.height*s),this.hc.newCanvasSize.width=this.Aa,this.hc.newCanvasSize.height=this.ya,this.hc.isScroll=l,this.S("ViewportBoundsChanged",this.hc,t),this.isVirtualized&&this.links.each(function(c){c.isAvoiding&&c.actualBounds.Yc(i)&&c.bb()})}};function Ca(t,i){var s=t.fe;if(s!==null&&s.visible){for(var l=At.alloc(),u=1,c=1,d=s.O.s,m=d.length,y=0;y<m;y++){var O=d[y],w=Math.abs(O.interval);2>w||(NT(O.figure)?c=c*w/Y.xx(c,w):u=u*w/Y.xx(u,w))}if(d=s.gridCellSize,l.h(c*d.width,u*d.height),i!==void 0)u=i.width,c=i.height,t=i.x,d=i.y;else{if(i=J.alloc(),t=t.viewportBounds,i.h(t.x,t.y,t.width,t.height),!i.w()){J.free(i);return}u=i.width,c=i.height,t=i.x,d=i.y,J.free(i)}s.width=u+2*l.width,s.height=c+2*l.height,i=F.alloc(),Y.Oo(t,d,0,0,l.width,l.height,i),i.offset(-l.width,-l.height),At.free(l),s.part.location=i,F.free(i)}}G.prototype.clearSelection=function(t){t===void 0&&(t=!1);var i=this.selection;if(i.count!==0){t||this.S("ChangingSelection",i);for(var s=i.Fa(),l=s.length,u=0;u<l;u++)s[u].isSelected=!1;i.ka(),i.clear(),i.freeze(),t||this.S("ChangedSelection",i)}},G.prototype.select=function(t){t!==null&&t.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.S("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.S("ChangedSelection",this.selection))},G.prototype.vA=function(t){if(this.S("ChangingSelection",this.selection),this.clearSelection(!0),rt(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];l instanceof kt||D("Diagram.selectCollection given something that is not a Part: "+l),l.isSelected=!0}else for(t=t.iterator;t.next();)i=t.value,i instanceof kt||D("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0;this.S("ChangedSelection",this.selection)},G.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var i=t.Fa(),s=i.length,l=0;l<s;l++)i[l].isHighlighted=!1;t.ka(),t.clear(),t.freeze()}},n=G.prototype,n.Nz=function(t){t!==null&&t.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},n.Oz=function(t){t=new ut().addAll(t);for(var i=this.highlighteds.copy().hp(t).iterator;i.next();)i.value.isHighlighted=!1;for(t=t.iterator;t.next();)i=t.value,i instanceof kt||D("Diagram.highlightCollection given something that is not a Part: "+i),i.isHighlighted=!0},n.scroll=function(t,i,s){s===void 0&&(s=1);var l=i==="up"||i==="down",u=0,c=F.alloc();if(t==="pixel")u=s;else if(t==="line")u=s*(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(t==="page")t=l?this.viewportBounds.height:this.viewportBounds.width,t*=this.scale,t!==0&&(u=s*Math.max(t-(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if(t==="document"){u=this.documentBounds,s=this.viewportBounds,i==="up"?this.position=c.h(s.x,u.y):i==="left"?this.position=c.h(u.x,s.y):i==="down"?this.position=c.h(s.x,u.bottom-s.height):i==="right"&&(this.position=c.h(u.right-s.width,s.y)),F.free(c);return}D("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}u/=this.scale,s=this.position,i==="up"?this.position=c.h(s.x,s.y-u):i==="down"?this.position=c.h(s.x,s.y+u):i==="left"?this.position=c.h(s.x-u,s.y):i==="right"?this.position=c.h(s.x+u,s.y):D("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+i),F.free(c)},n.vv=function(t){var i=this.viewportBounds;i.Re(t)||(t=t.center,t.x-=i.width/2,t.y-=i.height/2,this.position=t)},n.es=function(t){var i=this.viewportBounds;t=t.center,t.x-=i.width/2,t.y-=i.height/2,this.position=t},n.op=function(t){var i=this.Bb;i.reset(),this.Ca!==1&&i.scale(this.Ca);var s=this.pa;return(s.x!==0||s.y!==0)&&isFinite(s.x)&&isFinite(s.y)&&i.translate(-s.x,-s.y),t.copy().transform(this.Bb)},n.DA=function(t){var i=this.Bb,s=t.x,l=t.y,u=s+t.width,c=l+t.height,d=i.m11,m=i.m12,y=i.m21,O=i.m22,w=i.dx,k=i.dy,P=s*d+l*y+w;i=s*m+l*O+k;var T=u*d+l*y+w;return t=u*m+l*O+k,l=s*d+c*y+w,s=s*m+c*O+k,d=u*d+c*y+w,u=u*m+c*O+k,c=Math.min(P,T),P=Math.max(P,T),T=Math.min(i,t),i=Math.max(i,t),c=Math.min(c,l),P=Math.max(P,l),T=Math.min(T,s),i=Math.max(i,s),c=Math.min(c,d),P=Math.max(P,d),T=Math.min(T,u),i=Math.max(i,u),new J(c,T,P-c,i-T)},n.Qs=function(t){var i=this.Bb;i.reset(),this.Ca!==1&&i.scale(this.Ca);var s=this.pa;return(s.x!==0||s.y!==0)&&isFinite(s.x)&&isFinite(s.y)&&i.translate(-s.x,-s.y),$i(t.copy(),this.Bb)};function IE(t){var i=t.isModified;t.Vw!==i&&(t.Vw=i,t.S("Modified"))}function EG(t){return t=Gx.get(t),t!==null?new t:new re}G.prototype.doModelChanged=function(t){var i=this;if(t.model===this.model){var s=t.change,l=t.propertyName;if(s===Ps&&l[0]==="S")if(l==="StartingFirstTransaction"){var u=this;t=this.toolManager,t.mouseDownTools.each(function(y){return y.diagram=u}),t.mouseMoveTools.each(function(y){return y.diagram=u}),t.mouseUpTools.each(function(y){return y.diagram=u}),this.ld||this.hf||(this.Ik=!0,this.gn&&(this.kg=!0))}else l==="StartingUndo"||l==="StartingRedo"?(t=this.animationManager,t.defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc(),this.S("ChangingSelection",this.selection)):l==="StartedTransaction"&&(t=this.animationManager,t.defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc());else if(this.aa){this.aa=!1;try{if(t.modelChange===""&&s===Ps){(l==="FinishedUndo"||l==="FinishedRedo")&&(this.S("ChangedSelection",this.selection),gn(this));var c=this.animationManager;l==="RolledBackTransaction"&&c.Cc(),this.gx(),this.Ik=!0,this.bd(),this.undoManager.transactionLevel!==0&&this.undoManager.transactionLevel!==1||Ab(c),l==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.Ce=Math.min(this.Ce,this.undoManager.historyIndex-1)),l!=="CommittedTransaction"&&l!=="RolledBackTransaction"||!this.undoManager.isPendingUnmodified||setTimeout(function(){i.isModified=!1},1);var d=t.isTransactionFinished;if(d&&(IE(this),this.As.clear(),kG(this.animationManager)),!this.St&&d&&this.lastInput.targetDiagram){this.St=!0;var m=this;$(function(){m.currentTool.standardMouseOver(),m.St=!1},10)}}}finally{this.aa=!0}}}};function FE(t,i){i=i.O.s;for(var s=i.length,l=0;l<s;l++)Hb(t,i[l])}function Hb(t,i){if(i instanceof Nn){var s=i.element;if(s!==null&&s instanceof HTMLImageElement){s.Bg instanceof ut&&s.Bg.add(t);var l=i.Eg;if(l!==null&&l.sq===!0&&i.diagram!==null&&i.diagram.Yn.add(i),s.jn)if(s=s.getAttribute("src")||"",l=t.Og.I(s),l===null)l=[],l.push(i),t.Og.add(s,l);else{for(t=0;t<l.length;t++)if(l[t]===i)return;l.push(i)}}}}function Kb(t,i){if(i instanceof Nn){var s=i.element;if(s!==null&&s instanceof HTMLImageElement&&s.jn){var l=s.getAttribute("src")||"",u=t.Og.I(l);if(u!==null){for(var c=0;c<u.length;c++)if(u[c]===i){u.splice(c,1),u.length===0&&(t.Og.remove(l),s.Fq&&s.removeEventListener("load",s.Fq),s.Yp&&s.removeEventListener("error",s.Yp),delete s.Fq,delete s.Yp,s.Bg instanceof ut&&s.Bg.remove(t),$p(l));break}}}}}G.prototype.Wd=function(){this.partManager.Wd()},G.prototype.Bj=function(t,i){this.Yd.Bj(t,i)},G.prototype.Dj=function(t,i){this.Yd.Dj(t,i)},G.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},G.prototype.Yb=function(t){return this.partManager.Yb(t)},G.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},n=G.prototype,n.Mc=function(t){return this.partManager.Mc(t)},n.ji=function(t){return this.partManager.ji(t)},n.Lc=function(t){return this.partManager.Lc(t)},n.ms=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];return this.partManager.ms.apply(this.partManager,i instanceof Array?i:o(r(i)))},n.ls=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];return this.partManager.ls.apply(this.partManager,i instanceof Array?i:o(r(i)))};function Ma(t){var i=t.pa,s=t.Ca;t.Tw.h(i.x,i.y,Math.max(t.Aa,0)/s,Math.max(t.ya,0)/s),t.vd=!0}function Jb(t,i){t.$i=!1;var s=t.Sp;s.D(i)||(s=s.copy(),t.Sp.assign(i),Zs(t,!1),t.S("DocumentBoundsChanged",void 0,s),t.Ee=!0,t.N())}n.Va=function(){if(this.$i){var t=J.alloc();Jb(this,this.computeBounds(t)),J.free(t)}},n.xz=function(){for(var t=new ut,i=this.nodes;i.next();){var s=i.value;s.isTopLevel&&t.add(s)}for(i=this.links;i.next();)s=i.value,s.isTopLevel&&t.add(s);return t.iterator},n.wz=function(){return this.ai.iterator},n.Zz=function(t){gn(this),t&&qx(this,!0),this.ld?tT(this,!1):(this.Ik=!0,ba(this))};function qx(t,i){for(var s=t.ai.iterator;s.next();)VE(t,s.value,i);t.layout&&(i?t.layout.isValidLayout=!1:t.layout.C())}function VE(t,i,s){if(i!==null){for(var l=i.fl.iterator;l.next();)VE(t,l.value,s);i.layout!==null&&(s?i.layout.isValidLayout=!1:i.layout.C())}}function tT(t,i){if(t.xh&&!t.mt){var s=t.aa;t.aa=!0;var l=t.undoManager.transactionLevel,u=t.layout,c=t.animationManager;try{l===0&&(t.undoManager.isInternalTransaction=!0,t.Ea("Layout")),1>=l&&!c.defaultAnimation.isAnimating&&!c.Ab&&(i||Pa(c,"Layout")),t.xh=!1;for(var d=t.ai.iterator;d.next();)zE(t,d.value,i,l);u.isValidLayout||(!i||u.isRealtime||u.isRealtime===null||l===0?(u.doLayout(t),gn(t),u.isValidLayout=!0):t.xh=!0)}finally{i=t.undoManager.isInternalTransaction,l===0&&(t.eb("Layout"),t.undoManager.isInternalTransaction=!1),!i||l!==0&&l!==1||Ab(c),t.aa=s}}}function zE(t,i,s,l){if(i!==null){for(var u=i.fl.iterator;u.next();)zE(t,u.value,s,l);u=i.layout,u===null||u.isValidLayout||(!s||u.isRealtime||l===0?(i.rh=!i.location.w(),u.doLayout(i),i.C(32),_b(t,i),u.isValidLayout=!0):t.xh=!0)}}n.Dz=function(){for(var t=new ct,i=this.nodes;i.next();){var s=i.value;s.isTopLevel&&s.kh()===null&&t.add(s)}return t.iterator};function $G(t){function i(u){var c=u.toLowerCase(),d=new ct;s.add(u,d),s.add(c,d),l.add(u,u),l.add(c,u)}var s=new jt,l=new jt;i("InitialAnimationStarting"),i("AnimationStarting"),i("AnimationFinished"),i("BackgroundSingleClicked"),i("BackgroundDoubleClicked"),i("BackgroundContextClicked"),i("ClipboardChanged"),i("ClipboardPasted"),i("DocumentBoundsChanged"),i("ExternalObjectsDropped"),i("GainedFocus"),i("InitialLayoutCompleted"),i("LayoutCompleted"),i("LinkDrawn"),i("LinkRelinked"),i("LinkReshaped"),i("LostFocus"),i("Modified"),i("ObjectSingleClicked"),i("ObjectDoubleClicked"),i("ObjectContextClicked"),i("PartCreated"),i("PartResized"),i("PartRotated"),i("SelectionMoved"),i("SelectionCopied"),i("SelectionDeleting"),i("SelectionDeleted"),i("SelectionGrouped"),i("SelectionUngrouped"),i("ChangingSelection"),i("ChangedSelection"),i("SubGraphCollapsed"),i("SubGraphExpanded"),i("TextEdited"),i("TreeCollapsed"),i("TreeExpanded"),i("ViewportBoundsChanged"),i("InvalidateDraw"),t.kw=s,t.jw=l}function BE(t,i){var s=t.jw.I(i);return s!==null?s:t.jw.I(i.toLowerCase())}function eT(t,i){var s=t.kw.I(i);if(s!==null||(s=t.kw.I(i.toLowerCase()),s!==null))return s;D("Unknown DiagramEvent name: "+i)}n.Cj=function(t,i){return t=eT(this,t),t!==null&&t.add(i),this},n.bm=function(t,i){t=eT(this,t),t!==null&&t.remove(i)},n.S=function(t,i,s){var l=eT(this,t),u=new gf;if(u.diagram=this,t=BE(this,t),t!==null&&(u.name=t),i!==void 0&&(u.subject=i),s!==void 0&&(u.parameter=s),i=l.length,i===1)l.M(0)(u);else if(i!==0)for(l=l.Fa(),s=0;s<i;s++)(0,l[s])(u)};function XE(t){if(t.animationManager.isTicking)return!1;var i=t.currentTool;return i===t.toolManager.findTool("Dragging")?!t.Mr||i.isComplexRoutingRealtime:!0}n.Xj=function(t,i){return iT(this,!1,null,i||null).Xj(t.x,t.y,t.width,t.height)},G.prototype.computeOccupiedArea=function(t){return this.isVirtualized?this.viewportBounds.copy():this.$i?RE(this,t):t.assign(this.documentBounds)};function iT(t,i,s,l){var u=t.Xh;if(u===null&&(t.Xh=u=new Ky(t.avoidanceCellSize)),u.vs||u.group!==s||u.$x!==l){if(u.Jx=Math.max(u.Ps+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.width)),u.Kx=Math.max(u.Ps+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.height)),s!==null&&(s=_E(t,s)),s===null){i=J.alloc(),t.computeOccupiedArea(i),i.Bc(100,100),u.initialize(i);for(var c=t.nodes;c.next();){var d=c.value,m=d.layer;m!==null&&m.visible&&!m.isTemporary&&nT(t,d,l,i)}J.free(i)}else{for(0<s.memberParts.count&&(i=t.computePartsBounds(s.memberParts,!1),i.Bc(20,20),u.initialize(i)),i=J.alloc(),c=s.memberParts;c.next();)d=c.value,d instanceof ft&&nT(t,d,l,i);J.free(i)}u.group=s,u.$x=l,u.vs=!1}else i&&vD(u);return u}function _E(t,i){return i.avoidable&&!i.isLinkLabel?i:i.containingGroup!==null?_E(t,i.containingGroup):null}function nT(t,i,s,l){if(i!==s&&i.isVisible()){var u=i.avoidable&&!i.isLinkLabel;if(u){var c=i.getAvoidableRect(l),d=t.Xh,m=c.x,y=c.y;if(Yp(d,m,y)){var O=(y-d.Od)/d.tc|0,w=Math.min((m+c.width-d.Nd)/d.sc|0,d.di);for(c=Math.min((y+c.height-d.Od)/d.tc|0,d.ei),m=(m-d.Nd)/d.sc|0;m<=w;m++)if(y=d.cc[m],y.fill)y.fill($a,O,c+1);else for(var k=O;k<=c;k++)y[k]=$a}}if(i instanceof Et&&(!u||i.avoidableMembers))for(i=i.memberParts;i.next();)u=i.value,u instanceof ft&&nT(t,u,s,l)}}function rT(t,i){t.Xh===null||t.Xh.vs||i!==void 0&&(!i.avoidable||i.isLinkLabel)||(t.Xh.vs=!0)}G.prototype.gs=function(t){this.wp.assign(t),this.computeAutoScrollPosition(this.wp).Xa(this.position)?this.ug():UE(this)};function UE(t){t.uk===-1&&(t.uk=$(function(){if(t.uk!==-1&&(t.ug(),t.lastInput.event!==null)){var i=t.computeAutoScrollPosition(t.wp);i.Xa(t.position)||(t.position=i,t.lastInput.documentPoint=t.Qs(t.wp),t.doMouseMove(),t.$i=!0,i=J.alloc(),t.computeBounds(i),i.ed(t.documentBounds),Jb(t,i),J.free(i),t.Fc=!0,t.bd(),UE(t))}},t.vp))}G.prototype.ug=function(){this.uk!==-1&&(Q.clearTimeout(this.uk),this.uk=-1)},G.prototype.computeAutoScrollPosition=function(t){var i=this.position,s=this.xp;if(0>=s.top&&0>=s.left&&0>=s.right&&0>=s.bottom)return i;var l=this.viewportBounds,u=this.scale;l=J.allocAt(0,0,l.width*u,l.height*u);var c=F.allocAt(0,0);if(t.x>=l.x&&t.x<l.x+s.left&&this.allowHorizontalScroll){var d=Math.max(this.scrollHorizontalLineChange,1);d|=0,c.x-=d,t.x<l.x+s.left/2&&(c.x-=d),t.x<l.x+s.left/4&&(c.x-=4*d)}else t.x<=l.x+l.width&&t.x>l.x+l.width-s.right&&this.allowHorizontalScroll&&(d=Math.max(this.scrollHorizontalLineChange,1),d|=0,c.x+=d,t.x>l.x+l.width-s.right/2&&(c.x+=d),t.x>l.x+l.width-s.right/4&&(c.x+=4*d));return t.y>=l.y&&t.y<l.y+s.top&&this.allowVerticalScroll?(d=Math.max(this.scrollVerticalLineChange,1),d|=0,c.y-=d,t.y<l.y+s.top/2&&(c.y-=d),t.y<l.y+s.top/4&&(c.y-=4*d)):t.y<=l.y+l.height&&t.y>l.y+l.height-s.bottom&&this.allowVerticalScroll&&(d=Math.max(this.scrollVerticalLineChange,1),d|=0,c.y+=d,t.y>l.y+l.height-s.bottom/2&&(c.y+=d),t.y>l.y+l.height-s.bottom/4&&(c.y+=4*d)),c.Xa(po)||(i=new F(i.x+c.x/u,i.y+c.y/u)),J.free(l),F.free(c),i},n=G.prototype,n.Cs=function(){return null},n.cv=function(){return null},n.bs=function(t,i){this.qj.add(t,i)},n.Hu=function(t){(this.Rw=t)||this.nodes.each(function(i){i instanceof Et&&(i.$p=null)})};function ZE(t,i,s){function l(){var w=+new Date;for(c=!0,d.reset();d.next();)if(!d.value[0].$k){c=!1;break}c||w-O>y?i(s,u,m):Q.requestAnimationFrame(l)}for(var u=s.callback,c=!0,d=t.Og.iterator;d.next();)if(!d.value[0].$k){c=!1;break}if(typeof u!="function"||c)return i(s,u,t);var m=t,y=s.callbackTimeout||300,O=+new Date;return Q.requestAnimationFrame(function(){l()}),null}n.aA=function(t){return bs?(t===void 0&&(t={}),t.returnType="Image",this.Lx(t)):null},n.Lx=function(t){return t===void 0&&(t={}),ZE(this,this.bA,t)},n.bA=function(t,i,s){var l=YE(s,t,"canvas",null);if(l===null)return null;s=l.Z.canvas;var u=null;if(s!==null)switch(u=t.returnType,u===void 0?u="string":u=u.toLowerCase(),u){case yp+"data":u=l.getImageData(0,0,s.width,s.height);break;case yp:l=(t.document||document).createElement("img"),l.src=s.toDataURL(t.type,t.details),u=l;break;case"blob":return typeof i!="function"&&D('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),typeof s.toBlob=="function"?(s.toBlob(i,t.type,t.details),"toBlob"):(i(null),null);default:u=s.toDataURL(t.type,t.details)}return typeof i=="function"?(i(u),null):u};function YE(t,i,s,l){if(t.animationManager.Cc(),t.bd(),t.ta===null)return null;typeof i!="object"&&D("properties argument must be an Object.");var u=i.size||null,c=i.scale||null;i.scale!==void 0&&isNaN(i.scale)&&(c="NaN");var d=i.maxSize;i.maxSize===void 0&&(d=s==="SVG"?new At(1/0,1/0):new At(2e3,2e3));var m=i.position||null,y=i.parts||null,O=i.padding===void 0?1:i.padding,w=i.background||null,k=i.omitTemporary;k===void 0&&(k=!0);var P=i.document||document,T=i.elementFinished||null,C=i.showTemporary;C===void 0&&(C=!k),i=i.showGrid,i===void 0&&(i=C),u!==null&&isNaN(u.width)&&isNaN(u.height)&&(u=null),typeof O=="number"?O=new ne(O):O instanceof ne||D("MakeImage padding must be a Margin or a number."),O.left=Math.max(O.left,0),O.right=Math.max(O.right,0),O.top=Math.max(O.top,0),O.bottom=Math.max(O.bottom,0),t.ib.Vc(!0),k=new Kr(null,P,void 0,!0);var A=k.context;if(!(u||c||y||m))return k.width=t.Aa+Math.ceil(O.left+O.right),k.height=t.ya+Math.ceil(O.top+O.bottom),s==="SVG"?l===null?null:(l.resize(k.width,k.height,k.width,k.height),l.ownerDocument=P,l.hs=T,Zx(t,l.context,O,new At(k.width,k.height),t.Ca,t.pa,y,w,C,i),l.context):(t.Ym=!1,Zx(t,A,O,new At(k.width,k.height),t.Ca,t.pa,y,w,C,i),t.Ym=!0,k.context);var I=t.Pp,E=t.documentBounds.copy();if(E.Hv(t.zb),C)for(var z=t.Wa.s,B=z.length,_=0;_<B;_++){var Z=z[_];if(Z.visible&&Z.isTemporary){Z=Z.Pa.s;for(var H=Z.length,at=0;at<H;at++){var pt=Z[at];pt.isInDocumentBounds&&pt.isVisible()&&(pt=pt.actualBounds,pt.w()&&E.ed(pt))}}}if(z=new F(E.x,E.y),y!==null){for(B=new J(0,0,0,0),_=!0,Z=y.iterator,Z.reset();Z.next();)H=Z.value,H instanceof kt&&(at=H.layer,at!==null&&!at.visible||at!==null&&!C&&at.isTemporary||!H.isVisible()||(H=H.actualBounds,H.w()&&(_?(_=!1,B.assign(H)):B.ed(H))));E.width=B.width,E.height=B.height,z.x=B.x,z.y=B.y}return m!==null&&m.w()&&(z=m,c||(c=I)),B=m=0,O!==null&&(m=O.left+O.right,B=O.top+O.bottom),_=Z=0,u!==null&&(Z=u.width,_=u.height,isFinite(Z)&&(Z=Math.max(0,Z-m)),isFinite(_)&&(_=Math.max(0,_-B))),u!==null&&c!==null?(c==="NaN"&&(c=I),u.w()?(u=Z,E=_):isNaN(_)?(u=Z,E=E.height*c):(u=E.width*c,E=_)):u!==null?u.w()?(c=Math.min(Z/E.width,_/E.height),u=Z,E=_):isNaN(_)?(c=Z/E.width,u=Z,E=E.height*c):(c=_/E.height,u=E.width*c,E=_):c!==null?c==="NaN"&&d.w()?(c=Math.min((d.width-m)/E.width,(d.height-B)/E.height),c>I?(c=I,u=E.width,E=E.height):(u=d.width,E=d.height)):(u=E.width*c,E=E.height*c):(c=I,u=E.width,E=E.height),O!==null?(u+=m,E+=B):O=new ne(0),d!==null&&(I=d.width,d=d.height,isNaN(I)&&(I=2e3),isNaN(d)&&(d=2e3),isFinite(I)&&(u=Math.min(u,I)),isFinite(d)&&(E=Math.min(E,d))),k.width=Math.ceil(u),k.height=Math.ceil(E),s==="SVG"?l===null?null:(l.resize(k.width,k.height,k.width,k.height),l.ownerDocument=P,l.hs=T,Zx(t,l.context,O,new At(Math.ceil(u),Math.ceil(E)),c,z,y,w,C,i),l.context):(t.Ym=!1,Zx(t,A,O,new At(Math.ceil(u),Math.ceil(E)),c,z,y,w,C,i),t.Ym=!0,k.context)}S.Object.defineProperties(G.prototype,{renderer:{get:function(){return this.nl},set:function(t){this instanceof Ko||(t===""&&(t="default"),t=t.toLowerCase(),t!==this.nl&&(this.nl=t,t==="default"||t==="canvas"?(t=this.qj.get("svg"),t!==null&&t.Oa.remove(),this.ta&&(this.ib=this.ta.context)):t==="svg"?(this.qj.contains("svg")?t=this.qj.get("svg"):(t=new go(this,Q.document),this.bs("svg",t)),this.div!==null&&this.div.appendChild(t.Oa),this.ib=t.context,this.ta&&(this.ta.context.setTransform(this.Nb,0,0,this.Nb,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya))):t!=="debug"||this.qj.contains("SVG")||(t=new go(this,Q.document),this.bs("SVG",t),t.Oa.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(t.Oa)),this.gk()))}},div:{get:function(){return this.Ka},set:function(t){if(this.Ka!==t){var i=this.Ka;i!==null?(i.H=void 0,i.goDiagram=void 0,i.go=void 0,i.innerHTML="",this.ta!==null&&(i=this.ta.Oa,this.removeEventListener(i,"pointermove",this.ck,!1),this.removeEventListener(i,"pointerdown",this.vi,!1),this.removeEventListener(i,"pointerup",this.ek,!1),this.removeEventListener(i,"pointerout",this.dk,!1),this.removeEventListener(i,"pointercancel",this.bk,!1),this.ta.ox()),this.ol&&(this.ol.disconnect(),this.ol=null),i=this.toolManager,i!==null&&(i.mouseDownTools.each(function(s){s.cancelWaitAfter()}),i.mouseMoveTools.each(function(s){s.cancelWaitAfter()}),i.mouseUpTools.each(function(s){s.cancelWaitAfter()})),i.cancelWaitAfter(),this.currentTool.doCancel(),this.ta=null,this.removeEventListener(Q,"resize",this.Qv,!1),this.removeEventListener(Q,"wheel",this.Zj,!0),dp===this&&(dp=null)):this.vi===null&&(this.hf=!1),this.Ka=null,t!==null&&((i=t.H)&&(i.div=null),Ib(this,t),this.gk())}}},bx:{get:function(){return this.Sq}},ri:{get:function(){return this.hf}},draggedLink:{get:function(){return this.ot},set:function(t){this.ot!==t&&(this.ot=t,t!==null&&(this.Wt=t.fromPort,this.Xt=t.toPort))}},Ox:{get:function(){return this.Wt},set:function(t){this.Wt=t}},Px:{get:function(){return this.Xt},set:function(t){this.Xt=t}},animationManager:{get:function(){return this.Yd}},undoManager:{get:function(){return this.ec.undoManager}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t,this.ec.skipsUndoManager=t}},delaysLayout:{get:function(){return this.mt},set:function(t){this.mt=t}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&W(t,"0 <= value <= 1",G,"opacity"),this.pb=t,this.g("opacity",i,t),this.N())}},validCycle:{get:function(){return this.xu},set:function(t){var i=this.xu;i!==t&&(this.xu=t,this.g("validCycle",i,t))}},layers:{get:function(){return this.Wa.iterator}},isModelReadOnly:{get:function(){var t=this.ec;return t===null?!1:t.isReadOnly},set:function(t){var i=this.ec;i!==null&&(i.isReadOnly=t)}},isReadOnly:{get:function(){return this.Gg},set:function(t){var i=this.Gg;i!==t&&(this.Gg=t,this.g("isReadOnly",i,t))}},isEnabled:{get:function(){return this.Jd},set:function(t){var i=this.Jd;i!==t&&(this.Jd=t,this.g("isEnabled",i,t))}},allowClipboard:{get:function(){return this.Vs},set:function(t){var i=this.Vs;i!==t&&(this.Vs=t,this.g("allowClipboard",i,t))}},allowCopy:{get:function(){return this.Gi},set:function(t){var i=this.Gi;i!==t&&(this.Gi=t,this.g("allowCopy",i,t))}},allowDelete:{get:function(){return this.Hi},set:function(t){var i=this.Hi;i!==t&&(this.Hi=t,this.g("allowDelete",i,t))}},allowDragOut:{get:function(){return this.Ws},set:function(t){var i=this.Ws;i!==t&&(this.Ws=t,this.g("allowDragOut",i,t))}},allowDrop:{get:function(){return this.Xs},set:function(t){var i=this.Xs;i!==t&&(this.Xs=t,this.g("allowDrop",i,t))}},allowTextEdit:{get:function(){return this.Qi},set:function(t){var i=this.Qi;i!==t&&(this.Qi=t,this.g("allowTextEdit",i,t))}},allowGroup:{get:function(){return this.Ii},set:function(t){var i=this.Ii;i!==t&&(this.Ii=t,this.g("allowGroup",i,t))}},allowUngroup:{get:function(){return this.Ri},set:function(t){var i=this.Ri;i!==t&&(this.Ri=t,this.g("allowUngroup",i,t))}},allowInsert:{get:function(){return this.Zs},set:function(t){var i=this.Zs;i!==t&&(this.Zs=t,this.g("allowInsert",i,t))}},allowLink:{get:function(){return this.Ji},set:function(t){var i=this.Ji;i!==t&&(this.Ji=t,this.g("allowLink",i,t))}},allowRelink:{get:function(){return this.Li},set:function(t){var i=this.Li;i!==t&&(this.Li=t,this.g("allowRelink",i,t))}},allowMove:{get:function(){return this.Ki},set:function(t){var i=this.Ki;i!==t&&(this.Ki=t,this.g("allowMove",i,t))}},allowReshape:{get:function(){return this.Mi},set:function(t){var i=this.Mi;i!==t&&(this.Mi=t,this.g("allowReshape",i,t))}},allowResize:{get:function(){return this.Ni},set:function(t){var i=this.Ni;i!==t&&(this.Ni=t,this.g("allowResize",i,t))}},allowRotate:{get:function(){return this.Oi},set:function(t){var i=this.Oi;i!==t&&(this.Oi=t,this.g("allowRotate",i,t))}},allowSelect:{get:function(){return this.Pi},set:function(t){var i=this.Pi;i!==t&&(this.Pi=t,this.g("allowSelect",i,t))}},allowUndo:{get:function(){return this.$s},set:function(t){var i=this.$s;i!==t&&(this.$s=t,this.g("allowUndo",i,t))}},allowZoom:{get:function(){return this.bt},set:function(t){var i=this.bt;i!==t&&(this.bt=t,this.g("allowZoom",i,t))}},hasVerticalScrollbar:{get:function(){return this.on},set:function(t){var i=this.on;i!==t&&(this.on=t,this.Ee=!0,this.N(),this.g("hasVerticalScrollbar",i,t),Zs(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.nn},set:function(t){var i=this.nn;i!==t&&(this.nn=t,this.Ee=!0,this.N(),this.g("hasHorizontalScrollbar",i,t),Zs(this,!1))}},allowHorizontalScroll:{get:function(){return this.Ys},set:function(t){var i=this.Ys;i!==t&&(this.Ys=t,this.g("allowHorizontalScroll",i,t),Zs(this,!1))}},allowVerticalScroll:{get:function(){return this.at},set:function(t){var i=this.at;i!==t&&(this.at=t,this.g("allowVerticalScroll",i,t),Zs(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.ju},set:function(t){var i=this.ju;i!==t&&(0>t&&W(t,">= 0",G,"scrollHorizontalLineChange"),this.ju=t,this.g("scrollHorizontalLineChange",i,t))}},scrollVerticalLineChange:{get:function(){return this.nu},set:function(t){var i=this.nu;i!==t&&(0>t&&W(t,">= 0",G,"scrollVerticalLineChange"),this.nu=t,this.g("scrollVerticalLineChange",i,t))}},lastInput:{get:function(){return this.dj},set:function(t){this.dj=t}},previousInput:{get:function(){return this.Qg},set:function(t){this.Qg=t}},firstInput:{get:function(){return this.bq},set:function(t){this.bq=t}},currentCursor:{get:function(){return this.jt},set:function(t){if(t===""&&(t=this.Op),this.jt!==t){var i=this.ta,s=this.Ka;if(i!==null&&s!==null){this.jt=t;var l=i.style.cursor;i.style.cursor=t,s.style.cursor=t,i.style.cursor===l&&(i.style.cursor="-webkit-"+t,s.style.cursor="-webkit-"+t,i.style.cursor===l&&(i.style.cursor="-moz-"+t,s.style.cursor="-moz-"+t,i.style.cursor===l&&(i.style.cursor=t,s.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Op},set:function(t){t===""&&(t="auto");var i=this.Op;i!==t&&(this.Op=t,this.g("defaultCursor",i,t))}},click:{get:function(){return this.zh},set:function(t){var i=this.zh;i!==t&&(this.zh=t,this.g("click",i,t))}},doubleClick:{get:function(){return this.Fh},set:function(t){var i=this.Fh;i!==t&&(this.Fh=t,this.g("doubleClick",i,t))}},contextClick:{get:function(){return this.Bh},set:function(t){var i=this.Bh;i!==t&&(this.Bh=t,this.g("contextClick",i,t))}},mouseOver:{get:function(){return this.Qh},set:function(t){var i=this.Qh;i!==t&&(this.Qh=t,this.g("mouseOver",i,t))}},mouseHover:{get:function(){return this.Oh},set:function(t){var i=this.Oh;i!==t&&(this.Oh=t,this.g("mouseHover",i,t))}},mouseHold:{get:function(){return this.Nh},set:function(t){var i=this.Nh;i!==t&&(this.Nh=t,this.g("mouseHold",i,t))}},mouseDragOver:{get:function(){return this.Rt},set:function(t){var i=this.Rt;i!==t&&(this.Rt=t,this.g("mouseDragOver",i,t))}},mouseDrop:{get:function(){return this.Lh},set:function(t){var i=this.Lh;i!==t&&(this.Lh=t,this.g("mouseDrop",i,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.yt},set:function(t){var i=this.yt;i!==t&&(this.yt=t,this.g("handlesDragDropForTopLevelParts",i,t))}},mouseEnter:{get:function(){return this.Mh},set:function(t){var i=this.Mh;i!==t&&(this.Mh=t,this.g("mouseEnter",i,t))}},mouseLeave:{get:function(){return this.Ph},set:function(t){var i=this.Ph;i!==t&&(this.Ph=t,this.g("mouseLeave",i,t))}},toolTip:{get:function(){return this.$h},set:function(t){var i=this.$h;i!==t&&(this.$h=t,this.g("toolTip",i,t))}},contextMenu:{get:function(){return this.Ch},set:function(t){var i=this.Ch;i!==t&&(this.Ch=t,this.g("contextMenu",i,t))}},commandHandler:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t,t.Xe(this))}},toolManager:{get:function(){return this.te},set:function(t){this.te!==t&&(this.te=t,t.diagram=this)}},defaultTool:{get:function(){return this.ob},set:function(t){var i=this.ob;i!==t&&(this.ob=t,t.diagram=this,this.currentTool===i&&(this.currentTool=t))}},currentTool:{get:function(){return this.hb},set:function(t){var i=this.hb;i&&(i.isActive&&i.doDeactivate(),i.cancelWaitAfter(),i.doStop()),t===null&&(t=this.defaultTool),t!==null&&(this.hb=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Jw}},maxSelectionCount:{get:function(){return this.Ot},set:function(t){var i=this.Ot;if(i!==t)if(0<=t&&!isNaN(t)){if(this.Ot=t,this.g("maxSelectionCount",i,t),!this.undoManager.isUndoingRedoing&&(t=this.selection.count-t,0<t)){this.S("ChangingSelection",this.selection),i=this.selection.Fa();for(var s=0;s<t;s++)i[s].isSelected=!1;this.S("ChangedSelection",this.selection)}}else W(t,">= 0",G,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.Tt},set:function(t){var i=this.Tt;i!==t&&(this.Tt=t,this.g("nodeSelectionAdornmentTemplate",i,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.xt},set:function(t){var i=this.xt;i!==t&&(this.xt=t,this.g("groupSelectionAdornmentTemplate",i,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Lt},set:function(t){var i=this.Lt;i!==t&&(this.Lt=t,this.g("linkSelectionAdornmentTemplate",i,t))}},highlighteds:{get:function(){return this.pw}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?t.currentTransaction!==null?!0:this.sn&&this.Ce!==t.historyIndex:this.sn},set:function(t){if(this.sn!==t){this.sn=t;var i=this.undoManager;!t&&i.isEnabled&&(this.Ce=i.historyIndex),t||IE(this)}}},model:{get:function(){return this.ec},set:function(t){var i=this.ec;if(i!==t){this.currentTool.doCancel(),i&&i.undoManager!==t.undoManager&&i.undoManager.isInTransaction&&D("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Cc(!0);var s=NE(this,!0);this.hf=!1,this.gn=!0,this.Ce=-2,this.kg=!1;var l=this.wb;this.wb=!0,Pa(this.animationManager,"Model"),i&&(this.pf!==null&&this.pf.each(function(c){return i.hk(c)}),i.hk(this.Pc)),this.ec=t,this.partManager=EG(this.ec.type);for(var u=0;u<s.length;u++)this.add(s[u]);t.Pe(this.Ib),this.partManager.addAllModeledParts(),t.hk(this.Ib),t.Pe(this.Pc),this.pf!==null&&this.pf.each(function(c){return t.Pe(c)}),this.wb=l,this.Ya(),this.wb||this.N(),i&&t.undoManager.copyProperties(i.undoManager)}}},aa:{get:function(){return this.tw},set:function(t){this.tw=t}},As:{get:function(){return this.uy}},skipsModelSourceBindings:{get:function(){return this.Kw},set:function(t){this.Kw=t}},Os:{get:function(){return this.pu},set:function(t){this.pu=t}},nodeTemplate:{get:function(){return this.Lg.I("")},set:function(t){var i=this.Lg.I("");i!==t&&(this.Lg.add("",t),this.g("nodeTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},nodeTemplateMap:{get:function(){return this.Lg},set:function(t){var i=this.Lg;i!==t&&(this.Lg=t,this.g("nodeTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplate:{get:function(){return this.Zi.I("")},set:function(t){var i=this.Zi.I("");i!==t&&(this.Zi.add("",t),this.g("groupTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplateMap:{get:function(){return this.Zi},set:function(t){var i=this.Zi;i!==t&&(this.Zi=t,this.g("groupTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplate:{get:function(){return this.Kh.I("")},set:function(t){var i=this.Kh.I("");i!==t&&(this.Kh.add("",t),this.g("linkTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplateMap:{get:function(){return this.Kh},set:function(t){var i=this.Kh;i!==t&&(this.Kh=t,this.g("linkTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},isMouseCaptured:{get:function(){return this.sw},set:function(t){var i=this.ta;i!==null&&(i=i.Oa,i instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.removeEventListener(i,"pointermove",this.ck,!1),this.removeEventListener(i,"pointerdown",this.vi,!1),this.removeEventListener(i,"pointerup",this.ek,!1),this.removeEventListener(i,"pointerout",this.dk,!1),this.removeEventListener(i,"pointercancel",this.bk,!1),this.addEventListener(Q,"pointermove",this.ck,!0),this.addEventListener(Q,"pointerdown",this.vi,!0),this.addEventListener(Q,"pointerup",this.ek,!0),this.addEventListener(Q,"pointerout",this.dk,!0),this.addEventListener(Q,"pointercancel",this.bk,!0),this.removeEventListener(i,"wheel",this.Zj,!1),this.addEventListener(Q,"wheel",this.Zj,!0),this.addEventListener(Q,"selectstart",this.preventDefault,!1)):(this.removeEventListener(Q,"pointermove",this.ck,!0),this.removeEventListener(Q,"pointerdown",this.vi,!0),this.removeEventListener(Q,"pointerup",this.ek,!0),this.removeEventListener(Q,"pointerout",this.dk,!0),this.removeEventListener(Q,"pointercancel",this.bk,!0),this.addEventListener(i,"pointermove",this.ck,!1),this.addEventListener(i,"pointerdown",this.vi,!1),this.addEventListener(i,"pointerup",this.ek,!1),this.addEventListener(i,"pointerout",this.dk,!1),this.addEventListener(i,"pointercancel",this.bk,!1),this.removeEventListener(Q,"wheel",this.Zj,!0),this.removeEventListener(Q,"selectstart",this.preventDefault,!1),this.addEventListener(i,"wheel",this.Zj,!1)),this.sw=t))}},position:{get:function(){return this.pa},set:function(t){var i=F.alloc().assign(this.pa);if(!i.D(t)){var s=this.viewportBounds.copy();this.pa.assign(t),vE(this.animationManager,i,this.pa),this.wb||this.ta===null&&!this.xo.w()?Ma(this):(this.wb=!0,t=this.scale,Vb(this,this.Sp,this.Aa/t,this.ya/t,this.yk,!1),this.wb=!1),this.wb||this.onViewportBoundsChanged(s,this.viewportBounds,this.Ca,!1)}F.free(i)}},initialPosition:{get:function(){return this.At},set:function(t){this.At.D(t)||(this.At=t.J())}},initialScale:{get:function(){return this.Bt},set:function(t){this.Bt!==t&&(this.Bt=t)}},grid:{get:function(){return this.fe===null&&(this.fe=jE(this)),this.fe},set:function(t){var i=this.fe;if(i!==t){i===null&&(i=this.fe=jE(this)),t.type!==nt.Grid&&D("Diagram.grid must be a Panel of type Panel.Grid");var s=i.panel;s!==null&&s.remove(i),this.fe=t,t.name="GRID",s!==null&&s.add(t),Ca(this),this.N(),this.g("grid",i,t)}}},viewportBounds:{get:function(){return this.Tw}},viewSize:{get:function(){return this.xo},set:function(t){var i=this.viewSize;i.D(t)||(this.xo=t=t.J(),this.ya=this.Aa=0,t.w()?(this.Aa=t.width,this.ya=t.height):this.Ka!==null&&(this.Aa=this.Ka.clientWidth||1,this.ya=this.Ka.clientHeight||1),Ma(this),this.Ya(),this.g("viewSize",i,t),this.N())}},fixedBounds:{get:function(){return this.vt},set:function(t){var i=this.vt;i.D(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||D("fixedBounds width/height must not be Infinity"),this.vt=t=t.J(),this.Ya(),this.g("fixedBounds",i,t))}},scrollMargin:{get:function(){return this.sj},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.sj;i.D(t)||(this.sj=t=t.J(),this.g("scrollMargin",i,t),this.gk())}},scrollMode:{get:function(){return this.tj},set:function(t){var i=this.tj;i!==t&&(this.tj=t,t===Nu&&Zs(this,!1),this.g("scrollMode",i,t),this.Ee=!0,this.N())}},scrollsPageOnFocus:{get:function(){return this.ou},set:function(t){var i=this.ou;i!==t&&(this.ou=t,this.g("scrollsPageOnFocus",i,t))}},positionComputation:{get:function(){return this.$t},set:function(t){var i=this.$t;i!==t&&(this.$t=t,Zs(this,!1),this.g("positionComputation",i,t))}},scaleComputation:{get:function(){return this.gu},set:function(t){var i=this.gu;i!==t&&(this.gu=t,DE(this,this.scale,this.scale),this.g("scaleComputation",i,t))}},documentBounds:{get:function(){return this.Sp}},isVirtualized:{get:function(){return this.Jt},set:function(t){var i=this.Jt;i!==t&&(this.Jt=t,this.g("isVirtualized",i,t))}},scale:{get:function(){return this.Ca},set:function(t){var i=this.Ca;i!==t&&DE(this,i,t)}},defaultScale:{get:function(){return this.Pp},set:function(t){this.Pp=t}},autoScale:{get:function(){return this.yh},set:function(t){var i=this.yh;i!==t&&(this.yh=t,this.g("autoScale",i,t),t!==mr&&Zs(this,!1))}},initialAutoScale:{get:function(){return this.Fg},set:function(t){var i=this.Fg;i!==t&&(this.Fg=t,this.g("initialAutoScale",i,t))}},initialViewportSpot:{get:function(){return this.Ct},set:function(t){var i=this.Ct;i!==t&&(t.sb()||D("initialViewportSpot must be a specific Spot: "+t),this.Ct=t,this.g("initialViewportSpot",i,t))}},initialDocumentSpot:{get:function(){return this.zt},set:function(t){var i=this.zt;i!==t&&(t.sb()||D("initialViewportSpot must be a specific Spot: "+t),this.zt=t,this.g("initialDocumentSpot",i,t))}},minScale:{get:function(){return this.Pt},set:function(t){var i=this.Pt;i!==t&&(0<t?(this.Pt=t,this.g("minScale",i,t),t>this.scale&&(this.scale=t)):W(t,"> 0",G,"minScale"))}},maxScale:{get:function(){return this.Nt},set:function(t){var i=this.Nt;i!==t&&(0<t?(this.Nt=t,this.g("maxScale",i,t),t<this.scale&&(this.scale=t)):W(t,"> 0",G,"maxScale"))}},zoomPoint:{get:function(){return this.Au},set:function(t){this.Au.D(t)||(this.Au=t=t.J())}},contentAlignment:{get:function(){return this.yk},set:function(t){var i=this.yk;i.D(t)||(this.yk=t=t.J(),this.g("contentAlignment",i,t),Zs(this,!1))}},initialContentAlignment:{get:function(){return this.pq},set:function(t){var i=this.pq;i.D(t)||(this.pq=t=t.J(),this.g("initialContentAlignment",i,t))}},padding:{get:function(){return this.zb},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.Ya(),this.g("padding",i,t))}},partManager:{get:function(){return this.Qc},set:function(t){var i=this.Qc;i!==t&&(t.diagram!==null&&D("Cannot share PartManagers between Diagrams: "+t.toString()),i&&i.Xe(null),this.Qc=t,t.Xe(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Tc},set:function(t){var i=this.Tc;i!==t&&(this.Tc=t,t.diagram=this,t.group=null,this.xh=!0,this.g("layout",i,t),this.Rb())}},isTreePathToChildren:{get:function(){return this.It},set:function(t){var i=this.It;if(i!==t&&(this.It=t,this.g("isTreePathToChildren",i,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)Xy(t.value)}},treeCollapsePolicy:{get:function(){return this.vu},set:function(t){var i=this.vu;i!==t&&(t!==$h&&t!==Jx&&t!==t1&&D("Unknown Diagram.treeCollapsePolicy: "+t),this.vu=t,this.g("treeCollapsePolicy",i,t))}},Ue:{get:function(){return this.rw},set:function(t){this.rw=t}},avoidanceCellSize:{get:function(){return this.cw},set:function(t){this.Xh=null,this.cw=new At(Math.max(1,t.width),Math.max(1,t.height))}},avoidanceLimit:{get:function(){return this.dw},set:function(t){this.dw=Math.max(1,t)}},autoScrollInterval:{get:function(){return this.vp},set:function(t){var i=this.vp;i!==t&&(this.vp=t,this.g("autoScrollInterval",i,t))}},autoScrollRegion:{get:function(){return this.xp},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.xp;i.D(t)||(this.xp=t=t.J(),this.Ya(),this.g("autoScrollRegion",i,t))}}}),S.Object.defineProperties(G,{licenseKey:{get:function(){return uT.lc()},set:function(t){uT.add(t.replace(/\s/g,""))}},version:{get:function(){return DG}}}),G.prototype.makeImageData=G.prototype.Lx,G.prototype.makeImage=G.prototype.aA,G.prototype.cacheGroupExternalLinks=G.prototype.Hu,G.prototype.addRenderer=G.prototype.bs,G.prototype.makeSVG=G.prototype.cv,G.prototype.makeSvg=G.prototype.Cs,G.prototype.stopAutoScroll=G.prototype.ug,G.prototype.doAutoScroll=G.prototype.gs,G.prototype.isUnoccupied=G.prototype.Xj,G.prototype.raiseDiagramEvent=G.prototype.S,G.prototype.removeDiagramListener=G.prototype.bm,G.prototype.addDiagramListener=G.prototype.Cj,G.prototype.findTreeRoots=G.prototype.Dz,G.prototype.layoutDiagram=G.prototype.Zz,G.prototype.findTopLevelGroups=G.prototype.wz,G.prototype.findTopLevelNodesAndLinks=G.prototype.xz,G.prototype.ensureBounds=G.prototype.Va,G.prototype.findLinksByExample=G.prototype.ls,G.prototype.findNodesByExample=G.prototype.ms,G.prototype.findLinkForData=G.prototype.Lc,G.prototype.findNodeForData=G.prototype.ji,G.prototype.findPartForData=G.prototype.Mc,G.prototype.findLinkForKey=G.prototype.findLinkForKey,G.prototype.findNodeForKey=G.prototype.Yb,G.prototype.findPartForKey=G.prototype.findPartForKey,G.prototype.rebuildParts=G.prototype.Wd,G.prototype.transformViewToDoc=G.prototype.Qs,G.prototype.transformRectDocToView=G.prototype.DA,G.prototype.transformDocToView=G.prototype.op,G.prototype.centerRect=G.prototype.es,G.prototype.scrollToRect=G.prototype.vv,G.prototype.scroll=G.prototype.scroll,G.prototype.highlightCollection=G.prototype.Oz,G.prototype.highlight=G.prototype.Nz,G.prototype.selectCollection=G.prototype.vA,G.prototype.select=G.prototype.select,G.prototype.updateAllRelationshipsFromData=G.prototype.rp,G.prototype.updateAllTargetBindings=G.prototype.updateAllTargetBindings,G.prototype.commit=G.prototype.commit,G.prototype.rollbackTransaction=G.prototype.Kf,G.prototype.commitTransaction=G.prototype.eb,G.prototype.startTransaction=G.prototype.Ea,G.prototype.raiseChanged=G.prototype.g,G.prototype.raiseChangedEvent=G.prototype.cb,G.prototype.removeChangedListener=G.prototype.hk,G.prototype.addChangedListener=G.prototype.Pe,G.prototype.removeModelChangedListener=G.prototype.qA,G.prototype.addModelChangedListener=G.prototype.$w,G.prototype.findLayer=G.prototype.Pj,G.prototype.removeLayer=G.prototype.oA,G.prototype.addLayerAfter=G.prototype.Ey,G.prototype.addLayerBefore=G.prototype.Yw,G.prototype.addLayer=G.prototype.Al,G.prototype.moveParts=G.prototype.moveParts,G.prototype.copyParts=G.prototype.Kj,G.prototype.removeParts=G.prototype.Js,G.prototype.remove=G.prototype.remove,G.prototype.add=G.prototype.add,G.prototype.clearDelayedGeometries=G.prototype.gx,G.prototype.setProperties=G.prototype.om,G.prototype.attach=G.prototype.Fu,G.prototype.set=G.prototype.set,G.prototype.resetInputOptions=G.prototype.Ux,G.prototype.setInputOption=G.prototype.wA,G.prototype.getInputOption=G.prototype.Ql,G.prototype.resetRenderingHints=G.prototype.Vx,G.prototype.setRenderingHint=G.prototype.Zx,G.prototype.getRenderingHint=G.prototype.Gf,G.prototype.maybeUpdate=G.prototype.bd,G.prototype.requestUpdate=G.prototype.Rb,G.prototype.delayInitialization=G.prototype.bz,G.prototype.isUpdateRequested=G.prototype.Uz,G.prototype.invalidateDocumentBounds=G.prototype.Ya,G.prototype.findObjectsNear=G.prototype.og,G.prototype.findPartsNear=G.prototype.rz,G.prototype.findObjectsIn=G.prototype.Cf,G.prototype.findPartsIn=G.prototype.wx,G.prototype.findObjectsAt=G.prototype.ki,G.prototype.findPartsAt=G.prototype.qz,G.prototype.findObjectAt=G.prototype.kc,G.prototype.findPartAt=G.prototype.Ol,G.prototype.focusObject=G.prototype.Ez,G.prototype.alignDocument=G.prototype.Ly,G.prototype.zoomToRect=G.prototype.FA,G.prototype.zoomToFit=G.prototype.zoomToFit,G.prototype.diagramScroll=G.prototype.mx,G.prototype.focus=G.prototype.focus;var Gx=new jt,WE=null,bs=Q.document!==void 0,gp=null,My="",mr=new it(G,"None",0),Pf=new it(G,"Uniform",1),Ny=new it(G,"UniformToFill",2),Hx=new it(G,"CycleAll",10),sT=new it(G,"CycleNotDirected",11),qE=new it(G,"CycleNotDirectedFast",12),oT=new it(G,"CycleNotUndirected",13),lT=new it(G,"CycleDestinationTree",14),aT=new it(G,"CycleSourceTree",15),Nu=new it(G,"DocumentScroll",1),Kx=new it(G,"InfiniteScroll",2),$h=new it(G,"TreeParentCollapsed",21),Jx=new it(G,"AllParentsCollapsed",22),t1=new it(G,"AnyParentsCollapsed",23),uT=new ct,DG="2.3.19",yp="image",GE=null,HE=!1;function IG(){if(bs){var t=Q.document.createElement("canvas"),i=t.getContext("2d"),s=ht("7ca11abfd022028846");i[s]=ht("398c3597c01238");for(var l=["5da73c80a36455d7038e4972187c3cae51fd22",R.Dx+"4ae6247590da4bb21c324ba3a84e385776",Bt.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Y.za],u=1;5>u;u++)i[ht("7ca11abfd7330390")](ht(l[u-1]),10,15*u);for(i[s]=ht("39f046ebb36e4b"),s=1;5>s;s++)i[ht("7ca11abfd7330390")](ht(l[s-1]),10,15*s);(l.length!==4||l[0][0]!=="5"||l[3][0]!=="7")&&(Bt.prototype.Cd=Bt.prototype.Gu),GE=t}}G.className="Diagram",G.fromDiv=function(t){var i=t;return typeof t=="string"&&(i=Q.document.getElementById(t)),i instanceof HTMLDivElement&&i.H instanceof G?i.H:null},G.inherit=function(t,i){function s(){}if(Object.getPrototypeOf(t).prototype)throw Error(`Used go.Diagram.inherit defining already defined class 
`+t);s.prototype=i.prototype,t.prototype=new s,t.prototype.constructor=t},G.useDOM=function(t){bs=t?Q.document!==void 0:!1},G.isUsingDOM=function(){return bs},G.None=mr,G.Uniform=Pf,G.UniformToFill=Ny,G.CycleAll=Hx,G.CycleNotDirected=sT,G.CycleNotDirectedFast=qE,G.CycleNotUndirected=oT,G.CycleDestinationTree=lT,G.CycleSourceTree=aT,G.DocumentScroll=Nu,G.InfiniteScroll=Kx,G.TreeParentCollapsed=$h,G.AllParentsCollapsed=Jx,G.AnyParentsCollapsed=t1;function KE(){this.yy=null,this.j="zz@orderNum",this._tk==="63ad05bbe23a1786468a4c741b6d2"?this.Sc=this.j=!0:this.Sc=null}function Op(t,i){if(i.ib.setTransform(i.Nb,0,0,i.Nb,0,0),i.ib.yc(),t.Sc===null)t:{i="f";var s=Q[ht("76a715b2f73f148a")][ht("72ba13b5")]||"";if(t.Sc=!0,bs){var l=G[ht("76a115b6ed251eaf4692")];if(l)for(var u=uT.iterator;u.next()&&(l=u.value,l=ht(l).split(ht("39e9")),!(6>l.length));){var c=ht(l[1]).split(".");if(l[4]!=="7da71ca0")break;var d=ht(R[ht("6cae19")]).split(".");if(c[0]>d[0]||c[0]===d[0]&&c[1]>=d[1]){var m=Q[ht("74a900bae4370f8b51")][ht("6fbb13a1c2311e8a57")].toLowerCase();if(d=m[ht("73a612b6fb191d")](ht("3aad1ab6e022098b4dc4")),c=ht(l[2]),-1<d&&(m=m[ht("73a612b6fb191d")](c.toLowerCase()+"/"),t.Sc=!(-1<m&&m<d),!t.Sc))break;for(d=s[ht("76ad18b4f73e")],m=s[ht("73a612b6fb191d")](ht("35e7"))+2;m<d;m++)i+=s[m];if(d=i[ht("73a612b6fb191d")](c),0>d&&c!==ht("7da71ca0ad381e90")&&(d=i[ht("73a612b6fb191d")](ht("76a715b2ef3e149757"))),0>d&&(d=i[ht("73a612b6fb191d")](ht("76a715b2ef3e149757"))),0>d&&(d=i[ht("73a612b6fb191d")](ht("2bfa41fdb3784bca12"))),0>d&&(d=s[ht("73a612b6fb191d")](ht("7baa19a6f76c1988428554"))),t.Sc=!(0<=d&&d<i[ht("73a612b6fb191d")](ht("35"))||i[ht("73a612b6fb191d")](ht("35"))===-1),!t.Sc||s[ht("73a612b6fb191d")](ht("7fb002b6ed25128b4da25b2e"))&&(t.Sc=!(-1<s[ht("73a612b6fb191d")](c)),!t.Sc)||(d=Q[ht("76a715b2f73f148a")][ht("69ad17a1e03e")],m=d[ht("73a612b6fb191d")](ht("7fb002b6ed25128b4da25b2e")),-1<m&&(t.Sc=!(d[ht("73a612b6fb191d")](c)>m),!t.Sc)))break;if(c[0]==="#"){d=Q.document.createElement("div");for(var y=l[0].replace(/[A-Za-z]/g,"");4>y.length;)y+="9";if(m=y,y=y.substr(y.length-4),l="",l+=["gsh","gsf"][parseInt(y.substr(0,1),10)%2],l+=["Header","Background","Display","Feedback"][parseInt(y.substr(0,1),10)%4],d[ht("79a417a0f0181a8946")]=l,Q.document[ht("78a712aa")]){Q.document[ht("78a712aa")][ht("7bb806b6ed32388c4a875b")](d),y=Q.getComputedStyle(d).getPropertyValue(ht("78a704b7e62456904c9b12701b6532a8"));var O=Q.getComputedStyle(d).getPropertyValue(ht("75b817b0ea2202"));if(Q.document[ht("78a712aa")][ht("68ad1bbcf533388c4a875b")](d),y){if(d=Q[ht("77a902b0eb1b1e804a8a")],O==="0."+parseInt(m,10)%100||y.indexOf(parseInt(c[1]+c[2],16))!==-1&&y.indexOf(parseInt(c[3]+c[4],16))!==-1){t.Sc=!1;break}else if(d&&d(ht("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(l="."+l,c=0;c<document.styleSheets.length;c++){d=document.styleSheets[c].rules||document.styleSheets[c].cssRules;for(var w in d)if(l===d[w].selectorText){t.Sc=!1;break t}}}}else t.Sc=null,t.Sc=!1}}}else{for(w=s[ht("76ad18b4f73e")],u=s[ht("73a612b6fb191d")](ht("35e7"))+2;u<w;u++)i+=s[u];s=i[ht("73a612b6fb191d")](ht("7da71ca0ad381e90")),t.Sc=!(0<=s&&s<i[ht("73a612b6fb191d")](ht("35")))}}}return 0<t.Sc&&t!==t.yy}KE.className="DiagramHelper";function Qu(t){this.j=t===void 0?new F:t,this.o=new F}S.Object.defineProperties(Qu.prototype,{point:{get:function(){return this.j},set:function(t){this.j=t}},shifted:{get:function(){return this.o},set:function(t){this.o=t}}});var JE="DraggingInfo";Qu.className="DraggingInfo";function t$(t,i,s){this.node=t,this.info=i,this.Uu=s}t$.className="DraggingNodeInfoPair";function vp(){this.reset()}vp.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new At(NaN,NaN).freeze(),this.gridSnapCellSpot=tn,this.gridSnapOrigin=new F(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},vp.className="DraggingOptions";function e1(t,i){if(typeof t=="string"||Q.Element&&t instanceof Element)var s=G.call(this,t)||this;else s=G.call(this)||this,i=t;return e$(s),i&&s.om(i),s}v(e1,G);function e$(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=Ll,t.layout=new xi}e1.prototype.reset=function(){G.prototype.reset.call(this),e$(this)},e1.className="Palette";function Ko(t,i){if(typeof t=="string"||Q.Element&&t instanceof Element)var s=G.call(this,t)||this;else s=G.call(this)||this,i=t;var l=s;s.animationManager.isEnabled=!1,s.wb=!0,s.V=null,s.nn=!1,s.on=!1,s.F=!0,s.u=!0,s.ia=0,s.o=!1,s.ql=null,s.Zx("drawShadows",!1),t=new kt;var u=new It;return u.stroke="magenta",u.strokeWidth=2,u.fill="transparent",u.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(u),s.j=t,s.allowCopy=!1,s.allowDelete=!1,s.allowSelect=!0,s.autoScrollRegion=new ne(0,0,0,0),s.pa.h(0,0),s.toolManager.gb("Dragging",new bf,s.toolManager.mouseMoveTools),s.click=function(){var c=l.observed;if(c!==null){var d=c.viewportBounds,m=l.lastInput.documentPoint;c.position=new F(m.x-d.width/2,m.y-d.height/2)}},s.Pf=function(){l.Ya(),Qy(l)},s.Xd=function(){l.observed!==null&&(l.Ya(),l.N())},s.Ha=function(){1>l.updateDelay?l.N():l.o||(l.o=!0,setTimeout(function(){return l.redraw()},l.updateDelay))},s.Of=function(){l.observed!==null&&Qy(l)},s.autoScale=Pf,s.wb=!1,i&&Object.assign(s,i),s}v(Ko,G),Ko.prototype.computePixelRatio=function(){return 1},Ko.prototype.redraw=function(){if(this.o&&1<=this.updateDelay){this.o=!1;var t=this.ta,i=this.ib;if(t!==null&&i!==null){if(mp(this),this.ql===null){var s=new Kr(null);s.width=t.width,s.height=t.height,this.ql=s}try{this.ta=this.ql,this.ib=this.ta.context,this.ib.Vc(!0),this.ib.setTransform(1,0,0,1,0,0),this.ib.clearRect(0,0,this.ta.width,this.ta.height),i$(this)}finally{this.ta=t,this.ib=i}}}G.prototype.redraw.call(this)},Ko.prototype.ic=function(){if(this.Ka===null&&D("No div specified"),this.ta===null&&D("No canvas specified"),!(this.ta instanceof go)&&(WT(this.box),this.Fc)){var t=this.observed;if(t!==null&&!t.animationManager.defaultAnimation.isAnimating&&t.ri){mp(this);var i=this.ta;t=this.ib,t.Vc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i.width,i.height),1>this.updateDelay?i$(this):this.ql!==null&&(t.drawImage(this.ql.Oa,0,0),i=this.Bb,i.reset(),this.scale!==1&&i.scale(this.scale),this.position.x===0&&this.position.y===0||i.translate(-this.position.x,-this.position.y),t.scale(this.Nb,this.Nb),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),t.yc()),i=this.Wa.s;for(var s=i.length,l=0;l<s;l++)i[l].ic(t,this);this.Fc=this.vd=!1}}};function i$(t){var i=t.observed;if(i!==null){var s=t.drawsTemporaryLayers,l=t.drawsGrid&&s,u=i.grid;l&&u!==null&&u.visible&&!isNaN(u.width)&&!isNaN(u.height)&&(u=J.alloc().assign(t.viewportBounds).ed(i.viewportBounds),Ca(i,u),J.free(u),gn(i));var c=t.Bb;c.reset(),t.scale!==1&&c.scale(t.scale),t.position.x===0&&t.position.y===0||c.translate(-t.position.x,-t.position.y),u=t.ib,u.scale(t.Nb,t.Nb),u.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),u.yc(),i=i.Wa.s,c=i.length;for(var d=0;d<c;d++){var m=i[d],y=t;if(m.visible&&m.opacity!==0){var O=m.diagram.grid.part;if(!s&&m.isTemporary)l&&O.layer===m&&(m=ky(m,u),O.ic(u,y),u.globalAlpha=m);else{for(var w=ky(m,u),k=y.scale,P=J.alloc(),T=m.Pa.s,C=T.length,A=0;A<C;A++){var I=T[A];(l||I!==O)&&m.Nj(u,I,y,null,k,P,!1)}J.free(P),u.globalAlpha=w}}}}}function Qy(t){var i=t.box;if(i!==null){var s=t.observed;if(s!==null){t.Fc=!0,s=s.viewportBounds;var l=i.selectionObject,u=At.alloc();u.h(s.width,s.height),l.desiredSize=u,At.free(u),t=2/t.scale,l instanceof It&&(l.strokeWidth=t),i.location=new F(s.x-t/2,s.y-t/2),i.isSelected=!0}}}Ko.prototype.computeBounds=function(){var t=this.observed;if(t===null)return Cx;var i=t.documentBounds.copy();return i.ed(t.viewportBounds),i},Ko.prototype.invalidateViewport=function(){this.Fc!==!0&&(this.Fc=!0,this.Rb())},Ko.prototype.onViewportBoundsChanged=function(t,i,s,l){this.wb||(this.vd=!0,this.N(),this.Ee=!0,this.Ya(),Qy(this),this.hc.scale=s,this.hc.position.x=t.x,this.hc.position.y=t.y,this.hc.bounds.assign(t),this.hc.Tz=l,this.S("ViewportBoundsChanged",this.hc,t))},S.Object.defineProperties(Ko.prototype,{observed:{get:function(){return this.V},set:function(t){var i=this.V;if(t instanceof Ko&&D("Overview.observed Diagram may not be an Overview itself: "+t),i!==t){if(i!==null&&(this.remove(this.box),i.bm("ViewportBoundsChanged",this.Pf),i.bm("DocumentBoundsChanged",this.Xd),i.bm("InvalidateDraw",this.Ha),i.bm("AnimationFinished",this.Of)),this.V=t,t!==null&&(t.Cj("ViewportBoundsChanged",this.Pf),t.Cj("DocumentBoundsChanged",this.Xd),t.Cj("InvalidateDraw",this.Ha),t.Cj("AnimationFinished",this.Of),this.add(this.box)),this.Ya(),t===null){this.ql=null;var s=this.ta,l=this.ib;s&&l&&(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,s.width,s.height))}else this.Ha(null),Qy(this),this.N();this.g("observed",i,t)}}},box:{get:function(){return this.j},set:function(t){var i=this.j;i!==t&&(this.j=t,this.remove(i),this.add(this.j),Qy(this),this.g("box",i,t))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.redraw())}},updateDelay:{get:function(){return this.ia},set:function(t){0>t&&(t=0),this.ia!==t&&(this.ia=t)}}}),Ko.className="Overview";function bf(){Me.call(this),this.j=null}v(bf,Me),bf.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t===null||!t.allowMove||!t.allowSelect)return!1;var i=t.observed;if(i===null)return!1;var s=t.lastInput;return!s.left||t.currentTool!==this&&(!this.isBeyondDragSize()||s.isTouchEvent&&s.timestamp-t.firstInput.timestamp<this.delay)?!1:(this.findDraggablePart()===null&&(s=i.viewportBounds,this.j=new F(s.width/2,s.height/2),t=t.firstInput.documentPoint,i.position=new F(t.x-this.j.x,t.y-this.j.y)),!0)},bf.prototype.doActivate=function(){this.j=null,Me.prototype.doActivate.call(this)},bf.prototype.doUpdateCursor=function(){var t=this.diagram,i=t.box;i!==null&&i.cursor&&(t.currentCursor=i.cursor)},bf.prototype.moveParts=function(){var t=this.diagram,i=t.observed;if(i!==null){var s=t.box;if(s!==null){if(this.j===null){var l=t.firstInput.documentPoint;s=s.location,this.j=new F(l.x-s.x,l.y-s.y)}t=t.lastInput.documentPoint,i.position=new F(t.x-this.j.x,t.y-this.j.y)}}},bf.className="OverviewDraggingTool";function he(){Ye(this),this.H=dp,this.Ha=this.u=this.o=!0,this.F=this.V=this.nb=this.ia=!1,this.jj=this.j=null,this.Ib=1.05,this.Kt=NaN,this.uw=null,this.Bu=NaN,this.zu=Cx,this.hb=!0,this.cg=null,this.ob=200}he.prototype.toString=function(){return"CommandHandler"},he.prototype.Xe=function(t){this.H=t},he.prototype.doKeyDown=function(){var t=this.diagram,i=t.lastInput,s=Dt?i.meta:i.control,l=i.shift,u=i.alt,c=i.key;!s||c!=="C"&&c!=="Insert"?s&&c==="X"||l&&c==="Del"?this.canCutSelection()&&this.cutSelection():s&&c==="V"||l&&c==="Insert"?this.canPasteSelection()&&this.pasteSelection():s&&c==="Y"||u&&l&&c==="Backspace"?this.canRedo()&&this.redo():s&&c==="Z"||u&&c==="Backspace"?this.canUndo()&&this.undo():c==="Del"||c==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():s&&c==="A"?this.canSelectAll()&&this.selectAll():c==="Esc"?this.canStopCommand()&&this.stopCommand():c==="Up"?t.allowVerticalScroll&&(s?t.scroll("pixel","up"):t.scroll("line","up")):c==="Down"?t.allowVerticalScroll&&(s?t.scroll("pixel","down"):t.scroll("line","down")):c==="Left"?t.allowHorizontalScroll&&(s?t.scroll("pixel","left"):t.scroll("line","left")):c==="Right"?t.allowHorizontalScroll&&(s?t.scroll("pixel","right"):t.scroll("line","right")):c==="PageUp"?l&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):c==="PageDown"?l&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):c==="Home"?s&&t.allowVerticalScroll?t.scroll("document","up"):!s&&t.allowHorizontalScroll&&t.scroll("document","left"):c==="End"?s&&t.allowVerticalScroll?t.scroll("document","down"):!s&&t.allowHorizontalScroll&&t.scroll("document","right"):c===" "?this.canScrollToPart()&&this.scrollToPart():c==="Subtract"?this.canDecreaseZoom()&&this.decreaseZoom():c==="Add"?this.canIncreaseZoom()&&this.increaseZoom():s&&c==="0"?this.canResetZoom()&&this.resetZoom():l&&c==="Z"?this.canZoomToFit()&&this.zoomToFit():s&&!l&&c==="G"?this.canGroupSelection()&&this.groupSelection():s&&l&&c==="G"?this.canUngroupSelection()&&this.ungroupSelection():c==="F2"||i.event&&i.event.key==="F2"?this.canEditTextBlock()&&this.editTextBlock():c==="ContextMenu"||i.event&&i.event.key==="ContextMenu"?this.canShowContextMenu()&&this.showContextMenu():i.bubbles=!0:this.canCopySelection()&&this.copySelection()},he.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},he.prototype.stopCommand=function(){var t=this.diagram,i=t.currentTool;i instanceof Ce&&t.allowSelect&&t.clearSelection(),i!==null&&i.doCancel()},he.prototype.canStopCommand=function(){return!0},he.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.S("ChangingSelection",t.selection);for(var i=t.parts;i.next();)i.value.isSelected=!0;for(var s=t.nodes;s.next();)s.value.isSelected=!0;for(var l=t.links;l.next();)l.value.isSelected=!0}finally{t.S("ChangedSelection",t.selection),t.currentCursor=""}},he.prototype.canSelectAll=function(){return this.diagram.allowSelect},he.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.S("ChangingSelection",t.selection),t.Ea("Delete"),t.S("SelectionDeleting",t.selection);for(var i=new ut,s=t.selection.iterator;s.next();)Eu(i,s.value,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,function(l){return l.canDelete()});t.Js(i,!0),t.S("SelectionDeleted",i)}finally{t.eb("Delete"),t.S("ChangedSelection",t.selection),t.currentCursor=""}},he.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||t.selection.count===0)},he.prototype.copySelection=function(){var t=this.diagram,i=new ut;for(t=t.selection.iterator;t.next();)Eu(i,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(s){return s.canCopy()});this.copyToClipboard(i)},he.prototype.canCopySelection=function(){var t=this.diagram;return!!(t.allowCopy&&t.allowClipboard&&t.selection.count!==0)},he.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},he.prototype.canCutSelection=function(){var t=this.diagram;return!!(!t.isReadOnly&&!t.isModelReadOnly&&t.allowCopy&&t.allowDelete&&t.allowClipboard&&t.selection.count!==0)},he.prototype.copyToClipboard=function(t){var i=this.diagram,s=null;if(t===null)gp=null,My="";else{s=i.model;var l=!1,u=!1,c=null;try{s.Tl()&&(l=s.Jj,s.Jj=this.copiesParentKey),s.Vj()&&(u=s.Ij,s.Ij=this.copiesGroupKey),c=i.Kj(t,null,!0)}finally{s.Tl()&&(s.Jj=l),s.Vj()&&(s.Ij=u),s=new ct,s.addAll(c),gp=s,My=i.model.dataFormat}}i.S("ClipboardChanged",s)},he.prototype.pasteFromClipboard=function(){var t=new ut,i=gp;if(i===null)return t;var s=this.diagram;if(My!==s.model.dataFormat)return t;var l=s.model,u=!1,c=!1,d=null;try{l.Tl()&&(u=l.Jj,l.Jj=this.copiesParentKey),l.Vj()&&(c=l.Ij,l.Ij=this.copiesGroupKey),d=s.Kj(i,s,!1)}finally{for(l.Tl()&&(l.Jj=u),l.Vj()&&(l.Ij=c),i=d.iterator;i.next();)s=i.value,l=i.key,s.location.w()||(l.location.w()?s.location=l.location:!s.position.w()&&l.position.w()&&(s.position=l.position)),t.add(s)}return t},he.prototype.pasteSelection=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.currentCursor="wait",i.S("ChangingSelection",i.selection),i.Ea("Paste");var s=this.pasteFromClipboard();0<s.count&&i.clearSelection(!0);for(var l=s.iterator;l.next();)l.value.isSelected=!0;if(t!==null){var u=i.computePartsBounds(i.selection);if(u.w()){var c=this.computeEffectiveCollection(i.selection,i.Xm);Yb(i,c,new F(t.x-u.centerX,t.y-u.centerY),i.Xm,!1)}}i.S("ClipboardPasted",s)}finally{i.eb("Paste"),i.S("ChangedSelection",i.selection),i.currentCursor=""}},he.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||gp===null||gp.count===0||My!==t.model.dataFormat)},he.prototype.undo=function(){this.diagram.undoManager.undo()},he.prototype.canUndo=function(){var t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canUndo()},he.prototype.redo=function(){this.diagram.undoManager.redo()},he.prototype.canRedo=function(){var t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canRedo()},he.prototype.decreaseZoom=function(t){t===void 0&&(t=1/this.zoomFactor);var i=this.diagram;i.autoScale===mr&&(t=i.scale*t,t<i.minScale||t>i.maxScale||(i.scale=t))},he.prototype.canDecreaseZoom=function(t){t===void 0&&(t=1/this.zoomFactor);var i=this.diagram;return i.autoScale!==mr?!1:(t=i.scale*t,t<i.minScale||t>i.maxScale?!1:i.allowZoom)},he.prototype.increaseZoom=function(t){t===void 0&&(t=this.zoomFactor);var i=this.diagram;i.autoScale===mr&&(t=i.scale*t,t<i.minScale||t>i.maxScale||(i.scale=t))},he.prototype.canIncreaseZoom=function(t){t===void 0&&(t=this.zoomFactor);var i=this.diagram;return i.autoScale!==mr?!1:(t=i.scale*t,t<i.minScale||t>i.maxScale?!1:i.allowZoom)},he.prototype.resetZoom=function(t){t===void 0&&(t=this.defaultScale);var i=this.diagram;t<i.minScale||t>i.maxScale||(i.scale=t)},he.prototype.canResetZoom=function(t){t===void 0&&(t=this.defaultScale);var i=this.diagram;return t<i.minScale||t>i.maxScale?!1:i.allowZoom},he.prototype.zoomToFit=function(){var t=this.diagram,i=t.animationManager;i.Cc(),t.redraw();var s=t.position,l=t.scale;Pa(i,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&l===this.Bu&&!isNaN(this.Kt)&&t.documentBounds.D(this.zu)?(t.scale=this.Kt,t.position=this.uw,this.Bu=NaN,this.zu=Cx):(this.Kt=l,this.uw=s.copy(),t.zoomToFit(),this.Bu=t.scale,this.zu=t.documentBounds.copy()),Ab(i)},he.prototype.canZoomToFit=function(){return this.diagram.allowZoom},he.prototype.scrollToPart=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.Va(),t===null){try{this.cg!==null&&(this.cg.next()?t=this.cg.value:this.cg=null)}catch{this.cg=null}t===null&&(0<i.highlighteds.count?this.cg=i.highlighteds.iterator:0<i.selection.count&&(this.cg=i.selection.iterator),this.cg!==null&&this.cg.next()&&(t=this.cg.value))}if(t!==null){var s=i.animationManager;Pa(s,"Scroll To Part");var l=this.scrollToPartPause;if(0<l){var u=Tf(this,t,[t]);if(u.length===1)i.Ea(),i.es(t.actualBounds),i.eb("Scroll To Part");else{var c=function(){i.Ea();for(var y=u.pop();0<u.length&&y instanceof ft&&y.isTreeExpanded&&(!(y instanceof Et)||y.isSubGraphExpanded);)y=u.pop();0<u.length?(y instanceof kt&&i.vv(y.actualBounds),y instanceof ft&&!y.isTreeExpanded&&(y.isTreeExpanded=!0),y instanceof Et&&!y.isSubGraphExpanded&&(y.isSubGraphExpanded=!0)):(y instanceof kt&&i.es(y.actualBounds),i.bm("LayoutCompleted",d)),i.eb("Scroll To Part")},d=function(){$(c,(s.isEnabled?s.duration:0)+l)};i.Cj("LayoutCompleted",d),c()}}else{var m=i.position.copy();i.es(t.actualBounds),m.Xa(i.position)&&s.Cc()}}};function Tf(t,i,s){if(i.isVisible())return s;if(i instanceof Wt)Tf(t,i.adornedPart,s);else if(i instanceof st){var l=i.fromNode;l!==null&&Tf(t,l,s),i=i.toNode,i!==null&&Tf(t,i,s)}else i instanceof ft&&(l=i.labeledLink,l!==null&&Tf(t,l,s),l=i.pg(),l!==null&&(l.isTreeExpanded||l.wasTreeExpanded||s.push(l),Tf(t,l,s))),i=i.containingGroup,i!==null&&(i.isSubGraphExpanded||i.wasSubGraphExpanded||s.push(i),Tf(t,i,s));return s}he.prototype.canScrollToPart=function(t){return t===void 0&&(t=null),t!==null&&!(t instanceof kt)?!1:(t=this.diagram,t.selection.count===0&&t.highlighteds.count===0?!1:t.allowHorizontalScroll&&t.allowVerticalScroll)},he.prototype.collapseTree=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Collapse Tree"),Pa(i.animationManager,"Collapse Tree");var s=new ct;if(t!==null&&t.isTreeExpanded)t.collapseTree(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof ft&&u.isTreeExpanded&&(u.collapseTree(),s.add(u))}i.S("TreeCollapsed",s)}finally{i.eb("Collapse Tree")}},he.prototype.canCollapseTree=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null){if(!(t instanceof ft&&t.isTreeExpanded))return!1;if(0<t.Ro().count)return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof ft&&i.isTreeExpanded&&0<i.Ro().count)return!0;return!1},he.prototype.expandTree=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Expand Tree"),Pa(i.animationManager,"Expand Tree");var s=new ct;if(t!==null&&!t.isTreeExpanded)t.expandTree(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof ft&&!u.isTreeExpanded&&(u.expandTree(),s.add(u))}i.S("TreeExpanded",s)}finally{i.eb("Expand Tree")}},he.prototype.canExpandTree=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null){if(!(t instanceof ft)||t.isTreeExpanded)return!1;if(0<t.Ro().count)return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof ft&&!i.isTreeExpanded&&0<i.Ro().count)return!0;return!1},he.prototype.groupSelection=function(){var t=this.diagram,i=t.model;if(i.Wj()){var s=this.archetypeGroupData;if(s!==null){var l=null;try{t.currentCursor="wait",t.S("ChangingSelection",t.selection),t.Ea("Group");for(var u=new ct,c=t.selection.iterator;c.next();){var d=c.value;d.Zc()&&d.canGroup()&&u.add(d)}for(var m=new ct,y=u.iterator;y.next();){var O=y.value;c=!1;for(var w=u.iterator;w.next();)if(O.Td(w.value)){c=!0;break}c||m.add(O)}if(0<m.count){var k=m.first().containingGroup;if(k!==null)for(;k!==null;){u=!1;for(var P=m.iterator;P.next();)if(!P.value.Td(k)){u=!0;break}if(u)k=k.containingGroup;else break}if(s instanceof Et)Jr(s),l=s.copy(),l!==null&&t.add(l);else if(i.$u(s)){var T=i.copyNodeData(s);tt(T)&&(i.xf(T),l=t.ji(T))}if(l!==null){k!==null&&this.isValidMember(k,l)&&(l.containingGroup=k);for(var C=m.iterator;C.next();){var A=C.value;this.isValidMember(l,A)&&(A.containingGroup=l)}t.clearSelection(!0),l.isSelected=!0}}t.S("SelectionGrouped",l)}finally{t.eb("Group"),t.S("ChangedSelection",t.selection),t.currentCursor=""}}}},he.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Wj()||this.archetypeGroupData===null)return!1;for(t=t.selection.iterator;t.next();){var i=t.value;if(i.Zc()&&i.canGroup())return!0}return!1};function hT(t){var i=St();for(t=t.iterator;t.next();){var s=t.value;s instanceof st||i.push(s)}t=new ut,s=i.length;for(var l=0;l<s;l++){for(var u=i[l],c=!0,d=0;d<s;d++)if(u.Td(i[d])){c=!1;break}c&&t.add(u)}return mt(i),t}he.prototype.isValidMember=function(t,i){if(i===null||t===i||i instanceof st)return!1;if(t!==null){if(t===i||t.Td(i))return!1;var s=t.memberValidation;if(s!==null&&!s(t,i)||t.data===null&&i.data!==null||t.data!==null&&i.data===null)return!1}return s=this.memberValidation,s!==null?s(t,i):!0},he.prototype.ungroupSelection=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.model;if(s.Wj())try{i.currentCursor="wait",i.S("ChangingSelection",i.selection),i.Ea("Ungroup");var l=new ct;if(t!==null)l.add(t);else for(var u=i.selection.iterator;u.next();){var c=u.value;c instanceof Et&&c.canUngroup()&&l.add(c)}var d=new ct;if(0<l.count){i.clearSelection(!0);for(var m=l.iterator;m.next();){var y=m.value;y.expandSubGraph();var O=y.containingGroup,w=O!==null&&O.data!==null?s.wa(O.data):void 0;d.addAll(y.memberParts);for(var k=d.iterator;k.next();){var P=k.value;if(P.isSelected=!0,!(P instanceof st)){var T=P.data;T!==null?s.mp(T,w):P.containingGroup=O}}i.remove(y)}}i.S("SelectionUngrouped",l,d)}finally{i.eb("Ungroup"),i.S("ChangedSelection",i.selection),i.currentCursor=""}},he.prototype.canUngroupSelection=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly||i.isModelReadOnly||!i.allowDelete||!i.allowUngroup||!i.model.Wj())return!1;if(t!==null){if(!(t instanceof Et))return!1;if(t.canUngroup())return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Et&&i.canUngroup())return!0;return!1},he.prototype.addTopLevelParts=function(t,i){var s=!0;for(t=hT(t).iterator;t.next();){var l=t.value;l.containingGroup!==null&&(!i||this.isValidMember(null,l)?l.containingGroup=null:s=!1)}return s},he.prototype.collapseSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Collapse SubGraph"),Pa(i.animationManager,"Collapse SubGraph");var s=new ct;if(t!==null&&t.isSubGraphExpanded)t.collapseSubGraph(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof Et&&u.isSubGraphExpanded&&(u.collapseSubGraph(),s.add(u))}i.S("SubGraphCollapsed",s)}finally{i.eb("Collapse SubGraph")}},he.prototype.canCollapseSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null)return!!(t instanceof Et&&t.isSubGraphExpanded);for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Et&&i.isSubGraphExpanded)return!0;return!1},he.prototype.expandSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Expand SubGraph"),Pa(i.animationManager,"Expand SubGraph");var s=new ct;if(t!==null&&!t.isSubGraphExpanded)t.expandSubGraph(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof Et&&!u.isSubGraphExpanded&&(u.expandSubGraph(),s.add(u))}i.S("SubGraphExpanded",s)}finally{i.eb("Expand SubGraph")}},he.prototype.canExpandSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null)return t instanceof Et&&!t.isSubGraphExpanded;for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Et&&!i.isSubGraphExpanded)return!0;return!1},he.prototype.editTextBlock=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.toolManager.findTool("TextEditing");if(s!==null){if(t===null){t=null;for(var l=i.selection.iterator;l.next();){var u=l.value;if(u.canEdit()){t=u;break}}if(t===null)return;t=t.Nl(function(c){return c instanceof fe&&c.editable})}t!==null&&(i.currentTool=null,s.textBlock=t,i.currentTool=s)}},he.prototype.canEditTextBlock=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly||i.isModelReadOnly||!i.allowTextEdit||i.toolManager.findTool("TextEditing")===null)return!1;if(t!==null){if(!(t instanceof fe))return!1;if(t=t.part,t!==null&&t.canEdit())return!0}else for(i=i.selection.iterator;i.next();)if(t=i.value,t.canEdit()&&(t=t.Nl(function(s){return s instanceof fe&&s.editable}),t!==null))return!0;return!1},he.prototype.showContextMenu=function(t){var i=this.diagram,s=i.toolManager.findTool("ContextMenu");if(s!==null&&(t===void 0&&(t=0<i.selection.count?i.selection.first():i),t=s.findObjectWithContextMenu(t),t!==null)){var l=i.lastInput,u=null;t instanceof vt?u=t.ga(oe):i.viewportBounds.ca(l.documentPoint)||(u=i.viewportBounds,u=new F(u.x+u.width/2,u.y+u.height/2)),u!==null&&(l.viewPoint=i.op(u),l.documentPoint=u,l.left=!1,l.right=!0,l.up=!0),i.currentTool=s,mE(s,!1,t)}},he.prototype.canShowContextMenu=function(t){var i=this.diagram,s=i.toolManager.findTool("ContextMenu");return s===null?!1:(t===void 0&&(t=0<i.selection.count?i.selection.first():i),s.findObjectWithContextMenu(t)!==null)},he.prototype.computeEffectiveCollection=function(t,i){var s=this.diagram,l=s.toolManager.findTool("Dragging"),u=s.currentTool===l;if(i===void 0&&(i=u?l.dragOptions:s.Xm),l=new jt,t===null)return l;for(var c=t.iterator;c.next();)Ta(s,l,c.value,u,i);if(s.draggedLink!==null&&i.dragsLink)return l;for(c=t.iterator;c.next();)t=c.value,t instanceof st&&(i=t.fromNode,i===null||l.contains(i)?(i=t.toNode,i===null||l.contains(i)||l.remove(t)):l.remove(t));return l},S.Object.defineProperties(he.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.o},set:function(t){this.o=t}},copiesConnectedLinks:{get:function(){return this.u},set:function(t){this.u=t}},deletesConnectedLinks:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiesTree:{get:function(){return this.ia},set:function(t){this.ia=t}},deletesTree:{get:function(){return this.nb},set:function(t){this.nb=t}},copiesParentKey:{get:function(){return this.V},set:function(t){this.V=t}},copiesGroupKey:{get:function(){return this.F},set:function(t){this.F=t}},archetypeGroupData:{get:function(){return this.j},set:function(t){this.j=t}},memberValidation:{get:function(){return this.jj},set:function(t){this.jj=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Ib},set:function(t){1<t||D("zoomFactor must be larger than 1.0, not: "+t),this.Ib=t}},isZoomToFitRestoreEnabled:{get:function(){return this.hb},set:function(t){this.hb=t}},scrollToPartPause:{get:function(){return this.ob},set:function(t){this.ob=t}}}),he.className="CommandHandler",QE=function(){return new he};function vt(){Ye(this),this.l=30723,this.pb=1,this.cn="",this.Ma=this.Me=null,this.pa=new F(NaN,NaN).freeze(),this.jd=fr,this.Bb=new Bt,this.wh=new Bt,this.Mb=null,this.Ca=this.Jk=1,this.Lb=0,this.Kg=Gd,this.uc=new J(NaN,NaN,NaN,NaN).freeze(),this.Jb=new J(NaN,NaN,NaN,NaN).freeze(),this.fc=new J(0,0,NaN,NaN).freeze(),this.ba=this.Zn=this.$n=null,this.rk=this.Kb=Yi,this.Ag=this.jo=0,this.V=this.tb=this.Dh=this.A=this.Ua=null,this.Hc=!1,this.ko=this.Ng=null}var $e,je,Hr,ji,Ii,Qr,Cf,xp,wp,Sp;vt.prototype.cloneProtected=function(t){t.l=this.l|6144,t.pb=this.pb,t.cn=this.cn,t.Ma=this.Ma,t.pa.assign(this.pa),t.jd=this.jd.J(),this.Mb!==null?t.Mb=this.Mb.copy():t.Mb=null,t.Ca=this.Ca,t.Lb=this.Lb,t.Kg=this.Kg.J(),t.uc.assign(this.uc),t.Jb.assign(this.Jb),t.fc.assign(this.fc),t.Zn=this.Zn,this.ba!==null&&(t.ba=this.ba.copy()),t.Kb=this.Kb.J(),t.rk=this.rk.J(),t.jo=this.jo,t.Ag=this.Ag,this.Ua!==null&&(t.Ua=this.Ua.copy()),this.A!==null&&(t.A=this.A.pc?this.A:this.A.copy()),this.Dh!==null&&(t.Dh=Ot(this.Dh)),this.tb!==null&&(t.tb=this.tb.copy())},vt.prototype.Xw=function(t){var i=this.Dh;if(rt(i)){for(var s=0;s<i.length;s++)if(i[s]===t)return}else this.Dh=i=[];i.push(t)},vt.prototype.Af=function(t){t.$n=null,t.Ng=null,t.v()},vt.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),this.Dh!==null)for(var i=0;i<this.Dh.length;i++){var s=this.Dh[i];t[s]=this[s]}return t},vt.prototype.copy=function(){return this.clone()},n=vt.prototype,n.qb=function(t){t.classType===st?t.name.indexOf("Orient")===0?this.segmentOrientation=t:D("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===vt&&(this.stretch=t)},n.toString=function(){return Ft(this.constructor)+"#"+Qi(this)},n.th=function(){this.A!==null&&(this.A.pc=!0)};function li(t){t.A===null?t.A=new Nf:t.A.pc&&(t.A=t.A.copy())}n.Xc=function(){if(this.ba===null){var t=new jy;t.Yi=Zi,t.zj=Zi,t.Wi=10,t.xj=10,t.Xi=0,t.yj=0,this.ba=t}},n.cb=function(t,i,s,l,u,c,d){var m=this.part;if(m!==null&&(m.fk(t,i,s,l,u,c,d),s===this&&t===Se&&Mf(this)&&Dh(this,m,i),c=this.diagram,this.animationTriggers===null||c===null||!c.ri||c.undoManager.isUndoingRedoing||c.animationManager.Em||(t=this.animationTriggers.get(i),t!==null&&c.animationManager.isEnabled&&!c.animationManager.isTicking&&(this.ko===null&&(this.ko=new jt),d=c.undoManager.transactionLevel===0,t.startCondition===Bx?d=!0:t.startCondition===Db&&(d=!1),d?(c=new en,PG(t,c),d=this.ko.get(t),d!==null&&d.stop(),this.ko.add(t,c),c.wu=this,c.Pw=t,c.add(this,i,l,u),c.start()):(Pa(c.animationManager,"Trigger"),c.animationManager.defaultAnimation.add(this,i,l,u)))),this instanceof nt&&s===m&&(m.l&16777216)!==0&&m.data!==null))for(s=this.O.s,l=s.length,u=0;u<l;u++)m=s[u],m instanceof nt&&Bh(m,function(y){y.data!==null&&y.l&16777216&&y.La(i)})};function Dh(t,i,s){var l=t.ih();if(l!==null)for(var u=t.localBindings.iterator;u.next();){var c=u.value,d=null;if(c.sourceName!==null){if(d=zD(c,l,t),d===null)continue;c.sp(t,d,s,null)}else if(c.isToModel){var m=i.diagram;m===null||m.skipsModelSourceBindings||c.sp(t,m.model.modelData,s,l)}else{if(m=l.data,m===null)continue;var y=i.diagram;y===null||y.skipsModelSourceBindings||c.sp(t,m,s,l)}d===t&&(m=l.ks(c.Bi),m!==null&&c.Ov(m,d,s))}}n.ks=function(t){return this.bindingId===t?this:null},n.g=function(t,i,s){this.cb(Se,t,this,i,s)},n.Ge=function(t,i,s,l){var u=this.uc;if(u.h(t,i,s,l),this.Ca!==1||this.Lb!==0){this.Mb===null&&(this.Mb=new Bt);var c=this.Mb;c.reset(),this.oo(c,t,i,s,l),c.pp(u)}};function n$(t,i,s,l){return t.pickable===!1?!1:(l.multiply(t.transform),s?t.Yc(i,l):t.fh(i,l))}n.vx=function(t,i,s){if(this.pickable===!1)return!1;var l=this.naturalBounds;return i=t.Bf(i),s?Di(t.x,t.y,0,0,0,l.height)<=i||Di(t.x,t.y,0,l.height,l.width,l.height)<=i||Di(t.x,t.y,l.width,l.height,l.width,0)<=i||Di(t.x,t.y,l.width,0,0,0)<=i:t.zd(0,0)<=i&&t.zd(0,l.height)<=i&&t.zd(l.width,0)<=i&&t.zd(l.width,l.height)<=i},n.se=function(){return!0},n.ca=function(t){var i=F.alloc();i.assign(t),this.transform.Ga(i);var s=this.actualBounds;if(!s.w())return F.free(i),!1;var l=this.diagram;if(l!==null&&l.wq){var u=l.Ql("extraTouchThreshold"),c=l.Ql("extraTouchArea"),d=c/2,m=this.naturalBounds;l=this.Df()*l.scale;var y=1/l;if(m.width*l<u&&m.height*l<u)return t=Xs(s.x-d*y,s.y-d*y,s.width+c*y,s.height+c*y,i.x,i.y),F.free(i),t}return u=!1,(this instanceof Wt||this instanceof It?Xs(s.x-5,s.y-5,s.width+10,s.height+10,i.x,i.y):s.ca(i))&&(this.tb&&!this.tb.ca(i)?u=!1:this.areaBackground!==null&&s.ca(i)||this.Ma!==null&&this.fc.ca(t)?u=!0:u=this.gh(t)),F.free(i),u},n.gh=function(t){var i=this.naturalBounds;return Xs(0,0,i.width,i.height,t.x,t.y)},n.Re=function(t){if(this.angle===0)return this.actualBounds.Re(t);var i=this.naturalBounds;i=J.allocAt(0,0,i.width,i.height);var s=this.transform,l=!1,u=F.allocAt(t.x,t.y);return i.ca(s.Cd(u))&&(u.h(t.x,t.bottom),i.ca(s.Cd(u))&&(u.h(t.right,t.bottom),i.ca(s.Cd(u))&&(u.h(t.right,t.y),i.ca(s.Cd(u))&&(l=!0)))),F.free(u),J.free(i),l},n.fh=function(t,i){if(i===void 0)return t.Re(this.actualBounds);var s=this.naturalBounds,l=!1,u=F.allocAt(0,0);return t.ca(i.Ga(u))&&(u.h(0,s.height),t.ca(i.Ga(u))&&(u.h(s.width,s.height),t.ca(i.Ga(u))&&(u.h(s.width,0),t.ca(i.Ga(u))&&(l=!0)))),F.free(u),l},n.Yc=function(t,i){if(i===void 0&&(i=this.transform,this.angle===0))return t.Yc(this.actualBounds);var s=this.naturalBounds,l=F.allocAt(0,0),u=F.allocAt(0,s.height),c=F.allocAt(s.width,s.height),d=F.allocAt(s.width,0),m=!1;if(t.ca(i.Ga(l))||t.ca(i.Ga(u))||t.ca(i.Ga(c))||t.ca(i.Ga(d)))m=!0;else{s=J.allocAt(0,0,s.width,s.height);var y=F.allocAt(t.x,t.y);s.ca(i.Cd(y))?m=!0:(y.h(t.x,t.bottom),s.ca(i.Cd(y))?m=!0:(y.h(t.right,t.bottom),s.ca(i.Cd(y))?m=!0:(y.h(t.right,t.y),s.ca(i.Cd(y))&&(m=!0)))),F.free(y),J.free(s),!m&&(Y.us(t,l,u)||Y.us(t,u,c)||Y.us(t,c,d)||Y.us(t,d,l))&&(m=!0)}return F.free(l),F.free(u),F.free(c),F.free(d),m},n.ga=function(t,i){if(i===void 0&&(i=new F),t instanceof Tt){var s=this.naturalBounds;i.h(t.x*s.width+t.offsetX,t.y*s.height+t.offsetY)}else i.set(t);return this.oe.Ga(i),i},n.ni=function(t){t===void 0&&(t=new J);var i=this.naturalBounds,s=this.oe,l=F.allocAt(0,0).transform(s);return t.h(l.x,l.y,0,0),l.h(i.width,0).transform(s),wi(t,l.x,l.y,0,0),l.h(i.width,i.height).transform(s),wi(t,l.x,l.y,0,0),l.h(0,i.height).transform(s),wi(t,l.x,l.y,0,0),F.free(l),t},n.mi=function(){var t=this.oe;return t.m11===1&&t.m12===0?t=0:(t=180*Math.atan2(t.m12,t.m11)/Math.PI,0>t&&(t+=360)),t},n.Df=function(){if(!(this.l&4096))return this.Jk;var t=this.Ca;return this.panel!==null?t*this.panel.Df():t},n.qs=function(t,i){return i===void 0&&(i=new F),i.assign(t),this.oe.Cd(i),i},n.rs=function(t,i,s){return this.Rj(t.x,t.y,i.x,i.y,s)},n.Rj=function(t,i,s,l,u){var c=this.transform,d=1/(c.m11*c.m22-c.m12*c.m21),m=c.m22*d,y=-c.m12*d,O=-c.m21*d,w=c.m11*d,k=d*(c.m21*c.dy-c.m22*c.dx),P=d*(c.m12*c.dx-c.m11*c.dy);return this.areaBackground!==null?(c=this.actualBounds,Y.Ff(c.left,c.top,c.right,c.bottom,t,i,s,l,u)):(d=t*m+i*O+k,t=t*y+i*w+P,i=s*m+l*O+k,s=s*y+l*w+P,u.h(0,0),l=this.naturalBounds,s=Y.Ff(0,0,l.width,l.height,d,t,i,s,u),u.transform(c),s)},vt.prototype.measure=function(t,i,s,l){if(Na(this)!==!1){var u=this.Kg,c=u.right+u.left;u=u.top+u.bottom,t=Math.max(t-c,0),i=Math.max(i-u,0),s=Math.max((s||0)-c,0),l=Math.max((l||0)-u,0),c=this.angle,u=this.desiredSize;var d=this.kq();c===90||c===270?(t=isFinite(u.height)?u.height+d:t,i=isFinite(u.width)?u.width+d:i):(t=isFinite(u.width)?u.width+d:t,i=isFinite(u.height)?u.height+d:i),u=s||0,d=l||0;var m=this instanceof nt;switch(Ys(this,!0)){case je:d=u=0,m&&(i=t=1/0);break;case $e:isFinite(t)&&t>s&&(u=t),isFinite(i)&&i>l&&(d=i);break;case ji:isFinite(t)&&t>s&&(u=t),d=0,m&&(i=1/0);break;case Ii:isFinite(i)&&i>l&&(d=i),u=0,m&&(t=1/0)}m=this.maxSize;var y=this.minSize;u>m.width&&y.width<m.width&&(u=m.width),d>m.height&&y.height<m.height&&(d=m.height),s=Math.max(u,y.width),l=Math.max(d,y.height),m.width<s&&(s=Math.min(y.width,s)),m.height<l&&(l=Math.min(y.height,l)),t=Math.min(m.width,t),i=Math.min(m.height,i),t=Math.max(s,t),i=Math.max(l,i),(c===90||c===270)&&(c=t,t=i,i=c,c=s,s=l,l=c),this.uc.ka(),this.Wl(t,i,s,l),this.uc.freeze(),this.uc.w()||D("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.uc.toString()),Ar(this,!1)}},vt.prototype.Wl=function(){},vt.prototype.Dd=function(){return!1},vt.prototype.arrange=function(t,i,s,l,u){this.Tk();var c=J.alloc();c.assign(this.Jb),this.Jb.ka(),Ts(this)===!1?this.Jb.h(t,i,s,l):this.eh(t,i,s,l),this.Jb.freeze(),u===void 0?this.tb=null:this.tb=u,s=!1,u!==void 0?s=!0:(u=this.panel,u!==null&&Aa(u)&&(u=u.panel),u!==null&&(u=u.fc,l=this.measuredBounds,this.areaBackground!==null&&(l=this.Jb),s=i+l.height,l=t+l.width,s=!(0<=t+.05&&l<=u.width+.05&&0<=i+.05&&s<=u.height+.05),this instanceof fe&&(t=this.naturalBounds,this.Lq>t.height||this.Db>t.width))&&(s=!0)),this.l=s?this.l|256:this.l&-257,this.Jb.w()||D("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Jb.toString()),this.Yl(c,this.Jb),Ih(this,!1),J.free(c)},n=vt.prototype,n.eh=function(){};function cT(t,i,s,l,u){if(t.Jb.h(i,s,l,u),!t.desiredSize.w()){var c=t.uc;s=t.Kg,i=s.right+s.left;var d=s.top+s.bottom;switch(s=c.width+i,c=c.height+d,l+=i,u+=d,i=Ys(t,!0),s===l&&c===u&&(i=je),i){case je:(s>l||c>u)&&(Ar(t,!0),t.measure(s>l?l:s,c>u?u:c,0,0));break;case $e:Ar(t,!0),t.measure(l,u,0,0);break;case ji:Ar(t,!0),t.measure(l,c,0,0);break;case Ii:Ar(t,!0),t.measure(s,u,0,0)}}}n.Yl=function(t,i){var s=this.part;s!==null&&s.diagram!==null&&(s.selectionObject!==this&&s.resizeObject!==this&&s.rotateObject!==this||HT(s,!0),this.N(),Rl(t,i)||(s.oh(),this.Qn(s)))},n.Qn=function(t){this.portId!==null&&(HT(t,!0),t instanceof ft&&tD(t,this))},n.ic=function(t,i){if(!FG(this,t,i)&&this.visible){var s=this.opacity;if(s!==0){var l=1;s!==1&&(l=t.globalAlpha,t.globalAlpha=l*s);var u="";this.filter!==""&&(u=t.filter,t.filter=this.filter);var c=this.part,d=this.panel,m=!1,y=0;if(c&&i.Gf("drawShadows")&&(m=c.isShadowed)){var O=c.shadowOffset;y=Math.max(O.y,O.x)*i.scale*i.Nb}O=this.Dd();var w=this instanceof nt&&Aa(this),k=this.Jb;if(w){r$(this,m,t,d);var P=this.Jb,T=this.fc,C=this.areaBackground,A=this.Ma;C===null&&A===null||t.yc(),C!==null&&(gr(this,t,C,!0,!0,T,P),C instanceof ie&&C.type===Or?(t.beginPath(),t.rect(P.x,P.y,P.width,P.height),t.ng(C)):t.fillRect(P.x,P.y,P.width,P.height)),A!==null&&(gr(this,t,A,!0,!1,T,P),A instanceof ie&&A.type===Or?(t.beginPath(),t.rect(P.x,P.y,P.width,P.height),t.ng(A)):t.fillRect(P.x,P.y,P.width,P.height)),this.hh(t,i),m&&this.l&512&&Oo(t)}if(!w&&(w||k.width!==0&&k.height!==0&&!isNaN(k.x)&&!isNaN(k.y))){if(w=this.transform,this.l&4096&&r1(this),!(P=i.aj||!O)){var I=this.naturalBounds;P=this.wh;var E=P.m11,z=P.m21,B=P.dx,_=P.m12,Z=P.m22,H=P.dy,at,pt=at=0;P=at*E+pt*z+B,T=at*_+pt*Z+H,at=I.width+y,pt=0;var gt=at*E+pt*z+B;at=at*_+pt*Z+H,pt=Math.min(P,gt);var ot=Math.min(T,at);C=Math.max(P+0,gt)-pt,A=Math.max(T+0,at)-ot,P=pt,T=ot,at=I.width+y,pt=I.height+y,gt=at*E+pt*z+B,at=at*_+pt*Z+H,pt=Math.min(P,gt),ot=Math.min(T,at),C=Math.max(P+C,gt)-pt,A=Math.max(T+A,at)-ot,P=pt,T=ot,at=0,pt=I.height+y,gt=at*E+pt*z+B,at=at*_+pt*Z+H,pt=Math.min(P,gt),ot=Math.min(T,at),C=Math.max(P+C,gt)-pt,A=Math.max(T+A,at)-ot,P=pt,T=ot,y=i.viewportBounds,I=y.x,E=y.y,P=!(P>y.width+I||I>C+P||T>y.height+E||E>A+T)}if(P){if(y=(this.l&256)!==0,t.clipInsteadOfFill&&(y=!1),this instanceof fe&&(t.font=this.font),y){if(P=d.se()?d.naturalBounds:d.actualBounds,T=Math.max(k.x,P.x),C=Math.max(k.y,P.y),A=Math.min(k.right,P.right)-T,I=Math.min(k.bottom,P.bottom)-C,E=this.tb,E!==null&&(T=E.x,C=E.y,A=E.width,I=E.height),T>k.width+k.x||k.x>P.width+P.x){s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u);return}t.save(),t.beginPath(),t.rect(T,C,A,I),t.clip()}if(O){if(!c.isVisible()){s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u);return}m&&(P=c.shadowOffset,t.Gv(P.x*i.scale*this.scale*i.Nb,P.y*i.scale*this.scale*i.Nb,c.shadowBlur),Oo(t),t.shadowColor=c.shadowColor)}r$(this,m,t,d),c=this.naturalBounds,this.areaBackground!==null&&(t.yc(),fT(this,t,c,k)),t.transform(w.m11,w.m12,w.m21,w.m22,w.dx,w.dy),this.Ma!==null&&(t.yc(),n1(this,t,c,k)),this.hh(t,i),(i=m)&&this.l&512&&Oo(t),O&&i&&yo(t),m&&this.l&512&&Oo(t),O&&m&&yo(t),y&&(t.restore(),t.Vc(this instanceof nt)),w.ws()||(m=1/(w.m11*w.m22-w.m12*w.m21),t.transform(w.m22*m,-w.m12*m,-w.m21*m,w.m11*m,m*(w.m21*w.dy-w.m22*w.dx),m*(w.m12*w.dx-w.m11*w.dy)))}}s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u)}}};function r$(t,i,s,l){i&&t.shadowVisible===!0?Oo(s):i&&t.shadowVisible===!1&&yo(s),i&&i1(t,l)&&t.shadowVisible===null&&yo(s),i&&(t.Ma!==null||i1(t,l))?(s1(t,!0),t.shadowVisible===null&&yo(s)):s1(t,!1)}function i1(t,i){return i===null?!1:(Aa(i)&&(i=i.panel),(i.l&512)!==0||(i.type===nt.Auto||i.type===nt.Spot)&&i.Qb()!==t)}n.Fv=function(){};function fT(t,i,s,l){gr(t,i,t.areaBackground,!0,!0,s,l),t.areaBackground instanceof ie&&t.areaBackground.type===Or?(i.beginPath(),i.rect(l.x,l.y,l.width,l.height),i.ng(t.areaBackground)):i.fillRect(l.x,l.y,l.width,l.height)}function n1(t,i,s,l){var u=t.kq(),c=s.x,d=s.y,m=s.width+u,y=s.height+u;gr(t,i,t.Ma,!0,!1,s,l),t.Ma instanceof ie&&t.Ma.type===Or?(i.beginPath(),i.rect(c-u/2,d-u/2,m,y),i.ng(t.Ma)):i.fillRect(c-u/2,d-u/2,m,y)}function s$(t,i,s){for(var l=i.O.s,u=l.length,c=-1,d=0;d<u;d++)if(l[d]===t){c=d;break}if(t=c,t!==-1)if(t===0)i.svg.gd?i.svg.gd.after(s):i.svg.Ma?i.svg.Ma.after(s):i.type===nt.Table?(i=i.svg.getElementsByClassName("gojs-ts"),i=i.length!==0?i[0]:null,i!==null&&i.after(s)):i.svg.prepend(s);else{for(;t!==0&&!i.M(t-1).Ed();)t--;t===0?i.svg.prepend(s):(t=i.M(t-1).svg,t!==null?t.after(s):i.svg.appendChild(s))}}function FG(t,i,s){if(!(i instanceof Kn))return!1;if(!t.visible||t.opacity===0||t.Dd()&&!t.isVisible())return t.svg!==null&&t.svg.parentNode!==null&&t.svg.remove(),!0;var l=t.panel,u=t.mk(i);if(t.jk(i,s,u))return o$(t,t.svg),t.svg.parentElement!==null?(t.Dd()&&(i.ui=t.svg),!0):(t.Dd()?(i.ui!==null?i.ui.after(t.svg):i.hi.prepend(t.svg),i.ui=t.svg):l&&s$(t,l,t.svg),!0);if(t.Dd()&&t.isShadowed){var c=t.shadowOffset;i.Gv(c.x*s.scale*t.scale*s.Nb,c.y*s.scale*t.scale*s.Nb,t.shadowBlur),Oo(i),i.shadowColor=t.shadowColor}t instanceof fe&&(i.font=t.font),i.yd=null;var d=t.transform,m=t instanceof nt,y=t instanceof nt?Aa(t):!1;c=t.svg,t.l&4096&&r1(t);var O=t.Jb;if(i.rb.ha=[1,0,0,1,0,0],i.o=!1,u&&(i.o=!0,m&&y?(Ry(i,1,0,0,1,0,0),t.svg=i.ad):m?(Ry(i,d.m11,d.m12,d.m21,d.m22,d.dx,d.dy),t.svg=i.ad):Ry(i,1,0,0,1,0,0)),u=t.naturalBounds,t.areaBackground!==null){var w=d.copy().Uj();i.rb.ha=[w.m11,w.m12,w.m21,w.m22,w.dx,w.dy],fT(t,i,u,O),i.rb.ha=[1,0,0,1,0,0],i.yd.gd=i.ad,i.yd.prepend(i.ad)}return m||(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy]),t.background!==null&&(m?(y&&(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy]),n1(t,i,u,O),y&&(i.rb.ha=[1,0,0,1,0,0])):(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy],n1(t,i,u,O)),i.yd.Ma=i.ad,i.yd.prepend(i.ad)),d=i.yd,u=t.part,y=!1,u&&s.Gf("drawShadows")&&(y=u.isShadowed),i.clipInsteadOfFill&&(y=!1),t.Dd()&&y&&Oo(i),y&&t.shadowVisible===!0?Oo(i):y&&t.shadowVisible===!1&&yo(i),u=t.panel,y&&i1(t,u)&&t.shadowVisible===null&&yo(i),i.Il&&(w=s.computePixelRatio(),w="drop-shadow("+i.shadowOffsetX/w+"px "+i.shadowOffsetY/w+"px "+i.shadowBlur/w/2+"px "+i.shadowColor+")",t.background!==null&&d.Ma.setAttributeNS(null,"filter",w),t.areaBackground!==null&&d.gd.setAttributeNS(null,"filter",w)),y&&(t.Ma!==null||t.areaBackground!==null||i1(t,u))?(s1(t,!0),t.shadowVisible===null&&yo(i)):s1(t,!1),u=y,t.hh(i,s),m&&i.nh.pop(),i.o&&i.nh.pop(),y=i.Iv.hs,d=m?t.svg:i.yd,!m&&c!==null&&d!==c&&c.parentNode===t.panel.svg?(s=t.svg.getAttribute("filter"),s!==null&&d.setAttribute("filter",s),t.svg.replaceWith(d),t.svg=d,d!==null&&t.ap(i,l,O,d),l$(i,c),!0):(t.svg=d,y!==null&&d===null&&(l1(i),i.nh.pop()),d===null||(t.ap(i,l,O,d),i.Il&&(s=s.computePixelRatio(),t.Fv(d,"drop-shadow("+i.shadowOffsetX/s+"px "+i.shadowOffsetY/s+"px "+i.shadowBlur/s/2+"px "+i.shadowColor+")")),u&&t.l&512&&Oo(i),t.Dd()&&yo(i),s=t.Dd()?t.opacity*i.globalAlpha:t.opacity,s!==1&&d.setAttributeNS(null,"opacity",s.toString()),t.filter!==""&&d.setAttributeNS(null,"filter",t.filter),t.Dd()?(c!==null&&d!==c&&c.parentNode===i.hi?(l=c.getAttribute("filter"),l!==null&&d.setAttribute("filter",l),c.replaceWith(d)):i.ui?i.ui.after(d):i.hi.prepend(d),i.ui=d):l!==null&&s$(t,l,d),y!==null&&y(t,d),o$(t,d)),!0)}function o$(t,i){i=i.dataset,t instanceof vt&&(t.portId!==null&&(i.portId=t.portId),t instanceof nt&&(isNaN(t.itemIndex)||(i.itemIndex=t.itemIndex.toString()),t instanceof kt&&(i.className=Ft(t),t.key!==void 0&&(i.key=t.key.toString()),t instanceof st&&(t.fromNode!==null&&t.fromNode.key!==void 0&&(i.fromKey=t.fromNode.key.toString()),t.fromPortId!==""&&(i.fromPortId=t.fromPortId),t.toNode!==null&&t.toNode.key!==void 0&&(i.toKey=t.toNode.key.toString()),t.toPortId!==""&&(i.toPortId=t.toPortId)))))}n.ap=function(t,i,s,l){var u=(this.l&256)!==0;if(t.clipInsteadOfFill&&(u=!1),u){var c=i.se()?i.naturalBounds:i.actualBounds;i=Math.max(s.x,c.x),u=Math.max(s.y,c.y);var d=Math.min(s.right,c.right)-i;s=Math.min(s.bottom,c.bottom)-u,c=this.tb,c!==null&&(i=c.x,u=c.y,d=c.width,s=c.height),c=l.getAttribute("clip-path");var m=null;c!==null&&(m=t.svg.getElementById(c.split("#")[1].slice(0,-1))),m===null?(c="CLIP"+pn++,m=t.Ud("clipPath",{id:c}),i=t.Ud("rect",{x:i,y:u,width:d,height:s}),this instanceof nt&&(u=this.transform.copy().Uj(),i.setAttribute("transform","matrix("+u.m11+", "+u.m12+", "+u.m21+", "+u.m22+", "+u.dx+", "+u.dy+")")),m.appendChild(i),t.svg.appendChild(m),l.setAttributeNS(null,"clip-path","url(#"+c+")")):(t=m.firstElementChild,t.setAttribute("x",i.toString()),t.setAttribute("y",u.toString()),t.setAttribute("width",d.toString()),t.setAttribute("height",s.toString()))}else l.removeAttributeNS(null,"clip-path"),l$(t,l)};function l$(t,i){i=i.getAttribute("clip-path"),i!==null&&(t=t.svg.getElementById(i.split("#")[1].slice(0,-1)),t!==null&&t.remove())}function dT(t){if(t.svg!==null){var i=t.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),s=t.svg.ownerDocument;if(i!==null){i=r(i);for(var l=i.next();!l.done;l=i.next())l=s.getElementById(l.value.split("#")[1].slice(0,-1)),l!==null&&l.remove()}t.svg.remove()}}n.hh=function(){},n.nv=function(){this.Hc=!0},n.jk=function(t,i,s){if(i=this.svg,this.Hc)return this.nv(),this.Hc=!1,i===null||(s=this.svg.getAttribute("clip-path"),s!==null&&(t=t.svg.getElementById(s.split("#")[1].slice(0,-1)),t!==null&&t.remove())),!1;if(i===null)return!1;if(!this.visible)return i.remove(),!1;if(i.nodeName!=="g"&&s||i.nodeName==="g"&&!s)return!1;var l=this.transform,u=this instanceof nt?Aa(this):!1;if(!(this instanceof nt&&u))if(this instanceof Nn){var c=this.ct;t.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],c!==null&&h$(t,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]),s?i.lastElementChild.setAttributeNS(null,"transform",c$(t)):i.setAttributeNS(null,"transform",c$(t))}else if(!s||this instanceof nt)i.setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");else if(this instanceof It){c=i.getElementsByTagName("path");for(var d=0;d<c.length;d++)c[d].setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")")}else(i.lastElementChild||i).setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");return c=this.Dd()?this.opacity*t.globalAlpha:this.opacity,c===1?i.removeAttribute("opacity"):i.setAttributeNS(null,"opacity",c.toString()),t.rb.ha=[1,0,0,1,0,0],(this.areaBackground!==null||i.gd!==void 0)&&(c=i.gd,this.areaBackground===null?(i.gd.remove(),i.gd=void 0):(d=l.copy().Uj(),t.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy],fT(this,t,this.naturalBounds,this.actualBounds),t.rb.ha=[1,0,0,1,0,0],i.gd?(d=i.gd.getAttribute("filter"),d!==null&&t.ad.setAttribute("filter",d),i.gd.replaceWith(t.ad)):i.prepend(t.ad),i.gd=t.ad),c&&a1(t,c)),(this.background!==null||i.Ma!==void 0)&&(c=i.Ma,this.background===null?(a1(t,i.Ma),i.Ma.remove(),i.Ma=void 0):((u||s&&!(this instanceof nt))&&(t.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy]),n1(this,t,this.naturalBounds,this.actualBounds),i.Ma?(a1(t,i.Ma),s=i.Ma.getAttribute("filter"),s!==null&&t.ad.setAttribute("filter",s),i.Ma.replaceWith(t.ad)):i.prepend(t.ad),i.Ma=t.ad),c&&a1(t,c)),this.ap(t,this.panel,this.actualBounds,i),!0},n.mk=function(t){if(this.background!==null||this.areaBackground!==null)return!0;var i=(this.l&256)!==0;return t.clipInsteadOfFill&&(i=!1),!!i};function gr(t,i,s,l,u,c,d){if(s!==null){var m=1,y=1;if(typeof s=="string")l?i.fillStyle=s:i.strokeStyle=s;else if(s.type===Il)l?i.fillStyle=s.color:i.strokeStyle=s.color;else{var O=t.kq();if(m=c.width,y=c.height,u?(m=d.width,y=d.height):l||(m+=O,y+=O),(c=i instanceof zh)&&s.xe&&(s.type===jf||s.xk===m&&s.gt===y))var w=s.xe;else{var k=0,P=0,T=0,C=0,A=0,I=0;if(I=A=0,u?(A=d.x,I=d.y):l||(A-=O/2,I-=O/2),k=s.start.x*m+s.start.offsetX,P=s.start.y*y+s.start.offsetY,T=s.end.x*m+s.end.offsetX,C=s.end.y*y+s.end.offsetY,k+=A,T+=A,P+=I,C+=I,s.type===tl)w=i.createLinearGradient(k,P,T,C);else if(s.type===Or)I=isNaN(s.endRadius)?Math.max(m,y)/2:s.endRadius,isNaN(s.startRadius)?(A=0,I=Math.max(m,y)/2):A=s.startRadius,w=i.createRadialGradient(k,P,A,T,C,I);else if(s.type===jf)try{w=i.createPattern(s.pattern,"repeat")}catch{w=null}if(s.type!==jf&&(u=s.colorStops,u!==null))for(u=u.iterator;u.next();)w.addColorStop(u.key,u.value);if(c&&(s.xe=w,w!==null&&(s.xk=m,s.gt=y),w===null&&s.type===jf&&s.xk!==-1)){s.xk=-1;var E=t.diagram;E!==null&&s.xk===-1&&$(function(){E.redraw()},600)}}l?i.fillStyle=w:i.strokeStyle=w}}}n.rg=function(t){if(t instanceof nt)t:{if(this!==t&&t!==null)for(var i=this.panel;i!==null;){if(i===t){t=!0;break t}i=i.panel}t=!1}else t=!1;return t},n.Ed=function(){if(!this.visible)return!1;var t=this.panel;return t!==null?t.Ed():!0},n.If=function(){for(var t=this instanceof nt?this:this.panel;t!==null&&t.isEnabled;)t=t.panel;return t===null};function r1(t){if(t.l&2048){var i=t.Bb;if(i.reset(),!t.Jb.w()||!t.uc.w()){Pp(t,!1);return}if(i.translate(t.Jb.x-t.uc.x,t.Jb.y-t.uc.y),t.scale!==1||t.angle!==0){var s=t.naturalBounds;t.oo(i,s.x,s.y,s.width,s.height)}Pp(t,!1),Au(t,!0)}t.l&4096&&(i=t.panel,i===null?(t.wh.set(t.Bb),t.Jk=t.scale,Au(t,!1)):i.oe!==null&&(s=t.wh,s.reset(),i.se()?s.multiply(i.wh):i.panel!==null&&s.multiply(i.panel.wh),s.multiply(t.Bb),t.Jk=t.scale*i.Jk,Au(t,!1)))}n.oo=function(t,i,s,l,u){if(this.Ca!==1&&t.scale(this.Ca),this.Lb!==0){var c=F.alloc();c.zi(i,s,l,u,oe),t.rotate(this.Lb,c.x,c.y),F.free(c)}},n.v=function(t){if(!Na(this)){t===void 0&&(t=!1),Ar(this,!0),Ih(this,!0);var i=this.panel;i===null||t||i.v()}},n.Tj=function(){Na(this)||(Ar(this,!0),Ih(this,!0))};function kp(t){if(!Ts(t)){var i=t.panel;i!==null?i.v():t.Dd()&&(i=t.diagram,i!==null&&(i.De.add(t),t instanceof ft&&t.Bd(),i.Rb())),Ih(t,!0)}}n.Tk=function(){!(this.l&2048)&&(Pp(this,!0),Au(this,!0))},n.Yu=function(){Au(this,!0)},n.N=function(){var t=this.part;t!==null&&t.N()};function Ys(t,i){var s=t.stretch,l=t.panel;return l!==null&&l.type===nt.Table?Ay(t,l.Gb(t.row),l.Fb(t.column),i):l!==null&&l.type===nt.Auto&&l.Qb()===t?$l(t,$e,i):s===Qr?l!==null?l.type===nt.Spot&&l.Qb()===t?$l(t,$e,i):(s=l.defaultStretch,s===Qr?$l(t,je,i):$l(t,s,i)):$l(t,je,i):$l(t,s,i)}function Ay(t,i,s,l){var u=t.stretch;if(u!==Qr)return $l(t,u,l);var c=u=null;switch(i.stretch){case Ii:c=!0;break;case $e:c=!0}switch(s.stretch){case ji:u=!0;break;case $e:u=!0}return i=t.panel.defaultStretch,u===null&&(u=i===ji||i===$e),c===null&&(c=i===Ii||i===$e),u===!0&&c===!0?$l(t,$e,l):u===!0?$l(t,ji,l):c===!0?$l(t,Ii,l):$l(t,je,l)}function $l(t,i,s){if(s)return i;if(i===je||(s=t.desiredSize,s.w()))return je;if(t=t.angle,!isNaN(s.width))if(t!==90&&t!==270){if(i===ji)return je;if(i===$e)return Ii}else{if(i===Ii)return je;if(i===$e)return ji}if(!isNaN(s.height))if(t!==90&&t!==270){if(i===Ii)return je;if(i===$e)return ji}else{if(i===ji)return je;if(i===$e)return Ii}return i}function s1(t,i){t.l=i?t.l|512:t.l&-513}function Mf(t){return(t.l&1024)!==0}function pT(t,i){t.l=i?t.l|1024:t.l&-1025}function Pp(t,i){t.l=i?t.l|2048:t.l&-2049}function Au(t,i){t.l=i?t.l|4096:t.l&-4097}function Na(t){return(t.l&8192)!==0}function Ar(t,i){t.l=i?t.l|8192:t.l&-8193}function Ts(t){return(t.l&16384)!==0}function Ih(t,i){t.l=i?t.l|16384:t.l&-16385}n.Gj=function(){this.svg=null},n.xi=function(t){this.Me=t,this.svg!==null&&this.svg.remove()},n.Cv=function(){},n.Bv=function(t){return this.pa=t,kp(this),!0},n.nm=function(t,i){(this.pa.x!==t||this.pa.y!==i)&&(this.pa.h(t,i),this.Tk())},n.kq=function(){return 0};function Fh(t){var i=t.part;if(i instanceof ft&&(t.portId!==null||t===i.port)){var s=i.diagram;s===null||s.undoManager.isUndoingRedoing||tD(i,t)}}function a$(t){var i=t.diagram;i===null||i.undoManager.isUndoingRedoing||(t instanceof nt?t instanceof ft?t.Bd():t.rm(t,function(s){Fh(s)}):Fh(t))}n.bind=function(t,i,s,l){var u=null;return typeof t=="string"?u=new De(t,i,s,l):u=t,u.xd=this,t=this.ih(),t!==null&&T$(t)&&D("Cannot add a Binding to a template that has already been copied: "+u),this.localBindings===null&&(this.localBindings=new ct),this.localBindings.add(u),this},n.Ry=function(t,i,s,l){var u=null;return typeof t=="string"?u=new De(t,i,s,l):u=t,this.bind(u.dv())},n.Qy=function(t,i,s,l,u){var c=null;return typeof t=="string"?c=new De(t,i,s,l):c=t,this.bind(c.Xl(u))},n.Py=function(t,i,s,l){var u=null;return typeof t=="string"?u=new De(t,i,s,l):u=t,this.bind(u.Nx())},n.set=function(t){return Object.assign(this,t),this},n.Fu=function(t){return mT(this,t),this},n.apply=function(t){return t(this),this},n.om=function(t){return Ty(this,t),this},n.vz=function(){return this.ih()},n.ih=function(){for(var t=this instanceof nt?this:this.panel;t!==null;){if(t.allBindings!==null)return t;t=t.panel}return null},n.Lv=function(t){return t.xd=this,this.animationTriggers===null&&(this.animationTriggers=new jt),this.animationTriggers.add(t.propertyName,t),this};function jr(t,i){for(var s=1;s<arguments.length;++s);s=arguments;var l=null,u=null;if(typeof t=="function")u=t;else if(typeof t=="string"){var c=bp.I(t);typeof c=="function"?(s=Ot(arguments),l=c(s),tt(l)||D('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):u=Q.go[t]}if(l===null&&(u!=null&&u.constructor||D("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),l=new u),u=1,l instanceof G&&1<s.length){c=l;var d=s[1];(typeof d=="string"||d instanceof HTMLDivElement)&&(Ib(c,d),u++)}for(;u<s.length;u++)c=s[u],c===void 0?D("Undefined value at argument "+u+" for object being constructed by GraphObject.make: "+l):mT(l,c);return l}function mT(t,i){if(typeof i=="string")if(t instanceof fe)t.text=i;else if(t instanceof It)t.figure=i;else if(t instanceof Nn)t.source=i;else if(t instanceof nt)i=Cs.I(i),i!==null&&(t.type=i);else if(t instanceof ie){var s=xe(ie,i);s!==null?t.type=s:D("Unknown Brush type as an argument to GraphObject.make: "+i)}else t instanceof lt?(i=xe(lt,i),i!==null&&(t.type=i)):t instanceof Jt&&(i=xe(Jt,i),i!==null&&(t.type=i));else if(i instanceof vt)t instanceof nt||D("A GraphObject can only be added to a Panel, not to: "+t),t.add(i);else if(i instanceof qe){var l;i.isRow&&typeof t.getRowDefinition=="function"?l=t.getRowDefinition(i.index):i.isRow||typeof t.getColumnDefinition!="function"||(l=t.getColumnDefinition(i.index)),l instanceof qe?P1(l,i):D("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(i instanceof it)typeof t.qb=="function"&&t.qb(i);else if(i instanceof ni)t.type=i;else if(i instanceof De)t instanceof vt||t instanceof qe?t.bind(i):D("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof Ho)t instanceof vt?t.Lv(i):D("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(i instanceof vi)t instanceof lt&&t.type===lt.j?t.figures.add(i):D("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(i instanceof Jt)t instanceof vi?t.segments.add(i):D("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof ye)t instanceof G||t instanceof Et?t.layout=i:D("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(s=0;s<i.length;s++)mT(t,i[s]);else if(typeof i=="object"&&i!==null)if(t instanceof ie){s=new le;for(var u in i)l=parseFloat(u),isNaN(l)?s[u]=i[u]:t.addColorStop(l,i[u]);Ty(t,s)}else if(t instanceof qe){i.row!==void 0?(u=i.row,(u==null||u===1/0||isNaN(u)||0>u)&&D("Must specify non-negative integer row for RowColumnDefinition "+i+", not: "+u),t.isRow=!0,t.index=u):i.column!==void 0&&(u=i.column,(u==null||u===1/0||isNaN(u)||0>u)&&D("Must specify non-negative integer column for RowColumnDefinition "+i+", not: "+u),t.isRow=!1,t.index=u),u=new le;for(s in i)s!=="row"&&s!=="column"&&(u[s]=i[s]);Ty(t,u)}else Ty(t,i);else D('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}function Qa(t,i){bp.add(t,i)}function o1(t,i,s){s===void 0&&(s=null);var l=t[1];if(typeof s=="function"?s(l):typeof l=="string")return t.splice(1,1),l;if(i===void 0)throw Error("no "+(typeof s=="function"?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return i}S.Object.defineProperties(vt.prototype,{bindingId:{get:function(){return this.A!==null?this.A.zp:-1},set:function(t){this.bindingId!==t&&(this.A===null&&(this.A=new Nf),this.A.zp=t)}},localBindings:{get:function(){return this.A!==null?this.A.te:null},set:function(t){this.localBindings!==t&&(this.A===null&&(this.A=new Nf),this.A.te=t)}},srcBindings:{get:function(){return this.A!==null?this.A.xm:null},set:function(t){this.srcBindings!==t&&(this.A===null&&(this.A=new Nf),this.A.xm=t)}},shadowVisible:{get:function(){return this.A!==null?this.A.Di:null},set:function(t){var i=this.shadowVisible;i!==t&&(li(this),this.A.Di=t,this.Hc=!0,this.N(),this.g("shadowVisible",i,t))}},enabledChanged:{get:function(){return this.A!==null?this.A.Ib:null},set:function(t){var i=this.enabledChanged;i!==t&&(li(this),this.A.Ib=t,this.g("enabledChanged",i,t))}},segmentOrientation:{get:function(){return this.Ua!==null?this.Ua.rr:Fi},set:function(t){var i=this.segmentOrientation;i!==t&&(this.Ua===null&&(this.Ua=new ju),this.Ua.rr=t,this.v(),this.g("segmentOrientation",i,t),t===Fi&&(this.angle=0))}},segmentIndex:{get:function(){return this.Ua!==null?this.Ua.u:-1/0},set:function(t){t=Math.round(t);var i=this.segmentIndex;i!==t&&(this.Ua===null&&(this.Ua=new ju),this.Ua.u=t,this.v(),this.g("segmentIndex",i,t))}},segmentFraction:{get:function(){return this.Ua!==null?this.Ua.o:0},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var i=this.segmentFraction;i!==t&&(this.Ua===null&&(this.Ua=new ju),this.Ua.o=t,this.v(),this.g("segmentFraction",i,t))}},segmentOffset:{get:function(){return this.Ua!==null?this.Ua.F:po},set:function(t){var i=this.segmentOffset;i.D(t)||(t=t.J(),this.Ua===null&&(this.Ua=new ju),this.Ua.F=t,this.v(),this.g("segmentOffset",i,t))}},stretch:{get:function(){return this.A!==null?this.A.hg:Qr},set:function(t){var i=this.stretch;i!==t&&(li(this),this.A.hg=t,this.v(),this.g("stretch",i,t))}},name:{get:function(){return this.A!==null?this.A.xa:""},set:function(t){var i=this.name;i!==t&&(li(this),this.A.xa=t,this.part!==null&&(this.part.Rh=null),this.g("name",i,t))}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&W(t,"0 <= value <= 1",vt,"opacity"),this.pb=t,this.g("opacity",i,t),t=this.diagram,i=this.part,t!==null&&i!==null&&t.N(Uh(i,i.actualBounds)))}},filter:{get:function(){return this.cn},set:function(t){var i=this.cn;i!==t&&(this.cn=t,this.Hc=!0,this.g("filter",i,t),t=this.diagram,i=this.part,t!==null&&i!==null&&t.N(Uh(i,i.actualBounds)))}},visible:{get:function(){return(this.l&1)!==0},set:function(t){var i=(this.l&1)!==0;i!==t&&(this.l^=1,this.g("visible",i,t),i=this.panel,i!==null?i.v():this.Dd()&&this.bc(t),this.N(),a$(this))}},pickable:{get:function(){return(this.l&2)!==0},set:function(t){var i=(this.l&2)!==0;i!==t&&(this.l^=2,this.g("pickable",i,t))}},fromLinkableDuplicates:{get:function(){return(this.l&4)!==0},set:function(t){var i=(this.l&4)!==0;i!==t&&(this.l^=4,this.g("fromLinkableDuplicates",i,t))}},fromLinkableSelfNode:{get:function(){return(this.l&8)!==0},set:function(t){var i=(this.l&8)!==0;i!==t&&(this.l^=8,this.g("fromLinkableSelfNode",i,t))}},toLinkableDuplicates:{get:function(){return(this.l&16)!==0},set:function(t){var i=(this.l&16)!==0;i!==t&&(this.l^=16,this.g("toLinkableDuplicates",i,t))}},toLinkableSelfNode:{get:function(){return(this.l&32)!==0},set:function(t){var i=(this.l&32)!==0;i!==t&&(this.l^=32,this.g("toLinkableSelfNode",i,t))}},isPanelMain:{get:function(){return(this.l&64)!==0},set:function(t){var i=(this.l&64)!==0;i!==t&&(this.l^=64,this.v(),this.g("isPanelMain",i,t))}},isActionable:{get:function(){return(this.l&128)!==0},set:function(t){var i=(this.l&128)!==0;i!==t&&(this.l^=128,this.g("isActionable",i,t))}},areaBackground:{get:function(){return this.A!==null?this.A.gd:null},set:function(t){var i=this.areaBackground;i!==t&&(t!==null&&Af(t,"GraphObject.areaBackground"),t instanceof ie&&t.freeze(),li(this),this.A.gd=t,this.N(),this.g("areaBackground",i,t))}},background:{get:function(){return this.Ma},set:function(t){var i=this.Ma;i!==t&&(t!==null&&Af(t,"GraphObject.background"),t instanceof ie&&t.freeze(),this.Ma=t,this.N(),this.g("background",i,t))}},part:{get:function(){if(this.Dd())return this;if(this.Ng!==null)return this.Ng;var t;for(t=this.panel;t;){if(t instanceof kt)return this.Ng=t;t=t.panel}return null}},svg:{get:function(){return this.V},set:function(t){this.V=t}},panel:{get:function(){return this.Me}},layer:{get:function(){var t=this.part;return t!==null?t.layer:null}},diagram:{get:function(){var t=this.part;return t!==null?t.diagram:null}},position:{get:function(){return this.pa},set:function(t){var i=t.x,s=t.y,l=this.pa,u=l.x;l=l.y,(u===i||isNaN(u)&&isNaN(i))&&(l===s||isNaN(l)&&isNaN(s))?this.Cv():(t=t.copy(),this.Bv(t,u,l)&&this.g("position",new F(u,l),t))}},actualBounds:{get:function(){return this.Jb}},scale:{get:function(){return this.Ca},set:function(t){var i=this.Ca;i!==t&&(0>=t&&D("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Ca=t,this.v(),this.g("scale",i,t))}},angle:{get:function(){return this.Lb},set:function(t){var i=this.Lb;i!==t&&(t%=360,0>t&&(t+=360),i!==t&&(this.Lb=t,a$(this),this.v(),this.g("angle",i,t)))}},desiredSize:{get:function(){return this.jd},set:function(t){var i=t.width,s=t.height,l=this.jd,u=l.width,c=l.height;(u===i||isNaN(u)&&isNaN(i))&&(c===s||isNaN(c)&&isNaN(s))||(this.jd=t=t.J(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",l,t),Mf(this)&&(t=this.part,t!==null&&(Dh(this,t,"width"),Dh(this,t,"height"))))}},width:{get:function(){return this.jd.width},set:function(t){var i=this.jd.width;i===t||isNaN(i)&&isNaN(t)||(i=this.jd,this.jd=t=new At(t,this.jd.height).freeze(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",i,t),Mf(this)&&(t=this.part,t!==null&&Dh(this,t,"width")))}},height:{get:function(){return this.jd.height},set:function(t){var i=this.jd.height;i===t||isNaN(i)&&isNaN(t)||(i=this.jd,this.jd=t=new At(this.jd.width,t).freeze(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",i,t),Mf(this)&&(t=this.part,t!==null&&Dh(this,t,"height")))}},minSize:{get:function(){return this.A!==null?this.A.u:Cu},set:function(t){var i=this.minSize;i.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),li(this),this.A.u=t,this.v(),this.g("minSize",i,t))}},maxSize:{get:function(){return this.A!==null?this.A.o:Vn},set:function(t){var i=this.maxSize;i.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),li(this),this.A.o=t,this.v(),this.g("maxSize",i,t))}},measuredBounds:{get:function(){return this.uc}},naturalBounds:{get:function(){return this.fc}},margin:{get:function(){return this.Kg},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.Kg;i.D(t)||(this.Kg=t=t.J(),this.v(),this.g("margin",i,t))}},transform:{get:function(){return this.l&2048&&r1(this),this.Bb}},oe:{get:function(){return this.l&4096&&r1(this),this.wh}},animationTriggers:{get:function(){return this.A!==null?this.A.hb:null},set:function(t){this.animationTriggers!==t&&(li(this),this.A.hb=t)}},reshapingBehavior:{get:function(){return this.A!==null?this.A.Pf:je},set:function(t){this.reshapingBehavior!==t&&(li(this),this.A.Pf=t)}},alignment:{get:function(){return this.Kb},set:function(t){var i=this.Kb;i.D(t)||(t.Nc()&&!t.$b()&&D("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.Kb=t=t.J(),kp(this),this.g("alignment",i,t))}},column:{get:function(){return this.Ag},set:function(t){t=Math.round(t);var i=this.Ag;i!==t&&(0>t&&W(t,">= 0",vt,"column"),this.Ag=t,this.v(),this.g("column",i,t),this.svg!==null&&this.svg.remove())}},columnSpan:{get:function(){return this.A!==null?this.A.ob:1},set:function(t){t=Math.round(t);var i=this.columnSpan;i!==t&&(1>t&&W(t,">= 1",vt,"columnSpan"),li(this),this.A.ob=t,this.v(),this.g("columnSpan",i,t))}},row:{get:function(){return this.jo},set:function(t){t=Math.round(t);var i=this.jo;i!==t&&(0>t&&W(t,">= 0",vt,"row"),this.jo=t,this.v(),this.g("row",i,t),this.svg!==null&&this.svg.remove())}},rowSpan:{get:function(){return this.A!==null?this.A.Ci:1},set:function(t){t=Math.round(t);var i=this.rowSpan;i!==t&&(1>t&&W(t,">= 1",vt,"rowSpan"),li(this),this.A.Ci=t,this.v(),this.g("rowSpan",i,t))}},spanAllocation:{get:function(){return this.A!==null?this.A.Ei:null},set:function(t){var i=this.spanAllocation;i!==t&&(li(this),this.A.Ei=t,this.v(),this.g("spanAllocation",i,t))}},alignmentFocus:{get:function(){return this.rk},set:function(t){var i=this.rk;i.D(t)||(this.rk=t=t.J(),this.v(),this.g("alignmentFocus",i,t))}},portId:{get:function(){return this.Zn},set:function(t){var i=this.Zn;if(i!==t){var s=this.part;s===null||s instanceof ft||D("Cannot set portID on a Link: "+t),i!==null&&s!==null&&eC(s,this),this.Zn=t,t!==null&&s!==null&&(s.Te=!0,nD(s,this)),this.g("portId",i,t)}}},toSpot:{get:function(){return this.ba!==null?this.ba.zj:Zi},set:function(t){var i=this.toSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.zj=t,this.g("toSpot",i,t),Fh(this))}},toEndSegmentLength:{get:function(){return this.ba!==null?this.ba.xj:10},set:function(t){var i=this.toEndSegmentLength;i!==t&&(0>t&&W(t,">= 0",vt,"toEndSegmentLength"),this.Xc(),this.ba.xj=t,this.g("toEndSegmentLength",i,t),Fh(this))}},toShortLength:{get:function(){return this.ba!==null?this.ba.yj:0},set:function(t){var i=this.toShortLength;i!==t&&(this.Xc(),this.ba.yj=t,this.g("toShortLength",i,t),Fh(this))}},toLinkable:{get:function(){return this.ba!==null?this.ba.Tr:null},set:function(t){var i=this.toLinkable;i!==t&&(this.Xc(),this.ba.Tr=t,this.g("toLinkable",i,t))}},toMaxLinks:{get:function(){return this.ba!==null?this.ba.Ur:1/0},set:function(t){var i=this.toMaxLinks;i!==t&&(0>t&&W(t,">= 0",vt,"toMaxLinks"),this.Xc(),this.ba.Ur=t,this.g("toMaxLinks",i,t))}},fromSpot:{get:function(){return this.ba!==null?this.ba.Yi:Zi},set:function(t){var i=this.fromSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.Yi=t,this.g("fromSpot",i,t),Fh(this))}},fromEndSegmentLength:{get:function(){return this.ba!==null?this.ba.Wi:10},set:function(t){var i=this.fromEndSegmentLength;i!==t&&(0>t&&W(t,">= 0",vt,"fromEndSegmentLength"),this.Xc(),this.ba.Wi=t,this.g("fromEndSegmentLength",i,t),Fh(this))}},fromShortLength:{get:function(){return this.ba!==null?this.ba.Xi:0},set:function(t){var i=this.fromShortLength;i!==t&&(this.Xc(),this.ba.Xi=t,this.g("fromShortLength",i,t),Fh(this))}},fromLinkable:{get:function(){return this.ba!==null?this.ba.hq:null},set:function(t){var i=this.fromLinkable;i!==t&&(this.Xc(),this.ba.hq=t,this.g("fromLinkable",i,t))}},fromMaxLinks:{get:function(){return this.ba!==null?this.ba.iq:1/0},set:function(t){var i=this.fromMaxLinks;i!==t&&(0>t&&W(t,">= 0",vt,"fromMaxLinks"),this.Xc(),this.ba.iq=t,this.g("fromMaxLinks",i,t))}},cursor:{get:function(){return this.A!==null?this.A.j:""},set:function(t){var i=this.cursor;i!==t&&(li(this),this.A.j=t,this.g("cursor",i,t))}},click:{get:function(){return this.A!==null?this.A.zh:null},set:function(t){var i=this.click;i!==t&&(li(this),this.A.zh=t,this.g("click",i,t))}},doubleClick:{get:function(){return this.A!==null?this.A.Fh:null},set:function(t){var i=this.doubleClick;i!==t&&(li(this),this.A.Fh=t,this.g("doubleClick",i,t))}},contextClick:{get:function(){return this.A!==null?this.A.Bh:null},set:function(t){var i=this.contextClick;i!==t&&(li(this),this.A.Bh=t,this.g("contextClick",i,t))}},mouseEnter:{get:function(){return this.A!==null?this.A.Mh:null},set:function(t){var i=this.mouseEnter;i!==t&&(li(this),this.A.Mh=t,this.g("mouseEnter",i,t))}},mouseLeave:{get:function(){return this.A!==null?this.A.Ph:null},set:function(t){var i=this.mouseLeave;i!==t&&(li(this),this.A.Ph=t,this.g("mouseLeave",i,t))}},mouseOver:{get:function(){return this.A!==null?this.A.Qh:null},set:function(t){var i=this.mouseOver;i!==t&&(li(this),this.A.Qh=t,this.g("mouseOver",i,t))}},mouseHover:{get:function(){return this.A!==null?this.A.Oh:null},set:function(t){var i=this.mouseHover;i!==t&&(li(this),this.A.Oh=t,this.g("mouseHover",i,t))}},mouseHold:{get:function(){return this.A!==null?this.A.Nh:null},set:function(t){var i=this.mouseHold;i!==t&&(li(this),this.A.Nh=t,this.g("mouseHold",i,t))}},mouseDragEnter:{get:function(){return this.A!==null?this.A.Of:null},set:function(t){var i=this.mouseDragEnter;i!==t&&(li(this),this.A.Of=t,this.g("mouseDragEnter",i,t))}},mouseDragLeave:{get:function(){return this.A!==null?this.A.Xd:null},set:function(t){var i=this.mouseDragLeave;i!==t&&(li(this),this.A.Xd=t,this.g("mouseDragLeave",i,t))}},mouseDrop:{get:function(){return this.A!==null?this.A.Lh:null},set:function(t){var i=this.mouseDrop;i!==t&&(li(this),this.A.Lh=t,this.g("mouseDrop",i,t))}},actionDown:{get:function(){return this.A!==null?this.A.V:null},set:function(t){var i=this.actionDown;i!==t&&(li(this),this.A.V=t,this.g("actionDown",i,t))}},actionMove:{get:function(){return this.A!==null?this.A.ia:null},set:function(t){var i=this.actionMove;i!==t&&(li(this),this.A.ia=t,this.g("actionMove",i,t))}},actionUp:{get:function(){return this.A!==null?this.A.Ha:null},set:function(t){var i=this.actionUp;i!==t&&(li(this),this.A.Ha=t,this.g("actionUp",i,t))}},actionCancel:{get:function(){return this.A!==null?this.A.F:null},set:function(t){var i=this.actionCancel;i!==t&&(li(this),this.A.F=t,this.g("actionCancel",i,t))}},toolTip:{get:function(){return this.A!==null?this.A.$h:null},set:function(t){var i=this.toolTip;i!==t&&(li(this),this.A.$h=t,this.g("toolTip",i,t))}},contextMenu:{get:function(){return this.A!==null?this.A.Ch:null},set:function(t){var i=this.contextMenu;i!==t&&(li(this),this.A.Ch=t,this.g("contextMenu",i,t))}}}),vt.prototype.trigger=vt.prototype.Lv,vt.prototype.findBindingPanel=vt.prototype.ih,vt.prototype.findTemplateBinder=vt.prototype.vz,vt.prototype.setProperties=vt.prototype.om,vt.prototype.apply=vt.prototype.apply,vt.prototype.attach=vt.prototype.Fu,vt.prototype.set=vt.prototype.set,vt.prototype.bindModel=vt.prototype.Py,vt.prototype.bindObject=vt.prototype.Qy,vt.prototype.bindTwoWay=vt.prototype.Ry,vt.prototype.isEnabledObject=vt.prototype.If,vt.prototype.isVisibleObject=vt.prototype.Ed,vt.prototype.isContainedBy=vt.prototype.rg,vt.prototype.getNearestIntersectionPoint=vt.prototype.rs,vt.prototype.getLocalPoint=vt.prototype.qs,vt.prototype.getDocumentScale=vt.prototype.Df,vt.prototype.getDocumentAngle=vt.prototype.mi,vt.prototype.getDocumentBounds=vt.prototype.ni,vt.prototype.getDocumentPoint=vt.prototype.ga,vt.prototype.intersectsRect=vt.prototype.Yc,vt.prototype.containedInRect=vt.prototype.fh,vt.prototype.containsRect=vt.prototype.Re,vt.prototype.containsPoint=vt.prototype.ca,vt.prototype.raiseChanged=vt.prototype.g,vt.prototype.raiseChangedEvent=vt.prototype.cb,vt.prototype.addCopyProperty=vt.prototype.Xw;var bp=null;vt.className="GraphObject",bp=new jt,Qa("Button",function(){function t(s,l){return s.diagram.kc(s.documentPoint,function(u){for(;u.panel!==null&&!u.isActionable;)u=u.panel;return u},function(u){return u===l})!==null}var i=jr(nt,nt.Auto,{isActionable:!0,enabledChanged:function(s,l){if(s instanceof nt){var u=s.fb("ButtonBorder");u!==null&&(u.fill=l?s._buttonFillNormal:s._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},jr(It,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Tt(0,0,2.76142374915397,2.761423749153969),spot2:new Tt(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return i.mouseEnter=function(s,l){if(l.If()&&l instanceof nt&&(s=l.fb("ButtonBorder"),s instanceof It)){var u=l._buttonFillOver;l._buttonFillNormal=s.fill,s.fill=u,u=l._buttonStrokeOver,l._buttonStrokeNormal=s.stroke,s.stroke=u}},i.mouseLeave=function(s,l){l.If()&&l instanceof nt&&(s=l.fb("ButtonBorder"),s instanceof It&&(s.fill=l._buttonFillNormal,s.stroke=l._buttonStrokeNormal))},i.actionDown=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null&&s.button===0){var u=l.fb("ButtonBorder");if(u instanceof It){s=s.diagram;var c=s.skipsUndoManager;s.skipsUndoManager=!0;var d=l._buttonFillPressed;l._buttonFillOver=u.fill,u.fill=d,d=l._buttonStrokePressed,l._buttonStrokeOver=u.stroke,u.stroke=d,s.skipsUndoManager=c}}},i.actionUp=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null&&s.button===0){var u=l.fb("ButtonBorder");if(u instanceof It){var c=s.diagram,d=c.skipsUndoManager;c.skipsUndoManager=!0,t(s,l)?(u.fill=l._buttonFillOver,u.stroke=l._buttonStrokeOver):(u.fill=l._buttonFillNormal,u.stroke=l._buttonStrokeNormal),c.skipsUndoManager=d}}},i.actionCancel=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null){var u=l.fb("ButtonBorder");if(u instanceof It){var c=s.diagram,d=c.skipsUndoManager;c.skipsUndoManager=!0,t(s,l)?(u.fill=l._buttonFillOver,u.stroke=l._buttonStrokeOver):(u.fill=l._buttonFillNormal,u.stroke=l._buttonStrokeNormal),c.skipsUndoManager=d}}},i.actionMove=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null){var u=s.diagram;if(u.firstInput.button===0&&(u.currentTool.standardMouseOver(),t(s,l)&&(s=l.fb("ButtonBorder"),s instanceof It))){var c=u.skipsUndoManager;u.skipsUndoManager=!0;var d=l._buttonFillPressed;s.fill!==d&&(s.fill=d),d=l._buttonStrokePressed,s.stroke!==d&&(s.stroke=d),u.skipsUndoManager=c}}},i}),Qa("TreeExpanderButton",function(){var t=jr("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},jr(It,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ge},new De("figure","isTreeExpanded",function(i,s){return s=s.panel,i?s._treeExpandedFigure:s._treeCollapsedFigure}).Xl()),{visible:!1},new De("visible","isTreeLeaf",function(i){return!i}).Xl());return t.click=function(i,s){if(s=s.part,s instanceof Wt&&(s=s.adornedPart),s instanceof ft){var l=s.diagram;if(l!==null){if(l=l.commandHandler,s.isTreeExpanded){if(!l.canCollapseTree(s))return}else if(!l.canExpandTree(s))return;i.handled=!0,s.isTreeExpanded?l.collapseTree(s):l.expandTree(s)}}},t}),Qa("SubGraphExpanderButton",function(){var t=jr("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},jr(It,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ge},new De("figure","isSubGraphExpanded",function(i,s){return s=s.panel,i?s._subGraphExpandedFigure:s._subGraphCollapsedFigure}).Xl()));return t.click=function(i,s){if(s=s.part,s instanceof Wt&&(s=s.adornedPart),s instanceof Et){var l=s.diagram;if(l!==null){if(l=l.commandHandler,s.isSubGraphExpanded){if(!l.canCollapseSubGraph(s))return}else if(!l.canExpandSubGraph(s))return;i.handled=!0,s.isSubGraphExpanded?l.collapseSubGraph(s):l.expandSubGraph(s)}}},t}),Qa("ToolTip",function(){return jr(Wt,nt.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new F(0,3),shadowBlur:5},jr(It,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Tt(0,0,4,6),spot2:new Tt(1,1,-4,-4)}))}),Qa("ContextMenu",function(){return jr(Wt,nt.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new F(0,3),shadowBlur:5},new De("background","",function(t){return t.adornedPart!==null&&t.placeholder!==null?null:"#F5F5F5"}))}),Qa("ContextMenuButton",function(){var t=jr("Button");t.stretch=ji;var i=t.fb("ButtonBorder");return i instanceof It&&(i.figure="Rectangle",i.strokeWidth=0,i.spot1=new Tt(0,0,2,3),i.spot2=new Tt(1,1,-2,-2)),t}),Qa("PanelExpanderButton",function(t){var i=o1(t,"COLLAPSIBLE"),s=jr("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},jr(It,{name:"ButtonIcon",strokeWidth:2},new De("geometryString","visible",function(l){return l?s._buttonExpandedFigure:s._buttonCollapsedFigure}).Xl(i)));return t=s.fb("ButtonBorder"),t instanceof It&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),s.click=function(l,u){var c=u.diagram;if(c!==null&&!c.isReadOnly){var d=u.ih();d===null&&(d=u.part),d!==null&&(u=d.fb(i),u!==null&&(l.handled=!0,c.Ea("Collapse/Expand Panel"),u.visible=!u.visible,c.eb("Collapse/Expand Panel")))}},s}),Qa("CheckBoxButton",function(t){var i=o1(t);return t=jr("Button",{desiredSize:new At(14,14)},jr(It,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:$e,geometryStretch:Hr,visible:!1},i!==""?new De("visible",i).dv():[])),t.click=function(s,l){if(l instanceof nt){var u=s.diagram;if(!(u===null||u.isReadOnly||i!==""&&u.model.isReadOnly)){s.handled=!0;var c=l.fb("ButtonIcon");u.Ea("checkbox"),c.visible=!c.visible,typeof l._doClick=="function"&&l._doClick(s,l),u.eb("checkbox")}}},t}),Qa("CheckBox",function(t){t=o1(t),t=jr("CheckBoxButton",t,{name:"Button",isActionable:!1,margin:new ne(0,1,0,0)});var i=jr(nt,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:new ne(1),_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,i}),vt.None=je=new it(vt,"None",0),vt.Default=Qr=new it(vt,"Default",0),vt.Vertical=Ii=new it(vt,"Vertical",4),vt.Horizontal=ji=new it(vt,"Horizontal",5),vt.Fill=$e=new it(vt,"Fill",3),vt.Uniform=Hr=new it(vt,"Uniform",1),vt.UniformToFill=Cf=new it(vt,"UniformToFill",2),vt.FlipVertical=xp=new it(vt,"FlipVertical",1),vt.FlipHorizontal=wp=new it(vt,"FlipHorizontal",2),vt.FlipBoth=Sp=new it(vt,"FlipBoth",3),vt.make=jr,vt.getBuilders=function(){var t=new jt,i;for(i in bp)if(i!==i.toLowerCase()){var s=bp.I(i);typeof s=="function"&&t.add(i,s)}return t.freeze(),t},vt.defineBuilder=Qa,vt.build=function(t,i,s){for(var l=[],u=2;u<arguments.length;++u)l[u-2]=arguments[u];if(u=bp.I(t),typeof u=="function"&&(l=u([t].concat(l)),l instanceof vt))return i&&l.set(i),l;D('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')},vt.takeBuilderArgument=o1;function Nf(){this.pc=!1,this.xa="",this.zp=-1,this.nb=this.xm=this.te=null,this.j="",this.hb=this.Ei=this.Ib=this.Ch=this.$h=this.F=this.Ha=this.ia=this.V=this.Lh=this.Xd=this.Of=this.Nh=this.Oh=this.Qh=this.Ph=this.Mh=this.Bh=this.Fh=this.zh=null,this.u=Cu,this.o=Vn,this.hg=Qr,this.ob=this.Ci=1,this.Pf=je,this.Qc=this.Di=this.gd=null,this.Pc="category"}Nf.prototype.copy=function(){var t=new Nf;return t.xa=this.xa,t.zp=this.zp,t.te=this.te,t.nb=this.nb,t.j=this.j,t.zh=this.zh,t.Fh=this.Fh,t.Bh=this.Bh,t.Mh=this.Mh,t.Ph=this.Ph,t.Qh=this.Qh,t.Oh=this.Oh,t.Nh=this.Nh,t.Of=this.Of,t.Xd=this.Xd,t.Lh=this.Lh,t.V=this.V,t.ia=this.ia,t.Ha=this.Ha,t.F=this.F,t.$h=this.$h,t.Ch=this.Ch,t.Ib=this.Ib,t.Ei=this.Ei,t.hb=this.hb,t.u=this.u.J(),t.o=this.o.J(),t.hg=this.hg,t.Ci=this.Ci,t.ob=this.ob,t.Pf=this.Pf,t.gd=this.gd,t.Di=this.Di,t.Qc=this.Qc,t.Pc=this.Pc,t};function ju(){this.u=-1/0,this.o=0,this.F=po,this.rr=Fi,this.j=this.V="None"}ju.prototype.copy=function(){var t=new ju;return t.u=this.u,t.o=this.o,t.F=this.F.J(),t.rr=this.rr,t.V=this.V,t.j=this.j,t},ju.className="LinkElementSettings";function jy(){this.zj=this.Yi=Yi,this.yj=this.Xi=this.xj=this.Wi=NaN,this.Tr=this.hq=null,this.Ur=this.iq=1/0}jy.prototype.copy=function(){var t=new jy;return t.Yi=this.Yi.J(),t.zj=this.zj.J(),t.Wi=this.Wi,t.xj=this.xj,t.Xi=this.Xi,t.yj=this.yj,t.hq=this.hq,t.Tr=this.Tr,t.iq=this.iq,t.Ur=this.Ur,t},jy.className="LinkSettings";function Vh(){this.ha=[1,0,0,1,0,0]}Vh.prototype.copy=function(){var t=new Vh;return t.ha[0]=this.ha[0],t.ha[1]=this.ha[1],t.ha[2]=this.ha[2],t.ha[3]=this.ha[3],t.ha[4]=this.ha[4],t.ha[5]=this.ha[5],t},Vh.prototype.translate=function(t,i){this.ha[4]+=this.ha[0]*t+this.ha[2]*i,this.ha[5]+=this.ha[1]*t+this.ha[3]*i},Vh.prototype.scale=function(t,i){this.ha[0]*=t,this.ha[1]*=t,this.ha[2]*=i,this.ha[3]*=i},Vh.prototype.rotate=function(t,i,s){if(360<=t?t-=360:0>t&&(t+=360),t!==0){if(this.translate(i,s),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));var u=this.ha[1]*t+this.ha[3]*l,c=this.ha[0]*-l+this.ha[2]*t,d=this.ha[1]*-l+this.ha[3]*t;this.ha[0]=this.ha[0]*t+this.ha[2]*l,this.ha[1]=u,this.ha[2]=c,this.ha[3]=d,this.translate(-i,-s)}},Vh.className="STransform";function Qf(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ix=[],this.pattern=null}Qf.prototype.addColorStop=function(t,i){this.ix.push({offset:t,color:i})},Qf.className="SGradient";function go(t,i,s){this.ownerDocument=t=i===void 0?Q.document:i,this.hA="http://www.w3.org/2000/svg",t!==void 0&&(this.Oa=this.Ud("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",this.style.position="absolute",this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.hs=null,this.context=new Kn(this,s)}go.prototype.resize=function(t,i,s,l){return this.width!==t||this.height!==i?(this.width=t,this.height=i,this.style.width=s+"px",this.style.height=l+"px",this.Oa.setAttributeNS(null,"width",s+"px"),this.Oa.setAttributeNS(null,"height",l+"px"),this.Oa.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),this.context.yw.firstElementChild.setAttributeNS(null,"width",s+"px"),this.context.yw.firstElementChild.setAttributeNS(null,"height",l+"px"),!0):!1},go.prototype.Ud=function(t,i,s){if(t=this.ownerDocument.createElementNS(this.hA,t),tt(i))for(var l in i)t.setAttributeNS(l==="href"?"http://www.w3.org/1999/xlink":"",l,i[l]);return s!==void 0&&(t.textContent=s),t},go.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},go.prototype.focus=function(){this.Oa.focus()},go.prototype.ox=function(){this.ownerDocument=null},S.Object.defineProperties(go.prototype,{width:{get:function(){return this.Oa.width.baseVal.value},set:function(t){this.Oa.setAttribute("width",t+"px")}},height:{get:function(){return this.Oa.height.baseVal.value},set:function(t){this.Oa.setAttribute("height",t+"px")}},style:{get:function(){return this.Oa.style}}}),go.className="SVGSurface";function Kn(t,i){this.Iv=t,this.svg=t.Oa,this.stack=[],this.nh=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.Il=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Vg=this.Br=this.Ar=0,this.yd=this.ad=null,this.path=[],this.Zl={},this.Dt=!1,this.Yg=null,this.vj=0,this.rb=new Vh,this.j=l1(this),this.hi=l1(this,"gojs-diagram"),this.Hl=this.ui=null;var s=pn++,l=this.Ud("clipPath",{id:"mainClip"+s});l.appendChild(this.Ud("rect",{x:0,y:0,width:t.width,height:t.height})),this.yw=l,this.svg.appendChild(this.j),this.j.appendChild(this.hi),this.svg.appendChild(l),this.j.setAttributeNS(null,"clip-path","url(#mainClip"+s+")"),this.iA={},this.isTemporary=!!i,this.filter="",this.ak=null}function u$(t,i,s,l,u,c,d){t.hi===void 0?Ry(t,i,s,l,u,c,d):t.hi.setAttribute("transform","matrix("+i+", "+s+", "+l+", "+u+", "+c+", "+d+")")}n=Kn.prototype,n.arc=function(t,i,s,l,u,c,d,m){var y=2*Math.PI,O=y-1e-6,w=s*Math.cos(l),k=s*Math.sin(l),P=t+w,T=i+k,C=c?0:1;l=c?l-u:u-l,(1e-6<Math.abs(d-P)||1e-6<Math.abs(m-T))&&this.path.push(["L",P,+T]),0>l&&(l=l%y+y),l>O?(this.path.push(["A",s,s,0,1,C,t-w,i-k]),this.path.push(["A",s,s,0,1,C,P,T])):1e-6<l&&this.path.push(["A",s,s,0,+(l>=Math.PI),C,t+s*Math.cos(u),i+s*Math.sin(u)])},n.beginPath=function(){this.path=[],this.Zl={stroke:"none",fill:"none"}},n.Se=function(t){this.addPath(this.path,this.rb,t||0)},n.bezierCurveTo=function(t,i,s,l,u,c){this.path.push(["C",t,i,s,l,u,c])},n.clearRect=function(){},n.clip=function(){this.Zl.clipPath=!0},n.closePath=function(){this.path.push(["z"])},n.createLinearGradient=function(t,i,s,l){var u=new Qf("linear");return u.x1=t,u.y1=i,u.x2=s,u.y2=l,u},n.createPattern=function(t){var i="";t instanceof HTMLCanvasElement&&(i=t.toDataURL()),t instanceof HTMLImageElement&&(i=t.getAttribute("src"));var s=this.iA;if(s[i])return"url(#"+s[i]+")";var l="PATTERN"+pn++,u={x:0,y:0,width:t.width,height:t.height,href:i};return t=this.Ud("pattern",{width:t.width,height:t.height,id:l,patternUnits:"userSpaceOnUse"}),t.appendChild(this.Ud(yp,u)),this.svg.appendChild(t),s[i]=l,"url(#"+l+")"},n.createRadialGradient=function(t,i,s,l,u,c){var d=new Qf("radial");return d.x1=t,d.y1=i,d.r1=s,d.x2=l,d.y2=u,d.r2=c,d};function h$(t,i,s,l,u,c,d,m,y){l=m/l,u=y/u,c===0&&d===0||t.rb.translate(c,d),l===1&&u===1||t.rb.scale(l,u),i===0&&s===0||t.rb.translate(-i,-s)}n.drawImage=function(t,i,s,l,u,c,d,m,y){var O="";t instanceof HTMLCanvasElement&&(O=t.toDataURL()),t instanceof HTMLImageElement&&(O=t.getAttribute("src"));var w=t instanceof HTMLImageElement?t.naturalWidth:t.width;t=t instanceof HTMLImageElement?t.naturalHeight:t.height,l===void 0&&(c=i,d=s,m=l=w,y=u=t),l=l||0,u=u||0,m=m||0,y=y||0,h$(this,i,s,l,u,c||0,d||0,m,y),c={x:0,y:0,width:w||l,height:t||u,href:O},Y.$(l,m)&&Y.$(u,y)?O.toLowerCase().indexOf(".svg")===-1&&O.toLowerCase().indexOf("data:image/svg")===-1&&(c.preserveAspectRatio="xMidYMid slice"):c.preserveAspectRatio="none",(i!==0||s!==0||l!==w||u!==t)&&(l+=i,u+=s,c["clip-path"]="path('M "+i+","+s+" L "+l+" "+s+" L "+l+" "+u+" L "+i+" "+u+" z')"),Tp(this,yp,c,this.rb),this.addElement(yp,c)},n.fill=function(t){t&&(this.Zl["fill-rule"]="evenodd"),gT(this,this.Zl)},n.ng=function(t,i){this.clipInsteadOfFill?this.clip():this.fill(i)},n.fillRect=function(t,i,s,l){t=[t,i,s,l],t={x:t[0],y:t[1],width:t[2],height:t[3]},Tp(this,"fill",t,this.rb),this.addElement("rect",t)},n.qx=function(t,i,s,l){t={x:t,y:i,width:s,height:l},Tp(this,"fill",t,this.rb),gT(this,t),this.svg.prepend(this.Ud("rect",t))},n.fillText=function(t,i,s){t=[t,i,s],i=this.textAlign,i==="left"?i="start":i==="right"?i="end":i==="center"&&(i="middle"),i={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":i},Tp(this,"fill",i,this.rb),this.addElement("text",i,t[0])},n.lineTo=function(t,i){this.path.push(["L",t,i])},n.moveTo=function(t,i){this.path.push(["M",t,i])},n.quadraticCurveTo=function(t,i,s,l){this.path.push(["Q",t,i,s,l])},n.rect=function(t,i,s,l){this.path.push(["M",t,i],["L",t+s,i],["L",t+s,i+l],["L",t,i+l],["z"])},n.restore=function(){this.rb=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.ak=t.ak},n.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,ak:this.ak});for(var t=[],i=0;i<this.path.length;i++)t.push(this.path[i]);this.stack.push(t),this.stack.push(this.rb.copy())},n.setTransform=function(t,i,s,l,u,c){t===1&&i===0&&s===0&&l===1&&u===0&&c===0||Ry(this,t,i,s,l,u,c)};function c$(t){return t=t.rb.ha,"matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}n.scale=function(t,i){this.rb.scale(t,i)},n.translate=function(t,i){this.rb.translate(t,i)},n.transform=function(){},n.yc=function(){},n.stroke=function(){d$(this,this.Zl)},n.ik=function(){this.clipInsteadOfFill||this.stroke()},n.Ud=function(t,i,s){return this.Iv.Ud(t,i,s)},n.addElement=function(t,i,s){return t=this.Ud(t,i,s),this.yd!==null?this.yd.appendChild(t):this.yd=t,this.ad=t};function Tp(t,i,s,l){i==="fill"?gT(t,s):i==="stroke"&&d$(t,s),l!==null&&(t=l.ha,s.transform="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")")}function gT(t,i){t.fillStyle instanceof Qf?i.fill=yT(t,t.fillStyle,!0):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle}function f$(t,i,s){s=s?"fill":"stroke",t.fillStyle instanceof Qf?i.setAttributeNS(null,"fill",yT(t,t.fillStyle,!0)):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.setAttributeNS(null,s,"rgb("+t[1]+","+t[2]+","+t[3]+")"),i.setAttributeNS(null,s+"-opacity",t[4])):i.setAttributeNS(null,s,t.fillStyle)}function d$(t,i){if(t.strokeStyle instanceof Qf)i.stroke=yT(t,t.strokeStyle,!1);else if(/^rgba\(/.test(t.strokeStyle)){var s=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle);i.stroke="rgb("+s[1]+","+s[2]+","+s[3]+")",i["stroke-opacity"]=s[4]}else i.stroke=t.strokeStyle;i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit,t.Dt&&(i["stroke-dasharray"]=t.Yg.toString(),i["stroke-dashoffset"]=t.vj)}function yT(t,i,s){var l="";if(l=t.Hl!==null?t.Hl.getAttribute(s?"fill":"stroke"):null,l!==null&&l.indexOf("GRAD")!==-1?(l=l.split("#")[1].slice(0,-1),s=t.svg.getElementById(l),s!==null&&s.remove()):l="GRAD"+pn++,i.type==="linear")s=t.Ud("linearGradient",{x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,id:l,gradientUnits:"userSpaceOnUse"});else if(i.type==="radial")s=t.Ud("radialGradient",{x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,r1:i.r1,r2:i.r2,id:l});else throw Error("invalid gradient");var u=i.ix;i=u.length;for(var c=[],d=0;d<i;d++){var m=u[d],y=m.color;m={offset:m.offset,"stop-color":y},/^rgba\(/.test(y)&&(y=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(y),m["stop-color"]="rgb("+y[1]+","+y[2]+","+y[3]+")",m["stop-opacity"]=y[4]),c.push(m)}for(c.sort(function(O,w){return O.offset>w.offset?1:-1}),u=0;u<i;u++)s.appendChild(t.Ud("stop",c[u]));return t.svg.appendChild(s),"url(#"+l+")"}n.addPath=function(t,i,s){for(var l=[],u=0;u<t.length;u++){var c=Ot(t[u]),d=[c.shift()];if(d[0]==="A")d.push(c.shift()+","+c.shift(),c.shift(),c.shift()+","+c.shift(),c.shift()+","+c.shift());else for(;c.length;)d.push(c.shift()+","+c.shift());l.push(d.join(" "))}if(l=l.join(" "),t=this.Zl,t.clipPath)0<this.nh.length&&this.nh[this.nh.length-1].setAttributeNS(null,"clip-path",'path("'+l+'")');else if(t.d=l,Tp(this,"",t,i),this.Hl!==null)if(i=this.Hl,i.nodeName!=="g")for(var m in t)m!=="transform"&&i.setAttributeNS(null,m,t[m]);else{m=i.getElementsByTagName("path");for(var y in t)y!=="transform"&&m[s].setAttributeNS(null,y,t[y])}else this.addElement("path",t)};function Ry(t,i,s,l,u,c,d){var m=new Vh;m.ha=[i,s,l,u,c,d],i={},Tp(t,"g",i,m),m=t.addElement("g",i),t.nh.push(m)}function l1(t,i){var s={};return i&&(s.class=i),i=t.addElement("g",s),t.nh.push(i),i}n.Gv=function(t,i,s){this.Ar=t,this.Br=i,this.Vg=s};function yo(t){t.Il=!1,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Oo(t){t.Il=!0,t.shadowOffsetX=t.Ar,t.shadowOffsetY=t.Br,t.shadowBlur=t.Vg}n.js=function(t,i){this.Dt=!0,this.Yg=t,this.vj=i},n.fs=function(){this.Dt=!1},n.Vc=function(){},n.Yx=function(){},Kn.prototype.rotate=function(t){this.rb.rotate(57.2958*t,0,0)},Kn.prototype.getImageData=function(){return null},Kn.prototype.measureText=function(){return null};function a1(t,i){i=i.getAttribute("fill"),i!==null&&(i=i.split("#"),i.length!==1&&(i=t.svg.getElementById(i[1].slice(0,-1)),i!==null&&t.svg.innerHTML.match(new RegExp(i.id,"g")).length===1&&i.remove()))}Kn.prototype.Is=function(t){t.svg!==null&&t.svg.parentNode===this.hi&&t.svg.remove()},Kn.className="SVGContext",G.prototype.Cs=function(t){this.qj.contains("SVG")||this.bs("SVG",new go(this,Q.document));var i=new go(this,Q.document,!0);t===void 0&&(t=new le);var s=this;return ZE(this,function(l,u){return l=YE(s,l,"SVG",i),l=l!==null?l.svg:null,typeof u=="function"?(u(l),null):l},t)},G.prototype.makeSvg=G.prototype.Cs,G.prototype.cv=function(t){return this.Cs(t)},G.prototype.makeSVG=G.prototype.cv;function Kr(t,i,s,l){this.ownerDocument=i=i===void 0?Q.document:i,this.hs=null,i=i.createElement("canvas"),i.tabIndex=0,this.Oa=i,this.context=new zh(i,s,l),i.H=t}Kr.prototype.resize=function(t,i,s,l){return this.width!==t||this.height!==i?(this.width=t,this.height=i,this.style.width=s+"px",this.style.height=l+"px",!0):!1},Kr.prototype.toDataURL=function(t,i){return this.Oa.toDataURL(t,i)},Kr.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},Kr.prototype.focus=function(){this.Oa.focus()},Kr.prototype.ox=function(){this.ownerDocument=this.Oa.H=null},S.Object.defineProperties(Kr.prototype,{width:{get:function(){return this.Oa.width},set:function(t){this.Oa.width=t}},height:{get:function(){return this.Oa.height},set:function(t){this.Oa.height=t}},style:{get:function(){return this.Oa.style}}}),Kr.className="CanvasSurface";function zh(t,i,s){this.Z=t.getContext?t.getContext("2d",i):null,this.Z===null&&D("Browser does not support HTML Canvas Element"),this.dt=this.ft=this.et="",this.Im=!1,this.Vg=this.Br=this.Ar=0,this.Il=!1,this.El=new Bt,this.isTemporary=!!s}n=zh.prototype,n.Yx=function(t){this.Z.imageSmoothingEnabled=t},n.arc=function(t,i,s,l,u,c){this.Z.arc(t,i,s,l,u,c)},n.beginPath=function(){this.Z.beginPath()},n.Se=function(){},n.bezierCurveTo=function(t,i,s,l,u,c){this.Z.bezierCurveTo(t,i,s,l,u,c)},n.clearRect=function(t,i,s,l){this.yc(),this.Z.clearRect(t,i,s,l)},n.clip=function(){this.Z.clip()},n.closePath=function(){this.Z.closePath()},n.createLinearGradient=function(t,i,s,l){return this.Z.createLinearGradient(t,i,s,l)},n.createPattern=function(t,i){return this.Z.createPattern(t,i)},n.createRadialGradient=function(t,i,s,l,u,c){return this.Z.createRadialGradient(t,i,s,l,u,c)},n.drawImage=function(t,i,s,l,u,c,d,m,y){l===void 0?this.Z.drawImage(t,i,s):this.Z.drawImage(t,i,s,l,u,c,d,m,y)},n.fill=function(t){this.Z.fill(t?"evenodd":"nonzero")},n.fillRect=function(t,i,s,l){this.Z.fillRect(t,i,s,l)},n.qx=function(t,i,s,l){this.Z.fillRect(t,i,s,l)},n.fillText=function(t,i,s){this.Z.fillText(t,i,s)},n.getImageData=function(t,i,s,l){return this.Z.getImageData(t,i,s,l)},n.lineTo=function(t,i){this.Z.lineTo(t,i)},n.measureText=function(t){return this.Z.measureText(t)},n.moveTo=function(t,i){this.Z.moveTo(t,i)},n.quadraticCurveTo=function(t,i,s,l){this.Z.quadraticCurveTo(t,i,s,l)},n.rect=function(t,i,s,l){this.Z.rect(t,i,s,l)},n.restore=function(){this.Z.restore()},n.save=function(){this.yc(),this.Z.save()},zh.prototype.rotate=function(t){this.El.rotate(57.2958*t,0,0)},n=zh.prototype,n.setTransform=function(t,i,s,l,u,c){this.El.setTransform(t,i,s,l,u,c)},n.scale=function(t,i){this.El.scale(t,i)},n.translate=function(t,i){this.El.translate(t,i)},n.stroke=function(){this.Z.stroke()},n.transform=function(t,i,s,l,u,c){if(t!==1||i!==0||s!==0||l!==1||u!==0||c!==0){var d=this.El,m=d.m11*t+d.m21*i;t=d.m12*t+d.m22*i,i=d.m11*s+d.m21*l,s=d.m12*s+d.m22*l,d.dx=d.m11*u+d.m21*c+d.dx,d.dy=d.m12*u+d.m22*c+d.dy,d.m11=m,d.m12=t,d.m21=i,d.m22=s}},n.yc=function(){var t=this.El;this.Z.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},n.ng=function(t,i){if(t instanceof ie&&t.type===Or){var s=t.xk;t=t.gt,t>s?(this.scale(s/t,1),this.translate((t-s)/2,0)):s>t&&(this.scale(1,t/s),this.translate(0,(s-t)/2)),this.Im?this.clip():this.fill(i),t>s?(this.translate(-(t-s)/2,0),this.scale(1/(s/t),1)):s>t&&(this.translate(0,-(s-t)/2),this.scale(1,1/(t/s)))}else this.Im?this.clip():this.fill(i)},n.ik=function(){this.Im||this.stroke()},n.Gv=function(t,i,s){this.Ar=t,this.Br=i,this.Vg=s},n.js=function(t,i){var s=this.Z;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=i)},n.fs=function(){var t=this.Z;t.setLineDash!==void 0&&(t.setLineDash(VG),t.lineDashOffset=0)},n.Vc=function(t){t&&(this.et=""),this.dt=this.ft=""},n.Is=function(){},S.Object.defineProperties(zh.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(t){this.dt!==t&&(this.dt=this.Z.fillStyle=t)}},font:{get:function(){return this.Z.font},set:function(t){this.et!==t&&(this.et=this.Z.font=t)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(t){this.Z.globalAlpha=t}},lineCap:{get:function(){return this.Z.lineCap},set:function(t){this.Z.lineCap=t}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(t){this.Z.lineDashOffset=t}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(t){this.Z.lineJoin=t}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(t){this.Z.lineWidth=t}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(t){this.Z.miterLimit=t}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(t){this.Z.shadowBlur=t}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(t){this.Z.shadowColor=t}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(t){this.Z.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(t){this.Z.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(t){this.ft!==t&&(this.ft=this.Z.strokeStyle=t)}},textAlign:{get:function(){return this.Z.textAlign},set:function(t){this.Z.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(t){this.Z.imageSmoothingEnabled=t}},filter:{get:function(){return this.Z.filter},set:function(t){this.Z.filter=t===""?"none":t}},clipInsteadOfFill:{get:function(){return this.Im},set:function(t){this.Im=t}}});var VG=Object.freeze([]);zh.className="CanvasSurfaceContext";function Ly(){this.F=this.o=this.u=this.j=0}Ly.className="ColorNumbers";function ie(t,i){Qp||(kT(),Qp=!0),Ye(this),this._isFrozen=!1,t===void 0?(this.na=Il,this.wk="black"):typeof t=="string"?(this.na=Il,this.wk=t):(this.na=t,this.wk="black"),t=this.na,t===tl?(this.Qd=Ll,this.Kk=mf):this.Kk=t===Or?this.Qd=oe:this.Qd=Zi,this.Gr=0,this.Xp=NaN,this.xe=this.cr=this.we=null,this.gt=this.xk=0,i&&Object.assign(this,i)}ie.prototype.copy=function(){var t=new ie;return t.na=this.na,t.wk=this.wk,t.Qd=this.Qd.J(),t.Kk=this.Kk.J(),t.Gr=this.Gr,t.Xp=this.Xp,this.we!==null&&(t.we=this.we.copy()),t.cr=this.cr,t},n=ie.prototype,n.freeze=function(){return this._isFrozen=!0,this.we!==null&&this.we.freeze(),this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this.we!==null&&this.we.ka(),this},n.qb=function(t){t.classType===ie&&(this.type=t)},n.toString=function(){var t="Brush(";if(this.type===Il)t+=this.color;else if(t=this.type===tl?t+"Linear ":this.type===Or?t+"Radial ":this.type===jf?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,this.colorStops!==null)for(var i=this.colorStops.iterator;i.next();)t+=" "+i.key+":"+i.value;return t+")"},n.addColorStop=function(t,i){return this._isFrozen&&X(this),(typeof t!="number"||!isFinite(t)||1<t||0>t)&&W(t,"0 <= loc <= 1",ie,"addColorStop:loc"),this.we===null&&(this.we=new jt),this.we.add(t,i),this.na===Il&&(this.type=tl),this.xe=null,this},n.$z=function(t,i){if(this._isFrozen&&X(this),t=t===void 0||typeof t!="number"?.2:t,i=i===void 0?Rf:i,this.type===Il)Dl(this.color),this.color=Mp(t,i);else if((this.type===tl||this.type===Or)&&this.colorStops!==null)for(var s=this.colorStops.iterator;s.next();)Dl(s.value),this.addColorStop(s.key,Mp(t,i));return this};function p$(t,i,s){return i=i===void 0||typeof i!="number"?.2:i,s=s===void 0?Rf:s,Dl(t),Mp(i,s)}n.az=function(t,i){if(this._isFrozen&&X(this),t=t===void 0||typeof t!="number"?.2:t,i=i===void 0?Rf:i,this.type===Il)Dl(this.color),this.color=Mp(-t,i);else if((this.type===tl||this.type===Or)&&this.colorStops!==null)for(var s=this.colorStops.iterator;s.next();)Dl(s.value),this.addColorStop(s.key,Mp(-t,i));return this};function m$(t,i,s){return i=i===void 0||typeof i!="number"?.2:i,s=s===void 0?Rf:s,Dl(t),Mp(-i,s)}function OT(t,i,s){Dl(t),t=pe.j;var l=pe.u,u=pe.o,c=pe.F;return Dl(i),s===void 0&&(s=.5),"rgba("+Math.round((pe.j-t)*s+t)+", "+Math.round((pe.u-l)*s+l)+", "+Math.round((pe.o-u)*s+u)+", "+Math.round((pe.F-c)*s+c)+")"}n.Ix=function(){if(this.type===Il)return Cp(this.color);if((this.type===tl||this.type===Or)&&this.colorStops!==null){var t=this.colorStops;if(this.type===Or)return Cp(t.first().value);if(t.get(.5)!==null)return Cp(t.get(.5));if(t.count===2)return t=t.Fa(),Cp(OT(t[0].value,t[1].value));for(var i=t.iterator,s=-1,l=-1,u=1,c=1;i.next();){var d=i.key,m=Math.abs(.5-i.key);u>c&&m<u?(s=d,u=m):c>=u&&m<c&&(l=d,c=m)}return s>l&&(c=s,s=l,l=c,c=u),u=l-s,Cp(OT(t.get(s),t.get(l),1-c/u))}return!1};function Cp(t){return t?t instanceof ie?t.Ix():(Dl(t),128>(299*pe.j+587*pe.u+114*pe.o)/1e3):!1}function Mp(t,i){switch(i){case Rf:i=100*xT(pe.j);var s=100*xT(pe.u),l=100*xT(pe.o);return yn.j=.4124564*i+.3575761*s+.1804375*l,yn.u=.2126729*i+.7151522*s+.072175*l,yn.o=.0193339*i+.119192*s+.9503041*l,yn.F=pe.F,i=ST(yn.j/Np[0]),s=ST(yn.u/Np[1]),l=ST(yn.o/Np[2]),Jo.j=116*s-16,Jo.u=500*(i-s),Jo.o=200*(s-l),Jo.F=yn.F,Jo.j=Math.min(100,Math.max(0,Jo.j+100*t)),t=(Jo.j+16)/116,i=t-Jo.o/200,yn.j=Np[0]*g$(Jo.u/500+t),yn.u=Np[1]*(Jo.j>u1*PT?Math.pow(t,3):Jo.j/u1),yn.o=Np[2]*g$(i),yn.F=Jo.F,t=-.969266*yn.j+1.8760108*yn.u+.041556*yn.o,i=.0556434*yn.j+-.2040259*yn.u+1.0572252*yn.o,pe.j=255*wT((3.2404542*yn.j+-1.5371385*yn.u+-.4985314*yn.o)/100),pe.u=255*wT(t/100),pe.o=255*wT(i/100),pe.F=yn.F,pe.j=Math.round(pe.j),255<pe.j?pe.j=255:0>pe.j&&(pe.j=0),pe.u=Math.round(pe.u),255<pe.u?pe.u=255:0>pe.u&&(pe.u=0),pe.o=Math.round(pe.o),255<pe.o?pe.o=255:0>pe.o&&(pe.o=0),"rgba("+pe.j+", "+pe.u+", "+pe.o+", "+pe.F+")";case TT:return vT(),yr.o=Math.min(100,Math.max(0,yr.o+100*t)),"hsla("+yr.j+", "+yr.u+"%, "+yr.o+"%, "+yr.F+")";default:D("Unknown color space: "+i)}}function Dl(t){Qp||(kT(),Qp=!0);var i=bT;if(i!==null){i.clearRect(0,0,1,1),i.fillStyle="#000000";var s=i.fillStyle;i.fillStyle=t,i.fillStyle!==s?(i.fillRect(0,0,1,1),t=i.getImageData(0,0,1,1).data,pe.j=t[0],pe.u=t[1],pe.o=t[2],pe.F=t[3]/255):(i.fillStyle="#FFFFFF",i.fillStyle=t,pe.j=0,pe.u=0,pe.o=0,pe.F=1)}}function vT(){var t=pe.j/255,i=pe.u/255,s=pe.o/255,l=Math.max(t,i,s),u=Math.min(t,i,s),c=l-u;if(u=(l+u)/2,c===0)var d=t=0;else{switch(l){case t:d=(i-s)/c%6;break;case i:d=(s-t)/c+2;break;case s:d=(t-i)/c+4}d*=60,0>d&&(d+=360),t=c/(1-Math.abs(2*u-1))}yr.j=Math.round(d),yr.u=Math.round(100*t),yr.o=Math.round(100*u),yr.F=pe.F}function xT(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wT(t){return .0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function ST(t){return t>PT?Math.pow(t,1/3):(u1*t+16)/116}function g$(t){var i=t*t*t;return i>PT?i:(116*t-16)/u1}function Af(t,i){typeof t!="string"&&(t instanceof ie||D("Value for "+i+" must be a color string or a Brush, not "+t))}function kT(){bT=bs?new Kr(null,void 0,{willReadFrequently:!0}).context:null}S.Object.defineProperties(ie.prototype,{type:{get:function(){return this.na},set:function(t){this._isFrozen&&X(this,t),this.na=t,this.start.Nc()&&(t===tl?this.start=Ll:t===Or&&(this.start=oe)),this.end.Nc()&&(t===tl?this.end=mf:t===Or&&(this.end=oe)),this.xe=null}},color:{get:function(){return this.wk},set:function(t){this._isFrozen&&X(this,t),this.wk=t,this.xe=null}},start:{get:function(){return this.Qd},set:function(t){this._isFrozen&&X(this,t),this.Qd=t.J(),this.xe=null}},end:{get:function(){return this.Kk},set:function(t){this._isFrozen&&X(this,t),this.Kk=t.J(),this.xe=null}},startRadius:{get:function(){return this.Gr},set:function(t){this._isFrozen&&X(this,t),0>t&&W(t,">= zero",ie,"startRadius"),this.Gr=t,this.xe=null}},endRadius:{get:function(){return this.Xp},set:function(t){this._isFrozen&&X(this,t),0>t&&W(t,">= zero",ie,"endRadius"),this.Xp=t,this.xe=null}},colorStops:{get:function(){return this.we},set:function(t){this._isFrozen&&X(this,t),this.we=t,this.xe=null}},pattern:{get:function(){return this.cr},set:function(t){this._isFrozen&&X(this,t),this.cr=t,this.xe=null}}}),ie.prototype.isDark=ie.prototype.Ix,ie.prototype.darkenBy=ie.prototype.az,ie.prototype.lightenBy=ie.prototype.$z,ie.prototype.addColorStop=ie.prototype.addColorStop;var PT=216/24389,u1=24389/27,Np=[95.047,100,108.883],bT=null,pe=new Ly,yr=new Ly,yn=new Ly,Jo=new Ly,Qp=!1;ie.className="Brush";var Il;ie.Solid=Il=new it(ie,"Solid",0);var tl;ie.Linear=tl=new it(ie,"Linear",1);var Or;ie.Radial=Or=new it(ie,"Radial",2);var jf;ie.Pattern=jf=new it(ie,"Pattern",4);var Rf;ie.Lab=Rf=new it(ie,"Lab",5);var TT;ie.HSL=TT=new it(ie,"HSL",6),ie.randomColor=function(t,i){t===void 0&&(t=128),i===void 0&&(i=Math.max(t,255));var s=Math.abs(i-t);i=Math.floor(t+Math.random()*s).toString(16);var l=Math.floor(t+Math.random()*s).toString(16);return t=Math.floor(t+Math.random()*s).toString(16),2>i.length&&(i="0"+i),2>l.length&&(l="0"+l),2>t.length&&(t="0"+t),"#"+i+l+t},ie.isValidColor=function(t){if(t==="black")return!0;if(t==="")return!1;Qp||(kT(),Qp=!0);var i=bT;if(i===null)return!0;i.fillStyle="#000000";var s=i.fillStyle;return i.fillStyle=t,i.fillStyle!==s?!0:(i.fillStyle="#FFFFFF",s=i.fillStyle,i.fillStyle=t,i.fillStyle!==s)},ie.lighten=function(t){return p$(t)},ie.lightenBy=p$,ie.darken=function(t){return m$(t)},ie.darkenBy=m$,ie.mix=OT,ie.isDark=Cp;function ni(){this.xa="Base"}ni.prototype.measure=function(){},ni.prototype.cA=function(t,i,s,l,u){t.measure(i,s,l,u)},ni.prototype.arrange=function(){},ni.prototype.Ny=function(t,i,s,l,u,c){t.arrange(i,s,l,u,c)},ni.prototype.mA=function(t){t.Tj()},ni.prototype.ic=function(){},S.Object.defineProperties(ni.prototype,{name:{get:function(){return this.xa},set:function(t){this.xa=t}},classType:{get:function(){return nt}}}),ni.prototype.remeasureObject=ni.prototype.mA,ni.prototype.arrangeElement=ni.prototype.Ny,ni.prototype.measureElement=ni.prototype.cA,ni.className="PanelLayout";function h1(){this.xa="Base"}v(h1,ni),h1.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;t=Fl(t);for(var y=0;y<m;y++){var O=l[y];if(O.visible||O===t){var w=O.margin,k=w.right+w.left;w=w.top+w.bottom,O.measure(i,s,c,d);var P=O.measuredBounds;k=Math.max(P.width+k,0),w=Math.max(P.height+w,0),P=O.position.x;var T=O.position.y;isFinite(P)||(P=0),isFinite(T)||(T=0),O instanceof It&&O.isGeometryPositioned&&(O=O.strokeWidth/2,P-=O,T-=O),wi(u,P,T,k,w)}}},h1.prototype.arrange=function(t,i,s){var l=i.length,u=t.padding;for(t=s.x-u.left,s=s.y-u.top,u=0;u<l;u++){var c=i[u],d=c.measuredBounds,m=c.margin,y=c.position.x,O=c.position.y;if(y=isNaN(y)?-t:y-t,O=isNaN(O)?-s:O-s,c instanceof It&&c.isGeometryPositioned){var w=c.strokeWidth/2;y-=w,O-=w}c.visible&&c.arrange(y+m.left,O+m.top,d.width,d.height)}};function c1(){this.xa="Base"}v(c1,ni),c1.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;i=St(),c=Fl(t);for(var y=0;y<m;y++){var O=l[y];if(O.visible||O===c){var w=Ys(O,!1);if(w!==je&&w!==ji)i.push(O);else{O.measure(1/0,s,0,d),w=O.margin,O=O.measuredBounds;var k=Math.max(O.height+w.top+w.bottom,0);u.width+=Math.max(O.width+w.right+w.left,0),u.height=Math.max(u.height,k)}}}for(l=i.length,t.desiredSize.height?s=Math.min(t.desiredSize.height,t.maxSize.height):u.height!==0&&(s=Math.min(u.height,t.maxSize.height)),t=0;t<l;t++)y=i[t],(y.visible||y===c)&&(w=y.margin,m=w.right+w.left,w=w.top+w.bottom,y.measure(1/0,s,0,d),y=y.measuredBounds,w=Math.max(y.height+w,0),u.width+=Math.max(y.width+m,0),u.height=Math.max(u.height,w));mt(i)},c1.prototype.arrange=function(t,i,s){for(var l=i.length,u=t.padding,c=u.top,d=t.isOpposite,m=d?s.width:u.left,y=0;y<l;y++){var O=c,w=i[y];if(w.visible){var k=w.measuredBounds,P=w.margin,T=P.top+P.bottom,C=c+u.bottom,A=k.height,I=Ys(w,!1);(isNaN(w.desiredSize.height)&&I===$e||I===Ii)&&(A=Math.max(s.height-T-C,0)),T=A+T+C,C=w.alignment,C.$b()&&(C=t.defaultAlignment),C.sb()||(C=oe),d&&(m-=k.width+P.left+P.right),w.arrange(m+C.offsetX+P.left,O+C.offsetY+P.top+(s.height*C.y-T*C.y),k.width,A),d||(m+=k.width+P.left+P.right)}}};function f1(){this.xa="Base"}v(f1,ni),f1.prototype.measure=function(t,i,s,l,u,c){var d=l.length;s=St();for(var m=Fl(t),y=0;y<d;y++){var O=l[y];if(O.visible||O===m){var w=Ys(O,!1);if(w!==je&&w!==Ii)s.push(O);else{var k=O.margin;w=k.right+k.left,k=k.top+k.bottom,O.measure(i,1/0,c,0),O=O.measuredBounds,Ji(u,Math.max(u.width,Math.max(O.width+w,0)),u.height+Math.max(O.height+k,0))}}}if(l=s.length,l!==0){for(t.desiredSize.width?i=Math.min(t.desiredSize.width,t.maxSize.width):u.width!==0&&(i=Math.min(u.width,t.maxSize.width)),t=0;t<l;t++)y=s[t],(y.visible||y===m)&&(O=y.margin,d=O.right+O.left,O=O.top+O.bottom,y.measure(i,1/0,c,0),y=y.measuredBounds,O=Math.max(y.height+O,0),u.width=Math.max(u.width,Math.max(y.width+d,0)),u.height+=O);mt(s)}},f1.prototype.arrange=function(t,i,s){for(var l=i.length,u=t.padding,c=u.left,d=t.isOpposite,m=d?s.height:u.top,y=0;y<l;y++){var O=c,w=i[y];if(w.visible){var k=w.measuredBounds,P=w.margin,T=P.left+P.right,C=c+u.right,A=k.width,I=Ys(w,!1);(isNaN(w.desiredSize.width)&&I===$e||I===ji)&&(A=Math.max(s.width-T-C,0)),T=A+T+C,C=w.alignment,C.$b()&&(C=t.defaultAlignment),C.sb()||(C=oe),d&&(m-=k.height+P.bottom+P.top),w.arrange(O+C.offsetX+P.left+(s.width*C.x-T*C.x),m+C.offsetY+P.top,A,k.height),d||(m+=k.height+P.bottom+P.top)}}};function d1(){this.xa="Base"}v(d1,ni),d1.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;if(m!==0){var y=t.Qb(),O=y.margin,w=O.right+O.left,k=O.top+O.bottom;y.measure(i,s,c,d);var P=y.measuredBounds;c=P.width,d=P.height;var T=Math.max(c+w,0),C=Math.max(d+k,0),A=t.isClipping,I=J.allocAt(-O.left,-O.top,T,C),E=J.allocAt(0,0,c,d);CT(y,E,!0),c=E.width,d=E.height;for(var z=!0,B=Fl(t),_=0;_<m;_++){var Z=l[_];P=i;var H=s;if(Z!==y&&(Z.visible||Z===B)){O=Z.margin;var at=O.left,pt=O.top;switch(T=O.right+O.left,C=O.top+O.bottom,O=Ys(Z,!1),O){case $e:P=c,H=d,pt=at=C=T=0;break;case ji:P=c,at=T=0;break;case Ii:H=d,pt=C=0}Z.measure(P,H,0,0),P=Z.measuredBounds,T=Math.max(P.width+T,0),C=Math.max(P.height+C,0),O=Z.alignment,O.$b()&&(O=t.defaultAlignment),O.sb()||(O=oe);var gt=Z.alignmentFocus;if(gt.$b()&&(gt=oe),H=null,Z instanceof nt&&Z.$e!==""&&(H=Z.fb(Z.$e),H===Z&&(H=null)),at=E.x-at,pt=E.y-pt,H!==null){for(Z.arrange(0,0,P.width,P.height),P=H.actualBounds,P=F.allocAt(P.x+(gt.x*P.width-gt.offsetX),P.y+(gt.y*P.height-gt.offsetY)),H=H.panel;H!==Z;)H.transform.Ga(P),H=H.panel;at+=O.x*c+O.offsetX-P.x,pt+=O.y*d+O.offsetY-P.y,F.free(P)}else at+=O.x*c+O.offsetX-(gt.x*P.width+gt.offsetX),pt+=O.y*d+O.offsetY-(gt.y*P.height+gt.offsetY);z?(z=!1,u.h(at,pt,T,C)):wi(u,at,pt,T,C)}}switch(z?u.assign(I):A?u.Wu(E.x,E.y,E.width,E.height):wi(u,I.x,I.y,I.width,I.height),J.free(I),J.free(E),O=y.stretch,O===Qr&&(O=Ys(y,!1)),O){case je:return;case $e:if(!isFinite(i)&&!isFinite(s))return;break;case ji:if(!isFinite(i))return;break;case Ii:if(!isFinite(s))return}for(P=y.measuredBounds,c=P.width,d=P.height,T=Math.max(c+w,0),C=Math.max(d+k,0),O=y.margin,E=J.allocAt(-O.left,-O.top,T,C),CT(y,E,!0),c=E.width,d=E.height,i=0;i<m;i++)s=l[i],s===y||!s.visible&&s!==B||(O=s.margin,T=O.right+O.left,C=O.top+O.bottom,P=s.measuredBounds,T=Math.max(P.width+T,0),C=Math.max(P.height+C,0),w=s.alignment,w.$b()&&(w=t.defaultAlignment),w.sb()||(w=oe),s=s.alignmentFocus,s.$b()&&(s=oe),z?(z=!1,u.h(w.x*c+w.offsetX-(s.x*P.width+s.offsetX)-O.left,w.y*d+w.offsetY-(s.y*P.height+s.offsetY)-O.top,T,C)):wi(u,w.x*c+w.offsetX-(s.x*P.width+s.offsetX)-O.left,w.y*d+w.offsetY-(s.y*P.height+s.offsetY)-O.top,T,C));z?u.assign(I):A?u.Wu(E.x,E.y,E.width,E.height):wi(u,I.x,I.y,I.width,I.height),J.free(E)}},d1.prototype.arrange=function(t,i,s){var l=i.length;if(l!==0){var u=t.Qb(),c=u.measuredBounds,d=c.width,m=c.height,y=t.padding;c=y.left,y=y.top;var O=c-s.x,w=y-s.y;for(u.arrange(O,w,d,m),d=J.allocAt(0,0,d,m),CT(u,d,!1),m=0;m<l;m++){var k=i[m];if(k!==u){O=k.measuredBounds;var P=O.width,T=O.height;w=k.alignment,w.$b()&&(w=t.defaultAlignment),w.sb()||(w=oe);var C=k.alignmentFocus;if(C.$b()&&(C=oe),O=null,k instanceof nt&&k.$e!==""&&(O=k.fb(k.$e),O===k&&(O=null)),O!==null){var A=O.actualBounds;for(C=F.allocAt(A.x+(C.x*A.width-C.offsetX),A.y+(C.y*A.height-C.offsetY)),O=O.panel;O!==k;)O.transform.Ga(C),O=O.panel;O=w.x*d.width+w.offsetX-C.x,w=w.y*d.height+w.offsetY-C.y,F.free(C)}else O=w.x*d.width+w.offsetX-(C.x*P+C.offsetX),w=w.y*d.height+w.offsetY-(C.y*T+C.offsetY);O+=d.x-s.x,w+=d.y-s.y,k.visible&&k.arrange(c+O,y+w,P,T)}}J.free(d)}};function CT(t,i,s){var l=null;if(t instanceof nt&&t.$e!==""&&(l=t.fb(t.$e),l===t&&(l=null)),l!==null)for(s&&t.arrange(0,0,i.width,i.height),i.assign(l.actualBounds),l=l.panel;l!==t;)l.transform.pp(i),l=l.panel}function p1(){this.xa="Base"}v(p1,ni),p1.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;if(m!==0){var y=t.Qb(),O=y.margin,w=i,k=s,P=O.right+O.left,T=O.top+O.bottom;y.measure(i,s,c,d),O=y.measuredBounds;var C=0,A=null;y instanceof It&&(A=y,C=A.strokeWidth*A.scale);var I=Math.max(O.width+P,0);O=Math.max(O.height+T,0);var E=AT(y),z=E.x*I+E.offsetX;E=E.y*O+E.offsetY;var B=jT(y),_=B.x*I+B.offsetX;for(B=B.y*O+B.offsetY,isFinite(i)&&(w=Math.max(Math.abs(z-_)-C,0)),isFinite(s)&&(k=Math.max(Math.abs(E-B)-C,0)),C=At.alloc(),C.h(0,0),t=Fl(t),B=0;B<m;B++)E=l[B],E===y||!E.visible&&E!==t||(O=E.margin,I=O.right+O.left,z=O.top+O.bottom,E.measure(w,k,0,0),O=E.measuredBounds,I=Math.max(O.width+I,0),O=Math.max(O.height+z,0),C.h(Math.max(I,C.width),Math.max(O,C.height)));if(m===1)u.width=I,u.height=O,At.free(C);else{switch(E=AT(y),B=jT(y),m=l=0,B.x!==E.x&&B.y!==E.y&&(l=C.width/Math.abs(B.x-E.x),m=C.height/Math.abs(B.y-E.y)),At.free(C),C=0,A!==null&&(C=A.strokeWidth*A.scale,DT(A)===Hr&&(l=m=Math.max(l,m))),l+=Math.abs(E.offsetX)+Math.abs(B.offsetX)+C,m+=Math.abs(E.offsetY)+Math.abs(B.offsetY)+C,A=y.stretch,A===Qr&&(A=Ys(y,!1)),A){case je:d=c=0;break;case $e:isFinite(i)&&(l=i),isFinite(s)&&(m=s);break;case ji:isFinite(i)&&(l=i),d=0;break;case Ii:c=0,isFinite(s)&&(m=s)}y.Tj(),y.measure(l,m,c,d),u.width=y.measuredBounds.width+P,u.height=y.measuredBounds.height+T}}},p1.prototype.arrange=function(t,i){var s=i.length;if(s!==0){var l=t.Qb(),u=l.measuredBounds,c=J.alloc();c.h(0,0,1,1);var d=l.margin,m=d.left;d=d.top;var y=t.padding,O=y.left;y=y.top,l.arrange(O+m,y+d,u.width,u.height);var w=AT(l),k=jT(l),P=w.y*u.height+w.offsetY,T=k.x*u.width+k.offsetX;for(k=k.y*u.height+k.offsetY,c.x=w.x*u.width+w.offsetX,c.y=P,wi(c,T,k,0,0),c.x+=m+O,c.y+=d+y,u=0;u<s;u++)m=i[u],m!==l&&(O=m.measuredBounds,d=m.margin,y=Math.max(O.width+d.right+d.left,0),w=Math.max(O.height+d.top+d.bottom,0),P=m.alignment,P.$b()&&(P=t.defaultAlignment),P.sb()||(P=oe),y=c.width*P.x+P.offsetX-y*P.x+d.left+c.x,d=c.height*P.y+P.offsetY-w*P.y+d.top+c.y,m.visible&&(Xs(c.x,c.y,c.width,c.height,y,d,O.width,O.height)?m.arrange(y,d,O.width,O.height):m.arrange(y,d,O.width,O.height,new J(c.x,c.y,c.width,c.height))));J.free(c)}};function m1(){this.xa="Base",this.name="Table"}v(m1,ni),m1.prototype.measure=function(t,i,s,l,u){for(var c=l.length,d=St(),m=St(),y=0;y<c;y++){var O=l[y],w=O instanceof nt?O:null;if(w!==null&&Aa(w)&&O.visible){m.push(w);for(var k=w.O.s,P=k.length,T=0;T<P;T++){var C=k[T];w.type===nt.TableRow?C.row=O.row:w.type===nt.TableColumn&&(C.column=O.column),d.push(C)}}else d.push(O)}c=d.length,c===0&&(t.Gb(0),t.Fb(0));for(var A=[],I=0;I<c;I++){var E=d[I];E.visible&&(Ar(E,!0),Ih(E,!0),A[E.row]||(A[E.row]=[]),A[E.row][E.column]||(A[E.row][E.column]=[]),A[E.row][E.column].push(E))}mt(d);var z=St(),B=St(),_=St(),Z={count:0},H={count:0},at=i,pt=s,gt=t.rowDefs,ot=t.colDefs,et=null;c=gt.length;for(var Lt=0;Lt<c;Lt++)et=gt[Lt],et!==void 0&&(et.actual=0,et.Wb=0);c=ot.length;for(var Qt=0;Qt<c;Qt++)et=ot[Qt],et!==void 0&&(et.actual=0,et.Wb=0);for(var Gt=A.length,ce=0,hi=0;hi<Gt;hi++)A[hi]&&(ce=Math.max(ce,A[hi].length));var pi=Math.min(t.topIndex,Gt-1),sn=Math.min(t.leftIndex,ce-1),ci=0;Gt=A.length;for(var Fa=Fl(t),Ue=0;Ue<Gt;Ue++)if(A[Ue]){ce=A[Ue].length;var Hs=t.Gb(Ue);Hs.actual=0;for(var on=Hs.Wb=0;on<ce;on++)if(A[Ue][on]){var Va=t.Fb(on);z[on]===void 0&&(Va.actual=0,Va.Wb=0,z[on]=!0);for(var xr=A[Ue][on],rs=xr.length,ir=0;ir<rs;ir++){var _n=xr[ir];if(_n.visible||_n===Fa){var za=1<_n.rowSpan,Ks=1<_n.columnSpan;(za||Ks)&&(Ue<pi||on<sn||B.push(_n));var Uu=_n.margin,nr=Uu.right+Uu.left,Rw=Uu.top+Uu.bottom,ln=Ay(_n,Hs,Va,!1),Kh=_n.desiredSize,bo=!isNaN(Kh.height),rr=!isNaN(Kh.width)&&bo;if(ln===je||rr||Ue<pi||on<sn||(Ks||Z[on]!==void 0||ln!==$e&&ln!==ji||(Z[on]=-1,Z.count++),za||H[Ue]!==void 0||ln!==$e&&ln!==Ii||(H[Ue]=-1,H.count++),za||Ks||_.push(_n)),_n.measure(1/0,1/0,0,0),!(Ue<pi||on<sn)){var Zu=_n.measuredBounds,sr=Math.max(Zu.width+nr,0),Yf=Math.max(Zu.height+Rw,0);if(_n.rowSpan===1&&(ln===je||ln===ji)){et=t.Gb(Ue);var hm=et.Wc(),Lw=et.oa===0;ci=Math.max(Yf-et.actual,0),ci+(Lw?hm:0)>pt&&(ci=Math.max(pt-hm,0)),et.Wb=et.Wb+ci,et.actual=et.oa+ci,pt=Math.max(pt-(ci+(Lw?hm:0)),0)}if(_n.columnSpan===1&&(ln===je||ln===Ii)){et=t.Fb(on);var A0=et.Wc(),j0=et.oa===0;ci=Math.max(sr-et.actual,0),ci+(j0?A0:0)>at&&(ci=Math.max(at-A0,0)),et.Wb=et.Wb+ci,et.actual=et.oa+ci,at=Math.max(at-(ci+(j0?A0:0)),0)}(za||Ks)&&_n.Tj()}}}}}mt(z);var Ul=0,To=0;c=t.columnCount;for(var cm=0;cm<c;cm++){var Yu=ot[cm];Yu!==void 0&&(Ul+=isNaN(Yu.Ic)?Yu.Wb:Yu.Ic,Yu.Wb!==0&&(Ul+=Yu.Wc()))}c=t.rowCount;for(var fm=0;fm<c;fm++){var js=gt[fm];js!==void 0&&(To+=isNaN(js.Ic)?js.Wb:js.Ic,js.Wb!==0&&(To+=js.Wc()))}at=Math.max(i-Ul,0);var Ba=pt=Math.max(s-To,0),Un=at;c=_.length;for(var dm=0;dm<c;dm++){var Co=_[dm],Zl=t.Gb(Co.row),R0=t.Fb(Co.column),ol=Co.measuredBounds,Yl=Co.margin,Mo=Yl.right+Yl.left,L0=Yl.top+Yl.bottom;Z[Co.column]=R0.Wb===0&&Z[Co.column]!==void 0?Math.max(ol.width+Mo,Z[Co.column]):null,H[Co.row]=Zl.Wb===0&&H[Co.row]!==void 0?Math.max(ol.height+L0,H[Co.row]):null}var pm=0,ll=0,Wu;for(Wu in H)Wu!=="count"&&(pm+=H[Wu]);for(Wu in Z)Wu!=="count"&&(ll+=Z[Wu]);for(var ki=At.alloc(),Jh=0;Jh<c;Jh++){var Ve=_[Jh];if(Ve.visible||Ve===Fa){var Sn=t.Gb(Ve.row),or=t.Fb(Ve.column),Xa=0;isFinite(or.width)?Xa=or.width:(isFinite(at)&&Z[Ve.column]!==null?ll===0?Xa=or.actual+at:Xa=Z[Ve.column]/ll*Un:Z[Ve.column]!==null?Xa=at:Xa=or.actual||at,Xa=Math.max(0,Xa-or.Wc()));var al=0;switch(isFinite(Sn.height)?al=Sn.height:(isFinite(pt)&&H[Ve.row]!==null?pm===0?al=Sn.actual+pt:al=H[Ve.row]/pm*Ba:H[Ve.row]!==null?al=pt:al=Sn.actual||pt,al=Math.max(0,al-Sn.Wc())),ki.h(Math.max(or.minimum,Math.min(Xa,or.maximum)),Math.max(Sn.minimum,Math.min(al,Sn.maximum))),ln=Ay(Ve,Sn,or,!1),ln){case ji:ki.height=Math.max(ki.height,Sn.actual+pt);break;case Ii:ki.width=Math.max(ki.width,or.actual+at)}var mm=Ve.margin,Ew=mm.right+mm.left,E0=mm.top+mm.bottom;Ve.Tj(),Ve.measure(ki.width,ki.height,or.minimum,Sn.minimum);var gm=Ve.measuredBounds,Wf=Math.max(gm.width+Ew,0),Zn=Math.max(gm.height+E0,0);isFinite(at)&&(Wf=Math.min(Wf,ki.width)),isFinite(pt)&&(Zn=Math.min(Zn,ki.height));var qu=0;qu=Sn.actual,Sn.actual=Math.max(Sn.actual,Zn),Sn.Wb=Math.max(Sn.Wb,Zn),ci=Sn.actual-qu,pt=Math.max(pt-ci,0),H[Ve.row]===null&&(Ba=Math.max(Ba-ci,0)),qu=or.actual,or.actual=Math.max(or.actual,Wf),or.Wb=Math.max(or.Wb,Wf),ci=or.actual-qu,at=Math.max(at-ci,0),Z[Ve.column]===null&&(Un=Math.max(Un-ci,0))}}mt(_);var Wl=At.alloc(),Dr=St(),ql=St();if(c=B.length,c!==0){for(var ul=0;ul<Gt;ul++)if(A[ul]){ce=A[ul].length;var $0=t.Gb(ul);Dr[ul]=$0.actual;for(var tc=0;tc<ce;tc++)if(A[ul][tc]){var $w=t.Fb(tc);ql[tc]=$w.actual}}}for(var ym=0;ym<c;ym++){var Re=B[ym];if(Re.visible||Re===Fa){var ss=t.Gb(Re.row),hl=t.Fb(Re.column);switch(ki.h(Math.max(hl.minimum,Math.min(i,hl.maximum)),Math.max(ss.minimum,Math.min(s,ss.maximum))),ln=Ay(Re,ss,hl,!1),ln){case $e:ql[hl.index]!==0&&(ki.width=Math.min(ki.width,ql[hl.index])),Dr[ss.index]!==0&&(ki.height=Math.min(ki.height,Dr[ss.index]));break;case ji:ql[hl.index]!==0&&(ki.width=Math.min(ki.width,ql[hl.index]));break;case Ii:Dr[ss.index]!==0&&(ki.height=Math.min(ki.height,Dr[ss.index]))}isFinite(hl.width)&&(ki.width=hl.width),isFinite(ss.height)&&(ki.height=ss.height),Wl.h(0,0);for(var lr=hl.minimum,Om=ss.minimum,os=1;os<Re.rowSpan&&!(Re.row+os>=t.rowCount);os++)et=t.Gb(Re.row+os),ci=0,ci=ln===$e||ln===Ii?Math.max(et.minimum,Dr[Re.row+os]===0?et.maximum:Math.min(Dr[Re.row+os],et.maximum)):Math.max(et.minimum,isNaN(et.Ic)?et.maximum:Math.min(et.Ic,et.maximum)),Wl.height+=ci,Om+=et.minimum;for(var ec=1;ec<Re.columnSpan&&!(Re.column+ec>=t.columnCount);ec++)et=t.Fb(Re.column+ec),ci=0,ci=ln===$e||ln===ji?Math.max(et.minimum,ql[Re.column+ec]===0?et.maximum:Math.min(ql[Re.column+ec],et.maximum)):Math.max(et.minimum,isNaN(et.Ic)?et.maximum:Math.min(et.Ic,et.maximum)),Wl.width+=ci,lr+=et.minimum;ki.width+=Wl.width,ki.height+=Wl.height;var cl=Re.margin,D0=cl.right+cl.left,I0=cl.top+cl.bottom;Re.measure(ki.width,ki.height,lr,Om);for(var fl=Re.measuredBounds,ic=Math.max(fl.width+D0,0),nc=Math.max(fl.height+I0,0),vm=0,Gu=0;Gu<Re.rowSpan&&!(Re.row+Gu>=t.rowCount);Gu++)et=t.Gb(Re.row+Gu),vm+=et.total||0;if(vm<nc){var ls=nc-vm,_a=nc-vm;if(Re.spanAllocation!==null)for(var rc=Re.spanAllocation,Gl=0;Gl<Re.rowSpan&&!(0>=ls)&&!(Re.row+Gl>=t.rowCount);Gl++){et=t.Gb(Re.row+Gl);var Ua=et.oa||0,Hl=rc(Re,et,_a);et.actual=Math.min(et.maximum,Ua+Hl),et.oa!==Ua&&(ls-=et.oa-Ua)}for(;0<ls;){var qf=et.oa||0;if(isNaN(et.height)&&et.maximum>qf&&(et.actual=Math.min(et.maximum,qf+ls),et.oa!==qf&&(ls-=et.oa-qf)),et.index===0)break;et=t.Gb(et.index-1)}}for(var Za=0,xm=0;xm<Re.columnSpan&&!(Re.column+xm>=t.columnCount);xm++)et=t.Fb(Re.column+xm),Za+=et.total||0;if(Za<ic){var Gf=ic-Za,Kl=ic-Za;if(Re.spanAllocation!==null)for(var F0=Re.spanAllocation,wm=0;wm<Re.columnSpan&&!(0>=Gf)&&!(Re.column+wm>=t.columnCount);wm++){et=t.Fb(Re.column+wm);var V0=et.oa||0,vH=F0(Re,et,Kl);et.actual=Math.min(et.maximum,V0+vH),et.oa!==V0&&(Gf-=et.oa-V0)}for(;0<Gf;){var Dw=et.oa||0;if(isNaN(et.width)&&et.maximum>Dw&&(et.actual=Math.min(et.maximum,Dw+Gf),et.oa!==Dw&&(Gf-=et.oa-Dw)),et.index===0)break;et=t.Fb(et.index-1)}}}}mt(B),At.free(Wl),At.free(ki),Dr!==void 0&&mt(Dr),ql!==void 0&&mt(ql);var Hf=0,Kf=0,Iw=t.desiredSize,NI=t.maxSize;ln=Ys(t,!0);var z0=To=Ul=0,B0=0;c=t.columnCount;for(var Fw=0;Fw<c;Fw++)ot[Fw]!==void 0&&(et=t.Fb(Fw),isFinite(et.width)?(z0+=et.width,z0+=et.Wc()):b1(et)===Ap?(z0+=et.oa,z0+=et.Wc()):et.oa!==0&&(Ul+=et.oa,Ul+=et.Wc()));isFinite(Iw.width)?Hf=Math.min(Iw.width,NI.width):Hf=ln!==je&&isFinite(i)?i:Ul,Hf=Math.max(Hf,t.minSize.width),Hf=Math.max(Hf-z0,0);for(var xH=Ul===0?1:Math.max(Hf/Ul,1),Vw=0;Vw<c;Vw++)ot[Vw]!==void 0&&(et=t.Fb(Vw),isFinite(et.width)||b1(et)===Ap||(et.actual=et.oa*xH),et.position=u.width,et.oa!==0&&(u.width+=et.oa,u.width+=et.Wc()));c=t.rowCount;for(var zw=0;zw<c;zw++)gt[zw]!==void 0&&(et=t.Gb(zw),isFinite(et.height)?(B0+=et.height,B0+=et.Wc()):b1(et)===Ap?(B0+=et.oa,B0+=et.Wc()):et.oa!==0&&(To+=et.oa,To+=et.Wc()));isFinite(Iw.height)?Kf=Math.min(Iw.height,NI.height):Kf=ln!==je&&isFinite(s)?s:To,Kf=Math.max(Kf,t.minSize.height),Kf=Math.max(Kf-B0,0);for(var wH=To===0?1:Math.max(Kf/To,1),Bw=0;Bw<c;Bw++)gt[Bw]!==void 0&&(et=t.Gb(Bw),isFinite(et.height)||b1(et)===Ap||(et.actual=et.oa*wH),et.position=u.height,et.oa!==0&&(u.height+=et.oa,u.height+=et.Wc()));c=m.length;for(var $C=0;$C<c;$C++){var X0=m[$C],DC=0,IC=0;X0.type===nt.TableRow?(DC=u.width,et=t.Gb(X0.row),IC=et.actual):(et=t.Fb(X0.column),DC=et.actual,IC=u.height),X0.measuredBounds.h(0,0,DC,IC),Ar(X0,!1)}mt(m),t.inRowsCols=A},m1.prototype.arrange=function(t,i,s){var l=i.length,u=t.padding,c=u.left;u=u.top;var d=t.inRowsCols;if(d!==null){for(var m,y,O=d.length,w=0,k=0;k<O;k++)d[k]&&(w=Math.max(w,d[k].length));y=t.rowDefs,m=t.colDefs;var P=k=0,T=Math.min(t.topIndex,O-1);if(0<y.length){for(;T!==O&&(y[T]===void 0||y[T].oa===0);)T++;T=Math.max(Math.min(T,O-1),0),k=-y[T].position}var C=Math.min(t.leftIndex,w-1);if(0<m.length){for(;C!==w&&(m[C]===void 0||m[C].oa===0);)C++;C=Math.max(Math.min(C,w-1),0),P=-m[C].position}for(var A=0,I=0;A!==O&&y[A]===void 0;)A++;for(;I!==O&&m[I]===void 0;)I++;w=t.part,t.Gb(A),t.Fb(I);for(var E=0;E<i.length;E++){var z=i[E];if(z instanceof nt&&z.visible&&Aa(z)){if(z.type===nt.TableRow){m=t.Gb(z.row);var B=t.Fb(I)}else m=t.Gb(A),B=t.Fb(z.column);y=m.position+k+u,m.oa!==0&&(y+=m.Jo(Math.max(A,T))),m=B.position+P+c,B.oa!==0&&(m+=B.Jo(Math.max(I,C))),B=z.measuredBounds,z.Tk(),z.actualBounds.ka();var _=z.actualBounds,Z=J.allocAt(_.x,_.y,_.width,_.height);_.x=z.type===nt.TableRow?c:m,_.y=z.type===nt.TableColumn?u:y,_.width=B.width,_.height=B.height,z.actualBounds.freeze(),Ih(z,!1),Rl(Z,_)||w===null||(w.oh(),z.Qn(w)),J.free(Z)}}for(E=At.alloc(),z=0;z<O;z++)if(d[z]){for(w=d[z].length,B=t.Gb(z),y=B.position+k+u,B.oa!==0&&(y+=B.Jo(Math.max(A,T))),_=0;_<w;_++)if(d[z][_]){Z=t.Fb(_),m=Z.position+P+c,Z.oa!==0&&(m+=Z.Jo(Math.max(I,C)));for(var H=d[z][_],at=H.length,pt=0;pt<at;pt++){var gt=H[pt],ot=gt.measuredBounds;E.h(0,0);for(var et=1;et<gt.rowSpan&&!(z+et>=t.rowCount);et++){var Lt=t.Gb(z+et);Lt.oa!==0&&(E.height+=Lt.total)}for(et=1;et<gt.columnSpan&&!(_+et>=t.columnCount);et++)Lt=t.Fb(_+et),Lt.oa!==0&&(E.width+=Lt.total);var Qt=Z.oa+E.width,Gt=B.oa+E.height;et=m,Lt=y;var ce=Qt,hi=Gt,pi=m,sn=y,ci=Qt,Fa=Gt;m+Qt>s.width&&(ci=Math.max(s.width-m,0)),y+Gt>s.height&&(Fa=Math.max(s.height-y,0));var Ue=gt.alignment;if(Ue.$b()){Ue=t.defaultAlignment,Ue.sb()||(Ue=oe);var Hs=Ue.x,on=Ue.y,Va=Ue.offsetX;Ue=Ue.offsetY;var xr=Z.alignment,rs=B.alignment;xr.sb()&&(Hs=xr.x,Va=xr.offsetX),rs.sb()&&(on=rs.y,Ue=rs.offsetY)}else Hs=Ue.x,on=Ue.y,Va=Ue.offsetX,Ue=Ue.offsetY;(isNaN(Hs)||isNaN(on))&&(on=Hs=.5,Ue=Va=0),xr=ot.width,rs=ot.height;var ir=gt.margin,_n=ir.left+ir.right,za=ir.top+ir.bottom,Ks=Ay(gt,B,Z,!1);!isNaN(gt.desiredSize.width)||Ks!==$e&&Ks!==ji||(xr=Math.max(Qt-_n,0)),!isNaN(gt.desiredSize.height)||Ks!==$e&&Ks!==Ii||(rs=Math.max(Gt-za,0)),Qt=gt.maxSize,Gt=gt.minSize,xr=Math.min(Qt.width,xr),rs=Math.min(Qt.height,rs),xr=Math.max(Gt.width,xr),rs=Math.max(Gt.height,rs),Qt=rs+za,et+=ce*Hs-(xr+_n)*Hs+Va+ir.left,Lt+=hi*on-Qt*on+Ue+ir.top,gt.visible&&(Xs(pi,sn,ci,Fa,et,Lt,ot.width,ot.height)?gt.arrange(et,Lt,xr,rs):gt.arrange(et,Lt,xr,rs,new J(pi,sn,ci,Fa)))}}}for(At.free(E),t=0;t<l;t++)s=i[t],c=s instanceof nt?s:null,c!==null&&Aa(c)&&(c=s.actualBounds,s.naturalBounds.ka(),s.naturalBounds.h(0,0,c.width,c.height),s.naturalBounds.freeze())}};function g1(){this.xa="Base"}v(g1,ni),g1.prototype.measure=function(){},g1.prototype.arrange=function(){};function y1(){this.xa="Base"}v(y1,ni),y1.prototype.measure=function(){},y1.prototype.arrange=function(){};function O1(){this.xa="Base"}v(O1,ni),O1.prototype.measure=function(t,i,s,l,u,c,d){1<l.length&&D("Viewbox Panel cannot contain more than one GraphObject."),l=l[0],l.Ca=1,l.Tj(),l.measure(1/0,1/0,c,d);var m=l.measuredBounds,y=l.margin,O=y.right+y.left;if(y=y.top+y.bottom,isFinite(i)||isFinite(s)){var w=l.scale,k=m.width;m=m.height;var P=Math.max(i-O,0),T=Math.max(s-y,0),C=1;t.viewboxStretch===Hr?k!==0&&m!==0&&(C=Math.min(P/k,T/m)):k!==0&&m!==0&&(C=Math.max(P/k,T/m)),C===0&&(C=1e-4),l.Ca*=C,w!==l.scale&&(Ar(l,!0),l.measure(1/0,1/0,c,d))}m=l.measuredBounds,u.width=isFinite(i)?i:Math.max(m.width+O,0),u.height=isFinite(s)?s:Math.max(m.height+y,0)},O1.prototype.arrange=function(t,i,s){i=i[0];var l=i.measuredBounds,u=i.margin,c=Math.max(l.width+(u.right+u.left),0);u=Math.max(l.height+(u.top+u.bottom),0);var d=i.alignment;d.$b()&&(d=t.defaultAlignment),d.sb()||(d=oe),i.arrange(s.width*d.x-c*d.x+d.offsetX,s.height*d.y-u*d.y+d.offsetY,l.width,l.height)};function Ey(){this.xa="Base"}v(Ey,ni),Ey.prototype.measure=function(){},Ey.prototype.arrange=function(){},Ey.prototype.ic=function(t,i,s){s=t.Df()*s.scale,0>=s&&(s=1);var l=t.gridCellSize,u=l.width;l=l.height;var c=t.naturalBounds,d=t.actualBounds,m=c.width,y=c.height,O=Math.ceil(m/u),w=Math.ceil(y/l),k=t.gridOrigin,P=k.x;k=k.y,i.save(),i.beginPath(),i.rect(0,0,m,y),i.clip(),i.Se();for(var T=[],C=t.O.s,A=C.length,I=0;I<A;I++){var E=C[I],z=[];if(T.push(z),E.visible){var B=E.interval;if(!(0>B)){E=NT(E.figure);for(var _=0;_<A;_++)if(_!==I){var Z=C[_];Z.visible&&NT(Z.figure)===E&&(Z=Z.interval,Z>B&&z.push(Z))}}}}for(C=t.O.s,A=C.length,I=0;I<A;I++){var H=C[I];if(H.visible&&(z=H.interval||1,E=Math.abs(z),!(2>u*E*s))){if(B=H.segmentIndex,(!isFinite(B)||isNaN(B))&&(B=0),0>B&&(B=E-Math.min(-B,E)),B=Math.round(B%E),E=H.opacity,_=1,E!==1){if(E===0)continue;_=i.globalAlpha,i.globalAlpha=_*E}Z=T[I];var at=!1,pt=H.strokeDashArray;if(pt!==null&&(at=!0,i.js(pt,H.strokeDashOffset)),H.figure==="LineV"&&H.stroke!==null&&0<H.strokeWidth){for(i.lineWidth=H.strokeWidth,gr(t,i,H.stroke,!1,!1,c,d),i.beginPath(),pt=H=Math.floor((P-u)/u);pt<=H+O;pt++){var gt=pt*u+P;0<=gt&&gt<=m&&v1(pt,z,B,Z)&&(i.moveTo(gt,0),i.lineTo(gt,y))}i.stroke(),i.Se()}else if(H.figure==="LineH"&&H.stroke!==null&&0<H.strokeWidth){for(i.lineWidth=H.strokeWidth,gr(t,i,H.stroke,!1,!1,c,d),i.beginPath(),pt=H=Math.floor((k-l)/l);pt<=H+w;pt++)gt=pt*l+k,0<=gt&&gt<=y&&v1(pt,z,B,Z)&&(i.moveTo(0,gt),i.lineTo(m,gt));i.stroke(),i.Se()}else if(H.figure==="BarV"&&H.fill!==null)for(gr(t,i,H.fill,!0,!1,c,d),H=H.width,isNaN(H)&&(H=u),gt=pt=Math.floor((P-u)/u);gt<=pt+O;gt++){var ot=gt*u+P;0<=ot+H&&ot<=m&&v1(gt,z,B,Z)&&i.fillRect(ot,0,H,y)}else if(H.figure==="BarH"&&H.fill!==null)for(gr(t,i,H.fill,!0,!1,c,d),H=H.height,isNaN(H)&&(H=l),gt=pt=Math.floor((k-l)/l);gt<=pt+w;gt++)ot=gt*l+k,0<=ot+H&&ot<=y&&v1(gt,z,B,Z)&&i.fillRect(0,ot,m,H);at&&i.fs(),E!==1&&(i.globalAlpha=_)}}i.restore(),i.Vc(!1)};function v1(t,i,s,l){if(0>i)return t%i===s;if(t%i!==s)return!1;i=l.length;for(var u=0;u<i;u++)if(t%l[u]===s)return!1;return!0}function x1(){this.xa="Base"}v(x1,ni),x1.prototype.measure=function(t,i,s,l,u){var c=l.length;if(t instanceof Wt||t instanceof st){var d=null,m=null;if(t instanceof st&&(d=t),t instanceof Wt&&(m=t,d=m.adornedPart,t.j===null&&(t.j=[])),d instanceof st){var y=d;if(c===0)Ji(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var O=t instanceof Wt?null:d.path;i=d.routeBounds,s=t.jg,s.h(0,0,i.width,i.height);var w=y.points,k=d.pointsCount;m!==null?m.Ul(!1):d!==null&&d.Ul(!1),m=i.width;var P=i.height,T=t.j;if(T.length=0,O!==null){y$(t,m,P,O);var C=O.measuredBounds;s.ed(C),T.push(C)}C=Bt.alloc();for(var A=F.alloc(),I=F.alloc(),E=0;E<c;E++){var z=l[E];if(z!==O)if(z.isPanelMain&&z instanceof It){y$(t,m,P,z);var B=z.measuredBounds;s.ed(B),T.push(B)}else if(2>k)z.measure(1/0,1/0,0,0),B=z.measuredBounds,s.ed(B),T.push(B);else{var _=z.segmentIndex,Z=z.segmentFraction,H=z.alignmentFocus;H.Nc()&&(H=oe);var at=z.segmentOrientation,pt=z.segmentOffset;if(isNaN(_)){var gt=y.ua;B=St(),gt.Su(Z,B);var ot=F.allocAt(B[0],B[1]);if(ot.offset(i.x,i.y),gt=B[2],at!==Fi){var et=y.computeAngle(z,at,gt);z.Lb=et}et=ot.x-i.x;var Lt=ot.y-i.y;F.free(ot),mt(B)}else if(_<-k||_>=k)B=F.alloc(),y.vg(),y.computeMidPoint(B),gt=y.midAngle,at!==Fi&&(et=y.computeAngle(z,at,gt),z.Lb=et),et=B.x-i.x,Lt=B.y-i.y,F.free(B);else{if(et=0,0<=_?(Lt=w.M(_),B=_<k-1?w.M(_+1):Lt):(et=k+_,Lt=w.M(et),B=0<et?w.M(et-1):Lt),Lt.Xa(B)){0<=_?(gt=0<_?w.M(_-1):Lt,et=_<k-2?w.M(_+2):B):(gt=et<k-1?w.M(et+1):Lt,et=1<et?w.M(et-2):B),ot=gt.Bf(Lt);var Qt=B.Bf(et);gt=ot>Qt+10?0<=_?gt.ab(Lt):Lt.ab(gt):Qt>ot+10?0<=_?B.ab(et):et.ab(B):0<=_?gt.ab(et):et.ab(gt)}else gt=0<=_?Lt.ab(B):B.ab(Lt);at!==Fi&&(et=y.computeAngle(z,at,gt),z.Lb=et),et=Lt.x+(B.x-Lt.x)*Z-i.x,Lt=Lt.y+(B.y-Lt.y)*Z-i.y}z.measure(1/0,1/0,0,0),B=z.measuredBounds,ot=z.naturalBounds;var Gt=0;z instanceof It&&(Gt=z.strokeWidth),Qt=ot.width+Gt;var ce=ot.height+Gt;C.reset(),C.translate(-B.x,-B.y),C.scale(z.scale,z.scale),C.rotate(at===Fi?z.angle:gt,Qt/2,ce/2),at!==Xp&&at!==Up||C.rotate(90,Qt/2,ce/2),at!==_p&&at!==Zp||C.rotate(-90,Qt/2,ce/2),at===Gy&&(45<gt&&135>gt||225<gt&&315>gt)&&C.rotate(-gt,Qt/2,ce/2),ot=new J(0,0,Qt,ce),A.yi(ot,H),C.Ga(A),H=-A.x+Gt/2*z.scale,z=-A.y+Gt/2*z.scale,I.assign(pt),Gt=isNaN(pt.x);var hi=isNaN(pt.y);if(Gt||hi){Qt=Qt/2+3,ce=ce/2+3;var pi=45<=gt&&135>=gt,sn=225<=gt&&315>=gt;at===Fi&&(pi||sn)?(I.x=hi?Qt:pt.y,I.y=Gt?ce:pt.x,pi?0<=_||isNaN(_)&&.5>Z||!Gt||(I.y=-ce):sn&&((0<=_||isNaN(_)&&.5>Z)&&Gt&&(I.y=-ce),hi&&(I.x=-Qt))):(Gt&&(I.x=0<=_||isNaN(_)&&.5>Z?Qt:-Qt),hi&&(I.y=-ce),I.rotate(gt))}else I.rotate(gt);et+=I.x,Lt+=I.y,ot.set(B),ot.h(et+H,Lt+z,B.width,B.height),T.push(ot),s.ed(ot)}}if(d!==null)for(l=d.labelNodes;l.next();)l.value.measure(1/0,1/0);t.jg=s,t.position.h(i.x+s.x,i.y+s.y),Ji(u,s.width||0,s.height||0),Bt.free(C),F.free(A),F.free(I)}}}},x1.prototype.arrange=function(t,i){var s=i.length;if(t instanceof Wt||t instanceof st){var l=t,u=null;t instanceof Wt&&(u=t,l=u.adornedPart);var c=t instanceof Wt?null:l.path,d=t.j;if(d.length!==0){var m=0;if(c!==null&&m<d.length){var y=d[m];m++,c.arrange(y.x-t.jg.x,y.y-t.jg.y,y.width,y.height)}for(y=0;y<s;y++){var O=i[y];if(O!==c&&m<d.length){var w=d[m];m++,O.arrange(w.x-t.jg.x,w.y-t.jg.y,w.width,w.height)}}}if(i=l.points,s=i.count,2<=s&&t instanceof st)for(c=t.labelNodes;c.next();){var k=t;d=c.value,m=d.segmentIndex,y=d.segmentFraction;var P=d.alignmentFocus;if(O=d.segmentOrientation,w=d.segmentOffset,isNaN(m)){var T=k.ua,C=St();T.Su(y,C);var A=F.allocAt(C[0],C[1]);A.add(k.i(0)),T.type===lt.o||(T=T.figures.first()),A.offset(-T.startX,-T.startY),T=C[2],O!==Fi&&(k=k.computeAngle(d,O,T),d.angle=k),k=A.x;var I=A.y;F.free(A),mt(C)}else if(m<-s||m>=s)C=F.alloc(),T=k,I=C,T.vg(),T.computeMidPoint(I),T=k.midAngle,O!==Fi&&(k=k.computeAngle(d,O,T),d.angle=k),k=C.x,I=C.y,F.free(C);else{if(A=0,0<=m?(C=i.s[m],I=m<s-1?i.s[m+1]:C):(A=s+m,C=i.s[A],I=0<A?i.s[A-1]:C),C.Xa(I)){0<=m?(T=0<m?i.s[m-1]:C,A=m<s-2?i.s[m+2]:I):(T=A<s-1?i.s[A+1]:C,A=1<A?i.s[A-2]:I);var E=T.Bf(C),z=I.Bf(A);T=E>z+10?0<=m?T.ab(C):C.ab(T):z>E+10?0<=m?I.ab(A):A.ab(I):0<=m?T.ab(A):A.ab(T)}else T=0<=m?C.ab(I):I.ab(C);O!==Fi&&(k=k.computeAngle(d,O,T),d.angle=k),k=C.x+(I.x-C.x)*y,I=C.y+(I.y-C.y)*y}if(P.ys())d.location=new F(k,I);else{P.Nc()&&(P=oe),C=Bt.alloc(),C.reset(),C.scale(d.scale,d.scale),C.rotate(d.angle,0,0);var B=d.naturalBounds;A=J.allocAt(0,0,B.width,B.height),E=F.alloc(),E.yi(A,P),C.Ga(E),P=-E.x,z=-E.y;var _=B.width,Z=B.height;B=F.alloc(),B.assign(w);var H=isNaN(w.x),at=isNaN(w.y);if(H||at){_=_/2+3,Z=Z/2+3;var pt=45<=T&&135>=T,gt=225<=T&&315>=T;O===Fi&&(pt||gt)?(B.x=at?_:w.y,B.y=H?Z:w.x,pt?0<=m||isNaN(m)&&.5>y||!H||(B.y=-Z):gt&&((0<=m||isNaN(m)&&.5>y)&&H&&(B.y=-Z),at&&(B.x=-_))):(H&&(B.x=0<=m||isNaN(m)&&.5>y?_:-_),at&&(B.y=-Z),B.rotate(T))}else B.rotate(T);k+=B.x,I+=B.y,C.pp(A),P+=A.x,z+=A.y,m=F.allocAt(k+P,I+z),d.move(m),F.free(m),F.free(B),F.free(E),J.free(A),Bt.free(C)}}u!==null?u.Ul(!1):l.Ul(!1),l=X$(t),t.location.h(t.position.x+l.x,t.position.y+l.y),F.free(l)}};function y$(t,i,s,l){if(Na(l)!==!1){var u=l.strokeWidth;u===0&&t instanceof Wt&&t.type===nt.Link&&t.adornedObject instanceof It&&(u=t.adornedObject.strokeWidth),u*=l.Ca,t instanceof st&&t.ua!==null?(t=t.geometry.bounds,l.Ge(t.x-u/2,t.y-u/2,t.width+u,t.height+u)):t instanceof Wt&&t.adornedPart.ua!==null?(t=t.adornedPart.ua.bounds,l.Ge(t.x-u/2,t.y-u/2,t.width+u,t.height+u)):l.Ge(-(u/2),-(u/2),i+u,s+u),u=l.desiredSize,u.w()||l.ua===null?l.fc.h(0,0,u.width,u.height):l.fc.assign(l.ua.bounds),Ar(l,!1)}}function $y(){this.xa="Base"}v($y,ni),$y.prototype.measure=function(t,i,s,l,u,c,d){var m=t.Qb();t.graduatedBounds=[];var y=m.margin,O=y.right+y.left,w=y.top+y.bottom;m.measure(i,s,c,d);var k=m.measuredBounds,P=new J(-y.left,-y.top,Math.max(k.width+O,0),Math.max(k.height+w,0));t.graduatedBounds.push(P),u.assign(P);for(var T=m.geometry,C=m.strokeWidth,A=T.flattenedSegments,I=T.flattenedLengths,E=T.flattenedTotalLength,z=A.length,B=0,_=0,Z=St(),H=0;H<z;H++){var at=A[H],pt=[];_=B=0;for(var gt=at.length,ot=0;ot<gt;ot+=2){var et=at[ot],Lt=at[ot+1];if(ot!==0){var Qt=180*Math.atan2(Lt-_,et-B)/Math.PI;0>Qt&&(Qt+=360),pt.push(Qt)}B=et,_=Lt}Z.push(pt)}if(t.graduatedIntervals===null){for(var Gt=[],ce=t.O.s,hi=ce.length,pi=0;pi<hi;pi++){var sn=ce[pi],ci=[];if(Gt.push(ci),sn.visible){var Fa=sn.interval;if(!(0>Fa)){for(var Ue=0;Ue<hi;Ue++)if(Ue!==pi){var Hs=ce[Ue];if(Hs.visible&&sn.constructor===Hs.constructor){var on=Hs.interval;on>Fa&&ci.push(on)}}}}}t.graduatedIntervals=Gt}var Va=t.graduatedIntervals,xr=t.O.s,rs=xr.length,ir=0,_n=0,za=E;t.graduatedMarks=[];for(var Ks,Uu=0;Uu<rs;Uu++){var nr=xr[Uu];if(Ks=[],nr.visible&&nr!==m){var Rw=Math.abs(nr.interval),ln=t.graduatedTickUnit;if(!(2>ln*Rw*E/t.graduatedRange&&nr.graduatedSkip===null)){var Kh=I[0][0],bo=0,rr=0;_n=E*nr.graduatedStart-1e-4,za=E*nr.graduatedEnd+1e-4;var Zu=ln*Rw,sr=t.graduatedTickBase;if(sr<t.graduatedMin){var Yf=(t.graduatedMin-sr)/Zu;Yf=Yf%1===0?Yf:Math.floor(Yf+1),sr+=Yf*Zu}else sr>t.graduatedMin+Zu&&(sr-=Math.floor((sr-t.graduatedMin)/Zu)*Zu);for(var hm=Va[Uu],Lw=sr,A0=1e-6*t.graduatedMax,j0=1;sr<=t.graduatedMax+A0;j0++){t:{for(var Ul=hm.length,To=0;To<Ul;To++){var cm=(sr-t.graduatedTickBase)%(hm[To]*t.graduatedTickUnit),Yu=1e-6*t.graduatedTickUnit;if(cm<Yu&&cm>-Yu){var fm=!1;break t}}fm=!0}if(fm&&(sr>t.graduatedMax&&(sr=t.graduatedMax),nr.graduatedSkip===null||nr instanceof fe&&!nr.graduatedSkip(sr,nr)||nr instanceof It&&!nr.graduatedSkip(sr,nr))&&(ir=(sr-t.graduatedMin)*E/t.graduatedRange,ir>E&&(ir=E),_n<=ir&&ir<=za)){for(var js=Z[bo][rr],Ba=I[bo][rr];bo<I.length;){for(;ir>Kh&&rr<I[bo].length-1;)rr++,js=Z[bo][rr],Ba=I[bo][rr],Kh+=Ba;if(ir<=Kh)break;bo++,rr=0,js=Z[bo][rr],Ba=I[bo][rr],Kh+=Ba}var Un=A[bo],dm=Un[2*rr],Co=Un[2*rr+1],Zl=(ir-(Kh-Ba))/Ba,R0=new F(dm+(Un[2*rr+2]-dm)*Zl+C/2-T.bounds.x,Co+(Un[2*rr+3]-Co)*Zl+C/2-T.bounds.y);R0.scale(m.scale,m.scale);t:{var ol=js,Yl=Z[bo];if(!(.5005>Zl&&.4995<Zl)){var Mo=ol;if(.5>Zl?0<rr?Mo=Yl[rr-1]:Y.$(Un[0],Un[Un.length-2])&&Y.$(Un[1],Un[Un.length-1])&&(Mo=Yl[Yl.length-1]):.5<Zl&&(rr+1<Yl.length?Mo=Yl[rr+1]:Y.$(Un[0],Un[Un.length-2])&&Y.$(Un[1],Un[Un.length-1])&&(Mo=Yl[0])),ol!==Mo){var L0=Math.abs(ol-Mo);if(180<L0&&(ol<Mo?ol+=360:Mo+=360,L0=Math.abs(ol-Mo)),5e-4>Zl||.9995<Zl){js=(ol+Mo)/2%360;break t}if(10>L0){var pm=1-Math.abs(.5-Zl);js=(ol*pm+Mo*(1-pm))%360;break t}}}js=ol}if(nr instanceof fe){var ll="";nr.graduatedFunction!==null?(ll=nr.graduatedFunction(sr,nr),ll=ll!=null?ll.toString():""):ll=(+sr.toFixed(2)).toString(),ll!==""&&Ks.push({am:R0,angle:js,text:ll})}else Ks.push({am:R0,angle:js})}sr=Lw+j0*Zu}}}t.graduatedMarks.push(Ks)}mt(Z);var Wu=t.graduatedMarks;if(Wu!==null)for(var ki=l.length,Jh=0;Jh<ki;Jh++){var Ve=l[Jh],Sn=Wu[Jh];if(Ve.visible&&Ve!==m&&Sn.length!==0){if(Ve instanceof It){var or=t,Xa=u,al=Ve.alignmentFocus;al.Nc()&&(al=Ll);var mm=Ve.angle;Ve.Lb=0,Ve.measure(1/0,1/0,0,0),Ve.Lb=mm;var Ew=Ve.measuredBounds,E0=Ew.width,gm=Ew.height,Wf=J.allocAt(0,0,E0,gm),Zn=F.alloc();Zn.yi(Wf,al),J.free(Wf);for(var qu=-Zn.x,Wl=-Zn.y,Dr=new J,ql=Sn.length,ul=0;ul<ql;ul++)for(var $0=Sn[ul],tc=$0.am.x,$w=$0.am.y,ym=$0.angle,Re=0;4>Re;Re++){switch(Re){case 0:Zn.h(qu,Wl);break;case 1:Zn.h(qu+E0,Wl);break;case 2:Zn.h(qu,Wl+gm);break;case 3:Zn.h(qu+E0,Wl+gm)}Zn.rotate(ym+Ve.angle),Zn.offset(tc,$w),ul===0&&Re===0?Dr.h(Zn.x,Zn.y,0,0):Dr.Ye(Zn),Zn.offset(-tc,-$w),Zn.rotate(-ym-Ve.angle)}F.free(Zn),or.graduatedBounds!==null&&or.graduatedBounds.push(Dr),wi(Xa,Dr.x,Dr.y,Dr.width,Dr.height)}else if(Ve instanceof fe){var ss=t,hl=u;ss.temporaryTextBlock===null&&(ss.temporaryTextBlock=new fe);var lr=ss.temporaryTextBlock;j$(lr,Ve);var Om=Ve.alignmentFocus;Om.Nc()&&(Om=Ll);for(var os=Ve.segmentOrientation,ec=Ve.segmentOffset,cl=new J,D0=0,I0=0,fl=0,ic=0,nc=0,vm=Sn.length,Gu=0;Gu<vm;Gu++){var ls=Sn[Gu];D0=ls.am.x,I0=ls.am.y,fl=ls.angle,nc=ic=Ve.angle,os!==Fi&&(nc=os===Bp||os===qy?fl+Ve.angle:fl,ic=st.computeAngle(os,nc)),lr.Lb=ic,lr.text=ls.text||"",lr.measure(1/0,1/0,0,0);var _a=lr.measuredBounds,rc=lr.naturalBounds,Gl=rc.width,Ua=rc.height,Hl=Bt.alloc();Hl.reset(),Hl.translate(-_a.x,-_a.y),Hl.scale(lr.scale,lr.scale),Hl.rotate(nc,Gl/2,Ua/2),os!==Xp&&os!==Up||Hl.rotate(90,Gl/2,Ua/2),os!==_p&&os!==Zp||Hl.rotate(-90,Gl/2,Ua/2),os===Gy&&(45<fl&&135>fl||225<fl&&315>fl)&&Hl.rotate(-fl,Gl/2,Ua/2);var qf=J.allocAt(0,0,Gl,Ua),Za=F.alloc();Za.yi(qf,Om),Hl.Ga(Za);var xm=-Za.x,Gf=-Za.y,Kl=F.alloc();Kl.assign(ec),isNaN(Kl.x)&&(Kl.x=Gl/2+3),isNaN(Kl.y)&&(Kl.y=-(Ua/2+3)),Kl.rotate(fl),D0+=Kl.x+xm,I0+=Kl.y+Gf;var F0=new J(D0,I0,_a.width,_a.height),wm=new J(_a.x,_a.y,_a.width,_a.height),V0=new J(rc.x,rc.y,rc.width,rc.height);ls.Xz=ic,ls.lineCount=lr.lineCount,ls.lines=[lr.Db,lr.Ih,lr.df,lr.Le,lr.Rc,lr.Sb,lr.ze],ls.actualBounds=F0,ls.measuredBounds=wm,ls.naturalBounds=V0,Gu===0?cl.assign(F0):cl.ed(F0),F.free(Kl),F.free(Za),J.free(qf),Bt.free(Hl)}ss.graduatedBounds!==null&&ss.graduatedBounds.push(cl),wi(hl,cl.x,cl.y,cl.width,cl.height)}Ar(Ve,!1)}}},$y.prototype.arrange=function(t,i,s){if(t.graduatedBounds!==null){var l=t.Qb(),u=t.graduatedMarks;if(u!==null){var c=t.graduatedBounds,d=0,m=c[d];d++,l!==null&&l.arrange(m.x-s.x,m.y-s.y,m.width,m.height);for(var y=i.length,O=0;O<y;O++){var w=i[O];m=u[O],w.visible&&w!==l&&m.length!==0&&(m=c[d],d++,w.arrange(m.x-s.x,m.y-s.y,m.width,m.height))}t.graduatedBounds=null}}},$y.prototype.ic=function(t,i,s){var l=s.aj;s.aj=!0;var u=t.naturalBounds,c=u.width,d=u.height;u=i instanceof Kn,i.save(),i.beginPath(),i.rect(-1,-1,c+1,d+1),i.clip(),i.Se(),c=t.Qb(),c.ic(i,s),d=t.Df()*s.scale,0>=d&&(d=1);for(var m=c.actualBounds,y=t.O.s,O=t.graduatedMarks,w=y.length,k=0;k<w;k++){var P=y[k],T=O[k],C=T.length;if(P.visible&&P!==c&&T.length!==0){if(P instanceof It){if(!(2>t.graduatedTickUnit*P.interval*c.geometry.flattenedTotalLength/t.graduatedRange*d&&P.graduatedSkip===null)){var A=P.measuredBounds,I=P.strokeWidth*P.scale,E=P.alignmentFocus;E.Nc()&&(E=Ll);for(var z=0;z<C;z++){var B=T[z].am,_=T[z].angle,Z=E,H=P.Bb;H.reset(),H.translate(B.x+m.x,B.y+m.y),H.rotate(_+P.angle,0,0),H.translate(-A.width*Z.x+Z.offsetX+I/2,-A.height*Z.y+Z.offsetY+I/2),H.scale(P.scale,P.scale),Pp(P,!1),P.wh.set(P.Bb),P.Jk=P.scale,Au(P,!1),P.ic(i,s),u&&(t.svg.appendChild(P.svg),P.svg=null),P.Bb.reset()}}}else if(P instanceof fe)for(t.temporaryTextBlock===null&&(t.temporaryTextBlock=new fe),A=t.temporaryTextBlock,j$(A,P),I=0;I<C;I++)E=T[I],E.actualBounds&&E.measuredBounds&&E.naturalBounds&&(A.gc=E.text||"",A.Lb=E.Xz||0,A.Gc=E.lineCount||0,z=E.lines,z!==void 0&&(A.Db=z[0],A.Ih=z[1],A.df=z[2],A.Le=z[3],A.Rc=z[4],A.Sb=z[5],A.ze=z[6]),E.naturalBounds&&(A.fc=E.naturalBounds),E.actualBounds&&(z=E.actualBounds,A.arrange(z.x,z.y,z.width,z.height)),z=E.actualBounds,A.arrange(z.x,z.y,z.width,z.height),B=E.measuredBounds,E=E.naturalBounds,_=A.Bb,_.reset(),_.translate(z.x+m.x,z.y+m.y),_.translate(-B.x,-B.y),A.oo(_,E.x,E.y,E.width,E.height),Pp(A,!1),A.wh.set(A.Bb),A.Jk=A.scale,Au(A,!1),A.Ng=P.part,A.Me=P.panel,A.ic(i,s),A.Me=null,A.Ng=null,u&&(t.svg.appendChild(A.svg),A.svg=null))}}s.aj=l,i.restore(),i.Vc(!0)};function nt(t,i){if(vt.call(this),this.na=null,t===void 0)this.na=nt.Position;else if(typeof t=="string"){var s=Cs.I(t);s!==null&&(this.na=s)}else t instanceof ni?this.na=t:t&&(this.na=nt.Position,i=t);this.na===null&&D("Panel type not specified or PanelLayout not loaded: "+t),this.l=this.l|4194304|(this.na===nt.Grid?1048576:0),this.O=new ct,this.zb=Gd,this.Um=Yi,this.Uf=Qr,this.$g=null,this.$e="",this.jg=new J(NaN,NaN,NaN,NaN),this.U=this.F=null,this.yo=Hr,this.kn=Cn,this.ln=po,this.ub=this.ra=null,this.An=NaN,this.ge=this.Hh=null,i&&Object.assign(this,i)}v(nt,vt),nt.prototype.cloneProtected=function(t){vt.prototype.cloneProtected.call(this,t),t.na=this.na,t.zb=this.zb.J(),t.Um=this.Um.J(),t.Uf=this.Uf,t.$e=this.$e,t.jg.assign(this.jg),this.U!==null&&(t.U=this.U.copy(t)),t.yo=this.yo,t.kn=this.kn.J(),t.ln=this.ln.J(),this.ra!==null&&(t.ra=this.ra.copy()),t.ub=this.ub,t.An=this.An,t.Hh=this.Hh},nt.prototype.Af=function(t){vt.prototype.Af.call(this,t),t.O=this.O;for(var i=t.O.s,s=i.length,l=0;l<s;l++)i[l].Me=t;t.$g=null},nt.prototype.copy=function(){var t=vt.prototype.copy.call(this);if(t!==null){for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l].copy();u.xi(t),u.Ng=null;var c=t.O,d=c.count;if(c.Hb(d,u),c=t.part,c!==null){c.Rh=null,u.portId!==null&&c instanceof ft&&(c.Te=!0);var m=t.diagram;m!==null&&m.undoManager.isUndoingRedoing||c.cb(ei,"elements",t,null,u,null,d)}}return t}return null},n=nt.prototype,n.toString=function(){return"Panel("+this.type.name+")#"+Qi(this)},n.Qn=function(t){vt.prototype.Qn.call(this,t);for(var i=this.O.s,s=i.length,l=0;l<s;l++)i[l].Qn(t)},n.hh=function(t,i){if(this.na===nt.Grid)t.yc(),this.na.ic(this,t,i);else if(this.na===nt.Graduated)t.yc(),this.na.ic(this,t,i);else{if(this.na===nt.Table)if(t.yc(),t instanceof Kn){var s=t.yd;t.yd=l1(t,"gojs-ts"),MT(this,t),t.nh.pop(),t.yd=s}else MT(this,t);(s=this.isClipping&&this.na===nt.Spot)&&t.save();for(var l=this.Qb(),u=this.O.s,c=u.length,d=0;d<c;d++){var m=u[d];s&&m===l&&(t.clipInsteadOfFill=!0),m.ic(t,i),s&&m===l&&(t.clipInsteadOfFill=!1)}s&&(t.restore(),t.Vc(!0))}};function MT(t,i){i.lineCap="butt";var s=0<t.rowCount?t.rowDefs:null,l=0<t.columnCount?t.colDefs:null;s!==null&&w1(t,i,!0,s,!0),l!==null&&w1(t,i,!1,l,!0),s!==null&&O$(t,i,!0,s),l!==null&&O$(t,i,!1,l),s!==null&&w1(t,i,!0,s,!1),l!==null&&w1(t,i,!1,l,!1)}function O$(t,i,s,l){for(var u=l.length,c=t.actualBounds,d=t.naturalBounds,m=!0,y=0;y<u;y++){var O=l[y];if(O!==void 0&&O.actual!==0)if(m)m=!1;else{if(s){if(O.position>d.height)continue}else if(O.position>d.width)continue;var w=O.separatorStrokeWidth;isNaN(w)&&(w=s?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var k=O.separatorStroke;if(k===null&&(k=s?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),w!==0&&k!==null){gr(t,i,k,!1,!1,d,c),k=!1;var P=O.separatorDashArray;P===null&&(P=s?t.defaultRowSeparatorDashArray:t.defaultColumnSeparatorDashArray),P!==null&&(k=!0,i.js(P,0)),i.beginPath(),P=O.position+w,s?P>d.height&&(w-=P-d.height):P>d.width&&(w-=P-d.width),O=O.position+w/2,i.lineWidth=w,w=t.zb,s?(O+=w.top,P=d.width-w.right,i.moveTo(w.left,O),i.lineTo(P,O)):(O+=w.left,P=d.height-w.bottom,i.moveTo(O,w.top),i.lineTo(O,P)),i.stroke(),i.Se(),k&&i.fs()}}}}function w1(t,i,s,l,u){for(var c=l.length,d=t.actualBounds,m=t.naturalBounds,y=v$(t,!0),O=v$(t,!1),w=0;w<c;w++){var k=l[w];if(k!==void 0&&k.background!==null&&k.coversSeparators!==u&&k.actual!==0){var P=s?d.height:d.width;if(!(k.position>P)){var T=k.Wc(),C=k.separatorStrokeWidth;isNaN(C)&&(C=s?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var A=k.separatorStroke;A===null&&(A=s?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),(A===null||k.index===(s?y:O))&&(C=0),T-=C,C=k.position+C,T+=k.actual,C+T>P&&(T=P-C),0>=T||(P=t.zb,gr(t,i,k.background,!0,!1,m,d),s?i.fillRect(P.left,C+P.top,d.width-(P.left+P.right),T):i.fillRect(C+P.left,P.top,T,d.height-(P.top+P.bottom)))}}}}function v$(t,i){for(var s=i?t.rowCount:t.columnCount,l=0;l<s;l++){var u=i?t.rowDefs[l]:t.colDefs[l];if(u!==void 0)return u.index}return 0}function NT(t){return t==="LineV"||t==="BarV"}n.nv=function(){for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].nv();this.Hc=!0},n.jk=function(t,i,s){if(!vt.prototype.jk.call(this,t,i,s))return!1;if(this.type===nt.Table)s=this.svg.getElementsByClassName("gojs-ts"),s=s.length!==0?s[0]:null,s!==null&&(s.innerHTML=""),t.yd=s,MT(this,t),t.yd=null;else if(this.na===nt.Grid||this.na===nt.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1;s=this.O.s;for(var l=s.length,u=0;u<l;u++)s[u].ic(t,i);return!0},n.mk=function(){return!0},n.ap=function(t,i,s,l){if(!this.isClipping)if(this.Dd()&&t.ak!==null){t=t.ak,i=this.O.s;for(var u=0,c=0,d=0;d<i.length;d++)if(i[d].Ed()){var m=i[d].actualBounds;u=d===0?m.x:Math.min(m.x,u),c=d===0?m.y:Math.min(m.y,c)}l.setAttributeNS(null,"clip-path","path('M "+(t.x-s.x-u)+","+(t.y-s.y-c)+" l "+t.width+" 0 l 0 "+t.height+" l -"+t.width+" 0 z')")}else vt.prototype.ap.call(this,t,i,s,l)},n.Rj=function(t,i,s,l,u){var c=this.se(),d=this.transform,m=1/(d.m11*d.m22-d.m12*d.m21),y=d.m22*m,O=-d.m12*m,w=-d.m21*m,k=d.m11*m,P=m*(d.m21*d.dy-d.m22*d.dx),T=m*(d.m12*d.dx-d.m11*d.dy);if(this.areaBackground!==null)return d=this.actualBounds,Y.Ff(d.left,d.top,d.right,d.bottom,t,i,s,l,u);if(this.background!==null)return c=t*y+i*w+P,m=t*O+i*k+T,t=s*y+l*w+P,y=s*O+l*k+T,u.h(0,0),s=this.naturalBounds,c=Y.Ff(0,0,s.width,s.height,c,m,t,y,u),u.transform(d),c;c||(y=1,w=O=0,k=1,T=P=0),m=t*y+i*w+P,t=t*O+i*k+T,y=s*y+l*w+P,s=s*O+l*k+T,u.h(y,s),l=(y-m)*(y-m)+(s-t)*(s-t),O=!1,k=this.O.s,T=k.length,w=F.alloc(),P=null,i=1/0;var C=null,A=this.isClipping&&this.na===nt.Spot;A&&(C=F.alloc(),P=this.Qb(),(O=P.Rj(m,t,y,s,C))&&(i=(m-C.x)*(m-C.x)+(t-C.y)*(t-C.y)));for(var I=0;I<T;I++){var E=k[I];E.visible&&E!==P&&E.Rj(m,t,y,s,w)&&(O=!0,E=(m-w.x)*(m-w.x)+(t-w.y)*(t-w.y),E<l&&(l=E,u.set(w)))}return A&&(i>l&&u.set(C),F.free(C)),F.free(w),c&&u.transform(d),O},n.Gj=function(){for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Gj();vt.prototype.Gj.call(this)},n.v=function(t){if(!Na(this)){vt.prototype.v.call(this,t),t=null,(this.na===nt.Auto||this.na===nt.Link)&&(t=this.Qb());for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];if((u===t||u.isPanelMain)&&u.v(!0),!u.desiredSize.w()){var c=Ys(u,!1);(u instanceof On||u instanceof nt||u instanceof fe||c!==je)&&u.v(!0)}}}},n.Tj=function(){if(!Na(this)){Ar(this,!0),Ih(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Tj()}},n.Tk=function(){if(!(this.l&2048)){Pp(this,!0),Au(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Yu()}},n.Yu=function(){Au(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Yu()},n.Wl=function(t,i,s,l){var u=this.jg;u.h(0,0,0,0);var c=this.desiredSize,d=this.minSize;s===void 0&&(s=d.width,l=d.height),s=Math.max(s,d.width),l=Math.max(l,d.height);var m=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,m.width)),isNaN(c.height)||(i=Math.min(c.height,m.height)),t=Math.max(s,t),i=Math.max(l,i);var y=this.zb;t=Math.max(t-y.left-y.right,0),i=Math.max(i-y.top-y.bottom,0),this.na.measure(this,t,i,this.O.s,u,s,l),t=u.width+y.left+y.right,y=u.height+y.top+y.bottom,isFinite(c.width)&&(t=c.width),isFinite(c.height)&&(y=c.height),t=Math.min(m.width,t),y=Math.min(m.height,y),t=Math.max(d.width,t),y=Math.max(d.height,y),t=Math.max(s,t),y=Math.max(l,y),Ji(u,t,y),Ji(this.naturalBounds,t,y),this.Ge(0,0,t,y)},n.Qb=function(){if(this.$g===null){var t=this.O.s,i=t.length;if(i===0)return null;for(var s=0;s<i;s++){var l=t[s];if(l.isPanelMain===!0)return this.$g=l}this.$g=t[0]}return this.$g};function Fl(t){return t.part!==null?t.part.locationObject:null}n.eh=function(t,i,s,l){var u=this.O.s;if(this.actualBounds.h(t,i,s,l),u.length!==0){if(!this.desiredSize.w()){t=Ys(this,!0);var c=this.measuredBounds;i=c.width,c=c.height;var d=this.Kg,m=d.left+d.right;switch(d=d.top+d.bottom,i===s&&c===l&&(t=je),t){case je:(i>s||c>l)&&(this.v(),this.measure(i>s?s:i,c>l?l:c,0,0));break;case $e:this.v(!0),this.measure(s+m,l+d,0,0);break;case ji:this.v(!0),this.measure(s+m,c+d,0,0);break;case Ii:this.v(!0),this.measure(i+m,l+d,0,0)}}this.na.arrange(this,u,this.jg)}},n.gh=function(t){var i=this.naturalBounds,s=Fl(this);if(Xs(0,0,i.width,i.height,t.x,t.y)){i=this.O.s;for(var l=i.length,u=F.allocAt(0,0);l--;){var c=i[l];if((c.visible||c===s)&&($i(u.set(t),c.transform),c.ca(u)))return F.free(u),!0}return F.free(u),!(this.Ma===null&&this.areaBackground===null)}return!1},n.ks=function(t){if(this.bindingId===t)return this;for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l].ks(t);if(u!==null)return u}return null},n.rm=function(t,i){if(i(this,t),t instanceof nt){t=t.O.s;for(var s=t.length,l=0;l<s;l++)this.rm(t[l],i)}};function Bh(t,i){x$(t,t,i)}function x$(t,i,s){s(i),i=i.O.s;for(var l=i.length,u=0;u<l;u++){var c=i[u];c instanceof nt&&x$(t,c,s)}}function zG(t,i){w$(t,t,i)}function w$(t,i,s){if(s(i),i instanceof nt){i=i.O.s;for(var l=i.length,u=0;u<l;u++)w$(t,i[u],s)}}n.Nl=function(t){return S$(this,this,t)};function S$(t,i,s){if(s(i))return i;if(i instanceof nt){i=i.O.s;for(var l=i.length,u=0;u<l;u++){var c=S$(t,i[u],s);if(c!==null)return c}}return null}n.fb=function(t){if(this.name===t)return this;var i=this.O.s,s=i.length;this.Hh===null&&this.itemTemplateMap===null||(s=Dy(this));for(var l=0;l<s;l++){var u=i[l];if(u instanceof nt){var c=u.fb(t);if(c!==null)return c}if(u.name===t)return u}return null};function k$(t){t=t.O.s;for(var i=t.length,s=0,l=0;l<i;l++){var u=t[l];u instanceof nt?s=Math.max(s,k$(u)):u instanceof It&&(s=Math.max(s,u.ig/2*u.strokeMiterLimit*u.Df()))}return s}n.se=function(){return!(this.type===nt.TableRow||this.type===nt.TableColumn)};function Aa(t){return t.type===nt.TableRow||t.type===nt.TableColumn}n.kc=function(t,i,s){if(this.pickable===!1||(i===void 0&&(i=null),s===void 0&&(s=null),Ts(this)))return null;var l=this.naturalBounds,u=1/this.Df(),c=this.se(),d=c?t:$i(F.allocAt(t.x,t.y),this.transform),m=this.diagram,y=10,O=5;if(m!==null&&(y=m.Ql("extraTouchArea"),O=y/2),Xs(-(O*u),-(O*u),l.width+y*u,l.height+y*u,d.x,d.y)){if(!this.isAtomic){u=this.O.s;var w=u.length;if(m=F.alloc(),O=(y=this.isClipping&&this.na===nt.Spot)?this.Qb():null,y&&(O.se()?$i(m.set(t),O.transform):m.set(t),!O.ca(m)))return F.free(m),c||F.free(d),null;for(var k=Fl(this);w--;){var P=u[w];if((P.visible||P===k)&&(P.se()?$i(m.set(t),P.transform):m.set(t),!y||P!==O)){var T=null;if(P instanceof nt?T=P.kc(m,i,s):P.pickable===!0&&P.ca(m)&&(T=P),T!==null&&(i!==null&&(T=i(T)),T!==null&&(s===null||s(T))))return F.free(m),c||F.free(d),T}}F.free(m)}return this.background===null&&this.areaBackground===null?(c||F.free(d),null):(t=Xs(0,0,l.width,l.height,d.x,d.y)?this:null,c||F.free(d),t)}return c||F.free(d),null},n.ki=function(t,i,s,l){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var u=this.naturalBounds,c=this.se(),d=c?t:$i(F.allocAt(t.x,t.y),this.transform);if(u=Xs(0,0,u.width,u.height,d.x,d.y),Aa(this)||u){if(!this.isAtomic){for(var m=this.O.s,y=m.length,O=F.alloc(),w=Fl(this);y--;){var k=m[y];if(k.visible||k===w){k.se()?$i(O.set(t),k.transform):O.set(t);var P=k;k=k instanceof nt?k:null,(k!==null?k.ki(O,i,s,l):P.ca(O))&&P.pickable!==!1&&(i!==null&&(P=i(P)),P===null||s!==null&&!s(P)||l.add(P))}}F.free(O)}return c||F.free(d),u&&(this.background!==null||this.areaBackground!==null)}return c||F.free(d),!1},n.Cf=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var d=c;if(c===void 0&&(d=Bt.alloc(),d.reset()),d.multiply(this.transform),this.fh(t,d))return QT(this,i,s,u),c===void 0&&Bt.free(d),!0;if(this.Yc(t,d)){if(!this.isAtomic)for(var m=Fl(this),y=this.O.s,O=y.length;O--;){var w=y[O];if(w.visible||w===m){var k=w.actualBounds,P=this.naturalBounds;k.x>P.width||k.y>P.height||0>k.x+k.width||0>k.y+k.height||(k=w,w=w instanceof nt?w:null,P=Bt.alloc(),P.set(d),(w!==null?w.Cf(t,i,s,l,u,P):n$(k,t,l,P))&&(i!==null&&(k=i(k)),k===null||s!==null&&!s(k)||u.add(k)),Bt.free(P))}}return c===void 0&&Bt.free(d),l}return c===void 0&&Bt.free(d),!1};function QT(t,i,s,l){for(var u=t.O.s,c=u.length;c--;){var d=u[c];if(d.visible){var m=d.actualBounds,y=t.naturalBounds;m.x>y.width||m.y>y.height||0>m.x+m.width||0>m.y+m.height||(d instanceof nt&&QT(d,i,s,l),i!==null&&(d=i(d)),d===null||s!==null&&!s(d)||l.add(d))}}}n.og=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;s===void 0&&(s=null),l===void 0&&(l=null);var d=this.naturalBounds,m=this.se(),y=m?t:$i(F.allocAt(t.x,t.y),this.transform),O=m?i:$i(F.allocAt(i.x,i.y),this.transform),w=y.Bf(O),k=0<y.x&&y.x<d.width&&0<y.y&&y.y<d.height||Di(y.x,y.y,0,0,0,d.height)<=w||Di(y.x,y.y,0,d.height,d.width,d.height)<=w||Di(y.x,y.y,d.width,d.height,d.width,0)<=w||Di(y.x,y.y,d.width,0,0,0)<=w;if(d=y.zd(0,0)<=w&&y.zd(0,d.height)<=w&&y.zd(d.width,0)<=w&&y.zd(d.width,d.height)<=w,m||(F.free(y),F.free(O)),k){if(!this.isAtomic){y=F.alloc(),O=F.alloc(),w=Fl(this);for(var P=this.O.s,T=P.length;T--;){var C=P[T];if(C.visible||C===w){var A=C.actualBounds,I=this.naturalBounds;(!m||!(A.x>I.width||A.y>I.height||0>A.x+A.width||0>A.y+A.height))&&(C.se()?(A=C.transform,$i(y.set(t),A),$i(O.set(i),A)):(y.set(t),O.set(i)),A=C,C=C instanceof nt?C:null,(C!==null?C.og(y,O,s,l,u,c):A.vx(y,O,u))&&(s!==null&&(A=s(A)),A===null||l!==null&&!l(A)||c.add(A)))}}F.free(y),F.free(O)}return u?k:d}return!1};function AT(t){var i=null;return t instanceof It&&(i=t.spot1,i===Yi&&(i=null),t=t.geometry,t!==null&&i===null&&(i=t.spot1)),i===null&&(i=tn),i}function jT(t){var i=null;return t instanceof It&&(i=t.spot2,i===Yi&&(i=null),t=t.geometry,t!==null&&i===null&&(i=t.spot2)),i===null&&(i=Wo),i}n.add=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];for(s=0;s<i.length;s++)this.Hb(this.O.count,i[s]);return this},n.M=function(t){return this.O.M(t)},n.Hb=function(t,i){i instanceof kt&&D("Cannot add a Part to a Panel: "+i+"; use a Panel instead"),(this===i||this.rg(i))&&(this===i&&D("Cannot make a Panel contain itself: "+this.toString()),D("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+i.toString()));var s=i.panel;if(s!==null&&s!==this&&D("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+i.toString()+", already contained by "+s.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==nt.Grid||i instanceof It||D("Can only add Shapes to a Grid Panel, not: "+i),this.na!==nt.Graduated||i instanceof It||i instanceof fe||D("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+i),i.xi(this),i.Ng=null,this.itemArray!==null){var l=i.data;l!==null&&typeof l=="object"&&(this.ge===null&&(this.ge=new jt),this.ge.add(l,i))}var u=this.O;if(l=-1,s===this){for(var c=-1,d=this.O.s,m=d.length,y=0;y<m;y++)if(d[y]===i){c=y;break}if(c!==-1){if(c===t||c+1>=u.count&&t>=u.count)return;u.mb(c),l=c}else D("element "+i.toString()+" has panel "+s.toString()+" but is not contained by it.")}(0>t||t>u.count)&&(t=u.count),u.Hb(t,i),(t===0||i.isPanelMain)&&(this.$g=null),Na(this)||this.v(),i.v(!1),i.portId!==null?this.Te=!0:i instanceof nt&&i.Te===!0&&(this.Te=!0),this.graduatedIntervals=null,this.If()||k1(this,i,!1),s=this.part,s!==null&&(s.Rh=null,s.ag=NaN,this.Te&&s instanceof ft&&(s.Te=!0),s.Te&&s instanceof ft&&(s.wc=null),u=this.diagram,u!==null&&u.undoManager.isUndoingRedoing||(l!==-1&&s.cb(ui,"elements",this,i,null,l,null),s.cb(ei,"elements",this,null,i,null,t)))};function RT(t,i){t.l=i?t.l|16777216:t.l&-16777217}n.remove=function(t){for(var i=this.O.s,s=i.length,l=-1,u=0;u<s;u++)if(i[u]===t){l=u;break}l!==-1&&this.qc(l,!0)},n.mb=function(t){0<=t&&this.qc(t,!0)},n.qc=function(t,i){var s=this.O,l=s.M(t);if(l.Ng=null,l.xi(null),this.ge!==null){var u=l.data;typeof u=="object"&&this.ge.remove(u)}s.mb(t),Ar(this,!1),this.v(),this.$g===l&&(this.$g=null),this.graduatedIntervals=null;var c=this.part;c!==null&&(c.Rh=null,c.ag=NaN,c.Zb(),c instanceof ft&&(l instanceof nt?l.rm(l,function(d,m){eC(c,m,i)}):eC(c,l,i)),s=this.diagram,s!==null&&s.undoManager.isUndoingRedoing||c.cb(ui,"elements",this,l,null,t,null))},n.Gb=function(t){0>t&&W(t,">= 0",nt,"getRowDefinition:idx"),t=Math.round(t);var i=this.rowDefs;if(i[t]===void 0){var s=new qe;s.xi(this),s.isRow=!0,s.index=t,i[t]=s,this.cb(ei,"rowdefs",this,null,s,null,t)}return i[t]},n.sA=function(t){if(0>t&&W(t,">= 0",nt,"removeRowDefinition:idx"),this.rowCount!==0){t=Math.round(t);var i=this.rowDefs,s=i[t];if(s){i[t]=void 0;for(var l=i.length-1;0<=l&&i[l--]===void 0;)i.length--;this.cb(ui,"rowdefs",this,s,null,t,null),this.v()}}};function P$(t,i,s){var l=t.rowDefs;if(!(0>i)){if(l[i]=s instanceof qe?s:void 0,!s)for(i=l.length-1;0<=i&&l[i--]===void 0;)l.length--;t.v()}}n.Fb=function(t){0>t&&W(t,">= 0",nt,"getColumnDefinition:idx"),t=Math.round(t);var i=this.colDefs;if(i[t]===void 0){var s=new qe;s.xi(this),s.isRow=!1,s.index=t,i[t]=s,this.cb(ei,"coldefs",this,null,s,null,t)}return i[t]},n.nA=function(t){if(0>t&&W(t,">= 0",nt,"removeColumnDefinition:idx"),this.columnCount!==0){t=Math.round(t);var i=this.colDefs,s=i[t];if(s){i[t]=void 0;for(var l=i.length-1;0<=l&&i[l--]===void 0;)i.length--;this.cb(ui,"coldefs",this,s,null,t,null),this.v()}}};function b$(t,i,s){var l=t.colDefs;if(!(0>i)){if(l[i]=s instanceof qe?s:void 0,!s)for(i=l.length-1;0<=i&&l[i--]===void 0;)l.length--;t.v()}}n.Iy=function(t){var i=null;return t.isRow?i=this.Gb(t.index):t.isRow||(i=this.Fb(t.index)),i&&P1(i,t),this},n.Jy=function(t,i){return(t=this.Gb(t))&&P1(t,new qe(i)),this},n.Dy=function(t,i){return(t=this.Fb(t))&&P1(t,new qe(i)),this},n.sz=function(t){if(0>t||this.type!==nt.Table||this.rowCount===0)return-1;for(var i=0,s=this.rowDefs,l=s.length,u=this.topIndex;u<l;u++){var c=s[u];if(c!==void 0&&(i+=c.total,t<i))break}return u},n.kz=function(t){if(0>t||this.type!==nt.Table||this.columnCount===0)return-1;for(var i=0,s=this.colDefs,l=s.length,u=this.leftIndex;u<l;u++){var c=s[u];if(c!==void 0&&(i+=c.total,t<i))break}return u},n.Kz=function(t,i){if(i===void 0&&(i=new F(NaN,NaN)),this.type!==nt.Graduated)return i.h(NaN,NaN),i;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var s=this.Qb();return s.geometry.Ru((t-this.graduatedMin)/this.graduatedRange,i),s.transform.Ga(i)},n.Lz=function(t){if(this.type!==nt.Graduated)return NaN;var i=this.Qb();return i.transform.Cd(t),i.geometry.zx(t)*this.graduatedRange+this.graduatedMin};function T$(t){return t=t.allBindings,t!==null&&t._isFrozen}function Jr(t){var i=t.allBindings;if(i===null)t.data!==null&&D("Template cannot have .data be non-null: "+t),t.allBindings=i=new ct;else if(i._isFrozen)return;var s=new ct;RT(t,!1),t.rm(t,function(O,w){w.th();var k=w.localBindings;if(k!==null)for(pT(w,!1),k=k.iterator;k.next();){var P=k.value;P.mode===Kp&&pT(w,!0);var T=P.sourceName;T!==null&&(T==="/"&&RT(O,!0),T=zD(P,O,w),T!==null&&(s.add(T),T.srcBindings===null&&(T.srcBindings=new ct),T.srcBindings.add(P))),i.add(P)}if(w instanceof nt&&w.type===nt.Table){if(0<w.rowCount){for(O=w.rowDefs,k=O.length,P=0;P<k;P++)if(T=O[P],T!==void 0&&T.be!==null)for(var C=T.be.iterator;C.next();){var A=C.value;A.xd=T,A.uo=2,A.wl=T.index,i.add(A)}}if(0<w.columnCount){for(w=w.colDefs,O=w.length,k=0;k<O;k++)if(P=w[k],P!==void 0&&P.be!==null)for(T=P.be.iterator;T.next();)C=T.value,C.xd=P,C.uo=1,C.wl=P.index,i.add(C)}}});for(var l=s.iterator;l.next();){var u=l.value;if(u.srcBindings!==null){pT(u,!0);for(var c=u.srcBindings.iterator;c.next();){var d=c.value;u.localBindings===null&&(u.localBindings=new ct),u.localBindings.add(d)}}u.srcBindings=null}for(l=i.iterator;l.next();)if(u=l.value,c=u.xd,c!==null){u.xd=null;var m=u.targetProperty,y=m.indexOf(".");0<y&&c instanceof nt&&(d=m.substring(0,y),m=m.substr(y+1),y=c.fb(d),y!==null?(c=y,u.targetProperty=m):K('Warning: unable to find GraphObject named "'+d+'" for Binding: '+u.toString())),c instanceof qe?(d=Qi(c.panel),u.Bi=d===void 0?-1:d,c.panel.bindingId=u.Bi):c instanceof vt?(d=Qi(c),u.Bi=d===void 0?-1:d,c.bindingId=u.Bi):D("Unknown type of binding target: "+c)}i.freeze(),t instanceof kt&&t.Zc()&&t.Va()}n.Zy=function(t){t===void 0&&(t=!1);var i=this.copy();return zG(i,function(s){s instanceof nt&&(s.allBindings=null,s.ub=null);var l=s.localBindings;l!==null&&(s.localBindings=null,l.each(function(u){s.bind(u.copy())})),l=s.animationTriggers,l!==null&&(s.animationTriggers=null,l.each(function(u){s.Lv(u.value.copy())}))}),t&&Jr(i),i},n.La=function(t){var i=this.allBindings;if(i!==null)for(t===void 0&&(t=""),i=i.iterator;i.next();){var s=i.value,l=s.sourceProperty;if((t===""||l===""||l===t)&&(l=s.targetProperty,s.converter!==null||l!=="")){l=this.data;var u=s.sourceName;if(u!==null){if(u==="")l=this;else if(u==="/")l=this;else if(u===".")l=this;else if(u==="..")l=this;else if(l=this.fb(u),l===null)continue}else if(s.isToModel)if(l=this.diagram,l!==null)l=l.model.modelData;else continue;var c=this,d=s.Bi;if(d!==-1){if(c=this.ks(d),c===null)continue}else s.xd!==null&&(c=s.xd);if(u==="/"?l=c.part:u==="."?l=c:u===".."&&(l=c.panel),u=s.uo,u!==0){if(!(c instanceof nt))continue;u===1?c=c.Fb(s.wl):u===2&&(c=c.Gb(s.wl))}c!==void 0&&s.Ov(c,l)}}},n.ux=function(t){return t==null||this.ge===null?null:this.ge.I(t)};function BG(t,i){t=t.O.s;for(var s=t.length,l=i.length,u=0,c=null;u<s&&(c=t[u],!(c instanceof nt&&c.data!==null));)u++,c=t[u];if(s-u!==l)return!0;if(c===null)return 0<l;for(var d=0;u<s&&d<l;){if(c=t[u],!(c instanceof nt)||c.data!==i[d])return!0;u++,d++}return!1}function Dy(t){if(t.type===nt.Spot||t.type===nt.Auto)return Math.min(t.O.length,1);if(t.type===nt.Link){t=t.O;for(var i=t.length,s=0;s<i;s++){var l=t.M(s);if(!(l instanceof It&&l.isPanelMain))break}return s}return t.type===nt.Table&&0<t.O.length&&(t=t.O.M(0),t.isPanelMain&&t instanceof nt&&Aa(t))?1:0}n.ov=function(){for(var t=Dy(this);this.O.length>t;)this.qc(this.O.length-1,!1);C$(this,this.itemArray)};function C$(t,i){var s=Dy(t);if(i===null||i.length===0)for(;t.O.length>s;)t.qc(t.O.length-1,!1);else if(t.O.length<=s){s=i.length;for(var l=0;l<s;l++)S1(t,i[l],l,!0)}else{l=s;for(var u=0;u<i.length;u++,l++){var c=i[u],d=l<t.O.length?t.O.M(l):null;if(d instanceof nt){if(d.data!==c){var m=ET(t,d.data),y=ET(t,c),O=y!==m;O||(m=$T(t,m),O=$T(t,y)!==m),O?(t.qc(l,!1),S1(t,c,u,!1)):d.data=c}}else S1(t,c,u,!1)}for(;l<t.O.length;)t.qc(l,!1);t.$g=null,LT(t,s,0),Na(t)||t.v(),t.graduatedIntervals=null,t.If()||k1(t,t,!1),i=t.part,i!==null&&(i.Rh=null,i.ag=NaN,t.Te&&i instanceof ft&&(i.Te=!0),i.Te&&i instanceof ft&&(i.wc=null))}}function S1(t,i,s,l){if(!(i==null||0>s)){var u=ET(t,i);if(u=$T(t,u),u!==null){if(Jr(u),u=u.copy(),u.l&16777216){var c=t.ih();c!==null&&RT(c,!0)}typeof i=="object"&&(t.ge===null&&(t.ge=new jt),t.ge.add(i,u)),c=s+Dy(t),t.Hb(c,u),l&&(u.ub=i,LT(t,c,s),u.ub=null),u.data=i}}}function LT(t,i,s){for(t=t.O;i<t.length;){var l=t.M(i);if(l instanceof nt){var u=i,c=s;l.type===nt.TableRow?l.row=u:l.type===nt.TableColumn&&(l.column=u),l.itemIndex=c}i++,s++}}function ET(t,i){if(i===null)return"";if(t=t.itemCategoryProperty,typeof t=="function")t=t(i);else if(typeof t=="string"&&typeof i=="object"){if(t==="")return"";t=Fe(i,t)}else return"";if(t===void 0)return"";if(typeof t=="string")return t;D("Panel.getCategoryForItemData found a non-string category for "+i+": "+t)}function $T(t,i){var s=t.itemTemplateMap,l=null;return s!==null&&(l=s.I(i)),l===null&&(s!==null&&(l=s.I("")),l===null&&(M$||(M$=!0,K('No item template Panel found for category "'+i+'" on '+t),K("  Using default item template."),t=new nt,i=new fe,i.bind(new De("text","",Nt)),t.add(i),N$=t),l=N$)),l}function k1(t,i,s){var l=i.enabledChanged;if(l!==null&&l(i,s),i instanceof nt){i=i.O.s,l=i.length;for(var u=0;u<l;u++){var c=i[u];s&&c instanceof nt&&!c.isEnabled||k1(t,c,s)}}}function vo(t,i){i.name=t,Cs.add(t,i)}S.Object.defineProperties(nt.prototype,{type:{get:function(){return this.na},set:function(t){var i=this.na;i!==t&&(this.na=t,this.isAtomic=this.na===nt.Grid,this.v(),this.g("type",i,t))}},elements:{get:function(){return this.O.iterator}},naturalBounds:{get:function(){return this.fc}},padding:{get:function(){return this.zb},set:function(t){typeof t=="number"?(0>t&&W(t,">= 0",nt,"padding"),t=new ne(t)):(0>t.left&&W(t.left,">= 0",nt,"padding:value.left"),0>t.right&&W(t.right,">= 0",nt,"padding:value.right"),0>t.top&&W(t.top,">= 0",nt,"padding:value.top"),0>t.bottom&&W(t.bottom,">= 0",nt,"padding:value.bottom"));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.v(),this.g("padding",i,t))}},defaultAlignment:{get:function(){return this.Um},set:function(t){var i=this.Um;i.D(t)||(this.Um=t=t.J(),this.v(),this.g("defaultAlignment",i,t))}},defaultStretch:{get:function(){return this.Uf},set:function(t){var i=this.Uf;i!==t&&(this.Uf=t,this.v(),this.g("defaultStretch",i,t))}},defaultSeparatorPadding:{get:function(){return this.U!==null?this.U.Qp:Gd},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.defaultSeparatorPadding;i.D(t)||(t=t.J(),this.U===null&&(this.U=new Rr),this.U.Qp=t,this.v(),this.g("defaultSeparatorPadding",i,t))}},defaultRowSeparatorStroke:{get:function(){return this.U!==null?this.U.ia:null},set:function(t){var i=this.defaultRowSeparatorStroke;i!==t&&(t===null||typeof t=="string"||t instanceof ie)&&(t instanceof ie&&t.freeze(),this.U===null&&(this.U=new Rr),this.U.ia=t,this.N(),this.g("defaultRowSeparatorStroke",i,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return this.U!==null?this.U.Ha:1},set:function(t){var i=this.defaultRowSeparatorStrokeWidth;i!==t&&isFinite(t)&&0<=t&&(this.U===null&&(this.U=new Rr),this.U.Ha=t,this.v(),this.g("defaultRowSeparatorStrokeWidth",i,t))}},defaultRowSeparatorDashArray:{get:function(){return this.U!==null?this.U.V:null},set:function(t){var i=this.defaultRowSeparatorDashArray;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("defaultRowSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.U===null&&(this.U=new Rr),this.U.V=t,this.N(),this.g("defaultRowSeparatorDashArray",i,t)}}},defaultColumnSeparatorStroke:{get:function(){return this.U!==null?this.U.u:null},set:function(t){var i=this.defaultColumnSeparatorStroke;i!==t&&(t===null||typeof t=="string"||t instanceof ie)&&(t instanceof ie&&t.freeze(),this.U===null&&(this.U=new Rr),this.U.u=t,this.N(),this.g("defaultColumnSeparatorStroke",i,t))}},defaultColumnSeparatorStrokeWidth:{get:function(){return this.U!==null?this.U.F:1},set:function(t){var i=this.defaultColumnSeparatorStrokeWidth;i!==t&&isFinite(t)&&0<=t&&(this.U===null&&(this.U=new Rr),this.U.F=t,this.v(),this.g("defaultColumnSeparatorStrokeWidth",i,t))}},defaultColumnSeparatorDashArray:{get:function(){return this.U!==null?this.U.o:null},set:function(t){var i=this.defaultColumnSeparatorDashArray;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("defaultColumnSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.U===null&&(this.U=new Rr),this.U.o=t,this.N(),this.g("defaultColumnSeparatorDashArray",i,t)}}},inRowsCols:{get:function(){return this.U!==null?this.U.nb:null},set:function(t){this.U===null&&(this.U=new Rr),this.U.nb=t}},viewboxStretch:{get:function(){return this.yo},set:function(t){var i=this.yo;i!==t&&(this.yo=t,this.v(),this.g("viewboxStretch",i,t))}},gridCellSize:{get:function(){return this.kn},set:function(t){var i=this.kn;if(!i.D(t)){t.w()&&t.width!==0&&t.height!==0||D("Invalid Panel.gridCellSize: "+t),this.kn=t.J();var s=this.diagram;s!==null&&this===s.grid&&Ca(s),this.N(),this.g("gridCellSize",i,t)}}},gridOrigin:{get:function(){return this.ln},set:function(t){var i=this.ln;if(!i.D(t)){t.w()||D("Invalid Panel.gridOrigin: "+t),this.ln=t.J();var s=this.diagram;s!==null&&this===s.grid&&Ca(s),this.N(),this.g("gridOrigin",i,t)}}},graduatedMin:{get:function(){return this.ra!==null?this.ra.lq:0},set:function(t){var i=this.graduatedMin;i!==t&&(this.ra===null&&(this.ra=new Vl),this.ra.lq=t,this.v(),this.g("graduatedMin",i,t),Mf(this)&&(t=this.part,t!==null&&Dh(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return this.ra!==null?this.ra.F:100},set:function(t){var i=this.graduatedMax;i!==t&&(this.ra===null&&(this.ra=new Vl),this.ra.F=t,this.v(),this.g("graduatedMax",i,t),Mf(this)&&(t=this.part,t!==null&&Dh(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.ra!==null?this.ra.ia:10},set:function(t){var i=this.graduatedTickUnit;i!==t&&0<t&&(this.ra===null&&(this.ra=new Vl),this.ra.ia=t,this.v(),this.g("graduatedTickUnit",i,t))}},graduatedTickBase:{get:function(){return this.ra!==null?this.ra.V:0},set:function(t){var i=this.graduatedTickBase;i!==t&&(this.ra===null&&(this.ra=new Vl),this.ra.V=t,this.v(),this.g("graduatedTickBase",i,t))}},graduatedMarks:{get:function(){return this.ra!==null?this.ra.u:null},set:function(t){this.ra!==null?this.ra.u=t:t!==null&&(this.ra=new Vl,this.ra.u=t)}},graduatedBounds:{get:function(){return this.ra!==null?this.ra.j:null},set:function(t){this.ra!==null?this.ra.j=t:t!==null&&(this.ra=new Vl,this.ra.j=t)}},graduatedIntervals:{get:function(){return this.ra!==null?this.ra.o:null},set:function(t){this.ra!==null?this.ra.o=t:t!==null&&(this.ra=new Vl,this.ra.o=t)}},temporaryTextBlock:{get:function(){return this.ra!==null?this.ra.Zh:null},set:function(t){this.ra!==null?this.ra.Zh=t:t!==null&&(this.ra=new Vl,this.ra.Zh=t)}},panelLayoutState:{get:function(){return this.F},set:function(t){this.F=t}},Te:{get:function(){return(this.l&8388608)!==0},set:function(t){(this.l&8388608)!==0!==t&&(this.l^=8388608)}},rowDefs:{get:function(){return this.U===null&&(this.U=new Rr),this.U.Qc}},rowCount:{get:function(){return this.U===null?0:this.rowDefs.length}},colDefs:{get:function(){return this.U===null&&(this.U=new Rr),this.U.Pc}},columnCount:{get:function(){return this.U===null?0:this.colDefs.length}},rowSizing:{get:function(){return this.U!==null?this.U.ob:Iy},set:function(t){var i=this.rowSizing;i!==t&&(this.U===null&&(this.U=new Rr),this.U.ob=t,this.v(),this.g("rowSizing",i,t))}},columnSizing:{get:function(){return this.U!==null?this.U.j:Iy},set:function(t){var i=this.columnSizing;i!==t&&(this.U===null&&(this.U=new Rr),this.U.j=t,this.v(),this.g("columnSizing",i,t))}},topIndex:{get:function(){return this.U!==null?this.U.Ib:0},set:function(t){var i=this.topIndex;i!==t&&((!isFinite(t)||0>t)&&D("Panel.topIndex must be greater than zero and a real number, not: "+t),this.U===null&&(this.U=new Rr),this.U.Ib=t,this.v(),this.g("topIndex",i,t))}},leftIndex:{get:function(){return this.U!==null?this.U.hb:0},set:function(t){var i=this.leftIndex;i!==t&&((!isFinite(t)||0>t)&&D("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.U===null&&(this.U=new Rr),this.U.hb=t,this.v(),this.g("leftIndex",i,t))}},data:{get:function(){return this.ub},set:function(t){var i=this.ub;if(i!==t){var s=this instanceof kt&&!(this instanceof Wt);Jr(this),this.ub=t;var l=this.diagram;l!==null&&(s?(s=l.partManager,this instanceof st?(i!==null&&s.bf.remove(i),t!==null&&s.bf.add(t,this)):this instanceof kt&&(i!==null&&s.cf.remove(i),t!==null&&s.cf.add(t,this))):(s=this.panel,s!==null&&s.ge!==null&&(i!==null&&s.ge.remove(i),t!==null&&s.ge.add(t,this)))),this.g("data",i,t),l!==null&&l.undoManager.isUndoingRedoing||t!==null&&this.La()}}},itemIndex:{get:function(){return this.An},set:function(t){var i=this.An;i!==t&&(this.An=t,this.g("itemIndex",i,t))}},allBindings:{get:function(){return this.A!==null?this.A.nb:null},set:function(t){this.localBindings!==t&&(this.A===null&&(this.A=new Nf),this.A.nb=t)}},itemArray:{get:function(){return this.Hh},set:function(t){var i=this.Hh;if(i!==t||t!==null&&BG(this,t)){var s=this.diagram;i!==t&&(s!==null&&i!==null&&gC(s.partManager,this,s),this.Hh=t,s!==null&&t!==null&&mC(s.partManager,this)),this.g("itemArray",i,t),s!==null&&s.undoManager.isUndoingRedoing||C$(this,t)}}},itemTemplate:{get:function(){return this.itemTemplateMap===null?null:this.itemTemplateMap.I("")},set:function(t){if(this.itemTemplateMap===null){if(t===null)return;this.itemTemplateMap=new jt}var i=this.itemTemplateMap.I("");i!==t&&((t instanceof kt||t.isPanelMain)&&D("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.add("",t),this.g("itemTemplate",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.ov())}},itemTemplateMap:{get:function(){return this.A!==null?this.A.Qc:null},set:function(t){var i=this.itemTemplateMap;if(i!==t){for(var s=t.iterator;s.next(););li(this),this.A.Qc=t,this.g("itemTemplateMap",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.ov()}}},itemCategoryProperty:{get:function(){return this.A!==null?this.A.Pc:"category"},set:function(t){var i=this.itemCategoryProperty;i!==t&&(li(this),this.A.Pc=t,this.g("itemCategoryProperty",i,t))}},isAtomic:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.g("isAtomic",i,t))}},isClipping:{get:function(){return(this.l&2097152)!==0},set:function(t){var i=(this.l&2097152)!==0;i!==t&&(this.l^=2097152,this instanceof Et&&(this.tb=null),this.v(),this.g("isClipping",i,t))}},isOpposite:{get:function(){return(this.l&33554432)!==0},set:function(t){var i=(this.l&33554432)!==0;i!==t&&(this.l^=33554432,this.v(),this.g("isOpposite",i,t))}},isEnabled:{get:function(){return(this.l&4194304)!==0},set:function(t){var i=(this.l&4194304)!==0;if(i!==t){var s=this.panel===null||this.panel.If();this.l^=4194304,this.g("isEnabled",i,t),i=this.diagram,i!==null&&i.undoManager.isUndoingRedoing||s&&k1(this,this,t)}}},alignmentFocusName:{get:function(){return this.$e},set:function(t){var i=this.$e;i!==t&&(this.$e=t,this.v(),this.g("alignmentFocusName",i,t))}}}),S.Object.defineProperties(nt,{Position:{get:function(){return Cs.I("Position")}},Horizontal:{get:function(){return Cs.I("Horizontal")}},Vertical:{get:function(){return Cs.I("Vertical")}},Spot:{get:function(){return Cs.I("Spot")}},Auto:{get:function(){return Cs.I("Auto")}},Table:{get:function(){return Cs.I("Table")}},Viewbox:{get:function(){return Cs.I("Viewbox")}},TableRow:{get:function(){return Cs.I("TableRow")}},TableColumn:{get:function(){return Cs.I("TableColumn")}},Link:{get:function(){return Cs.I("Link")}},Grid:{get:function(){return Cs.I("Grid")}},Graduated:{get:function(){return Cs.I("Graduated")}}}),nt.prototype.rebuildItemElements=nt.prototype.ov,nt.prototype.findItemPanelForData=nt.prototype.ux,nt.prototype.updateTargetBindings=nt.prototype.La,nt.prototype.copyTemplate=nt.prototype.Zy,nt.prototype.graduatedValueForPoint=nt.prototype.Lz,nt.prototype.graduatedPointForValue=nt.prototype.Kz,nt.prototype.findColumnForLocalX=nt.prototype.kz,nt.prototype.findRowForLocalY=nt.prototype.sz,nt.prototype.addColumnDefinition=nt.prototype.Dy,nt.prototype.addRowDefinition=nt.prototype.Jy,nt.prototype.addRowColumnDefinition=nt.prototype.Iy,nt.prototype.removeColumnDefinition=nt.prototype.nA,nt.prototype.getColumnDefinition=nt.prototype.Fb,nt.prototype.removeRowDefinition=nt.prototype.sA,nt.prototype.getRowDefinition=nt.prototype.Gb,nt.prototype.removeAt=nt.prototype.mb,nt.prototype.remove=nt.prototype.remove,nt.prototype.insertAt=nt.prototype.Hb,nt.prototype.elt=nt.prototype.M,nt.prototype.add=nt.prototype.add,nt.prototype.findObject=nt.prototype.fb,nt.prototype.findInVisualTree=nt.prototype.Nl,nt.prototype.walkVisualTreeFrom=nt.prototype.rm,nt.prototype.findMainElement=nt.prototype.Qb;var M$=!1,N$=null,Cs=new jt;nt.className="Panel",nt.definePanelLayout=vo,vo("Position",new h1),vo("Vertical",new f1),vo("Auto",new p1),vo("Link",new x1);function Vl(){this.lq=0,this.F=100,this.ia=10,this.V=0,this.Zh=this.o=this.j=this.u=null}Vl.prototype.copy=function(){var t=new Vl;return t.lq=this.lq,t.F=this.F,t.ia=this.ia,t.V=this.V,t.u=this.u,t.j=this.j,t.o=this.o,t.Zh=this.Zh,t},Vl.className="GradPanelSettings";function Rr(){this.Qc=[],this.Pc=[],this.j=this.ob=Iy,this.hb=this.Ib=0,this.Qp=Gd,this.Ha=1,this.V=this.ia=null,this.F=1,this.nb=this.o=this.u=null}Rr.prototype.copy=function(t){for(var i=new Rr,s=this.Qc,l=s.length,u=i.Qc,c=0;c<l;c++)if(s[c]!==void 0){var d=s[c].copy();d.xi(t),u[c]=d}for(s=this.Pc,l=s.length,u=i.Pc,c=0;c<l;c++)s[c]!==void 0&&(d=s[c].copy(),d.xi(t),u[c]=d);return i.ob=this.ob,i.j=this.j,i.Ib=this.Ib,i.hb=this.hb,i.Qp=this.Qp.J(),i.Ha=this.Ha,i.ia=this.ia,i.V=this.V,i.F=this.F,i.u=this.u,i.o=this.o,i.nb=this.nb,i},Rr.className="TablePanelSettings";function qe(t){Ye(this),this.Me=null,this.uq=!0,this.Za=0,this.Ic=NaN,this.kj=0,this.ij=1/0,this.Kb=Yi,this.pa=this.Wb=this.oa=0,this.be=null,this.po=T1,this.hg=Qr,this.mo=this.dg=null,this.no=NaN,this.Ma=this.uj=null,this.Qm=!1,t&&(Object.assign(this,t),t.column!==void 0?(this.isRow=!1,this.index=t.column):t.row!==void 0&&(this.isRow=!0,this.index=t.row))}qe.prototype.copy=function(){var t=new qe;return t.uq=this.uq,t.Za=this.Za,t.Ic=this.Ic,t.kj=this.kj,t.ij=this.ij,t.Kb=this.Kb,t.oa=this.oa,t.Wb=this.Wb,t.pa=this.pa,t.hg=this.hg,t.po=this.po,this.dg===null?t.dg=null:t.dg=this.dg.J(),t.mo=this.mo,t.no=this.no,t.uj=null,this.uj!==null&&(t.separatorDashArray=Ot(this.separatorDashArray)),t.Ma=this.Ma,t.Qm=this.Qm,t.be=this.be,t};function P1(t,i){i.isRow?t.height=i.height:t.width=i.width,t.minimum=i.minimum,t.maximum=i.maximum,t.alignment=i.alignment,t.stretch=i.stretch,t.sizing=i.sizing,t.dg=i.separatorPadding===null?null:i.separatorPadding.J(),t.separatorStroke=i.separatorStroke,t.separatorStrokeWidth=i.separatorStrokeWidth,t.uj=null,i.separatorDashArray&&(t.uj=Ot(i.separatorDashArray)),t.background=i.background,t.coversSeparators=i.coversSeparators,t.be=i.be}n=qe.prototype,n.qb=function(t){t.classType===qe&&(this.sizing=t)},n.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+Qi(this)},n.xi=function(t){this.Me=t},n.Jo=function(t){var i=0,s=this.Me;if(this.index!==t&&(t=this.separatorStroke,t===null&&s!==null&&(t=this.isRow?s.defaultRowSeparatorStroke:s.defaultColumnSeparatorStroke),t!==null&&(i=this.separatorStrokeWidth,isNaN(i)&&(s!==null?i=this.isRow?s.defaultRowSeparatorStrokeWidth:s.defaultColumnSeparatorStrokeWidth:i=0))),t=this.dg,t===null)if(s!==null)t=s.defaultSeparatorPadding;else return i;return i+(this.isRow?t.top:t.left)},n.Wc=function(){var t=0,i=this.Me,s=0,l=this.isRow;if(i!==null&&i.type===nt.Table)for(var u=l?i.rowDefs.length:i.colDefs.length,c=0;c<u;c++){var d=l?i.rowDefs[c]:i.colDefs[c];if(d!==void 0&&d.oa!==0){s=d.index;break}}if(this.index!==s&&(s=this.separatorStroke,s===null&&i!==null&&(s=l?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),s!==null&&(t=this.separatorStrokeWidth,isNaN(t)&&(i!==null?t=l?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:t=0))),l=this.dg,l===null)if(i!==null)l=i.defaultSeparatorPadding;else return t;return t+(this.isRow?l.top+l.bottom:l.left+l.right)},n.Pb=function(t,i,s){var l=this.Me;if(l!==null&&(l.cb(Se,t,this,i,s,void 0,void 0),this.be!==null&&(i=l.diagram,i!==null&&!i.skipsModelSourceBindings&&(l=l.ih(),l!==null&&(i=l.data,i!==null)))))for(s=this.be.iterator;s.next();)s.value.sp(this,i,t,l)};function b1(t){if(t.sizing===T1){var i=t.Me;return t.isRow?i.rowSizing:i.columnSizing}return t.sizing}n.bind=function(t,i,s,l){var u=null;return typeof t=="string"?u=new De(t,i,s,l):u=t,u.xd=this,t=this.panel,t!==null&&(i=t.ih(),i!==null&&T$(i)&&D("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+u+" on "+t)),this.be===null&&(this.be=new ct),this.be.add(u),this},S.Object.defineProperties(qe.prototype,{panel:{get:function(){return this.Me}},isRow:{get:function(){return this.uq},set:function(t){this.uq=t}},index:{get:function(){return this.Za},set:function(t){this.Za=t}},height:{get:function(){return this.Ic},set:function(t){var i=this.Ic;i!==t&&(0>t&&W(t,">= 0",qe,"height"),this.Ic=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("height",i,t))}},width:{get:function(){return this.Ic},set:function(t){var i=this.Ic;i!==t&&(0>t&&W(t,">= 0",qe,"width"),this.Ic=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("width",i,t))}},minimum:{get:function(){return this.kj},set:function(t){var i=this.kj;i!==t&&((0>t||!isFinite(t))&&W(t,">= 0",qe,"minimum"),this.kj=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("minimum",i,t))}},maximum:{get:function(){return this.ij},set:function(t){var i=this.ij;i!==t&&(0>t&&W(t,">= 0",qe,"maximum"),this.ij=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("maximum",i,t))}},alignment:{get:function(){return this.Kb},set:function(t){var i=this.Kb;i.D(t)||(this.Kb=t.J(),this.panel!==null&&this.panel.v(),this.Pb("alignment",i,t))}},stretch:{get:function(){return this.hg},set:function(t){var i=this.hg;i!==t&&(this.hg=t,this.panel!==null&&this.panel.v(),this.Pb("stretch",i,t))}},separatorPadding:{get:function(){return this.dg},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.dg;t!==null&&i!==null&&i.D(t)||(t!==null&&(t=t.J()),this.dg=t,this.panel!==null&&this.panel.v(),this.Pb("separatorPadding",i,t))}},separatorStroke:{get:function(){return this.mo},set:function(t){var i=this.mo;i!==t&&(t!==null&&Af(t,"RowColumnDefinition.separatorStroke"),t instanceof ie&&t.freeze(),this.mo=t,this.panel!==null&&this.panel.v(),this.Pb("separatorStroke",i,t))}},separatorStrokeWidth:{get:function(){return this.no},set:function(t){var i=this.no;i!==t&&(this.no=t,this.panel!==null&&this.panel.v(),this.Pb("separatorStrokeWidth",i,t))}},separatorDashArray:{get:function(){return this.uj},set:function(t){var i=this.uj;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("separatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.uj=t,this.panel!==null&&this.panel.N(),this.Pb("separatorDashArray",i,t)}}},background:{get:function(){return this.Ma},set:function(t){var i=this.Ma;i!==t&&(t!==null&&Af(t,"RowColumnDefinition.background"),t instanceof ie&&t.freeze(),this.Ma=t,this.panel!==null&&this.panel.N(),this.Pb("background",i,t))}},coversSeparators:{get:function(){return this.Qm},set:function(t){var i=this.Qm;i!==t&&(this.Qm=t,this.panel!==null&&this.panel.N(),this.Pb("coversSeparators",i,t))}},sizing:{get:function(){return this.po},set:function(t){var i=this.po;i!==t&&(this.po=t,this.panel!==null&&this.panel.v(),this.Pb("sizing",i,t))}},actual:{get:function(){return this.oa},set:function(t){this.oa=isNaN(this.Ic)?Math.max(Math.min(this.ij,t),this.kj):Math.max(Math.min(this.ij,this.Ic),this.kj)}},measured:{get:function(){return this.Wb},set:function(t){this.Wb=t}},total:{get:function(){return this.oa+this.Wc()}},position:{get:function(){return this.pa},set:function(t){this.pa=t}}}),qe.prototype.computeEffectiveSpacing=qe.prototype.Wc,qe.prototype.computeEffectiveSpacingTop=qe.prototype.Jo;var T1=new it(qe,"Default",0),Ap=new it(qe,"None",1),Iy=new it(qe,"ProportionalExtra",2);qe.className="RowColumnDefinition",qe.Default=T1,qe.None=Ap,qe.ProportionalExtra=Iy;function It(t,i){vt.call(this),this.Rd=this.ua=null,this.bn="None",this.xc=this.Vi="black",this.ig=1,this.Na=this.Yg=null,this.Wn=this.Vn=NaN,this.fa=null,typeof t=="string"?this.figure=t:t&&Object.assign(this,t),i&&Object.assign(this,i)}v(It,vt),It.prototype.cloneProtected=function(t){vt.prototype.cloneProtected.call(this,t),t.ua=this.ua,t.Rd=this.Rd,t.bn=this.bn,t.Vi=this.Vi,t.xc=this.xc,t.ig=this.ig,this.Yg!==null&&(t.Yg=Ot(this.Yg)),this.Na!==null&&(t.Na=this.Na.pc?this.Na:this.Na.copy()),t.Vn=this.Vn,t.Wn=this.Wn,this.fa!==null&&(t.fa=this.fa.copy())};function Xh(t){t.Na===null?t.Na=new FT:t.Na.pc&&(t.Na=t.Na.copy())}n=It.prototype,n.th=function(){vt.prototype.th.call(this),this.Na!==null&&(this.Na.pc=!0)},n.qb=function(t){t===je||t===Hr||t===Cf||t===Qr?this.geometryStretch=t:vt.prototype.qb.call(this,t)},n.toString=function(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+Qi(this)};function jp(t,i,s,l){var u=s.length;if(!(4>u)){var c=l.measuredBounds,d=Math.max(1,c.width);c=c.height;for(var m=s[0],y=s[1],O,w,k,P,T,C,A=0,I=St(),E=2;E<u;E+=2)O=s[E],w=s[E+1],k=O-m,m=w-y,k===0&&(k=.001),P=m/k,T=Math.atan2(m,k),C=Math.sqrt(k*k+m*m),I.push([k,T,P,C]),A+=C,m=O,y=w;m=s[0],y=s[1],k=l.measuredBounds.width,l instanceof It&&(k-=l.strokeWidth),1>k&&(k=1),u=s=k,O=d/2,w=O!==0,E=0,C=I[E],k=C[0],T=C[1],P=C[2],C=C[3];for(var z=0;.1<=A;){if(z===0&&(w?(u=s,u-=O,A-=O,w=!1):u=s,u===0&&(u=1)),u>A){mt(I);return}u>C?(z=u-C,u=C):z=0;var B=Math.sqrt(u*u/(1+P*P));if(0>k&&(B=-B),m+=B,y+=P*B,t.translate(m,y),t.rotate(T),t.translate(-(d/2),-(c/2)),z===0&&l.hh(t,i),t.translate(d/2,c/2),t.rotate(-T),t.translate(-m,-y),A-=u,C-=u,z!==0){if(E++,E===I.length){mt(I);return}C=I[E],k=C[0],T=C[1],P=C[2],C=C[3],u=z}}mt(I)}}n.hh=function(t,i){var s=this.xc,l=this.Vi;if(s!==null||l!==null){var u=this.ua;if(u!==null){t.yc();var c=this.actualBounds,d=this.naturalBounds;l!==null&&gr(this,t,l,!0,!1,d,c);var m=this.part,y=this.ig;if(s===null||y!==0||m===null||!this.isPanelMain&&m.Qb()!==this||(y=m.type===nt.Link&&m instanceof Wt&&m.category==="Selection"&&m.adornedObject instanceof It&&m.adornedPart.Qb()===m.adornedObject?m.adornedObject.strokeWidth:0),y===0&&(s=null),s!==null&&y!==0&&(gr(this,t,s,!1,!1,d,c),t.lineWidth=y,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit),c=!1,m&&i.Gf("drawShadows")&&(c=m.isShadowed),t.Il===!1&&(c=!1),m=!0,s===null||l!==null&&l!=="transparent"||(m=!1),d=!1,y=this.strokeDashArray,y!==null&&(d=!0,t.js(y,this.strokeDashOffset)),u.type===lt.o)t.beginPath(),t.moveTo(u.startX,u.startY),t.lineTo(u.endX,u.endY),s!==null&&t.ik(),t.Se();else if(u.type===lt.u){var O=u.startX;y=u.startY;var w=u.endX,k=u.endY;u=Math.min(O,w);var P=Math.min(y,k);O=Math.abs(w-O),y=Math.abs(k-y),t.beginPath(),t.rect(u,P,O,y),l!==null&&t.ng(l),s!==null&&(m&&c&&yo(t),t.ik(),m&&c&&Oo(t)),t.Se()}else if(u.type===lt.F)O=u.startX,y=u.startY,w=u.endX,k=u.endY,u=Math.abs(w-O)/2,P=Math.abs(k-y)/2,O=Math.min(O,w)+u,y=Math.min(y,k)+P,t.beginPath(),t.moveTo(O,y-P),t.bezierCurveTo(O+Y.wg*u,y-P,O+u,y-Y.wg*P,O+u,y),t.bezierCurveTo(O+u,y+Y.wg*P,O+Y.wg*u,y+P,O,y+P),t.bezierCurveTo(O-Y.wg*u,y+P,O-u,y+Y.wg*P,O-u,y),t.bezierCurveTo(O-u,y-Y.wg*P,O-Y.wg*u,y-P,O,y-P),t.closePath(),l!==null&&t.ng(l),s!==null&&(m&&c&&yo(t),t.ik(),m&&c&&Oo(t)),t.Se();else if(u.type===lt.j)for(u=u.figures,y=u.length,P=0;P<y;P++){O=u.s[P],t.beginPath(),t.moveTo(O.startX,O.startY),w=O.segments.s,k=w.length;for(var T=null,C=0;C<k;C++){var A=w[C];switch(A.type){case qr:t.moveTo(A.endX,A.endY);break;case Pe:t.lineTo(A.endX,A.endY);break;case dr:t.bezierCurveTo(A.point1X,A.point1Y,A.point2X,A.point2Y,A.endX,A.endY);break;case _s:t.quadraticCurveTo(A.point1X,A.point1Y,A.endX,A.endY);break;case We:if(A.radiusX===A.radiusY){var I=Math.PI/180;t.arc(A.point1X,A.point1Y,A.radiusX,A.startAngle*I,(A.startAngle+A.sweepAngle)*I,0>A.sweepAngle,T!==null?T.endX:O.startX,T!==null?T.endY:O.startY)}else if(T=El(A,O),I=T.length,I===0)t.lineTo(A.centerX,A.centerY);else for(var E=0;E<I;E++){var z=T[E];E===0&&t.lineTo(z[0],z[1]),t.bezierCurveTo(z[2],z[3],z[4],z[5],z[6],z[7])}break;case ks:if(E=I=0,T!==null&&T.type===We){if(T=El(T,O),z=T.length,z===0){t.lineTo(A.endX,A.endY);break}T=T[z-1]||null,T!==null&&(I=T[6],E=T[7])}else I=T!==null?T.endX:O.startX,E=T!==null?T.endY:O.startY;if(T=jh(A,O,I,E),I=T.length,I===0){t.lineTo(A.endX,A.endY);break}for(E=0;E<I;E++)z=T[E],t.bezierCurveTo(z[2],z[3],z[4],z[5],z[6],z[7]);break;default:D("Segment not of valid type: "+A.type)}A.isClosed&&t.closePath(),T=A}w=O.isFilled,c?O.isShadowed?(w===!0&&l!=="transparent"&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&(w&&m&&yo(t),t.ik(),w&&m&&Oo(t))):(yo(t),w&&l!=="transparent"&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&t.ik(),Oo(t)):(w&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&t.ik()),t.Se(P)}if(d&&t.fs(),this.pathPattern!==null){if(s=this.pathPattern,s.measure(1/0,1/0),l=s.measuredBounds,s.arrange(0,0,l.width,l.height),c=this.geometry,t.save(),t.beginPath(),l=St(),c.type===lt.o)l.push(c.startX),l.push(c.startY),l.push(c.endX),l.push(c.endY),jp(t,i,l,s);else if(c.type===lt.j)for(c=c.figures.iterator;c.next();){for(m=c.value,l.length=0,l.push(m.startX),l.push(m.startY),d=m.startX,u=m.startY,y=d,P=u,O=m.segments.s,w=O.length,k=0;k<w;k++){switch(C=O[k],C.type){case qr:jp(t,i,l,s),l.length=0,l.push(C.endX),l.push(C.endY),d=C.endX,u=C.endY,y=d,P=u;break;case Pe:l.push(C.endX),l.push(C.endY),d=C.endX,u=C.endY;break;case dr:Y.Qe(d,u,C.point1X,C.point1Y,C.point2X,C.point2Y,C.endX,C.endY,.5,l),d=C.endX,u=C.endY;break;case _s:Y.ep(d,u,C.point1X,C.point1Y,C.endX,C.endY,.5,l),d=C.endX,u=C.endY;break;case We:if(A=El(C,m),T=A.length,T===0){l.push(C.centerX),l.push(C.centerY),d=C.centerX,u=C.centerY;break}for(I=0;I<T;I++)E=A[I],Y.Qe(d,u,E[2],E[3],E[4],E[5],E[6],E[7],.5,l),d=E[6],u=E[7];break;case ks:if(A=jh(C,m,d,u),T=A.length,T===0){l.push(C.endX),l.push(C.endY),d=C.endX,u=C.endY;break}for(I=0;I<T;I++)E=A[I],Y.Qe(d,u,E[2],E[3],E[4],E[5],E[6],E[7],.5,l),d=E[6],u=E[7];break;default:D("Segment not of valid type: "+C.type)}C.isClosed&&(l.push(y),l.push(P),jp(t,i,l,s))}jp(t,i,l,s)}else if(c.type===lt.u)l.push(c.startX),l.push(c.startY),l.push(c.endX),l.push(c.startY),l.push(c.endX),l.push(c.endY),l.push(c.startX),l.push(c.endY),l.push(c.startX),l.push(c.startY),jp(t,i,l,s);else if(c.type===lt.F){if(u=new vi,u.startX=c.endX,u.startY=(c.startY+c.endY)/2,d=new Jt(We),d.startAngle=0,d.sweepAngle=360,d.centerX=(c.startX+c.endX)/2,d.centerY=(c.startY+c.endY)/2,d.radiusX=Math.abs(c.startX-c.endX)/2,d.radiusY=Math.abs(c.startY-c.endY)/2,u.add(d),c=El(d,u),m=c.length,m===0)l.push(d.centerX),l.push(d.centerY);else for(d=u.startX,u=u.startY,y=0;y<m;y++)P=c[y],Y.Qe(d,u,P[2],P[3],P[4],P[5],P[6],P[7],.5,l),d=P[6],u=P[7];jp(t,i,l,s)}mt(l),t.restore(),t.Vc(!1)}}}},n.jk=function(t,i,s){return!vt.prototype.jk.call(this,t,i,s)||this.xc===null&&this.Vi===null||this.ua===null||this.pathPattern!==null||this.geometry.figures.length!==this.svg.getElementsByTagName("path").length?!1:(t.Hl=this.svg,this.hh(t,i),t.Hl=null,!0)},n.mk=function(t){return this.geometry!==null&&1<this.geometry.figures.length||this.pathPattern!==null?!0:vt.prototype.mk.call(this,t)},n.Fv=function(t,i){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",i);else{t=t.getElementsByTagName("path");for(var s=0;s<t.length;s++)t[s].setAttributeNS(null,"filter",i)}},n.ga=function(t,i){if(i===void 0&&(i=new F),t instanceof Tt){t.Nc()&&D("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var s=this.naturalBounds,l=this.strokeWidth;i.h(t.x*(s.width+l)-l/2+s.x+t.offsetX,t.y*(s.height+l)-l/2+s.y+t.offsetY)}else i.set(t);return this.oe.Ga(i),i},n.ni=function(t){t===void 0&&(t=new J);var i=this.naturalBounds,s=this.oe;i=J.allocAt(i.x,i.y,i.width,i.height);var l=this.strokeWidth;return i.Bc(l/2,l/2),l=F.allocAt(i.x,i.y).transform(s),t.h(l.x,l.y,0,0),l.h(i.right,i.y).transform(s),wi(t,l.x,l.y,0,0),l.h(i.right,i.bottom).transform(s),wi(t,l.x,l.y,0,0),l.h(i.x,i.bottom).transform(s),wi(t,l.x,l.y,0,0),J.free(i),F.free(l),t},n.gh=function(t,i){var s=this.geometry;if(s===null||this.fill===null&&this.stroke===null)return!1;var l=s.bounds,u=this.strokeWidth/2;s.type!==lt.o||i||(u+=2);var c=J.alloc();if(c.assign(l),c.Bc(u+2,u+2),!c.ca(t))return J.free(c),!1;if(l=u+1e-4,s.type===lt.o)return this.stroke===null||(l=(s.endX-s.startX)*(t.x-s.startX)+(s.endY-s.startY)*(t.y-s.startY),0>(s.startX-s.endX)*(t.x-s.endX)+(s.startY-s.endY)*(t.y-s.endY)||0>l)?!1:(J.free(c),Y.ac(s.startX,s.startY,s.endX,s.endY,u,t.x,t.y));if(s.type===lt.u){i=s.startX;var d=s.startY,m=s.endX;if(s=s.endY,c.x=Math.min(i,m),c.y=Math.min(d,s),c.width=Math.abs(m-i),c.height=Math.abs(s-d),this.fill===null){if(c.Bc(-l,-l),c.ca(t))return J.free(c),!1;c.Bc(l,l)}return this.stroke!==null&&c.Bc(u,u),t=c.ca(t),J.free(c),t}if(s.type===lt.F){d=s.startX,u=s.startY,m=s.endX;var y=s.endY;if(s=Math.min(d,m),i=Math.min(u,y),d=Math.abs(m-d)/2,u=Math.abs(y-u)/2,s=t.x-(s+d),i=t.y-(i+u),this.fill===null){if(d-=l,u-=l,0>=d||0>=u||1>=s*s/(d*d)+i*i/(u*u))return J.free(c),!1;d+=l,u+=l}return this.stroke!==null&&(d+=l,u+=l),J.free(c),0>=d||0>=u?!1:1>=s*s/(d*d)+i*i/(u*u)}if(s.type===lt.j)return J.free(c),this.fill===null?KL(s,t.x,t.y,u):gb(s,t,u,1<this.strokeWidth,i);D("Unknown Geometry type: "+s.type)},n.Wl=function(t,i,s,l){var u=this.desiredSize,c=this.ig;if(t=Math.max(t,0),i=Math.max(i,0),this.Rd!==null)var d=this.geometry.bounds;else{var m=this.figure,y=IT[m];if(y===void 0){var O=Y.Ze[m];typeof O=="string"&&(O=Y.Ze[O]),typeof O=="function"?(y=O(null,100,100),IT[m]=y):D("Unsupported Figure: "+m)}d=y.bounds}m=d.width,y=d.height,O=d.width;var w=d.height;switch(Ys(this,!0)){case je:l=s=0;break;case $e:O=Math.max(t-c,0),w=Math.max(i-c,0);break;case ji:O=Math.max(t-c,0),l=0;break;case Ii:s=0,w=Math.max(i-c,0)}isFinite(u.width)&&(O=u.width),isFinite(u.height)&&(w=u.height);var k=this.maxSize,P=this.minSize;switch(s=Math.max(s-c,P.width),l=Math.max(l-c,P.height),O=Math.min(k.width,O),w=Math.min(k.height,w),O=isFinite(O)?Math.max(s,O):Math.max(m,s),w=isFinite(w)?Math.max(l,w):Math.max(y,l),s=DT(this),s){case je:break;case $e:m=O,y=w;break;case Hr:s=Math.min(O/m,w/y),isFinite(s)||(s=1),m*=s,y*=s;break;default:D(s+" is not a valid geometryStretch.")}this.Rd!==null?(m===0&&(m=.001),y===0&&(y=.001),s=this.Rd!==null?this.Rd:this.ua,d=s.bounds,l=m/d.width,d=y/d.height,isFinite(l)||(l=1),isFinite(d)||(d=1),this.ua=l===1&&d===1?s:s.copy().scale(l,d)):this.ua!==null&&Y.$(this.ua.Rk,t-c)&&Y.$(this.ua.Qk,i-c)||(this.ua=It.makeGeometry(this,m,y)),d=this.ua.bounds,t===1/0||i===1/0?this.Ge(d.x-c/2,d.y-c/2,t===0&&m===0?0:d.width+c,i===0&&y===0?0:d.height+c):this.Ge(-(c/2),-(c/2),O+c,w+c),u.w()?(O=u.width,w=u.height,O=Math.min(k.width,O),w=Math.min(k.height,w),O=Math.max(P.width,O),w=Math.max(P.height,w),this.fc.h(0,0,O,w)):this.fc.assign(d)};function DT(t){var i=t.geometryStretch;return t.Rd!==null?i===Qr?$e:i:i===Qr?IT[t.figure].defaultStretch:i}n.eh=function(t,i,s,l){cT(this,t,i,s,l)},n.rs=function(t,i,s){return this.Rj(t.x,t.y,i.x,i.y,s)},n.Rj=function(t,i,s,l,u){var c=this.transform,d=1/(c.m11*c.m22-c.m12*c.m21),m=c.m22*d,y=-c.m12*d,O=-c.m21*d,w=c.m11*d,k=d*(c.m21*c.dy-c.m22*c.dx),P=d*(c.m12*c.dx-c.m11*c.dy);c=t*m+i*O+k,d=t*y+i*w+P,m=s*m+l*O+k,y=s*y+l*w+P,k=this.ig/2,O=this.ua,O===null&&(this.measure(1/0,1/0),O=this.ua);var T=O.bounds;if(w=!1,O.type===lt.o)if(1.5>=this.strokeWidth)w=Y.Ve(O.startX,O.startY,O.endX,O.endY,c,d,m,y,u);else{if(O.startX===O.endX?(l=k,w=0):(i=(O.endY-O.startY)/(O.endX-O.startX),w=k/Math.sqrt(1+i*i),l=w*i),i=St(),t=new F,Y.Ve(O.startX+l,O.startY+w,O.endX+l,O.endY+w,c,d,m,y,t)&&i.push(t),t=new F,Y.Ve(O.startX-l,O.startY-w,O.endX-l,O.endY-w,c,d,m,y,t)&&i.push(t),t=new F,Y.Ve(O.startX+l,O.startY+w,O.startX-l,O.startY-w,c,d,m,y,t)&&i.push(t),t=new F,Y.Ve(O.endX+l,O.endY+w,O.endX-l,O.endY-w,c,d,m,y,t)&&i.push(t),m=i.length,m===0)return mt(i),!1;for(w=!0,y=1/0,l=0;l<m;l++)t=i[l],s=(t.x-c)*(t.x-c)+(t.y-d)*(t.y-d),s<y&&(y=s,u.x=t.x,u.y=t.y);mt(i)}else if(O.type===lt.u)w=Y.Ff(T.x-k,T.y-k,T.x+T.width+k,T.y+T.height+k,c,d,m,y,u);else if(O.type===lt.F){i=J.allocAt(T.x,T.y,T.width,T.height).Bc(k,k);t:if(i.width===0)w=Y.Ve(i.x,i.y,i.x,i.y+i.height,c,d,m,y,u);else if(i.height===0)w=Y.Ve(i.x,i.y,i.x+i.width,i.y,c,d,m,y,u);else{if(t=i.width/2,O=i.height/2,l=i.x+t,w=i.y+O,s=9999,c!==m&&(s=(d-y)/(c-m)),9999>Math.abs(s)){if(y=d-w-s*(c-l),0>t*t*s*s+O*O-y*y){u.x=NaN,u.y=NaN,w=!1;break t}k=Math.sqrt(t*t*s*s+O*O-y*y),m=(-(t*t*s*y)+t*O*k)/(O*O+t*t*s*s)+l,t=(-(t*t*s*y)-t*O*k)/(O*O+t*t*s*s)+l,O=s*(m-l)+y+w,y=s*(t-l)+y+w,Math.abs((c-m)*(c-m))+Math.abs((d-O)*(d-O))<Math.abs((c-t)*(c-t))+Math.abs((d-y)*(d-y))?(u.x=m,u.y=O):(u.x=t,u.y=y)}else{if(m=O*O,y=c-l,m-=m/(t*t)*y*y,0>m){u.x=NaN,u.y=NaN,w=!1;break t}y=Math.sqrt(m),m=w+y,y=w-y,Math.abs(m-d)<Math.abs(y-d)?(u.x=c,u.y=m):(u.x=c,u.y=y)}w=!0}J.free(i)}else if(O.type===lt.j){P=F.alloc();var C=m-c,A=y-d,I=C*C+A*A,E=c,z=d;if(0<I&&T.contains(E,z)&&(P.x=E,P.y=z,this.ca(P)))for(C!==0&&.5>Math.abs(C)?(A*=.5/C,C=.5):A!==0&&.5>Math.abs(A)&&(C*=.5/A,A=.5),E-=C,z-=A;T.contains(E,z);)E-=C,z-=A;for(u.x=m,u.y=y,A=0;A<O.figures.count;A++){var B=O.figures.s[A],_=B.isFilled?E:c,Z=B.isFilled?z:d,H=B.segments;T=B.startX,C=B.startY;for(var at=T,pt=C,gt=0;gt<H.count;gt++){var ot=H.s[gt],et=ot.type,Lt=ot.endX,Qt=ot.endY,Gt=!1;switch(et){case qr:at=Lt,pt=Qt;break;case Pe:Gt=M1(T,C,Lt,Qt,_,Z,m,y,P);break;case dr:Gt=Y.Fo(T,C,ot.point1X,ot.point1Y,ot.point2X,ot.point2Y,Lt,Qt,_,Z,m,y,.6,P);break;case _s:Gt=Y.Fo(T,C,T+2/3*(ot.point1X-T),C+2/3*(ot.point1Y-C),Lt+2/3*(ot.point1X-Lt),Qt+2/3*(ot.point1Y-Qt),Lt,Qt,_,Z,m,y,.6,P);break;case We:case ks:et=ot.type===We?El(ot,B):jh(ot,B,T,C);var ce=et.length;if(ce===0){Gt=M1(T,C,ot.type===We?ot.centerX:ot.endX,ot.type===We?ot.centerY:ot.endY,_,Z,m,y,P);break}for(Qt=null,Lt=0;Lt<ce;Lt++){if(Qt=et[Lt],Lt===0&&M1(T,C,Qt[0],Qt[1],_,Z,m,y,P)){var hi=C1(_,Z,P,I,u);hi<I&&(I=hi,w=!0)}Y.Fo(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6],Qt[7],_,Z,m,y,.6,P)&&(hi=C1(_,Z,P,I,u),hi<I&&(I=hi,w=!0))}Lt=Qt[6],Qt=Qt[7];break;default:D("Unknown Segment type: "+et)}T=Lt,C=Qt,Gt&&(Gt=C1(_,Z,P,I,u),Gt<I&&(I=Gt,w=!0)),ot.isClosed&&(Lt=at,Qt=pt,M1(T,C,Lt,Qt,_,Z,m,y,P)&&(ot=C1(_,Z,P,I,u),ot<I&&(I=ot,w=!0)))}}c=s-t,d=l-i,m=Math.sqrt(c*c+d*d),m!==0&&(c/=m,d/=m),u.x-=c*k,u.y-=d*k,F.free(P)}else D("Unknown Geometry type: "+O.type);return w?(this.transform.Ga(u),!0):!1};function C1(t,i,s,l,u){return t=s.x-t,i=s.y-i,i=t*t+i*i,i<l?(u.x=s.x,u.y=s.y,i):l}function M1(t,i,s,l,u,c,d,m,y){if(Y.$(t,s)&&Y.$(i,l)||Y.$(u,d)&&Y.$(c,m))return!1;var O=!1,w=(u-d)*(i-l)-(c-m)*(t-s);return w===0?!1:(y.x=((u*m-c*d)*(t-s)-(u-d)*(t*l-i*s))/w,y.y=((u*m-c*d)*(i-l)-(c-m)*(t*l-i*s))/w,(t>s?t-s:s-t)<(i>l?i-l:l-i)?(t=i<l?i:l,i=i<l?l:i,(y.y>t||Y.$(y.y,t))&&(y.y<i||Y.$(y.y,i))&&(O=!0)):(i=t<s?t:s,t=t<s?s:t,(y.x>i||Y.$(y.x,i))&&(y.x<t||Y.$(y.x,t))&&(O=!0)),O)}n.fh=function(t,i){if(i===void 0)return t.Re(this.actualBounds);var s=this.ua;s===null&&(this.measure(1/0,1/0),s=this.ua),s=s.bounds;var l=this.strokeWidth/2,u=!1,c=F.alloc();return c.h(s.x-l,s.y-l),t.ca(i.Ga(c))&&(c.h(s.x-l,s.bottom+l),t.ca(i.Ga(c))&&(c.h(s.right+l,s.bottom+l),t.ca(i.Ga(c))&&(c.h(s.right+l,s.y-l),t.ca(i.Ga(c))&&(u=!0)))),F.free(c),u},n.Yc=function(t,i){if(this.fh(t,i)||i===void 0&&(i=this.transform,t.Re(this.actualBounds)))return!0;var s=Bt.alloc();s.set(i),s.Uj();var l=t.left,u=t.right,c=t.top;t=t.bottom;var d=F.alloc();if(d.h(l,c),s.Ga(d),this.gh(d,!0)||(d.h(u,c),s.Ga(d),this.gh(d,!0))||(d.h(l,t),s.Ga(d),this.gh(d,!0))||(d.h(u,t),s.Ga(d),this.gh(d,!0)))return F.free(d),!0;var m=F.alloc(),y=F.alloc();return s.set(i),s.ev(this.transform),s.Uj(),m.x=u,m.y=c,m.transform(s),d.x=l,d.y=c,d.transform(s),i=!1,_h(this,d,m,y)?i=!0:(d.x=u,d.y=t,d.transform(s),_h(this,d,m,y)?i=!0:(m.x=l,m.y=t,m.transform(s),_h(this,d,m,y)?i=!0:(d.x=l,d.y=c,d.transform(s),_h(this,d,m,y)&&(i=!0)))),F.free(d),Bt.free(s),F.free(m),F.free(y),i};function _h(t,i,s,l){if(!t.rs(i,s,l))return!1;t=i.x,i=i.y;var u=s.x,c=s.y;return s=l.x,l=l.y,t===u?(i<c?(t=i,i=c):t=c,l>=t&&l<=i):(t<u?(l=t,t=u):l=u,s>=l&&s<=t)}n.vx=function(t,i,s){function l(I,E){for(var z=I.length,B=0;B<z;B+=2)if(E.zd(I[B],I[B+1])>u)return!0;return!1}if(s&&this.fill!==null&&this.gh(t,!0))return!0;var u=t.Bf(i),c=u;if(1.5<this.strokeWidth&&(u=this.strokeWidth/2+Math.sqrt(u),u*=u),i=this.ua,i===null&&(this.measure(1/0,1/0),i=this.ua,i===null))return!1;if(!s){var d=i.bounds,m=d.x,y=d.y,O=d.x+d.width;if(d=d.y+d.height,mo(t.x,t.y,m,y)<=u&&mo(t.x,t.y,O,y)<=u&&mo(t.x,t.y,m,d)<=u&&mo(t.x,t.y,O,d)<=u)return!0}if(m=i.startX,y=i.startY,O=i.endX,d=i.endY,i.type===lt.o){if(s=(m-O)*(t.x-O)+(y-d)*(t.y-d),Di(t.x,t.y,m,y,O,d)<=(0<=(O-m)*(t.x-m)+(d-y)*(t.y-y)&&0<=s?u:c))return!0}else{if(i.type===lt.u)return i=!1,s&&(i=Di(t.x,t.y,m,y,m,d)<=u||Di(t.x,t.y,m,y,O,y)<=u||Di(t.x,t.y,O,y,O,d)<=u||Di(t.x,t.y,m,d,O,d)<=u),i;if(i.type===lt.F){i=t.x-(m+O)/2,c=t.y-(y+d)/2;var w=Math.abs(O-m)/2,k=Math.abs(d-y)/2;if(w===0||k===0)return Di(t.x,t.y,m,y,O,d)<=u;if(s){if(t=Y.ez(w,k,i,c),t*t<=u)return!0}else return!(mo(i,c,-w,0)>=u||mo(i,c,0,-k)>=u||mo(i,c,0,k)>=u||mo(i,c,w,0)>=u)}else if(i.type===lt.j){if(O=i.bounds,c=O.x,m=O.y,y=O.x+O.width,O=O.y+O.height,t.x>y&&t.x<c&&t.y>O&&t.y<m&&Di(t.x,t.y,c,m,c,O)>u&&Di(t.x,t.y,c,m,y,m)>u&&Di(t.x,t.y,y,O,c,O)>u&&Di(t.x,t.y,y,O,y,m)>u)return!1;if(c=Math.sqrt(u),s){if(this.fill===null?KL(i,t.x,t.y,c):gb(i,t,c,!0,!1))return!0}else{for(s=i.figures,i=0;i<s.count;i++){if(c=s.s[i],d=c.startX,w=c.startY,t.zd(d,w)>u)return!1;for(m=c.segments.s,y=m.length,O=0;O<y;O++)switch(k=m[O],k.type){case qr:case Pe:if(d=k.endX,w=k.endY,t.zd(d,w)>u)return!1;break;case dr:var P=St();if(Y.Qe(d,w,k.point1X,k.point1Y,k.point2X,k.point2Y,k.endX,k.endY,.8,P),d=l(P,t),mt(P),d||(d=k.endX,w=k.endY,t.zd(d,w)>u))return!1;break;case _s:if(P=St(),Y.ep(d,w,k.point1X,k.point1Y,k.endX,k.endY,.8,P),d=l(P,t),mt(P),d||(d=k.endX,w=k.endY,t.zd(d,w)>u))return!1;break;case We:case ks:P=k.type===We?El(k,c):jh(k,c,d,w);var T=P.length;if(T===0){if(d=k.type===We?k.centerX:k.endX,w=k.type===We?k.centerY:k.endY,t.zd(d,w)>u)return!1;break}k=null;for(var C=St(),A=0;A<T;A++)if(k=P[A],C.length=0,Y.Qe(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],.8,C),l(C,t))return mt(C),!1;mt(C),k!==null&&(d=k[6],w=k[7]);break;default:D("Unknown Segment type: "+k.type)}}return!0}}}return!1},n.rc=function(){this.ua=null},n.kq=function(){return this.ig};function Q$(t){var i=t.diagram;i!==null&&i.undoManager.isUndoingRedoing||(t.segmentOrientation=Bp,t.toArrow!=="None"?(t.segmentIndex=-1,t.alignmentFocus=Gn):t.fromArrow!=="None"&&(t.segmentIndex=0,t.alignmentFocus=new Tt(1-Gn.x,Gn.y)))}It.makeGeometry=function(t,i,s){if(t.toArrow!=="None")var l=el[t.toArrow];else t.fromArrow!=="None"?l=el[t.fromArrow]:(l=Y.Ze[t.figure],typeof l=="string"&&(l=Y.Ze[l]),l===void 0&&D("Unknown Shape.figure: "+t.figure),l=l(t,i,s),l.Rk=i,l.Qk=s);if(l===null){var u=Y.Ze.Rectangle;typeof u=="function"&&(l=u(t,i,s))}return l};function A$(t){var i=el[t];if(i===void 0){var s=t.toLowerCase();if(s==="none")return"None";if(i=el[s],i===void 0){var l=null,u;for(u in Y.vm)if(u.toLowerCase()===s){l=u;break}if(l!==null)return t=lt.parse(Y.vm[l],!1),el[l]=t,s!==l&&(el[s]=l),l}}return typeof i=="string"?i:i instanceof lt?t:null}S.Object.defineProperties(It.prototype,{geometry:{get:function(){return this.ua!==null?this.ua:this.Rd},set:function(t){var i=this.ua,s=this.Rd;if(i!==t){t!==null?this.Rd=this.ua=t.freeze():this.Rd=this.ua=null;var l=this.part;l!==null&&(l.ag=NaN),this.v(),this.g("geometry",i||s,t),Mf(this)&&(t=this.part,t!==null&&Dh(this,t,"geometryString"))}}},geometryString:{get:function(){return this.geometry===null?"":this.geometry.toString()},set:function(t){t=lt.parse(t);var i=t.normalize();this.geometry=t,this.position=t=F.allocAt(-i.x,-i.y),F.free(t)}},isGeometryPositioned:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.v(),this.g("isGeometryPositioned",i,t))}},fill:{get:function(){return this.Vi},set:function(t){var i=this.Vi;i!==t&&(t!==null&&Af(t,"Shape.fill"),t instanceof ie&&t.freeze(),this.Vi=t,this.N(),this.g("fill",i,t))}},stroke:{get:function(){return this.xc},set:function(t){var i=this.xc;i!==t&&(t!==null&&Af(t,"Shape.stroke"),t instanceof ie&&t.freeze(),this.xc=t,this.N(),this.g("stroke",i,t))}},strokeWidth:{get:function(){return this.ig},set:function(t){var i=this.ig;if(i!==t)if(0<=t){this.ig=t,this.v();var s=this.part;s!==null&&(s.ag=NaN),this.g("strokeWidth",i,t)}else W(t,"value >= 0",It,"strokeWidth:value")}},strokeCap:{get:function(){return this.Na!==null?this.Na.Hr:"butt"},set:function(t){var i=this.strokeCap;i!==t&&(typeof t!="string"||t!=="butt"&&t!=="round"&&t!=="square"?W(t,'"butt", "round", or "square"',It,"strokeCap"):(Xh(this),this.Na.Hr=t,this.N(),this.g("strokeCap",i,t)))}},strokeJoin:{get:function(){return this.Na!==null?this.Na.Ir:"miter"},set:function(t){var i=this.strokeJoin;i!==t&&(typeof t!="string"||t!=="miter"&&t!=="bevel"&&t!=="round"?W(t,'"miter", "bevel", or "round"',It,"strokeJoin"):(Xh(this),this.Na.Ir=t,this.N(),this.g("strokeJoin",i,t)))}},strokeMiterLimit:{get:function(){return this.Na!==null?this.Na.Jr:10},set:function(t){var i=this.strokeMiterLimit;if(i!==t&&1<=t){Xh(this),this.Na.Jr=t,this.N();var s=this.part;s!==null&&(s.ag=NaN),this.g("strokeMiterLimit",i,t)}}},strokeDashArray:{get:function(){return this.Yg},set:function(t){var i=this.Yg;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];0<=c&&isFinite(c)||D("strokeDashArray:value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.Yg=t,this.N(),this.g("strokeDashArray",i,t)}}},strokeDashOffset:{get:function(){return this.Na!==null?this.Na.vj:0},set:function(t){var i=this.strokeDashOffset;i!==t&&0<=t&&(Xh(this),this.Na.vj=t,this.N(),this.g("strokeDashOffset",i,t))}},figure:{get:function(){return this.bn},set:function(t){var i=this.bn;if(i!==t){var s=Y.Ze[t];typeof s=="function"?s=t:(s=Y.Ze[t.toLowerCase()])||D("Unknown Shape.figure: "+t),i!==s&&(t=this.part,t!==null&&(t.ag=NaN),this.bn=s,this.Rd=null,this.rc(),this.v(),this.g("figure",i,s))}}},toArrow:{get:function(){return this.Ua!==null?this.Ua.V:"None"},set:function(t){var i=this.toArrow;if(t===!0?t="Standard":t===!1&&(t=""),i!==t){var s=A$(t);s===null?D("Unknown Shape.toArrow: "+t):i!==s&&(this.Ua===null&&(this.Ua=new ju),this.Ua.V=s,this.Rd=null,this.rc(),this.v(),Q$(this),this.g("toArrow",i,s))}}},fromArrow:{get:function(){return this.Ua!==null?this.Ua.j:"None"},set:function(t){var i=this.fromArrow;if(t===!0?t="Standard":t===!1&&(t=""),i!==t){var s=A$(t);s===null?D("Unknown Shape.fromArrow: "+t):i!==s&&(this.Ua===null&&(this.Ua=new ju),this.Ua.j=s,this.Rd=null,this.rc(),this.v(),Q$(this),this.g("fromArrow",i,s))}}},spot1:{get:function(){return this.Na!==null?this.Na.fg:Yi},set:function(t){var i=this.spot1;i.D(t)||(t=t.J(),Xh(this),this.Na.fg=t,this.v(),this.g("spot1",i,t))}},spot2:{get:function(){return this.Na!==null?this.Na.gg:Yi},set:function(t){var i=this.spot2;i.D(t)||(t=t.J(),Xh(this),this.Na.gg=t,this.v(),this.g("spot2",i,t))}},parameter1:{get:function(){return this.Vn},set:function(t){var i=this.Vn;i!==t&&(this.Vn=t,this.rc(),this.v(),this.g("parameter1",i,t))}},parameter2:{get:function(){return this.Wn},set:function(t){var i=this.Wn;i!==t&&(this.Wn=t,this.rc(),this.v(),this.g("parameter2",i,t))}},naturalBounds:{get:function(){return this.fc}},pathPattern:{get:function(){return this.Na!==null?this.Na.br:null},set:function(t){var i=this.pathPattern;i!==t&&(Xh(this),this.Na.br=t,this.N(),this.g("pathPattern",i,t))}},geometryStretch:{get:function(){return this.Na!==null?this.Na.jq:Qr},set:function(t){var i=this.geometryStretch;i!==t&&(Xh(this),this.Na.jq=t,this.v(),this.g("geometryStretch",i,t))}},interval:{get:function(){return this.fa!==null?this.fa.Sk:1},set:function(t){var i=this.interval;if(t=Math.round(t),i!==t&&t!==0&&isFinite(t)){this.fa===null&&(this.fa=new il),this.fa.Sk=t;var s=this.diagram;s!==null&&this.panel===s.grid&&Ca(s),this.v(),s=this.panel,s!==null&&(s.graduatedIntervals=null),this.g("interval",i,t)}}},graduatedStart:{get:function(){return this.fa!==null?this.fa.u:0},set:function(t){var i=this.graduatedStart;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new il),this.fa.u=t,this.v(),this.g("graduatedStart",i,t))}},graduatedEnd:{get:function(){return this.fa!==null?this.fa.j:1},set:function(t){var i=this.graduatedEnd;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new il),this.fa.j=t,this.v(),this.g("graduatedEnd",i,t))}},graduatedSkip:{get:function(){return this.fa!==null?this.fa.o:null},set:function(t){var i=this.graduatedSkip;i!==t&&(this.fa===null&&(this.fa=new il),this.fa.o=t,this.v(),this.g("graduatedSkip",i,t))}}}),It.prototype.intersectsRect=It.prototype.Yc,It.prototype.containedInRect=It.prototype.fh,It.prototype.getNearestIntersectionPoint=It.prototype.rs,It.prototype.getDocumentBounds=It.prototype.ni,It.prototype.getDocumentPoint=It.prototype.ga;var el=new le,IT=new le;It.className="Shape",It.getFigureGenerators=function(){var t=new jt,i;for(i in Y.Ze)i!==i.toLowerCase()&&t.add(i,Y.Ze[i]);return t.freeze(),t},It.defineFigureGenerator=function(t,i){var s=t.toLowerCase(),l=Y.Ze;l[t]=i,l[s]=t},It.getArrowheadGeometries=function(){var t=new jt;for(l in Y.vm)if(el[l]===void 0){var i=lt.parse(Y.vm[l],!1);el[l]=i,i=l.toLowerCase(),i!==l&&(el[i]=l)}for(var s in el)if(s!==s.toLowerCase()){var l=el[s];l instanceof lt&&t.add(s,l)}return t.freeze(),t},It.defineArrowheadGeometry=function(t,i){var s=null;typeof i=="string"?s=lt.parse(i,!1):s=i,i=t.toLowerCase(),i!=="none"&&t!==i||D("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var l=el;l[t]=s,l[i]=t};function FT(){this.pc=!1,this.Hr="butt",this.Ir="miter",this.Jr=10,this.vj=0,this.br=null,this.jq=Qr,this.gg=this.fg=Yi}FT.prototype.copy=function(){var t=new FT;return t.Hr=this.Hr,t.Ir=this.Ir,t.Jr=this.Jr,t.vj=this.vj,t.br=this.br,t.jq=this.jq,t.fg=this.fg.J(),t.gg=this.gg.J(),t};function fe(t,i){return vt.call(this),E1||(Mn=bs?new Kr(null).context:null,E1=!0),this.l|=2097152,this.gc="",this.xc="black",this.Ae="13px sans-serif",this.Lq=this.Db=this.Gc=0,this.da=this.fa=this.Hm=null,this.Ih=0,this.df=null,this.Le=0,this.ze=this.Sb=this.Rc=null,typeof t=="string"?this.text=t:t&&Object.assign(this,t),i&&Object.assign(this,i),this}v(fe,vt),fe.prototype.cloneProtected=function(t){vt.prototype.cloneProtected.call(this,t),t.gc=this.gc,t.xc=this.xc,t.Ae=this.Ae,t.Gc=this.Gc,t.Db=this.Db,t.Lq=this.Lq,t.Hm=this.Hm,this.fa!==null&&(t.fa=this.fa.copy()),this.da!==null&&(t.da=this.da.pc?this.da:this.da.copy()),t.Ih=this.Ih,t.df=this.df,t.Le=this.Le,t.Rc=this.Rc,t.Sb=this.Sb,t.ze=this.ze};function xo(t){t.da===null?t.da=new ZT:t.da.pc&&(t.da=t.da.copy())}n=fe.prototype,n.th=function(){vt.prototype.th.call(this),this.da!==null&&(this.da.pc=!0)};function j$(t,i){t.l=i.l|6144,t.pb=i.opacity,t.Ma=i.background,t.areaBackground=i.areaBackground,t.jd=i.desiredSize.J(),t.minSize=i.minSize.J(),t.maxSize=i.maxSize.J(),i.Mb!==null?t.Mb=i.Mb.copy():t.Mb=null,t.Ca=i.scale,t.Lb=i.angle,t.stretch=i.stretch,t.Kg=i.margin.J(),t.Kb=i.alignment.J(),t.rk=i.alignmentFocus.J(),t.segmentFraction=i.segmentFraction,t.segmentOffset=i.segmentOffset.J(),t.segmentOrientation=i.segmentOrientation,i.tb!==null&&(t.tb=i.tb.copy()),t.shadowVisible=i.shadowVisible,t.gc=i.gc,t.xc=i.xc,t.Ae=i.Ae,t.fa!==null&&(t.fa=i.fa.copy()),i.da!==null&&(t.da=i.da.pc?i.da:i.da.copy()),t.Ih=i.Ih}n.qb=function(t){t.classType===fe?this.wrap=t:vt.prototype.qb.call(this,t)},n.toString=function(){return 22<this.gc.length?'TextBlock("'+this.gc.substring(0,20)+'"...)':'TextBlock("'+this.gc+'")'},n.v=function(){vt.prototype.v.call(this)},n.hh=function(t,i){if(this.xc!==null&&this.gc.length!==0&&this.Ae!==null){var s=this.naturalBounds,l=this.actualBounds,u=s.width,c=s.height,d=Vy(this),m=t.textAlign=this.textAlign,y=i.un;m==="start"?m=y?"right":"left":m==="end"&&(m=y?"left":"right"),y=this.isUnderline;var O=this.isStrikethrough;gr(this,t,this.xc,!0,!1,s,l),(y||O)&&gr(this,t,this.xc,!1,!1,s,l),l=0,s=!1;var w=this.oe,k=w.dx-(d*w.m21+w.dx);w=w.dy-(d*w.m22+w.dy);var P=i.scale;switch(8>(k*k+w*w)*P*P&&(s=!0),i.ib!==t&&(s=!1),i.ib instanceof Kn&&(s=!1),i.Gf("textGreeking")===!1&&(s=!1),i=this.spacingAbove,k=this.spacingBelow,this.flip){case wp:t.translate(u,0),t.scale(-1,1);break;case xp:t.translate(0,c),t.scale(1,-1);break;case Sp:t.translate(u,c),t.scale(-1,-1)}if(t.yc(),w=this.Gc,P=(i+d+k)*w,c>P&&(l=this.verticalAlignment,l=l.y*c-l.y*P+l.offsetY),w===1&&this.ze!==null)k=this.Db,k>u&&(k=u),this.Nj(this.ze,t,0,l+i,u,d,k,s,m,y,O);else if(this.Rc!==null&&this.Sb!==null)for(P=0;P<w;P++){var T=this.Rc[P];T>u&&(T=u),l+=i,this.Nj(this.Sb[P],t,0,l,u,d,T,s,m,y,O),l+=d+k}switch(this.flip){case wp:t.scale(-1,1),t.translate(-u,0);break;case xp:t.scale(1,-1),t.translate(0,-c);break;case Sp:t.scale(-1,-1),t.translate(-u,-c)}}},n.Nj=function(t,i,s,l,u,c,d,m,y,O,w){var k=0;if(m)y==="left"?k=0:y==="right"?k=u-d:y==="center"&&(k=(u-d)/2),i.fillRect(s+k,l+.25*c,d,1);else{if(y==="left"?k=0:y==="right"?k=u:y==="center"&&(k=u/2),u=N1!==null?N1(this,c):.75*c,i.fillText(t,s+k,l+u),t=c/20|0,t===0&&(t=1),y==="right"?k-=d:y==="center"&&(k-=d/2),O){m=Q1!==null?Q1(this,c):.8*c,y=s+k,O=l+m,u=s+k+d,m=l+m;var P=t;i.beginPath(),i.lineWidth=P,i.moveTo(y,O),i.lineTo(u,m),i.stroke(),i.Se(),i instanceof Kn&&i.ad.classList.add("gojs-td")}w&&(w=l+c-c/2.2|0,t%2!==0&&(w+=.5),l=s+k,c=w,s=s+k+d,d=w,k=t,i.beginPath(),i.lineWidth=k,i.moveTo(l,c),i.lineTo(s,d),i.stroke(),i.Se(),i instanceof Kn&&i.ad.classList.add("gojs-td"))}},n.jk=function(t,i,s){if(!vt.prototype.jk.call(this,t,i,s))return!1;if(gr(this,t,this.xc,!0,!1,this.naturalBounds,this.actualBounds),s){if(this.svg.getElementsByTagName("text").length===0)return!0;for(i=this.svg.getElementsByClassName("gojs-td"),s=0;s<i.length;s++)f$(t,i[s],!1)}else i=this.svg,i.innerHTML=this.text,f$(t,i,!0);return!0},n.mk=function(t){return 1<this.lineCount||this.isUnderline||this.isStrikethrough?!0:vt.prototype.mk.call(this,t)},n.Fv=function(t,i){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",i);else{t=t.getElementsByTagName("text");for(var s=0;s<t.length;s++)t[s].setAttributeNS(null,"filter",i)}},n.Wl=function(t,i,s,l){var u=this.Gc;this.Ih=t,this.l&=-16777217;var c=this.Ae;Mn!==null&&$$!==c&&($$=Mn.font=c),this.Db=this.Le=0,this.ze=this.Sb=this.Rc=this.df=null;var d;if(isNaN(this.desiredSize.width)){if(c=this.gc.replace(/\r\n/g,`
`).replace(/\r/g,`
`),c.length===0)c=8;else if(this.isMultiline){for(var m=d=0,y=!1;!y;){var O=c.indexOf(`
`,m);O===-1&&(O=c.length,y=!0),m=c.substr(m,O-m),this.formatting===Lp&&(m=m.trim()),d=Math.max(d,Ms(m)),m=O+1}c=d}else d=c.indexOf(`
`,0),0<=d&&(c=c.substr(0,d)),c=Ms(c);c=Math.min(c,t/this.scale)}else c=this.desiredSize.width;if(this.panel!==null&&(c=Math.min(c,this.panel.maxSize.width)),d=L$(this,c),isNaN(this.desiredSize.height)?d=Math.min(d,i/this.scale):d=this.desiredSize.height,y=d,this.Db!==0&&this.Rc!==null&&this.Sb!==null&&this.overflow===zy&&(i=this.Ae,i=this.overflow===zy?R$(i):0,O=this.spacingAbove+this.spacingBelow,O=Math.max(0,Vy(this)+O),y=Math.min(this.maxLines-1,Math.max(Math.floor(y/O+.01)-1,0)),!(y+1>=this.Sb.length))){for(this.l|=16777216,O=this.Sb[y],i=Math.max(1,t-i);Ms(O)>i&&1<O.length;)O=O.substr(0,O.length-1);O+=By,i=Ms(O),this.Sb[y]=O,this.Sb=this.Sb.slice(0,y+1),this.Rc[y]=i,this.Rc=this.Rc.slice(0,y+1),this.Le=this.Sb.length,this.Db=Math.max(this.Db,i),this.Gc=this.Le,this.Gc===1&&(this.ze=this.Sb[0])}(this.wrap===zT||isNaN(this.desiredSize.width))&&(c=isNaN(t)?this.Db:Math.min(t,this.Db)),c=Math.max(s,c),d=Math.max(l,d),Ji(this.fc,c,d),this.Ge(0,0,c,d),this.svg!==null&&u!==this.Gc&&(this.Hc=!0)},n.eh=function(t,i,s,l){cT(this,t,i,s,l)};function Fy(t,i,s){t.ze===null?(t.ze=i,t.Db=s):((t.Sb===null||t.Rc===null)&&(t.Sb=[],t.Rc=[],t.Sb.push(t.ze),t.Rc.push(t.Db)),t.Sb.push(i),t.Rc.push(s),t.Sb.length>t.maxLines&&(t.l|=16777216))}function VT(t,i,s,l){var u=t.formatting===Lp;u&&(i=i.trim());var c=0,d=t.Ae,m=t.spacingAbove+t.spacingBelow;m=Math.max(0,Vy(t)+m);var y=t.overflow===zy?R$(d):0;if(t.Gc>=t.maxLines)l!==null&&l.h(0,m);else if(d=i,t.wrap===A1){t.Le=1;var O=Ms(i);if(y===0||O<=s)t.Db=Math.max(t.Db,O),Fy(t,i,t.Db),l!==null&&l.h(O,m);else{for(c=Rp(t,d),d=d.substr(c.length),i=Rp(t,d),O=Ms(c+i);0<i.length&&O<=s;)c+=i,d=d.substr(i.length),i=Rp(t,d),O=c+i,u&&(O=O.trim()),O=Ms(O);for(u&&(i=i.trim()),c+=i,s=Math.max(1,s-y);Ms(c)>s&&1<c.length;)c=c.substr(0,c.length-1);t.l|=16777216,c+=By;var w=Ms(c);t.Db=w,Fy(t,c,w),l!==null&&l.h(w,m)}}else{for(y=0,d.length===0&&(y=1,Fy(t,d,0));0<d.length;){for(i=Rp(t,d),d=d.substr(i.length);Ms(i)>s;){var k=1;for(O=Ms(i.substr(0,k)),w=0;O<=s;)k++,w=O,O=Ms(i.substr(0,k));if(k===1){var P=O;c=Math.max(c,O)}else P=w,c=Math.max(c,w);if(k--,1>k&&(k=1),Fy(t,i.substr(0,k),P),y++,i=i.substr(k),t.Gc+y>t.maxLines)break}for(w=Rp(t,d),O=Ms(i+w);0<w.length&&O<=s;)i+=w,d=d.substr(w.length),w=Rp(t,d),O=i+w,u&&(O=O.trim()),O=Ms(O);if(u&&(i=i.trim()),i!==""&&(i[i.length-1]==="­"&&(i=i.substring(0,i.length-1)+"‐"),w.length===0?(k=O,c=Math.max(c,O)):(k=w=Ms(i),c=Math.max(c,w)),Fy(t,i,k),y++,t.Gc+y>t.maxLines))break}t.Le=Math.min(t.maxLines,y),t.Db=Math.max(t.Db,c),l!==null&&l.h(t.Db,m*t.Le)}}function Rp(t,i){if(t.wrap===BT)return i.substr(0,1);for(var s=i.length,l=0,u=XG;l<s&&!u.test(i.charAt(l));)l++;for(t.formatting===XT&&(s=Math.min(s,l+1));l<s&&u.test(i.charAt(l));)l++;return l>=i.length?i:i.substr(0,l)}function Ms(t){return Mn===null?8*t.length:Mn.measureText(t).width}function Vy(t){if(t.df!==null)return t.df;var i=t.Ae;if(Mn===null){var s=16;return t.df=s}return _T[i]!==void 0&&5e3>E$?s=_T[i]:(s=1.3*Mn.measureText("M").width,_T[i]=s,E$++),t.df=s}function R$(t){if(Mn===null)return 6;if(L1[t]!==void 0&&5e3>UT)var i=L1[t];else i=Mn.measureText(By).width,L1[t]=i,UT++;return i}function L$(t,i){var s=t.gc.replace(/\r\n/g,`
`).replace(/\r/g,`
`),l=t.spacingAbove+t.spacingBelow;if(l=Math.max(0,Vy(t)+l),s.length===0)return t.Db=0,t.Gc=1,l;if(!t.isMultiline){var u=s.indexOf(`
`,0);0<=u&&(s=s.substr(0,u))}u=0;for(var c=t.Gc=0,d,m=!1;!m;){if(d=s.indexOf(`
`,c),d===-1&&(d=s.length,m=!0),c<=d){if(c=s.substr(c,d-c),t.wrap!==A1){t.Le=0;var y=At.alloc();VT(t,c,i,y),u+=y.height,At.free(y),t.Gc+=t.Le}else VT(t,c,i,null),u+=l,t.Gc++;t.Gc===t.maxLines&&(m=!0)}c=d+1}return t.Lq=u}S.Object.defineProperties(fe.prototype,{font:{get:function(){return this.Ae},set:function(t){var i=this.Ae;i!==t&&(this.Ae=t,this.df=null,this.v(),this.g("font",i,t))}},text:{get:function(){return this.gc},set:function(t){var i=this.gc;t!=null?t=t.toString():t="",i!==t&&(this.gc=t,this.v(),this.g("text",i,t),this.Hc=!0)}},textAlign:{get:function(){return this.da!==null?this.da.Or:"start"},set:function(t){var i=this.textAlign;i===t||t!=="start"&&t!=="end"&&t!=="left"&&t!=="right"&&t!=="center"||(xo(this),this.da.Or=t,this.N(),this.g("textAlign",i,t))}},flip:{get:function(){return this.da!==null?this.da.Xf:je},set:function(t){var i=this.flip;i!==t&&(xo(this),this.da.Xf=t,this.N(),this.g("flip",i,t))}},verticalAlignment:{get:function(){return this.da!==null?this.da.Yr:Mx},set:function(t){var i=this.verticalAlignment;i.D(t)||(t=t.J(),xo(this),this.da.Yr=t,kp(this),this.g("verticalAlignment",i,t))}},naturalBounds:{get:function(){if(!this.fc.w()){var t=At.alloc();VT(this,this.gc,999999,t);var i=t.width;At.free(t),t=L$(this,i);var s=this.desiredSize;isNaN(s.width)||(i=s.width),isNaN(s.height)||(t=s.height),Ji(this.fc,i,t)}return this.fc}},isMultiline:{get:function(){return(this.l&2097152)!==0},set:function(t){var i=(this.l&2097152)!==0;i!==t&&(this.l^=2097152,this.v(),this.g("isMultiline",i,t))}},isUnderline:{get:function(){return(this.l&4194304)!==0},set:function(t){var i=(this.l&4194304)!==0;i!==t&&(this.l^=4194304,this.Hc=!0,this.N(),this.g("isUnderline",i,t))}},isStrikethrough:{get:function(){return(this.l&8388608)!==0},set:function(t){var i=(this.l&8388608)!==0;i!==t&&(this.l^=8388608,this.Hc=!0,this.N(),this.g("isStrikethrough",i,t))}},wrap:{get:function(){return this.da!==null?this.da.$r:j1},set:function(t){var i=this.wrap;i!==t&&(xo(this),this.da.$r=t,this.v(),this.g("wrap",i,t))}},overflow:{get:function(){return this.da!==null?this.da.$q:R1},set:function(t){var i=this.overflow;i!==t&&(xo(this),this.da.$q=t,this.v(),this.g("overflow",i,t))}},isOverflowed:{get:function(){return(this.l&16777216)!==0}},stroke:{get:function(){return this.xc},set:function(t){var i=this.xc;i!==t&&(t!==null&&Af(t,"TextBlock.stroke"),t instanceof ie&&t.freeze(),this.xc=t,this.Hc=!0,this.N(),this.g("stroke",i,t))}},lineCount:{get:function(){return this.Gc}},lineHeight:{get:function(){return Vy(this)}},editable:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.g("editable",i,t))}},textEditor:{get:function(){return this.da!==null?this.da.Qr:null},set:function(t){var i=this.textEditor;i!==t&&(xo(this),this.da.Qr=t,this.g("textEditor",i,t))}},errorFunction:{get:function(){return this.da!==null?this.da.Hd:null},set:function(t){var i=this.errorFunction;i!==t&&(xo(this),this.da.Hd=t,this.g("errorFunction",i,t))}},interval:{get:function(){return this.fa!==null?this.fa.Sk:1},set:function(t){var i=this.interval;if(t=Math.round(t),i!==t&&t!==0&&isFinite(t)){this.fa===null&&(this.fa=new il),this.fa.Sk=t,this.v();var s=this.panel;s!==null&&(s.graduatedIntervals=null),this.g("interval",i,t)}}},graduatedStart:{get:function(){return this.fa!==null?this.fa.u:0},set:function(t){var i=this.graduatedStart;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new il),this.fa.u=t,this.v(),this.g("graduatedStart",i,t))}},graduatedEnd:{get:function(){return this.fa!==null?this.fa.j:1},set:function(t){var i=this.graduatedEnd;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new il),this.fa.j=t,this.v(),this.g("graduatedEnd",i,t))}},graduatedFunction:{get:function(){return this.fa!==null?this.fa.F:null},set:function(t){var i=this.graduatedFunction;i!==t&&(this.fa===null&&(this.fa=new il),this.fa.F=t,this.v(),this.g("graduatedFunction",i,t))}},graduatedSkip:{get:function(){return this.fa!==null?this.fa.o:null},set:function(t){var i=this.graduatedSkip;i!==t&&(this.fa===null&&(this.fa=new il),this.fa.o=t,this.v(),this.g("graduatedSkip",i,t))}},textValidation:{get:function(){return this.da!==null?this.da.wj:null},set:function(t){var i=this.textValidation;i!==t&&(xo(this),this.da.wj=t,this.g("textValidation",i,t))}},textEdited:{get:function(){return this.da!==null?this.da.Pr:null},set:function(t){var i=this.textEdited;i!==t&&(xo(this),this.da.Pr=t,this.g("textEdited",i,t))}},spacingAbove:{get:function(){return this.da!==null?this.da.Dr:0},set:function(t){var i=this.spacingAbove;i!==t&&(xo(this),this.da.Dr=t,this.v(),this.g("spacingAbove",i,t))}},spacingBelow:{get:function(){return this.da!==null?this.da.Er:0},set:function(t){var i=this.spacingBelow;i!==t&&(xo(this),this.da.Er=t,this.v(),this.g("spacingBelow",i,t))}},formatting:{get:function(){return this.da!==null?this.da.gq:Lp},set:function(t){var i=this.formatting;i!==t&&(xo(this),this.da.gq=t,this.v(),this.g("formatting",i,t))}},maxLines:{get:function(){return this.da!==null?this.da.Jq:1/0},set:function(t){var i=this.maxLines;i!==t&&(t=Math.floor(t),0>=t&&W(t,"> 0",fe,"maxLines"),xo(this),this.da.Jq=t,this.v(),this.g("maxLines",i,t))}},metrics:{get:function(){return{arrSize:this.Rc!==null?this.Rc:[this.Db],arrText:this.Sb!==null?this.Sb:[this.ze],maxLineWidth:this.Db,fontHeight:this.df}}},choices:{get:function(){return this.Hm},set:function(t){var i=this.Hm;i!==t&&(this.Hm=t,this.g("choices",i,t))}}});var N1=null,Q1=null,A1=new it(fe,"None",0),zT=new it(fe,"WrapFit",1),j1=new it(fe,"WrapDesiredSize",2),BT=new it(fe,"WrapBreakAll",3),R1=new it(fe,"OverflowClip",0),zy=new it(fe,"OverflowEllipsis",1),Lp=new it(fe,"FormatTrim",0),XT=new it(fe,"FormatNone",0),XG=/[ \u200b\u00ad]/,_T=new le,E$=0,L1=new le,UT=0,By="...",$$="",Mn=null,E1=!1;fe.className="TextBlock";function ZT(){this.pc=!1,this.Hd=null,this.Xf=je,this.gq=Lp,this.Jq=1/0,this.$q=R1,this.Er=this.Dr=0,this.Or="start",this.wj=this.Qr=this.Pr=null,this.Yr=Mx,this.$r=j1}ZT.prototype.copy=function(){var t=new ZT;return t.Hd=this.Hd,t.Xf=this.Xf,t.gq=this.gq,t.Jq=this.Jq,t.$q=this.$q,t.Dr=this.Dr,t.Er=this.Er,t.Or=this.Or,t.Pr=this.Pr,t.Qr=this.Qr,t.wj=this.wj,t.Yr=this.Yr,t.$r=this.$r,t},fe.getEllipsis=function(){return By},fe.setEllipsis=function(t){By=t,L1=new le,UT=0},fe.getBaseline=function(){return N1},fe.setBaseline=function(t){N1=t},fe.getUnderline=function(){return Q1},fe.setUnderline=function(t){Q1=t},fe.isValidFont=function(t){if(E1||(Mn=bs?new Kr(null).context:null,E1=!0),Mn===null)return!0;var i=Mn.font;if(t===i||t==="10px sans-serif")return!0;Mn.font="10px sans-serif",Mn.font=t;var s=Mn.font;if(s!=="10px sans-serif")return Mn.font=i,!0;Mn.font="19px serif";var l=Mn.font;return Mn.font=t,s=Mn.font,Mn.font=i,s!==l},fe.FormatNone=XT,fe.FormatTrim=Lp,fe.None=A1,fe.OverflowClip=R1,fe.OverflowEllipsis=zy,fe.WrapBreakAll=BT,fe.WrapDesiredSize=j1,fe.WrapFit=zT;function il(){this.Sk=1,this.u=0,this.j=1,this.o=this.F=null}il.prototype.copy=function(){var t=new il;return t.Sk=this.Sk,t.u=this.u,t.j=this.j,t.F=this.F,t.o=this.o,t},il.className="GradElementSettings";function Nn(t,i){vt.call(this),this.Eg=null,this.ro="",this.Xg=VL,this.Mk=$e,this.Zg=this.Hd=null,this.Lk=oe,this.Xf=je,this.vl=null,this.rn=!1,this.fn=!0,this.$k=!1,this.ct=this.rl=null,typeof t=="string"?this.source=t:t&&Object.assign(this,t),i&&Object.assign(this,i)}var Ep;v(Nn,vt),Nn.prototype.cloneProtected=function(t){vt.prototype.cloneProtected.call(this,t),t.ro=this.ro,t.element=this.Eg,t.Xg=this.Xg.J(),t.Mk=this.Mk,t.Xf=this.Xf,t.Hd=this.Hd,t.Zg=this.Zg,t.Lk=this.Lk.J(),t.fn=this.fn,t.rl=this.rl},Nn.prototype.qb=function(t){t===je||t===Hr||t===Cf?this.imageStretch=t:vt.prototype.qb.call(this,t)},Nn.prototype.toString=function(){return"Picture("+this.source+")#"+Qi(this)};function $p(t){t===void 0&&(t=""),t!==""?Ep[t]&&(delete Ep[t],$1--):(Ep=new le,$1=0)}function D$(t,i){i.ty||(i.Fq=function(s){i.sq=!0,i.mn=!1;var l=i.Bg.copy();if(l!=null){for(l=l.iterator;l.next();){var u=l.value;u.N();var c=i.getAttribute("src")||"",d=u.Og.I(c);if(d!==null)for(var m=d.length,y=0;y<m;y++)c=d[y],u.Yn.add(c),c.Hc=!0,u.Rb(),i.jn&&(i.fu===void 0&&(i.fu=s),c.Zg!==null&&c.Zg(c,s))}i.Bg.clear()}t.desiredSize.w()||(Ar(t,!1),t.v())},i.Yp=function(s){i.mn=s;var l=i.Bg.copy();if(l!=null){for(l=l.iterator;l.next();){var u=l.value,c=i.getAttribute("src")||"",d=u.Og.I(c);if(d!==null){u=d.length,c=St();for(var m=0;m<u;m++)c.push(d[m]);if(i.jn)for(m=0;m<u;m++)d=c[m],d.Hd!==null&&d.Hd(d,s);mt(c)}}i.Bg.clear()}},i.addEventListener("load",i.Fq),i.addEventListener("error",i.Yp),i.ty=!0)}Nn.prototype.lA=function(){if(this.source!==""){$p(this.source);var t=this.source;this.source="",this.source=t}},Nn.prototype.redraw=function(){this.N(),this.Hc=!0},Nn.prototype.hh=function(t,i){var s=this.Eg;if(s!==null){var l=s.getAttribute("src");if(!(s instanceof HTMLImageElement&&(l===null||l==="")||s.mn instanceof Event&&t instanceof zh)){var u=t instanceof Kn;l=this.naturalBounds;var c=0,d=0,m=this.rn,y=m?+s.width:s.naturalWidth;if(m=m?+s.height:s.naturalHeight,y===void 0&&s.videoWidth&&(y=s.videoWidth),m===void 0&&s.videoHeight&&(m=s.videoHeight),y=y||l.width,m=m||l.height,y!==0&&m!==0){var O=y,w=m;this.sourceRect.w()&&(c=this.Xg.x,d=this.Xg.y,y=this.Xg.width,m=this.Xg.height);var k=y,P=m,T=this.Mk,C=this.Lk;switch(T){case je:if(this.sourceRect.w())break;k>=l.width&&(c=c+C.offsetX+(k*C.x-l.width*C.x)),P>=l.height&&(d=d+C.offsetY+(P*C.y-l.height*C.y)),y=Math.min(l.width,k),m=Math.min(l.height,P);break;case $e:k=l.width,P=l.height;break;case Hr:case Cf:T===Hr?(T=Math.min(l.height/P,l.width/k),k*=T,P*=T):T===Cf&&(T=Math.max(l.height/P,l.width/k),k*=T,P*=T,k>=l.width&&(c=(c+C.offsetX+(k*C.x-l.width*C.x)/k)*y),P>=l.height&&(d=(d+C.offsetY+(P*C.y-l.height*C.y)/P)*m),y*=1/(k/l.width),m*=1/(P/l.height),k=l.width,P=l.height)}T=this.Df()*i.scale;var A=k*T*P*T,I=y*m/A,E=s.__goCache;T=null;var z=_G;if(!u){if(s.sq&&E!==void 0&&4<A&&I>z*z)for(E.gi===null&&(F$(E,4,O,w,s),F$(E,16,O,w,s)),u=E.gi,O=u.length,w=0;w<O&&u[w].ratio*u[w].ratio<I;w++)T=u[w];if(!i.Ym){if(this.vl===null)if(this.Eg===null)this.vl=!1;else{u=new Kr(null).context;try{u.drawImage(this.Eg,0,0)}catch{this.fn=!1}try{u.getImageData(0,0,1,1).data[3]&&(this.vl=!1),this.vl=!1}catch{this.vl=!0}}if(this.vl)return}}switch(u=k<l.width?C.offsetX+(l.width*C.x-k*C.x):0,C=P<l.height?C.offsetY+(l.height*C.y-P*C.y):0,this.flip){case wp:t.translate(Math.min(l.width,k),0),t.scale(-1,1);break;case xp:t.translate(0,Math.min(l.height,P)),t.scale(1,-1);break;case Sp:t.translate(Math.min(l.width,k),Math.min(l.height,P)),t.scale(-1,-1)}if(t.yc(),i.Gf("pictureRatioOptimization")&&!i.aj&&E!==void 0&&T!==null&&T.ratio!==1){t.save(),i=T.ratio;try{t.drawImage(T.source,c/i,d/i,Math.min(T.source.width,y/i),Math.min(T.source.height,m/i),u,C,Math.min(l.width,k),Math.min(l.height,P)),t instanceof Kn&&(this.ct=[c/i,d/i,Math.min(T.source.width,y/i),Math.min(T.source.height,m/i),u,C,Math.min(l.width,k),Math.min(l.height,P)])}catch{this.fn=!1}t.restore()}else try{t.drawImage(s,c,d,y,m,u,C,Math.min(l.width,k),Math.min(l.height,P)),t instanceof Kn&&(this.ct=[c,d,y,m,u,C,Math.min(l.width,k),Math.min(l.height,P)])}catch{this.fn=!1}switch(this.flip){case wp:t.scale(-1,1),t.translate(-Math.min(l.width,k),0);break;case xp:t.scale(1,-1),t.translate(0,-Math.min(l.height,P));break;case Sp:t.scale(-1,-1),t.translate(-Math.min(l.width,k),-Math.min(l.height,P))}}}}},Nn.prototype.Wl=function(t,i,s,l){var u=this.desiredSize,c=Ys(this,!0),d=this.Eg,m=this.rn,y=0,O=0;(m||!this.$k&&d&&d.complete)&&(this.$k=!0),d===null?(isFinite(u.width)||(t=0),isFinite(u.height)||(i=0)):(y=m?+d.width:d.naturalWidth,O=m?+d.height:d.naturalHeight),isFinite(u.width)||c===$e||c===ji?(isFinite(t)||(this.sourceRect.w()?t=this.sourceRect.width:d!==null&&(t=y)),s=0):d!==null&&this.$k!==!1&&(t=this.sourceRect.w()?this.sourceRect.width:y),isFinite(u.height)||c===$e||c===Ii?(isFinite(i)||(this.sourceRect.w()?i=this.sourceRect.height:d!==null&&(i=O)),l=0):d!==null&&this.$k!==!1&&(i=this.sourceRect.w()?this.sourceRect.height:O),isFinite(u.width)&&(t=u.width),isFinite(u.height)&&(i=u.height),u=this.maxSize,c=this.minSize,s=Math.max(s||0,c.width),l=Math.max(l||0,c.height),t=Math.min(u.width,t),i=Math.min(u.height,i),t=Math.max(s,t),i=Math.max(l,i),d===null||d.complete||(isFinite(t)||(t=0),isFinite(i)||(i=0)),Ji(this.fc,t,i),this.Ge(0,0,t,i)},Nn.prototype.eh=function(t,i,s,l){cT(this,t,i,s,l)},S.Object.defineProperties(Nn.prototype,{element:{get:function(){return this.Eg},set:function(t){var i=this.Eg;if(this.Hc=!0,i!==t){this.rn=t instanceof HTMLCanvasElement;var s=t instanceof HTMLImageElement;t===null||s||t instanceof HTMLVideoElement||this.rn||D("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var l=this.diagram;l!==null&&Kb(l,this),this.Eg=t,t!==null&&s&&t.Bg===void 0&&(t.Bg=new ut),l!==null&&s&&Hb(l,this),t!==null&&(this.rn||t.complete===!0?(t.jn&&(t.mn instanceof Event&&this.Hd!==null?this.Hd(this,t.mn):t.sq===!0&&!t.mn&&this.Zg!==null&&t.fu&&this.Zg(this,t.fu)),t.sq=!0,this.desiredSize.w()||(Ar(this,!1),this.v())):s&&D$(this,t)),this.g("element",i,t),this.N()}}},source:{get:function(){return this.ro},set:function(t){var i=this.ro;if(i!==t){this.Hc=!0,this.ro=t;var s=Ep;if(bs){var l=null;if(s[t]!==void 0)l=s[t];else if(t!==""){30<$1&&($p(),s=Ep),l=V("img"),l.jn=!0,D$(this,l);var u=this.rl;u!==null&&(l.crossOrigin=u(this)),l.src=t,s[t]=l,$1++}this.element=l,l!==null&&l.__goCache===void 0&&(l.__goCache=new I$),this.v(),this.N()}this.g("source",i,t)}}},sourceCrossOrigin:{get:function(){return this.rl},set:function(t){if(this.rl!==t&&(this.rl=t,this.element!==null)){var i=this.element.getAttribute("src");t===null&&typeof i=="string"?this.element.crossOrigin=null:t!==null&&(this.element.crossOrigin=t(this)),this.element.src=i}}},sourceRect:{get:function(){return this.Xg},set:function(t){var i=this.Xg;i.D(t)||(this.Xg=t=t.J(),this.N(),this.g("sourceRect",i,t))}},imageStretch:{get:function(){return this.Mk},set:function(t){var i=this.Mk;i!==t&&(this.Mk=t,this.N(),this.g("imageStretch",i,t))}},flip:{get:function(){return this.Xf},set:function(t){var i=this.Xf;i!==t&&(this.Xf=t,this.N(),this.g("flip",i,t))}},imageAlignment:{get:function(){return this.Lk},set:function(t){var i=this.Lk;i.D(t)||(this.Lk=t=t.J(),this.N(),this.g("imageAlignment",i,t))}},errorFunction:{get:function(){return this.Hd},set:function(t){var i=this.Hd;i!==t&&(this.Hd=t,this.g("errorFunction",i,t))}},successFunction:{get:function(){return this.Zg},set:function(t){var i=this.Zg;i!==t&&(this.Zg=t,this.g("successFunction",i,t))}},naturalBounds:{get:function(){return this.fc}}}),Nn.prototype.redraw=Nn.prototype.redraw,Nn.prototype.reloadSource=Nn.prototype.lA;var $1=0,_G=4;Nn.className="Picture",Ep=new le,Nn.clearCache=$p;function I$(){this.gi=null}function F$(t,i,s,l,u){t.gi===null&&(t.gi=[]);var c=new Kr(null),d=c.context,m=1/i;c.width=s/i,c.height=l/i,c.width!==0&&c.height!==0&&(i=new V$(c.Oa,i),s=1,0<t.gi.length&&(s=t.gi[t.gi.length-1],u=s.source,s=s.ratio),d.setTransform(m*s,0,0,m*s,0,0),d.yc(),d.drawImage(u,0,0),t.gi.push(i))}I$.className="PictureCacheArray";function V$(t,i){this.source=t,this.ratio=i}V$.className="PictureCacheInstance";function Dp(){this.os=new lt,this.oc=null}Dp.prototype.reset=function(t){t!==null?(t.ka(),this.os=t,t.figures.clear()):this.os=new lt,this.oc=null};function Ip(t,i,s,l,u,c){t.oc=new vi,t.oc.startX=i,t.oc.startY=s,t.oc.isFilled=l,t.oc.isEvenOdd=c||!1,t.os.figures.add(t.oc),u!==void 0&&(t.oc.isShadowed=u)}function UG(t){var i=t.oc.segments.length;0<i&&t.oc.segments.M(i-1).close()}Dp.prototype.moveTo=function(t,i,s){s===void 0&&(s=!1);var l=new Jt(qr);l.endX=t,l.endY=i,s&&l.close(),this.oc.segments.add(l)},Dp.prototype.lineTo=function(t,i,s){s===void 0&&(s=!1);var l=new Jt(Pe);l.endX=t,l.endY=i,s&&l.close(),this.oc.segments.add(l)};function ja(t,i,s,l,u,c,d){var m;m===void 0&&(m=!1);var y=new Jt(dr);y.point1X=i,y.point1Y=s,y.point2X=l,y.point2Y=u,y.endX=c,y.endY=d,m&&y.close(),t.oc.segments.add(y)}function D1(t,i,s,l,u){var c;c===void 0&&(c=!1);var d=new Jt(_s);d.point1X=i,d.point1Y=s,d.endX=l,d.endY=u,c&&d.close(),t.oc.segments.add(d)}Dp.prototype.arcTo=function(t,i,s,l,u,c,d){c===void 0&&(c=0),d===void 0&&(d=!1);var m=new Jt(We);m.startAngle=t,m.sweepAngle=i,m.centerX=s,m.centerY=l,m.radiusX=u,m.radiusY=c!==0?c:u,d&&m.close(),this.oc.segments.add(m)};function ZG(t,i,s,l,u,c,d,m){var y;y===void 0&&(y=!1),i=new Jt(ks,d,m,i,s,l,u,c),y&&i.close(),t.oc.segments.add(i)}function z$(t){var i=I1;return i!==null?(I1=null,i.reset(t),i):(i=new Dp,i.reset(t),i)}var I1=null;Dp.className="StreamGeometryContext";function qi(t,i){var s=t.toLowerCase(),l=Y.Ze;l[t]=i,l[s]=t}qi("Rectangle",function(t,i,s){t="r"+i+","+s;var l=Y.Mf[t];return l!==void 0||(l=new lt(lt.u),l.endX=i,l.endY=s,Y.Nf<Y.wm&&(Y.Mf[t]=l,Y.Nf++)),l}),qi("Square",function(t,i,s){t="s"+i+","+s;var l=Y.Mf[t];return l!==void 0||(l=new lt(lt.u),l.endX=i,l.endY=s,l.defaultStretch=Hr,Y.Nf<Y.wm&&(Y.Mf[t]=l,Y.Nf++)),l}),qi("RoundedRectangle",function(t,i,s){t=t?t.parameter1:NaN,(isNaN(t)||0>t)&&(t=5),t=Math.min(t,i/3),t=Math.min(t,s/3);var l="rr"+i+","+s+","+t,u=Y.Mf[l];if(u!==void 0)return u;var c=t*Y.wg;return u=new lt().add(new vi(t,0,!0).add(new Jt(Pe,i-t,0)).add(new Jt(dr,i,t,i-c,0,i,c)).add(new Jt(Pe,i,s-t)).add(new Jt(dr,i-t,s,i,s-c,i-c,s)).add(new Jt(Pe,t,s)).add(new Jt(dr,0,s-t,c,s,0,s-c)).add(new Jt(Pe,0,t)).add(new Jt(dr,t,0,0,c,c,0).close())),1<c&&(u.spot1=new Tt(0,0,c,c),u.spot2=new Tt(1,1,-c,-c)),Y.Nf<Y.wm&&(Y.Mf[l]=u,Y.Nf++),u}),qi("Border","RoundedRectangle"),qi("Ellipse",function(t,i,s){t="e"+i+","+s;var l=Y.Mf[t];return l!==void 0||(l=new lt(lt.F),l.endX=i,l.endY=s,l.spot1=db,l.spot2=pb,Y.Nf<Y.wm&&(Y.Mf[t]=l,Y.Nf++)),l}),qi("Circle",function(t,i,s){t="c"+i+","+s;var l=Y.Mf[t];return l!==void 0||(l=new lt(lt.F),l.endX=i,l.endY=s,l.spot1=db,l.spot2=pb,l.defaultStretch=Hr,Y.Nf<Y.wm&&(Y.Mf[t]=l,Y.Nf++)),l}),qi("TriangleRight",function(t,i,s){return new lt().add(new vi(0,0).add(new Jt(Pe,i,.5*s)).add(new Jt(Pe,0,s).close())).qm(0,.25,.5,.75)}),qi("TriangleDown",function(t,i,s){return new lt().add(new vi(0,0).add(new Jt(Pe,i,0)).add(new Jt(Pe,.5*i,s).close())).qm(.25,0,.75,.5)}),qi("TriangleLeft",function(t,i,s){return new lt().add(new vi(i,s).add(new Jt(Pe,0,.5*s)).add(new Jt(Pe,i,0).close())).qm(.5,.25,1,.75)}),qi("TriangleUp",function(t,i,s){return new lt().add(new vi(i,s).add(new Jt(Pe,0,s)).add(new Jt(Pe,.5*i,0).close())).qm(.25,.5,.75,1)}),qi("Triangle","TriangleUp"),qi("Diamond",function(t,i,s){return new lt().add(new vi(.5*i,0).add(new Jt(Pe,0,.5*s)).add(new Jt(Pe,.5*i,s)).add(new Jt(Pe,i,.5*s).close())).qm(.25,.25,.75,.75)}),qi("LineH",function(t,i,s){return t=new lt(lt.o),t.startX=0,t.startY=s/2,t.endX=i,t.endY=s/2,t}),qi("LineV",function(t,i,s){return t=new lt(lt.o),t.startX=i/2,t.startY=0,t.endX=i/2,t.endY=s,t}),qi("None","Rectangle"),qi("BarH","Rectangle"),qi("BarV","Rectangle"),qi("MinusLine","LineH"),qi("PlusLine",function(t,i,s){return new lt().add(new vi(0,s/2,!1).add(new Jt(Pe,i,s/2)).add(new Jt(qr,i/2,0)).add(new Jt(Pe,i/2,s)))}),qi("XLine",function(t,i,s){return new lt().add(new vi(0,s,!1).add(new Jt(Pe,i,0)).add(new Jt(qr,0,0)).add(new Jt(Pe,i,s)))}),qi("LineRight",function(t,i,s){return new lt().add(new vi(.25*i,0,!1).add(new Jt(Pe,.75*i,.5*s)).add(new Jt(Pe,.25*i,s)))}),qi("LineDown",function(t,i,s){return new lt().add(new vi(0,.25*s,!1).add(new Jt(Pe,.5*i,.75*s)).add(new Jt(Pe,i,.25*s)))}),qi("LineLeft",function(t,i,s){return new lt().add(new vi(.75*i,0,!1).add(new Jt(Pe,.25*i,.5*s)).add(new Jt(Pe,.75*i,s)))}),qi("LineUp",function(t,i,s){return new lt().add(new vi(0,.75*s,!1).add(new Jt(Pe,.5*i,.25*s)).add(new Jt(Pe,i,.75*s)))}),Y.vm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};function YT(){this.pc=!1,this.tr=this.Kp=this.zq=null,this.vr="",this.fr=this.oq=this.ur=null,this.hr="",this.gr=fr,this.ir=null,this.jr="",this.lr=Yi,this.Gq="",this.Hq=tn,this.Pq=Wd,this.Kq=hf,this.Up=null,this.Cq=127,this.zr=wa,this.yr="gray",this.Vg=4}YT.prototype.copy=function(){var t=new YT;return t.zq=this.zq,t.Kp=this.Kp,t.tr=this.tr,t.vr=this.vr,t.ur=this.ur,t.oq=this.oq,t.fr=this.fr,t.hr=this.hr,t.gr=this.gr.J(),t.ir=this.ir,t.jr=this.jr,t.lr=this.lr.J(),t.Gq=this.Gq,t.Hq=this.Hq.J(),t.Pq=this.Pq.J(),t.Kq=this.Kq.J(),t.Up=this.Up,t.Cq=this.Cq,t.zr=this.zr.J(),t.yr=this.yr,t.Vg=this.Vg,t};function kt(t,i){t===void 0||t instanceof ni||typeof t=="string"?nt.call(this,t):(nt.call(this),t&&(i=t)),this.G=2408959,this.Tf="",this.P=null,this.Jg="",this.Qf=this.Ug=null,this.gc="",this.Ah=this.Ig=null,this.ke=new F(NaN,NaN).freeze(),this.nf=null,this.Bo=NaN,this.xw=-1,this.sy=new J,this.Rh=null,this.ag=NaN,i&&Object.assign(this,i)}v(kt,nt),kt.prototype.cloneProtected=function(t){nt.prototype.cloneProtected.call(this,t),t.G=this.G&-4097|49152,t.Tf=this.Tf,this.P!==null&&(t.P=this.P.pc?this.P:this.P.copy()),t.Jg=this.Jg,t.Qf=null,t.gc=this.gc,t.ke.assign(this.ke),t.Bo=this.Bo},n=kt.prototype,n.Af=function(t){nt.prototype.Af.call(this,t),t.oh(),t.Ug=null,t.nf=null,t.Rh=null},n.toString=function(){var t=Ft(this.constructor)+"#"+Qi(this);return this.data!==null&&(t+="("+Nt(this.data)+")"),t};function Qn(t){t.P===null?t.P=new YT:t.P.pc&&(t.P=t.P.copy())}n.th=function(){nt.prototype.th.call(this),this.P!==null&&(this.P.pc=!0)},n.fk=function(t,i,s,l,u,c,d){var m=this.diagram;m!==null&&(t===ei&&i==="elements"?u instanceof nt?Bh(u,function(y){mC(m.partManager,y),FE(m,y)}):Hb(m,u):t===ui&&i==="elements"&&(u instanceof nt?Bh(u,function(y){gC(m.partManager,y,m)}):Kb(m,u)),m.cb(t,i,s,l,u,c,d))},n.La=function(t){if(nt.prototype.La.call(this,t),this.data!==null){for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];u instanceof nt&&Bh(u,function(c){c.data!==null&&c.La()})}for(i=this.adornments;i.next();)i.value.La(t)}},kt.prototype.updateRelationshipsFromData=function(){var t;this.data!==null&&((t=this.diagram)===null||t===void 0||t.partManager.updateRelationshipsFromData(this))},kt.prototype.Oj=function(t){var i=this.Qf;return i===null?null:i.I(t)},kt.prototype.bh=function(t,i){if(i!==null){var s=null,l=this.Qf;if(l!==null&&(s=l.I(t)),s!==i){if(s!==null){var u=s.diagram;u!==null&&u.remove(s)}l===null&&(this.Qf=l=new jt),i.Tf!==t&&(i.category=t),l.add(t,i),t=this.diagram,t!==null&&(t.add(i),t=i.adornedObject,t!==null&&(t=t.ih(),t!==null&&(i.data=t.data)))}}},kt.prototype.Jf=function(t){var i=this.Qf;if(i!==null){var s=i.I(t);if(s!==null){var l=s.diagram;l!==null&&l.remove(s)}i.remove(t),i.count===0&&(this.Qf=null)}},kt.prototype.Ej=function(){var t=this.Qf;if(t!==null){var i=St();for(t=t.iterator;t.next();)i.push(t.key);t=i.length;for(var s=0;s<t;s++)this.Jf(i[s]);mt(i)}},kt.prototype.updateAdornments=function(){var t=this.diagram;if(t!==null){for(var i=this.adornments;i.next();){var s=i.value;s.v(),s.placeholder&&s.placeholder.v()}t:{if(this.isSelected&&this.selectionAdorned&&(i=this.selectionObject,i!==null&&this.actualBounds.w()&&this.isVisible()&&i.Ed()&&i.actualBounds.w())){if(s=this.Oj("Selection"),s===null){if(s=this.selectionAdornmentTemplate,s===null&&(s=this.ph()?t.linkSelectionAdornmentTemplate:this instanceof Et?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(s instanceof Wt))break t;Jr(s),s=s.copy(),s!==null&&(this.ph()&&this.selectionObject===this.path&&(s.type=nt.Link),s.adornedObject=i)}if(s!==null){s.type===nt.Link&&s.v(),this.bh("Selection",s);break t}}this.Jf("Selection")}for(YG(this,t),i=this.adornments;i.next();)i.value.La()}},kt.prototype.Zb=function(){var t=this.diagram;t!==null&&(t.vd=!0,!(this.G&16384)&&(this.G|=16384))};function WT(t){t.G&16384&&(t.updateAdornments(),t.G&=-16385)}function YG(t,i){i.toolManager.mouseDownTools.each(function(s){s.isEnabled&&s.updateAdornments(t)}),i.toolManager.updateAdornments(t)}function F1(t){if(Ru(t)===!1){GT(t,!0),t.Tk();var i=t.diagram;i!==null&&(i.De.add(t),i.Rb())}}function B$(t){if(t.G|=2097152,Ru(t)!==!1){var i=t.position,s=t.location;s.w()&&i.w()||U$(t,i,s),s=t.Jb;var l=J.alloc().assign(s);s.ka(),s.x=i.x,s.y=i.y,s.freeze(),t.Yl(l,s),J.free(l),GT(t,!1)}}kt.prototype.Ge=function(t,i,s,l){var u=this.uc;u.h(t,i,s,l),this.Mb===null&&(this.Mb=new Bt);var c=this.Mb;c.reset(),this.oo(c,t,i,s,l),this.Mb=c,c.ws()||c.pp(u)},kt.prototype.oo=function(t,i,s,l,u){if(this.Ca!==1&&t.scale(this.Ca),this.Lb!==0){var c=oe;this.locationSpot.sb()&&(c=this.locationSpot);var d=F.alloc();if(this.locationObject!==this)for(i=this.locationObject,s=i.naturalBounds,d.zi(s.x,s.y,s.width,s.height,c),i.Mb!==null&&i.Mb.Ga(d),d.offset(-i.measuredBounds.x,-i.measuredBounds.y),c=i.panel;c!==null&&c!==this;)c.Mb!==null&&c.Mb.Ga(d),d.offset(-c.measuredBounds.x,-c.measuredBounds.y),c=c.panel;else d.zi(i,s,l,u,c);t.rotate(this.Lb,d.x,d.y),F.free(d)}},kt.prototype.move=function(t,i){i===!0?this.location=t:this.position=t},kt.prototype.moveTo=function(t,i,s){t=F.allocAt(t,i),this.move(t,s),F.free(t)},kt.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(t!==null){if(!t.visible)return!1;if(t=t.diagram,t!==null&&t.animationManager.Fs(this))return!0}return t=this.containingGroup,!!(t===null||t.isSubGraphExpanded&&t.isVisible())},kt.prototype.bc=function(t){var i=this.diagram;t?(this.C(4),this.Zb(),i!==null&&i.De.add(this)):(this.C(8),this.Ej()),this.oh(),i!==null&&(i.Ya(),i.N())},kt.prototype.fb=function(t){if(this.name===t)return this;var i=this.Rh;if(i===null&&(this.Rh=i=new jt),i.I(t)!==null)return i.I(t);var s=nt.prototype.fb.call(this,t);return s!==null?(i.set(t,s),s):(i.set(t,null),null)};function Ra(t,i,s,l){l===void 0&&(l=new F),s=s.Nc()?oe:s;var u=i.naturalBounds;if(l.h(u.width*s.x+s.offsetX,u.height*s.y+s.offsetY),i===null||i===t)return l;for(i.transform.Ga(l),i=i.panel;i!==null&&i!==t;)i.transform.Ga(l),i=i.panel;return t.Mb!==null&&t.Mb.Ga(l),l.offset(-t.uc.x,-t.uc.y),l}kt.prototype.ni=function(t){return t===void 0&&(t=new J),t.assign(this.actualBounds)},kt.prototype.Va=function(){this.measure(1/0,1/0),this.arrange()};function X$(t){var i=F.alloc(),s=t.locationObject,l=s.naturalBounds,u=s instanceof It?s.strokeWidth:0;if(i.zi(0,0,l.width+u,l.height+u,t.locationSpot),s!==t)for(i.offset(-u/2,-u/2),s.transform.Ga(i),s=s.panel;s!==null&&s!==t;)s.transform.Ga(i),s=s.panel;return t.Mb!==null&&t.Mb.Ga(i),i.offset(-t.uc.x,-t.uc.y),i}function Uh(t,i){var s=t.sy;isNaN(t.ag)&&(t.ag=k$(t));var l=t.ag,u=2*l;if(!t.isShadowed)return s.h(i.x-1-l,i.y-1-l,i.width+2+u,i.height+2+u),s;l=i.x,u=i.y;var c=i.width;i=i.height;var d=t.shadowBlur;return t=t.shadowOffset,c+=d,i+=d,l-=d/2,u-=d/2,0<t.x?c+=t.x:(l+=t.x,c-=t.x),0<t.y?i+=t.y:(u+=t.y,i-=t.y),s.h(l-1,u-1,c+2,i+2),s}kt.prototype.arrange=function(){if(Ts(this)===!1)B$(this);else{Ih(this,!1);var t=this.Jb,i=J.alloc();i.assign(t);var s=Lu(this);this.eh(0,0,this.uc.width,this.uc.height);var l=this.position;U$(this,l,this.location),t.ka(),t.x=l.x,t.y=l.y,t.freeze(),this.Yl(i,t),i.D(t)?this.Fd(s):!this.Zc()||Y.B(i.width,t.width)&&Y.B(i.height,t.height)||0<=this.xw&&this.C(16),J.free(i),GT(this,!1)}},n=kt.prototype,n.Yl=function(t,i){var s=this.diagram;if(s!==null){var l=!1;if(s.$i===!1&&t.w()){var u=J.alloc();u.assign(s.documentBounds),u.Hv(s.padding),t.x>u.x&&t.y>u.y&&t.right<u.right&&t.bottom<u.bottom&&i.x>u.x&&i.y>u.y&&i.right<u.right&&i.bottom<u.bottom&&(l=!0),J.free(u)}!(this.G&65536)&&t.D(i)||W$(this,l,s),s.N(),!t.w()&&!i.w()||Rl(t,i)||(this instanceof ft&&!s.undoManager.isUndoingRedoing&&this.Bd(),this.oh())}},n.Bv=function(t,i,s){if(this.ph()||!t.w())return!1;var l=this.diagram;return l!==null&&_$(this,l,t,i,s),this.pa=t,this.G&=-2097153,!this.ke.w()||l!==null&&!l.animationManager.isTicking&&l.undoManager.isUndoingRedoing||(l=this.ke,this.ke=new F(l.x+(t.x-i),l.y+(t.y-s)),this.g("location",l,this.ke.copy())),Ru(this)===!1&&Ts(this)===!1&&(F1(this),B$(this)),!0};function _$(t,i,s,l,u){i===null||t instanceof Wt||(i=i.animationManager,i.Ab&&OE(i,t,new F(l,u),s))}n.nm=function(t,i,s){var l=this.ke,u=this.pa;if(s){if(l.x===t&&l.y===i)return;Ru(this)||Ts(this)?u.h(NaN,NaN):u.h(u.x+t-l.x,u.y+i-l.y),l.h(t,i)}else{if(u.x===t&&u.y===i)return;l.h(l.x+t-u.x,l.y+i-u.y),u.h(t,i)}F1(this)},n.Cv=function(){this.G&=-2097153,F1(this)};function U$(t,i,s){var l=X$(t),u=t.diagram,c=s.w(),d=i.w();c&&d?t.G&2097152?Z$(t,i,s,u,l):Y$(t,i,s,u,l):c?Z$(t,i,s,u,l):d&&Y$(t,i,s,u,l),t.G|=2097152,F.free(l),t.Tk()}function Z$(t,i,s,l,u){var c=i.x,d=i.y;i.h(s.x-u.x,s.y-u.y),l!==null&&(s=l.animationManager,(l=s.defaultAnimation.isAnimating)||!s.Ab||t instanceof Wt||OE(s,t,new F(c,d),i),l||i.x===c&&i.y===d||t.g("position",new F(c,d),i.copy()))}function Y$(t,i,s,l,u){var c=s.copy();s.h(i.x+u.x,i.y+u.y),s.D(c)||l===null||t.g("location",c,s.copy())}function W$(t,i,s){HT(t,!1),t instanceof ft&&rT(s,t),t.layer.isTemporary||i||s.Ya(),i=t.Jb;var l=s.viewportBounds;l.w()?Lu(t)?(IL(i,l)||t.Fd(!1),t.updateAdornments()):t.isVisible()&&i.Yc(l)?(t.Fd(!0),t.updateAdornments()):t.Zb():s.vd=!0}n.ti=function(){return!0},n.Zc=function(){return!0},n.ph=function(){return!1},n.Dd=function(){return!0};function qT(t,i,s,l){i.constructor===t.constructor||H$||(H$=!0,K('Should not change the class of the Part when changing category from "'+s+'" to "'+l+'"'),K("  Old class: "+Ft(t.constructor)+", new class: "+Ft(i.constructor)+", part: "+t.toString())),t.Ej();var u=t.data;s=t.layerName;var c=t.isSelected,d=t.isHighlighted,m=!0,y=!0,O=!1;t instanceof ft&&(m=t.isTreeLeaf,y=t.isTreeExpanded,O=t.wasTreeExpanded),i.Af(t),i.cloneProtected(t),t.Tf=l,t.svg!==null&&(t.svg.remove(),t.svg=null,t.Hc=!0),t.v(),t.N(),i=t.diagram,l=!0,i!==null&&(l=i.skipsUndoManager,i.skipsUndoManager=!0),t.ub=u,t.G=c?t.G|4096:t.G&-4097,t.G=d?t.G|524288:t.G&-524289,t instanceof ft&&(t.R=m?t.R|4:t.R&-5,t.R=y?t.R|1:t.R&-2,t.R=O?t.R|2:t.R&-3),u!==null&&t.La(),u=t.layerName,u!==s&&(t.Jg=s,t.layerName=u),i!==null&&(i.skipsUndoManager=l),t.Zc()&&t.C(64)}kt.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return t===null?!0:t.allowCopy?(t=t.diagram,t===null?!0:!!t.allowCopy):!1},kt.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return t===null?!0:t.allowDelete?(t=t.diagram,t===null?!0:!!t.allowDelete):!1},kt.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return t===null?!0:t.allowTextEdit?(t=t.diagram,t===null?!0:!!t.allowTextEdit):!1},kt.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return t===null?!0:t.allowGroup?(t=t.diagram,t===null?!0:!!t.allowGroup):!1},kt.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return t===null?!0:t.allowMove?(t=t.diagram,t===null?!0:!!t.allowMove):!1},kt.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return t===null?!0:t.allowReshape?(t=t.diagram,t===null?!0:!!t.allowReshape):!1},kt.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return t===null?!0:t.allowResize?(t=t.diagram,t===null?!0:!!t.allowResize):!1},kt.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return t===null?!0:t.allowRotate?(t=t.diagram,t===null?!0:!!t.allowRotate):!1},kt.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return t===null?!0:t.allowSelect?(t=t.diagram,t===null?!0:!!t.allowSelect):!1};function Ru(t){return(t.G&32768)!==0}function GT(t,i){t.G=i?t.G|32768:t.G&-32769}function HT(t,i){t.G=i?t.G|65536:t.G&-65537}function Lu(t){return(t.G&131072)!==0}n=kt.prototype,n.Fd=function(t){this.G=t?this.G|131072:this.G&-131073};function V1(t,i){t.G=i?t.G|1048576:t.G&-1048577}n.oh=function(){var t=this.containingGroup;t!==null&&(t.v(),t.placeholder!==null&&t.placeholder.v(),t.Bd())},n.N=function(){var t=this.diagram;t!==null&&!Ts(this)&&!Ru(this)&&this.isVisible()&&this.Jb.w()&&t.N(Uh(this,this.Jb))},n.v=function(){nt.prototype.v.call(this);var t=this.diagram;t!==null&&(t.De.add(this),this instanceof ft&&this.labeledLink!==null&&kp(this.labeledLink),t.Rb(!0))},n.Wo=function(t){t||(t=this.Ah,t!==null&&iC(t,this))},n.Xo=function(t){t||(t=this.Ah,t!==null&&nC(t,this))},n.Lj=function(){var t=this.data;if(t!==null){var i=this.diagram;i!==null&&(i=i.model,i!==null&&i.dm(t))}},n.uz=function(){return KT(this,this)};function KT(t,i){var s=i.containingGroup;return s!==null?1+KT(t,s):i instanceof ft&&(i=i.labeledLink,i!==null)?KT(t,i):0}n.yz=function(){return q$(this,this)};function q$(t,i){var s=i.containingGroup;return s!==null||i instanceof ft&&(s=i.labeledLink,s!==null)?q$(t,s):i}n.Td=function(t){return t instanceof Et?JT(this,this,t):!1};function JT(t,i,s){if(i===s||s===null)return!1;var l=i.containingGroup;return l===null||l!==s&&!JT(t,l,s)?i instanceof ft&&(i=i.labeledLink,i!==null)?JT(t,i,s):!1:!0}n.sx=function(t){if(t===null)return null;if(this===t)return this.containingGroup;for(var i=this;i!==null;){if(i instanceof Et&&V1(i,!0),i instanceof ft){var s=i.labeledLink;s!==null&&(i=s)}i=i.containingGroup}for(s=null,i=t;i!==null;){if(i.G&1048576){s=i;break}i instanceof ft&&(t=i.labeledLink,t!==null&&(i=t)),i=i.containingGroup}for(i=this;i!==null;)i instanceof Et&&V1(i,!1),i instanceof ft&&(t=i.labeledLink,t!==null&&(i=t)),i=i.containingGroup;return s},kt.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(t!==null&&t.isTemporary||this instanceof ft&&this.isLinkLabel)},kt.prototype.C=function(t){if(t===void 0&&(t=16777215),this.isLayoutPositioned&&t&this.layoutConditions){var i=this.layer;i!==null&&i.isTemporary||this instanceof ft&&this.isLinkLabel?i=!1:(i=this.diagram,i=!(i!==null&&i.undoManager.isUndoingRedoing))}else i=!1;if(i)if(i=this.Ah,i!==null){var s=i.layout;s!==null?s.C():i.C(t)}else t=this.diagram,t!==null&&(t=t.layout,t!==null&&t.C())};function G$(t){return t.isVisible()?(t=t.layer,!(t!==null&&t.isTemporary)):!1}function Eu(t,i,s,l,u,c){if(c===void 0&&(c=null),!(t.contains(i)||c!==null&&!c(i)||i instanceof Wt)){if(t.add(i),i instanceof ft){if(s&&i instanceof Et)for(var d=i.memberParts;d.next();)Eu(t,d.value,s,l,u,c);if(u!==!1)for(d=i.linksConnected;d.next();){var m=d.value;if(!t.contains(m)){var y=m.fromNode,O=m.toNode;y=y===null||t.contains(y),O=O===null||t.contains(O),(u?y&&O:y||O)&&Eu(t,m,s,l,u,c)}}if(1<l)for(i=i.Qu();i.next();)Eu(t,i.value,s,l-1,u,c)}else if(i instanceof st)for(i=i.labelNodes;i.next();)Eu(t,i.value,s,l,u,c)}}S.Object.defineProperties(kt.prototype,{key:{get:function(){var t=this.diagram;if(t!==null)return t.model.wa(this.data)}},adornments:{get:function(){return this.Qf===null?fi:this.Qf.iteratorValues}},layer:{get:function(){return this.Ig}},diagram:{get:function(){var t=this.Ig;return t==null?null:t.diagram}},layerName:{get:function(){return this.Jg},set:function(t){var i=this.Jg;if(i!==t){var s=this.diagram;if((s===null||s.Pj(t)!==null&&!s.partManager.addsToTemporaryLayer)&&(this.Jg=t,s!==null&&s.Ya(),this.g("layerName",i,t),i=this.layer,i!==null&&i.name!==t&&(s=i.diagram,s!==null&&(t=s.Pj(t),t!==null&&t!==i)))){var l=i.qc(-1,this,!0);if(0<=l&&s.cb(ui,"parts",i,this,null,l,!0),l=t.pi(99999999,this,!0),i.visible!==t.visible&&this.bc(t.visible),0<=l&&s.cb(ei,"parts",t,null,this,!0,l),l=this.layerChanged,l!==null){var u=s.aa;s.aa=!0,l(this,i,t),s.aa=u}}}}},layerChanged:{get:function(){return this.P!==null?this.P.zq:null},set:function(t){var i=this.layerChanged;i!==t&&(Qn(this),this.P.zq=t,this.g("layerChanged",i,t))}},zOrder:{get:function(){return this.Bo},set:function(t){var i=this.Bo;if(i!==t){this.Bo=t;var s=this.layer;s!==null&&Xx(s,-1,this),this.g("zOrder",i,t),t=this.diagram,t!==null&&t.N()}}},locationObject:{get:function(){if(this.nf===null){var t=this.locationObjectName;t!==""?(t=this.fb(t),t!==null?this.nf=t:this.nf=this):this instanceof Wt?this.type!==nt.Link&&this.placeholder!==null?this.nf=this.placeholder:this.nf=this:this.nf=this}return this.nf.visible?this.nf:this}},minLocation:{get:function(){return this.P!==null?this.P.Pq:Wd},set:function(t){var i=this.minLocation;i.D(t)||(t=t.J(),Qn(this),this.P.Pq=t,this.g("minLocation",i,t))}},maxLocation:{get:function(){return this.P!==null?this.P.Kq:hf},set:function(t){var i=this.maxLocation;i.D(t)||(t=t.J(),Qn(this),this.P.Kq=t,this.g("maxLocation",i,t))}},locationObjectName:{get:function(){return this.P!==null?this.P.Gq:""},set:function(t){var i=this.locationObjectName;i!==t&&(Qn(this),this.P.Gq=t,this.nf=null,this.v(),this.g("locationObjectName",i,t))}},locationSpot:{get:function(){return this.P!==null?this.P.Hq:tn},set:function(t){var i=this.locationSpot;i.D(t)||(t=t.J(),Qn(this),this.P.Hq=t,this.v(),this.g("locationSpot",i,t))}},location:{get:function(){return this.ke},set:function(t){var i=t.x,s=t.y,l=this.ke;if(!(l.x===i||isNaN(l.x)&&isNaN(i))||!(l.y===s||isNaN(l.y)&&isNaN(s))){if(t=t.copy(),i=t,this.ph())i=!1;else{if(this.ke=i,this.G|=2097152,Ts(this)===!1&&(F1(this),s=this.pa,s.w())){var u=this.diagram;if(u===null||u.animationManager.isTicking||!u.undoManager.isUndoingRedoing){var c=s.copy();s.h(s.x+(i.x-l.x),s.y+(i.y-l.y)),_$(this,u,s,c.x,c.y),this.g("position",c,s.copy())}}i=!0}i&&this.g("location",l,t.copy())}}},category:{get:function(){return this.Tf},set:function(t){var i=this.Tf;if(i!==t){this.svg!==null&&(this.svg.remove(),this.Hc=!0);var s=this.diagram,l=this.data,u=null;if(s!==null&&l!==null&&!(this instanceof Wt)){var c=s.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(u=this.clone(),u.O.addAll(this.O))}this.Tf=t,this.g("category",i,t),s===null||l===null||this instanceof Wt?this instanceof Wt&&(u=this.adornedPart,u!==null&&(t=u.Qf,t!==null&&t.remove(i),u.bh(this.category,this))):(c=s.model,c.undoManager.isUndoingRedoing||(this.ph()?(s.partManager.setLinkCategoryForData(l,t),s=s.partManager.findLinkTemplateForCategory(t),s!==null&&(Jr(s),s=s.copy(),s!==null&&qT(this,s,i,t))):(c!==null&&c.km(l,t),s=TD(s.partManager,l,t),s!==null&&(Jr(s),s=s.copy(),s===null||s instanceof st||(l=this.location.copy(),qT(this,s,i,t),this.location.w()||(this.location=l)))),u!==null&&(i=this.clone(),i.O.addAll(this.O),this.g("self",u,i))))}}},self:{get:function(){return this},set:function(t){qT(this,t,this.category,t.category)}},copyable:{get:function(){return(this.G&1)!==0},set:function(t){var i=(this.G&1)!==0;i!==t&&(this.G^=1,this.g("copyable",i,t))}},deletable:{get:function(){return(this.G&2)!==0},set:function(t){var i=(this.G&2)!==0;i!==t&&(this.G^=2,this.g("deletable",i,t))}},textEditable:{get:function(){return(this.G&4)!==0},set:function(t){var i=(this.G&4)!==0;i!==t&&(this.G^=4,this.g("textEditable",i,t),this.Zb())}},groupable:{get:function(){return(this.G&8)!==0},set:function(t){var i=(this.G&8)!==0;i!==t&&(this.G^=8,this.g("groupable",i,t))}},movable:{get:function(){return(this.G&16)!==0},set:function(t){var i=(this.G&16)!==0;i!==t&&(this.G^=16,this.g("movable",i,t))}},selectionAdorned:{get:function(){return(this.G&32)!==0},set:function(t){var i=(this.G&32)!==0;i!==t&&(this.G^=32,this.g("selectionAdorned",i,t),this.Zb())}},isInDocumentBounds:{get:function(){return(this.G&64)!==0},set:function(t){var i=(this.G&64)!==0;if(i!==t){this.G^=64;var s=this.diagram;s!==null&&s.Ya(),this.g("isInDocumentBounds",i,t)}}},isLayoutPositioned:{get:function(){return(this.G&128)!==0},set:function(t){var i=(this.G&128)!==0;i!==t&&(this.G^=128,this.g("isLayoutPositioned",i,t),this.C(t?4:8))}},selectable:{get:function(){return(this.G&256)!==0},set:function(t){var i=(this.G&256)!==0;i!==t&&(this.G^=256,this.g("selectable",i,t),this.Zb())}},reshapable:{get:function(){return(this.G&512)!==0},set:function(t){var i=(this.G&512)!==0;i!==t&&(this.G^=512,this.g("reshapable",i,t),this.Zb())}},resizable:{get:function(){return(this.G&1024)!==0},set:function(t){var i=(this.G&1024)!==0;i!==t&&(this.G^=1024,this.g("resizable",i,t),this.Zb())}},rotatable:{get:function(){return(this.G&2048)!==0},set:function(t){var i=(this.G&2048)!==0;i!==t&&(this.G^=2048,this.g("rotatable",i,t),this.Zb())}},isSelected:{get:function(){return(this.G&4096)!==0},set:function(t){var i=(this.G&4096)!==0;if(i!==t){var s=this.diagram;if(!t||this.canSelect()&&!(s!==null&&s.selection.count>=s.maxSelectionCount)){this.G^=4096;var l=!1;if(s!==null){l=s.skipsUndoManager,s.skipsUndoManager=!0;var u=s.selection;u.ka(),t?u.add(this):u.remove(this),u.freeze()}this.g("isSelected",i,t),this.Zb(),t=this.selectionChanged,t!==null&&t(this),s!==null&&(s.Rb(),s.skipsUndoManager=l)}}}},isHighlighted:{get:function(){return(this.G&524288)!==0},set:function(t){var i=(this.G&524288)!==0;if(i!==t){this.G^=524288;var s=this.diagram;s!==null&&(s=s.highlighteds,s.ka(),t?s.add(this):s.remove(this),s.freeze()),this.g("isHighlighted",i,t),this.N(),t=this.highlightedChanged,t!==null&&t(this)}}},isShadowed:{get:function(){return(this.G&8192)!==0},set:function(t){var i=(this.G&8192)!==0;i!==t&&(this.G^=8192,this.Hc=!0,this.g("isShadowed",i,t),this.N())}},isAnimated:{get:function(){return(this.G&262144)!==0},set:function(t){var i=(this.G&262144)!==0;i!==t&&(this.G^=262144,this.g("isAnimated",i,t))}},highlightedChanged:{get:function(){return this.P!==null?this.P.oq:null},set:function(t){var i=this.highlightedChanged;i!==t&&(Qn(this),this.P.oq=t,this.g("highlightedChanged",i,t))}},selectionObjectName:{get:function(){return this.P!==null?this.P.vr:""},set:function(t){var i=this.selectionObjectName;i!==t&&(Qn(this),this.P.vr=t,this.Ug=null,this.g("selectionObjectName",i,t))}},selectionAdornmentTemplate:{get:function(){return this.P!==null?this.P.tr:null},set:function(t){var i=this.selectionAdornmentTemplate;i!==t&&(Qn(this),this.P.tr=t,this.g("selectionAdornmentTemplate",i,t))}},selectionObject:{get:function(){if(this.Ug===null){var t=this.selectionObjectName;t!==null&&t!==""?(t=this.fb(t),t!==null?this.Ug=t:this.Ug=this):this instanceof st?(t=this.path,t!==null?this.Ug=t:this.Ug=this):this.Ug=this}return this.Ug}},selectionChanged:{get:function(){return this.P!==null?this.P.ur:null},set:function(t){var i=this.selectionChanged;i!==t&&(Qn(this),this.P.ur=t,this.g("selectionChanged",i,t))}},resizeAdornmentTemplate:{get:function(){return this.P!==null?this.P.fr:null},set:function(t){var i=this.resizeAdornmentTemplate;i!==t&&(Qn(this),this.P.fr=t,this.g("resizeAdornmentTemplate",i,t))}},resizeObjectName:{get:function(){return this.P!==null?this.P.hr:""},set:function(t){var i=this.resizeObjectName;i!==t&&(Qn(this),this.P.hr=t,this.g("resizeObjectName",i,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return t!==""&&(t=this.fb(t),t!==null)?t:this}},resizeCellSize:{get:function(){return this.P!==null?this.P.gr:fr},set:function(t){var i=this.resizeCellSize;i.D(t)||(t=t.J(),Qn(this),this.P.gr=t,this.g("resizeCellSize",i,t))}},rotateAdornmentTemplate:{get:function(){return this.P!==null?this.P.ir:null},set:function(t){var i=this.rotateAdornmentTemplate;i!==t&&(Qn(this),this.P.ir=t,this.g("rotateAdornmentTemplate",i,t))}},rotateObjectName:{get:function(){return this.P!==null?this.P.jr:""},set:function(t){var i=this.rotateObjectName;i!==t&&(Qn(this),this.P.jr=t,this.g("rotateObjectName",i,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return t!==""&&(t=this.fb(t),t!==null)?t:this}},rotationSpot:{get:function(){return this.P!==null?this.P.lr:Yi},set:function(t){var i=this.rotationSpot;i.D(t)||(t=t.J(),Qn(this),this.P.lr=t,this.g("rotationSpot",i,t))}},text:{get:function(){return this.gc},set:function(t){var i=this.gc;i!==t&&(this.gc=t,this.g("text",i,t))}},containingGroup:{get:function(){return this.Ah},set:function(t){if(this.Zc()){var i=this.Ah;if(i!==t){t===null||this!==t&&!t.Td(this)||(this===t&&D("Cannot make a Group a member of itself: "+this.toString()),D("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var s=this.diagram;if(i!==null?nC(i,this):this instanceof Et&&s!==null&&s.ai.remove(this),this.Ah=t,t!==null?iC(t,this):this instanceof Et&&s!==null&&s.ai.add(this),this.C(1),s!==null&&s.aa){var l=this.data,u=s.model;if(l!==null&&u.Wj()){var c=u.wa(t!==null?t.data:null);u.mp(l,c)}}if(l=this.containingGroupChanged,l!==null&&(u=!0,s!==null&&(u=s.aa,s.aa=!0),l(this,i,t),s!==null&&(s.aa=u)),this instanceof Et){for(s=new ut,Eu(s,this,!0,0,!0),s=s.iterator;s.next();)if(l=s.value,l instanceof ft)for(l=l.linksConnected;l.next();)Fp(l.value)}if(this instanceof ft){for(s=this.linksConnected;s.next();)Fp(s.value);s=this.labeledLink,s!==null&&Fp(s)}this.g("containingGroup",i,t),t!==null&&(i=t.layer,i!==null&&Xx(i,-1,t))}}else D("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.P!==null?this.P.Kp:null},set:function(t){var i=this.containingGroupChanged;i!==t&&(Qn(this),this.P.Kp=t,this.g("containingGroupChanged",i,t))}},isTopLevel:{get:function(){return!(this.containingGroup!==null||this instanceof ft&&this.labeledLink!==null)}},layoutConditions:{get:function(){return this.P!==null?this.P.Cq:127},set:function(t){var i=this.layoutConditions;i!==t&&(Qn(this),this.P.Cq=t,this.g("layoutConditions",i,t))}},dragComputation:{get:function(){return this.P!==null?this.P.Up:null},set:function(t){var i=this.dragComputation;i!==t&&(Qn(this),this.P.Up=t,this.g("dragComputation",i,t))}},shadowOffset:{get:function(){return this.P!==null?this.P.zr:wa},set:function(t){var i=this.shadowOffset;i.D(t)||(t=t.J(),Qn(this),this.P.zr=t,this.N(),this.g("shadowOffset",i,t))}},shadowColor:{get:function(){return this.P!==null?this.P.yr:"gray"},set:function(t){var i=this.shadowColor;i!==t&&(Qn(this),this.P.yr=t,this.N(),this.g("shadowColor",i,t))}},shadowBlur:{get:function(){return this.P!==null?this.P.Vg:4},set:function(t){var i=this.shadowBlur;i!==t&&(Qn(this),this.P.Vg=t,this.N(),this.g("shadowBlur",i,t))}}}),kt.prototype.invalidateLayout=kt.prototype.C,kt.prototype.findCommonContainingGroup=kt.prototype.sx,kt.prototype.isMemberOf=kt.prototype.Td,kt.prototype.findTopLevelPart=kt.prototype.yz,kt.prototype.findSubGraphLevel=kt.prototype.uz,kt.prototype.ensureBounds=kt.prototype.Va,kt.prototype.getDocumentBounds=kt.prototype.ni,kt.prototype.findObject=kt.prototype.fb,kt.prototype.moveTo=kt.prototype.moveTo,kt.prototype.invalidateAdornments=kt.prototype.Zb,kt.prototype.clearAdornments=kt.prototype.Ej,kt.prototype.removeAdornment=kt.prototype.Jf,kt.prototype.addAdornment=kt.prototype.bh,kt.prototype.findAdornment=kt.prototype.Oj,kt.prototype.updateTargetBindings=kt.prototype.La;var H$=!1;kt.className="Part",kt.LayoutNone=0,kt.LayoutAdded=1,kt.LayoutRemoved=2,kt.LayoutShown=4,kt.LayoutHidden=8,kt.LayoutNodeSized=16,kt.LayoutGroupLayout=32,kt.LayoutNodeReplaced=64,kt.LayoutStandard=127,kt.LayoutAll=16777215;function Wt(t,i){t===void 0||t instanceof ni||typeof t=="string"?kt.call(this,t):(kt.call(this),t&&(i=t)),this.G&=-257,this.Jg="Adornment",this.ue=null,this.Cw=0,this.Ww=!1,this.j=this.$a=null,i&&Object.assign(this,i)}v(Wt,kt),Wt.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(t!==null?t.toString():"")},Wt.prototype.updateRelationshipsFromData=function(){},Wt.prototype.Ul=function(t){var i=this.adornedObject,s=i==null?void 0:i.part;if(s instanceof st&&i instanceof It){i=s.path,s.Ul(t),t=i.geometry,s=this.O.s,i=s.length;for(var l=0;l<i;l++){var u=s[l];u.isPanelMain&&u instanceof It&&(u.ua=t)}}},Wt.prototype.ti=function(){var t=this.ue;return t===null?!0:(t=t.part,t===null||!Ts(t))},Wt.prototype.Zc=function(){return!1},Wt.prototype.fk=function(t,i,s,l,u,c,d){if(t===ei&&i==="elements"){if(u instanceof On)this.$a===null&&(this.$a=u);else if(u instanceof nt){var m=u.Nl(function(y){return y instanceof On});m instanceof On&&this.$a===null&&(this.$a=m)}}else t===ui&&i==="elements"&&this.$a!==null&&(l===this.$a?this.$a=null:l instanceof nt&&this.$a.rg(l)&&(this.$a=null));kt.prototype.fk.call(this,t,i,s,l,u,c,d)},Wt.prototype.updateAdornments=function(){},Wt.prototype.Lj=function(){},S.Object.defineProperties(Wt.prototype,{placeholder:{get:function(){return this.$a}},adornedObject:{get:function(){return this.ue},set:function(t){var i=this.adornedPart,s=null;t!==null&&(s=t.part),i===null||t!==null&&i===s||i.Jf(this.category),this.ue=t,s!==null&&s.bh(this.category,this)}},adornedPart:{get:function(){var t=this.ue;return t!==null?t.part:null}},containingGroup:{get:function(){return null}}}),Wt.className="Adornment";function tC(){this.pc=!1,this.Vr=this.hj=this.Eq=this.Dq=null,this.yp=eb,this.er=_y,this.Kr=this.jj=this.Nq=this.Mq=null}tC.prototype.copy=function(){var t=new tC;return t.Dq=this.Dq,t.Eq=this.Eq,t.hj=this.hj,t.Vr=this.Vr,t.yp=this.yp.J(),t.er=this.er,t.Mq=this.Mq,t.Nq=this.Nq,t.jj=this.jj,t.Kr=this.Kr,t};function ft(t,i){t===void 0||t instanceof ni||typeof t=="string"?kt.call(this,t):(kt.call(this),t&&(i=t)),this.R=13,this.Ba=null,this.jb=new ct,this.wc=this.af=this.Xk=null,this.ci=!1,i&&Object.assign(this,i)}v(ft,kt),ft.prototype.cloneProtected=function(t){kt.prototype.cloneProtected.call(this,t),t.R=this.R,this.Ba!==null&&(t.Ba=this.Ba.pc?this.Ba:this.Ba.copy())},n=ft.prototype,n.Af=function(t){kt.prototype.Af.call(this,t),t.Bd(),t.af=this.af,t.wc=null};function La(t){t.Ba===null?t.Ba=new tC:t.Ba.pc&&(t.Ba=t.Ba.copy())}n.th=function(){kt.prototype.th.call(this),this.Ba!==null&&(this.Ba.pc=!0)};function K$(t,i){i!==null&&(t.af===null&&(t.af=new ut),t.af.add(i))}function J$(t,i,s,l){if(i===null||t.af===null)return null;for(var u=t.af.iterator;u.next();){var c=u.value;if(c.Ds===t&&c.fv===i&&c.Qx===s&&c.Rx===l||c.Ds===i&&c.fv===t&&c.Qx===l&&c.Rx===s)return c}return null}n.Qz=function(t,i,s){i==null&&(i=""),s==null&&(s=""),t=J$(this,t,i,s),t!==null&&t.Sl()},n.fk=function(t,i,s,l,u,c,d){t===ei&&i==="elements"?this.wc=null:t===ui&&i==="elements"&&(this.wc=null),kt.prototype.fk.call(this,t,i,s,l,u,c,d)},n.Bd=function(t){for(var i=this.linksConnected;i.next();){var s=i.value;t!==void 0&&t.contains(s)||(Jn(s.fromPort),Jn(s.toPort),s.bb())}};function tD(t,i){for(t=t.linksConnected;t.next();){var s=t.value;(s.fromPort===i||s.toPort===i)&&(Jn(s.fromPort),Jn(s.toPort),s.bb())}}function Jn(t){if(t!==null){var i=t.$n;i!==null&&i.Sl(),t=t.part,i=t.containingGroup,i===null||t.isVisible()||Jn(i.port)}}n.ti=function(){return!0},ft.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.Do(this.avoidableMargin),t},ft.prototype.findVisibleNode=function(){for(var t=this;t!==null&&!t.isVisible();)t=t.containingGroup;return t},ft.prototype.isVisible=function(){if(!kt.prototype.isVisible.call(this))return!1;var t=!0,i=$h,s=this.diagram;if(s!==null){if(s.animationManager.Fs(this))return!0;t=s.isTreePathToChildren,i=s.treeCollapsePolicy}if(i===$h){if(t=this.pg(),t!==null&&!t.isTreeExpanded)return!1}else if(i===Jx){if(t=t?this.Po():this.Qo(),0<t.count&&t.all(function(l){return!l.isTreeExpanded}))return!1}else if(i===t1&&(t=t?this.Po():this.Qo(),0<t.count&&t.any(function(l){return!l.isTreeExpanded})))return!1;return t=this.labeledLink,t!==null?t.isVisible():!0},ft.prototype.bc=function(t){kt.prototype.bc.call(this,t);for(var i=this.linksConnected;i.next();){var s=i.value;if(t&&this.containingGroup!==null){var l=s.Uo(this);l===null||l.Td(this.containingGroup)||s.bb()}s.bc(t)}},ft.prototype.tx=function(){var t=new ut,i=new ut;return eD(this,this,t,i),i.iterator};function eD(t,i,s,l){if(i!==null&&!s.has(i)){s.add(i);var u=!0,c=t.diagram;c!==null&&(u=c.isTreePathToChildren),i.linksConnected.each(function(d){d.isTreeLink?(u?d.fromNode===i:d.toNode===i)&&eD(t,u?d.toNode:d.fromNode,s,l):l.add(d)})}}ft.prototype.findLinksConnected=function(t){if(t===void 0&&(t=null),t===null)return this.jb.iterator;var i=new ti(this.jb),s=this;return i.predicate=function(l){return l.fromNode===s&&l.fromPortId===t||l.toNode===s&&l.toPortId===t},i},n=ft.prototype,n.No=function(t){t===void 0&&(t=null);var i=new ti(this.jb),s=this;return i.predicate=function(l){return l.fromNode!==s?!1:t===null?!0:l.fromPortId===t},i},n.Sd=function(t){t===void 0&&(t=null);var i=new ti(this.jb),s=this;return i.predicate=function(l){return l.toNode!==s?!1:t===null?!0:l.toPortId===t},i},n.Ou=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.fromNode===this?(t===null||u.fromPortId===t)&&(u=u.toNode,i!==null?i.add(u):s!==null&&s!==u?(i=new ut,i.add(s),i.add(u)):s=u):u.toNode!==this||t!==null&&u.toPortId!==t||(u=u.fromNode,i!==null?i.add(u):s!==null&&s!==u?(i=new ut,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Xe(s):fi},n.Qo=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.fromNode!==this||t!==null&&u.fromPortId!==t||(u=u.toNode,i!==null?i.add(u):s!==null&&s!==u?(i=new ut,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Xe(s):fi},n.Po=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.toNode!==this||t!==null&&u.toPortId!==t||(u=u.fromNode,i!==null?i.add(u):s!==null&&s!==u?(i=new ut,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Xe(s):fi},n.oz=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null);var l=new ti(this.jb),u=this;return l.predicate=function(c){return!((c.fromNode!==u||c.toNode!==t||i!==null&&c.fromPortId!==i||s!==null&&c.toPortId!==s)&&(c.fromNode!==t||c.toNode!==u||s!==null&&c.fromPortId!==s||i!==null&&c.toPortId!==i))},l},n.pz=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null);var l=new ti(this.jb),u=this;return l.predicate=function(c){return!(c.fromNode!==u||c.toNode!==t||i!==null&&c.fromPortId!==i||s!==null&&c.toPortId!==s)},l};function z1(t,i,s){Jn(s);var l=t.jb.contains(i);if(l||t.jb.add(i),!l||i.fromNode===i.toNode){var u=t.linkConnected;if(u!==null){var c=!0,d=t.diagram;d!==null&&(c=d.aa,d.aa=!0),u(t,i,s),d!==null&&(d.aa=c)}}!l&&i.isTreeLink&&(s=i.fromNode,i=i.toNode,s!==null&&i!==null&&s!==i&&(l=!0,t=t.diagram,t!==null&&(l=t.isTreePathToChildren),u=l?i:s,c=l?s:i,u.ci||(u.ci=c),!c.isTreeLeaf||t!==null&&t.undoManager.isUndoingRedoing||(l?s===c&&(c.isTreeLeaf=!1):i===c&&(c.isTreeLeaf=!1))))}function B1(t,i,s){Jn(s);var l=t.jb.remove(i),u=null;if(l||i.toNode===i.fromNode){var c=t.linkDisconnected;if(u=t.diagram,c!==null){var d=!0;u!==null&&(d=u.aa,u.aa=!0),c(t,i,s),u!==null&&(u.aa=d)}}l&&i.isTreeLink&&(s=!0,u!==null&&(s=u.isTreePathToChildren),t=s?i.toNode:i.fromNode,i=s?i.fromNode:i.toNode,t!==null&&(t.ci=!1),i===null||i.isTreeLeaf||(i.jb.count===0?(i.ci=null,u!==null&&u.undoManager.isUndoingRedoing||(i.isTreeLeaf=!0)):Xy(i)))}function Xy(t){if(t.ci=!1,t.jb.count!==0){var i=!0,s=t.diagram;if(s===null||!s.undoManager.isUndoingRedoing){for(s!==null&&(i=s.isTreePathToChildren),s=t.jb.iterator;s.next();){var l=s.value;if(l.isTreeLink){if(i){if(l.fromNode===t){t.isTreeLeaf=!1;return}}else if(l.toNode===t){t.isTreeLeaf=!1;return}}}t.isTreeLeaf=!0}}}ft.prototype.updateRelationshipsFromData=function(){var t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)},n=ft.prototype,n.Wo=function(t){kt.prototype.Wo.call(this,t),t||(Xy(this),t=this.Xk,t!==null&&cD(t,this))},n.Xo=function(t){kt.prototype.Xo.call(this,t),t||(t=this.Xk,t!==null&&t.wd!==null&&(t.wd.remove(this),t.v()))},n.Lj=function(){if(0<this.jb.count){var t=this.diagram;if(t!==null)for(var i=t.commandHandler!==null?t.commandHandler.deletesConnectedLinks:!0,s=this.jb.copy().iterator;s.next();){var l=s.value;i?t.remove(l):(l.fromNode===this&&(l.fromNode=null),l.toNode===this&&(l.toNode=null))}}this.labeledLink=null,kt.prototype.Lj.call(this)},n.ns=function(t){if(this.wc===null){if(t===""&&this.Te===!1)return this;iD(this)}var i=this.wc.I(t);return i!==null||t!==""&&(i=this.wc.I(""),i!==null)?i:this};function iD(t){t.wc===null?t.wc=new jt:t.wc.clear(),t.rm(t,function(i,s){nD(i,s)}),t.wc.count===0&&t.wc.add("",t)}function nD(t,i){var s=i.portId;s!==null&&t.wc!==null&&t.wc.add(s,i)}function eC(t,i,s){var l=i.portId;if(l!==null&&(t.wc!==null&&t.wc.remove(l),i=t.diagram,i!==null&&s)){for(s=null,t=t.findLinksConnected(l);t.next();)l=t.value,s===null&&(s=St()),s.push(l);if(s!==null){for(t=0;t<s.length;t++)i.remove(s[t]);mt(s)}}}n.Sz=function(t){if(t===null||t===this)return!1;var i=!0,s=this.diagram;if(s!==null&&(i=s.isTreePathToChildren),s=this,i)for(;s!==t;){i=null;for(var l=s.jb.iterator;l.next();){var u=l.value;if(u.isTreeLink&&(i=u.fromNode,i!==s&&i!==this))break}if(i===this||i===null||i===s)return!1;s=i}else for(;s!==t;){for(i=null,l=s.jb.iterator;l.next()&&(u=l.value,!u.isTreeLink||(i=u.toNode,i===s||i===this)););if(i===this||i===null||i===s)return!1;s=i}return!0},n.Cz=function(){var t=!0,i=this.diagram;if(i!==null&&(t=i.isTreePathToChildren),i=this,t)for(;;){t=null;for(var s=i.jb.iterator;s.next();){var l=s.value;if(l.isTreeLink&&(t=l.fromNode,t!==i&&t!==this))break}if(t===this)return this;if(t===null||t===i)return i;i=t}else for(;;){for(t=null,s=i.jb.iterator;s.next()&&(l=s.value,!l.isTreeLink||(t=l.toNode,t===i||t===this)););if(t===this)return this;if(t===null||t===i)return i;i=t}},n.lz=function(t){if(t===null)return null;if(this===t)return this;for(var i=this;i!==null;)V1(i,!0),i=i.pg();var s=null;for(i=t;i!==null;){if(i.G&1048576){s=i;break}i=i.pg()}for(i=this;i!==null;)V1(i,!1),i=i.pg();return s},n.kh=function(){var t=!0,i=this.diagram;if(i!==null&&(t=i.isTreePathToChildren),i=this.jb.iterator,t){for(;i.next();)if(t=i.value,t.isTreeLink&&t.fromNode!==this)return t}else for(;i.next();)if(t=i.value,t.isTreeLink&&t.toNode!==this)return t;return null},n.pg=function(){var t=this.ci;if(t===null)return null;if(t instanceof ft)return t;t=this.diagram,t=t!==null?t.isTreePathToChildren:!0;for(var i=this.jb.iterator;i.next();){var s=i.value;if(s.isTreeLink&&(s=t?s.fromNode:s.toNode,s!==this))return this.ci=s}return this.ci=null},n.Az=function(){function t(s,l){l.add(s);var u=s.kh();u!==null&&(l.add(u),s=s.pg(),s!==null&&t(s,l))}var i=new ut;return t(this,i),i},n.zz=function(){return rD(this,this)};function rD(t,i){return i=i.pg(),i===null?0:1+rD(t,i)}n.Ro=function(){var t=!0,i=this.diagram;i!==null&&(t=i.isTreePathToChildren),i=new ti(this.jb);var s=this;return i.predicate=t?function(l){return!!(l.isTreeLink&&l.fromNode===s)}:function(l){return!!(l.isTreeLink&&l.toNode===s)},i},n.Qu=function(){var t=!0,i=this.diagram;i!==null&&(t=i.isTreePathToChildren);var s=i=null,l=this.jb.iterator;if(t)for(;l.next();)t=l.value,t.isTreeLink&&t.fromNode===this&&(t=t.toNode,i!==null?i.add(t):s!==null&&s!==t?(i=new ct,i.add(s),i.add(t)):s=t);else for(;l.next();)t=l.value,t.isTreeLink&&t.toNode===this&&(t=t.fromNode,i!==null?i.add(t):s!==null&&s!==t?(i=new ct,i.add(s),i.add(t)):s=t);return i!==null?i.iterator:s!==null?new Xe(s):fi},n.Bz=function(t){t===void 0&&(t=1/0);var i=new ut;return Eu(i,this,!1,t,!0),i},ft.prototype.collapseTree=function(t){t===void 0&&(t=1),1>t&&(t=1);var i=this.diagram;if(i!==null&&!i.Ue){i.Ue=!0;var s=new ut;s.add(this),sD(this,s,i.isTreePathToChildren,t,i,this,i.treeCollapsePolicy===$h),i.Ue=!1}};function sD(t,i,s,l,u,c,d){if(1<l)for(var m=s?t.No():t.Sd();m.next();){var y=m.value;y.isTreeLink&&(y=y.Uo(t),y===null||y===t||i.contains(y)||(i.add(y),sD(y,i,s,l-1,u,c)))}else oD(t,i,s,u,c)}function oD(t,i,s,l,u,c){for(var d=u===t?!0:t.isTreeExpanded,m=s?t.No():t.Sd(),y={};m.next();){var O=m.value;if(O.isTreeLink&&(O=O.Uo(t),O!==null&&O!==t)){var w=i.contains(O);if(w||i.add(O),d){var k=s?O.Po():O.Qo();y.wv=t,k.all(function(P){return function(T){return T===P.wv||!T.isTreeExpanded}}(y))&&l.Bj(O,u),O.oh(),O.bc(!1)}O.isTreeExpanded&&(O.wasTreeExpanded=O.isTreeExpanded,w||oD(O,i,s,l,u))}y={wv:y.wv}}t.isTreeExpanded=!1}ft.prototype.expandTree=function(t){t===void 0&&(t=2),2>t&&(t=2);var i=this.diagram;if(i!==null&&!i.Ue){i.Ue=!0;var s=new ut;s.add(this),lD(this,s,i.isTreePathToChildren,t,i,this,i.treeCollapsePolicy===$h),i.Ue=!1}};function lD(t,i,s,l,u,c,d){for(var m=c===t?!1:t.isTreeExpanded,y=s?t.No():t.Sd(),O={};y.next();){var w=y.value;if(w.isTreeLink&&(m||w.fd||w.bb(),w=w.Uo(t),w!==null&&w!==t&&!i.contains(w))){if(i.add(w),!m){w.bc(!0),w.oh();var k=s?w.Po():w.Qo();O.xv=t,k.all(function(P){return function(T){return T===P.xv||!T.isTreeExpanded}}(O))&&u.Dj(w,c)}(2<l||w.wasTreeExpanded)&&(w.wasTreeExpanded=!1,lD(w,i,s,l-1,u,c))}O={xv:O.xv}}t.isTreeExpanded=!0}S.Object.defineProperties(ft.prototype,{portSpreading:{get:function(){return this.Ba!==null?this.Ba.er:_y},set:function(t){var i=this.portSpreading;i!==t&&(La(this),this.Ba.er=t,this.g("portSpreading",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.Bd())}},avoidable:{get:function(){return(this.R&8)!==0},set:function(t){var i=(this.R&8)!==0;if(i!==t){this.R^=8;var s=this.diagram;s!==null&&rT(s,this),this.g("avoidable",i,t)}}},avoidableMargin:{get:function(){return this.Ba!==null?this.Ba.yp:eb},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.avoidableMargin;if(!i.D(t)){t=t.J(),La(this),this.Ba.yp=t;var s=this.diagram;s!==null&&rT(s,this),this.g("avoidableMargin",i,t)}}},linksConnected:{get:function(){return this.jb.iterator}},linkConnected:{get:function(){return this.Ba!==null?this.Ba.Dq:null},set:function(t){var i=this.linkConnected;i!==t&&(La(this),this.Ba.Dq=t,this.g("linkConnected",i,t))}},linkDisconnected:{get:function(){return this.Ba!==null?this.Ba.Eq:null},set:function(t){var i=this.linkDisconnected;i!==t&&(La(this),this.Ba.Eq=t,this.g("linkDisconnected",i,t))}},linkValidation:{get:function(){return this.Ba!==null?this.Ba.hj:null},set:function(t){var i=this.linkValidation;i!==t&&(La(this),this.Ba.hj=t,this.g("linkValidation",i,t))}},isLinkLabel:{get:function(){return this.Xk!==null}},labeledLink:{get:function(){return this.Xk},set:function(t){var i=this.Xk;if(i!==t){var s=this.diagram,l=this.data;if(i!==null){if(i.wd!==null&&(i.wd.remove(this),i.v()),s!==null&&l!==null&&!s.undoManager.isUndoingRedoing){var u=i.data,c=s.model;if(u!==null&&c.si()){var d=c.wa(l);d!==void 0&&c.Sx(u,d)}}this.containingGroup=null}this.Xk=t,t!==null&&(cD(t,this),s===null||l===null||s.undoManager.isUndoingRedoing||(u=t.data,s=s.model,u!==null&&s.si()&&(l=s.wa(l),l!==void 0&&s.Cu(u,l))),this.containingGroup=t.containingGroup),kp(this),this.g("labeledLink",i,t)}}},port:{get:function(){return this.ns("")}},ports:{get:function(){return this.wc===null&&iD(this),this.wc.iteratorValues}},isTreeExpanded:{get:function(){return(this.R&1)!==0},set:function(t){var i=(this.R&1)!==0;if(i!==t){this.R^=1;var s=this.diagram;if(this.g("isTreeExpanded",i,t),i=this.treeExpandedChanged,i!==null){var l=!0;s!==null&&(l=s.aa,s.aa=!0),i(this),s!==null&&(s.aa=l)}s!==null&&s.undoManager.isUndoingRedoing?this.bc(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return(this.R&2)!==0},set:function(t){var i=(this.R&2)!==0;i!==t&&(this.R^=2,this.g("wasTreeExpanded",i,t))}},treeExpandedChanged:{get:function(){return this.Ba!==null?this.Ba.Vr:null},set:function(t){var i=this.treeExpandedChanged;i!==t&&(La(this),this.Ba.Vr=t,this.g("treeExpandedChanged",i,t))}},isTreeLeaf:{get:function(){return(this.R&4)!==0},set:function(t){var i=(this.R&4)!==0;i!==t&&(this.R^=4,this.g("isTreeLeaf",i,t))}}}),ft.prototype.expandTree=ft.prototype.expandTree,ft.prototype.collapseTree=ft.prototype.collapseTree,ft.prototype.findTreeParts=ft.prototype.Bz,ft.prototype.findTreeChildrenNodes=ft.prototype.Qu,ft.prototype.findTreeChildrenLinks=ft.prototype.Ro,ft.prototype.findTreeLevel=ft.prototype.zz,ft.prototype.findTreeParentChain=ft.prototype.Az,ft.prototype.findTreeParentNode=ft.prototype.pg,ft.prototype.findTreeParentLink=ft.prototype.kh,ft.prototype.findCommonTreeParent=ft.prototype.lz,ft.prototype.findTreeRoot=ft.prototype.Cz,ft.prototype.isInTreeOf=ft.prototype.Sz,ft.prototype.findPort=ft.prototype.ns,ft.prototype.findLinksTo=ft.prototype.pz,ft.prototype.findLinksBetween=ft.prototype.oz,ft.prototype.findNodesInto=ft.prototype.Po,ft.prototype.findNodesOutOf=ft.prototype.Qo,ft.prototype.findNodesConnected=ft.prototype.Ou,ft.prototype.findLinksInto=ft.prototype.Sd,ft.prototype.findLinksOutOf=ft.prototype.No,ft.prototype.findExternalTreeLinksConnected=ft.prototype.tx,ft.prototype.invalidateConnectedLinks=ft.prototype.Bd,ft.prototype.invalidateLinkBundle=ft.prototype.Qz;var aD=new it(ft,"SpreadingNone",10),_y=new it(ft,"SpreadingEvenly",11),X1=new it(ft,"SpreadingPacked",12);ft.className="Node",ft.SpreadingNone=aD,ft.SpreadingEvenly=_y,ft.SpreadingPacked=X1;function Et(t,i){t===void 0||t instanceof ni||typeof t=="string"?ft.call(this,t):(ft.call(this),t&&(i=t)),this.R|=4608,this.Hn=new ut,this.$a=null,this.Tc=new ye,this.Tc.group=this,this.fl=new ut,this.tb=this.$p=null,i&&Object.assign(this,i)}v(Et,ft),Et.prototype.cloneProtected=function(t){ft.prototype.cloneProtected.call(this,t),this.R=this.R&-32769;var i=t.Nl(function(s){return s instanceof On});i instanceof On?t.$a=i:t.$a=null,this.Tc!==null?(t.Tc=this.Tc.copy(),t.Tc.group=t):(t.Tc!==null&&(t.Tc.group=null),t.Tc=null),this.tb!==null&&(t.tb=this.tb.copy())},n=Et.prototype,n.Af=function(t){ft.prototype.Af.call(this,t);var i=t.Qj();for(t=t.memberParts;t.next();){var s=t.value;if(s.v(),s.C(8),s.Ej(),s instanceof ft)s.Bd(i);else if(s instanceof st)for(s=s.labelNodes;s.next();)s.value.Bd(i)}},n.fk=function(t,i,s,l,u,c,d){if(t===ei&&i==="elements"){if(u instanceof On)this.$a===null?this.$a=u:this.$a!==u&&D("Cannot insert a second Placeholder into the visual tree of a Group.");else if(u instanceof nt){var m=u.Nl(function(y){return y instanceof On});m instanceof On&&(this.$a===null?this.$a=m:this.$a!==m&&D("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===ui&&i==="elements"&&this.$a!==null&&(l===this.$a?this.$a=null:l instanceof nt&&this.$a.rg(l)&&(this.$a=null));ft.prototype.fk.call(this,t,i,s,l,u,c,d)},n.Yl=function(t,i){ft.prototype.Yl.call(this,t,i),this.isClipping&&this.type!==nt.Spot&&this.isSubGraphExpanded&&(t=this.resizeObject,t instanceof nt&&(t=t.Qb()),this.tb===null&&(this.tb=new J),t.ni(this.tb),t instanceof It&&this.tb.Bc(-t.strokeWidth,-t.strokeWidth))},n.eh=function(t,i,s,l){this.nf=this.$a,ft.prototype.eh.call(this,t,i,s,l)},n.Va=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(i){!t.computesBoundsIncludingLinks&&i instanceof st||i.Va()}),ft.prototype.Va.call(this)},n.ti=function(){if(!ft.prototype.ti.call(this))return!1;for(var t=this.memberParts;t.next();){var i=t.value;if(i instanceof ft){if(i.isVisible()&&Ts(i))return!1}else if(i instanceof st&&i.isVisible()&&Ts(i)&&i.fromNode!==this&&i.toNode!==this)return!1}return!0};function iC(t,i){if(t.Hn.add(i)){i instanceof Et&&t.fl.add(i);var s=t.memberAdded;if(s!==null){var l=!0,u=t.diagram;u!==null&&(l=u.aa,u.aa=!0),s(t,i),u!==null&&(u.aa=l)}t.isVisible()&&t.isSubGraphExpanded||i.bc(!1)}i instanceof st&&!t.computesBoundsIncludingLinks||(i=t.$a,i===null&&(i=t),i.v())}function nC(t,i){if(t.Hn.remove(i)){i instanceof Et&&t.fl.remove(i);var s=t.memberRemoved;if(s!==null){var l=!0,u=t.diagram;u!==null&&(l=u.aa,u.aa=!0),s(t,i),u!==null&&(u.aa=l)}t.isVisible()&&t.isSubGraphExpanded||i.bc(!0)}i instanceof st&&!t.computesBoundsIncludingLinks||(i=t.$a,i===null&&(i=t),i.v())}n.Lj=function(){if(0<this.Hn.count){var t=this.diagram;if(t!==null)for(var i=this.Hn.copy().iterator;i.next();)t.remove(i.value)}ft.prototype.Lj.call(this)},Et.prototype.canAddMembers=function(t){var i=this.diagram;if(i===null)return!1;for(i=i.commandHandler,t=hT(t).iterator;t.next();)if(!i.isValidMember(this,t.value))return!1;return!0},Et.prototype.addMembers=function(t,i){var s=this.diagram;if(s===null)return!1;s=s.commandHandler;var l=!0;for(t=hT(t).iterator;t.next();){var u=t.value;!i||s.isValidMember(this,u)?u.containingGroup=this:l=!1}return l},Et.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return t===null||!t.allowUngroup?!1:(t=t.diagram,!!(t===null||t.allowUngroup))},n=Et.prototype,n.Bd=function(t){var i=(this.R&65536)!==0;if(ft.prototype.Bd.call(this,t),!i)for(!(this.R&65536)&&(this.R=this.R^65536),i=this.Nu();i.next();){var s=i.value;if(t===void 0||!t.contains(s)){var l=s.fromNode;l!==null&&l!==this&&l.Td(this)&&!l.isVisible()?(Jn(s.fromPort),Jn(s.toPort),s.bb()):(l=s.toNode,l!==null&&l!==this&&l.Td(this)&&!l.isVisible()&&(Jn(s.fromPort),Jn(s.toPort),s.bb()))}}},n.Nu=function(){var t=this.diagram!==null&&this.diagram.Rw;if(t&&this.$p!==null)return this.$p.iterator;var i=this.Qj();i.add(this);for(var s=new ut,l=i.iterator;l.next();){var u=l.value;if(u instanceof ft)for(u=u.linksConnected;u.next();){var c=u.value;i.contains(c)||s.add(c)}}return t&&(this.$p=s),s.iterator},n.nz=function(){var t=this.Qj();t.add(this);for(var i=new ut,s=t.iterator;s.next();){var l=s.value;if(l instanceof ft)for(l=l.linksConnected;l.next();){var u=l.value,c=u.fromNode;c===null||t.contains(c)&&c!==this||i.add(c),u=u.toNode,u===null||t.contains(u)&&u!==this||i.add(u)}}return i.iterator},n.mz=function(){function t(s,l){s!==null&&(l.add(s),t(s.containingGroup,l))}var i=new ut;return t(this,i),i},n.Qj=function(){var t=new ut;return Eu(t,this,!0,0,!0),t.remove(this),t},n.bc=function(t){ft.prototype.bc.call(this,t);for(var i=this.memberParts;i.next();)i.value.bc(t)},Et.prototype.collapseSubGraph=function(){var t=this.diagram;if(t!==null&&!t.Ue){t.Ue=!0;var i=this.Qj();uD(this,i,t,this),t.Ue=!1}};function uD(t,i,s,l){for(var u=t.memberParts;u.next();){var c=u.value;if(c.bc(!1),c instanceof Et&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,uD(c,i,s,l)),c instanceof ft)c.Bd(i),s.Bj(c,l);else if(c instanceof st)for(c=c.labelNodes;c.next();)c.value.Bd(i)}t.isSubGraphExpanded=!1}Et.prototype.expandSubGraph=function(){var t=this.diagram;if(t!==null&&!t.Ue){t.Ue=!0;var i=this.Qj();hD(this,i,t,this),t.Ue=!1}};function hD(t,i,s,l){for(var u=t.memberParts;u.next();){var c=u.value;if(c.bc(!0),c instanceof Et&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,hD(c,i,s,l)),c instanceof ft)c.Bd(i),s.Dj(c,l);else if(c instanceof st)for(c=c.labelNodes;c.next();)c.value.Bd(i)}t.isSubGraphExpanded=!0}Et.prototype.move=function(t,i){i===void 0&&(i=!1);var s=i?this.location:this.position,l=s.x;s=s.y;var u=t.x,c=t.y;if(!(l===u||isNaN(l)&&isNaN(u))||!(s===c||isNaN(s)&&isNaN(c))){for(l=u-(isNaN(l)?0:l),s=c-(isNaN(s)?0:s),c=F.alloc(),ft.prototype.move.call(this,t,i),t=new ut,i=this.Qj().iterator;i.next();)u=i.value,u instanceof st&&(u.suspendsRouting&&t.add(u),u.fd||u.fromNode!==this&&u.toNode!==this)&&(u.suspendsRouting=!0);for(i.reset();i.next();)if(u=i.value,!(u.ph()||u instanceof ft&&u.isLinkLabel)){var d=u.position,m=u.location;d.w()?(c.x=d.x+l,c.y=d.y+s,u.position=c):m.w()&&(c.x=m.x+l,c.y=m.y+s,u.location=c)}for(i.reset();i.next();)u=i.value,u instanceof st&&(u.suspendsRouting=t.contains(u),u.fd||u.fromNode!==this&&u.toNode!==this)&&(d=u.position,c.x=d.x+l,c.y=d.y+s,c.w()?u.move(c):u.bb());F.free(c)}},S.Object.defineProperties(Et.prototype,{placeholder:{get:function(){return this.$a}},computesBoundsAfterDrag:{get:function(){return(this.R&2048)!==0},set:function(t){var i=(this.R&2048)!==0;i!==t&&(this.R^=2048,this.g("computesBoundsAfterDrag",i,t))}},computesBoundsIncludingLinks:{get:function(){return(this.R&4096)!==0},set:function(t){var i=(this.R&4096)!==0;i!==t&&(this.R^=4096,this.g("computesBoundsIncludingLinks",i,t))}},computesBoundsIncludingLocation:{get:function(){return(this.R&8192)!==0},set:function(t){var i=(this.R&8192)!==0;i!==t&&(this.R^=8192,this.g("computesBoundsIncludingLocation",i,t))}},handlesDragDropForMembers:{get:function(){return(this.R&16384)!==0},set:function(t){var i=(this.R&16384)!==0;i!==t&&(this.R^=16384,this.g("handlesDragDropForMembers",i,t))}},avoidableMembers:{get:function(){return(this.R&131072)!==0},set:function(t){var i=(this.R&131072)!==0;i!==t&&(this.R^=131072,this.g("avoidableMembers",i,t))}},memberParts:{get:function(){return this.Hn.iterator}},layout:{get:function(){return this.Tc},set:function(t){var i=this.Tc;if(i!==t){t!==null&&t.diagram!==null&&t.diagram.layout===t&&D("A layout cannot be both the Diagram.layout and a Group.layout: "+t),i!==null&&(i.diagram=null,i.group=null),this.Tc=t;var s=this.diagram;t!==null&&(t.diagram=s,t.group=this),s!==null&&(s.xh=!0),this.g("layout",i,t),s!==null&&s.Rb()}}},memberAdded:{get:function(){return this.Ba!==null?this.Ba.Mq:null},set:function(t){var i=this.memberAdded;i!==t&&(La(this),this.Ba.Mq=t,this.g("memberAdded",i,t))}},memberRemoved:{get:function(){return this.Ba!==null?this.Ba.Nq:null},set:function(t){var i=this.memberRemoved;i!==t&&(La(this),this.Ba.Nq=t,this.g("memberRemoved",i,t))}},memberValidation:{get:function(){return this.Ba!==null?this.Ba.jj:null},set:function(t){var i=this.memberValidation;i!==t&&(La(this),this.Ba.jj=t,this.g("memberValidation",i,t))}},ungroupable:{get:function(){return(this.R&256)!==0},set:function(t){var i=(this.R&256)!==0;i!==t&&(this.R^=256,this.g("ungroupable",i,t))}},isSubGraphExpanded:{get:function(){return(this.R&512)!==0},set:function(t){var i=(this.R&512)!==0;if(i!==t){this.R^=512;var s=this.diagram;if(this.g("isSubGraphExpanded",i,t),i=this.subGraphExpandedChanged,i!==null){var l=!0;s!==null&&(l=s.aa,s.aa=!0),i(this),s!==null&&(s.aa=l)}s!==null&&s.undoManager.isUndoingRedoing?(this.$a!==null&&this.$a.v(),this.memberParts.each(function(u){u.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return(this.R&1024)!==0},set:function(t){var i=(this.R&1024)!==0;i!==t&&(this.R^=1024,this.g("wasSubGraphExpanded",i,t))}},subGraphExpandedChanged:{get:function(){return this.Ba!==null?this.Ba.Kr:null},set:function(t){var i=this.subGraphExpandedChanged;i!==t&&(La(this),this.Ba.Kr=t,this.g("subGraphExpandedChanged",i,t))}},rh:{get:function(){return(this.R&32768)!==0},set:function(t){(this.R&32768)!==0!==t&&(this.R^=32768)}}}),Et.prototype.expandSubGraph=Et.prototype.expandSubGraph,Et.prototype.collapseSubGraph=Et.prototype.collapseSubGraph,Et.prototype.findSubGraphParts=Et.prototype.Qj,Et.prototype.findContainingGroupChain=Et.prototype.mz,Et.prototype.findExternalNodesConnected=Et.prototype.nz,Et.prototype.findExternalLinksConnected=Et.prototype.Nu,Et.prototype.ensureBounds=Et.prototype.Va,Et.className="Group";function On(t){vt.call(this),this.zb=Gd,this.lo=new J(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}v(On,vt),On.prototype.cloneProtected=function(t){vt.prototype.cloneProtected.call(this,t),t.zb=this.zb.J(),t.lo=this.lo.copy()},On.prototype.gh=function(t){if(this.background===null&&this.areaBackground===null)return!1;var i=this.naturalBounds;return Xs(0,0,i.width,i.height,t.x,t.y)},On.prototype.Wl=function(){var t=this.part;if(t!==null&&(t instanceof Et||t instanceof Wt)||D("Placeholder is not inside a Group or Adornment."),t instanceof Et){var i=this.computeBorder(this.lo),s=this.minSize,l=this.fc;for(Ji(l,(isFinite(s.width)?Math.max(s.width,i.width):i.width)||0,(isFinite(s.height)?Math.max(s.height,i.height):i.height)||0),this.Ge(0,0,l.width,l.height),l=t.memberParts,s=!1;l.next();)if(l.value.isVisible()){s=!0;break}l=t.diagram,!s||l===null||l.animationManager.Zu(t)||isNaN(i.x)||isNaN(i.y)||(s=F.alloc(),s.yi(i,t.locationSpot),s.D(t.location)||(t.location=s),F.free(s))}else{i=this.fc,s=this.zb,l=s.left+s.right;var u=s.top+s.bottom,c=t.adornedObject;t.angle=c.mi();var d=0;c instanceof It&&(d=c.strokeWidth);var m=c.Df(),y=c.naturalBounds,O=(y.width+d)*m;d=(y.height+d)*m,t.type!==nt.Link&&(m=c.ga(t.category==="Selection"?tn:t.locationSpot,F.alloc()),t.location=m,F.free(m)),isNaN(O)||isNaN(d)?(t=c.ga(tn,F.alloc()),O=J.allocAt(t.x,t.y,0,0),O.Ye(c.ga(Wo,t)),O.Ye(c.ga(Hd,t)),O.Ye(c.ga(Kd,t)),Ji(i,O.width+l||0,O.height+u||0),this.Ge(-s.left,-s.top,i.width,i.height),F.free(t),J.free(O)):(Ji(i,O+l||0,d+u||0),this.Ge(-s.left,-s.top,i.width,i.height))}},On.prototype.eh=function(t,i,s,l){this.actualBounds.h(t,i,s,l)},On.prototype.computeBorder=function(t){var i=this.part,s=i.diagram,l=s===null||!s.animationManager.isAnimating;if(s!==null&&i instanceof Et&&!i.layer.isTemporary&&i.computesBoundsAfterDrag&&this.lo.w()){var u=s.toolManager.findTool("Dragging");if(u===s.currentTool&&(s=u.computeBorder(i,this.lo,t),s!==null))return s}s=J.alloc(),u=this.computeMemberBounds(s);var c=this.zb;return i instanceof Et&&!i.isSubGraphExpanded?t.h(u.x-c.left,u.y-c.top,0,0):t.h(u.x-c.left,u.y-c.top,Math.max(u.width+c.left+c.right,0),Math.max(u.height+c.top+c.bottom,0)),J.free(s),l&&i instanceof Et&&i.computesBoundsIncludingLocation&&i.location.w()&&t.Ye(i.location),t},On.prototype.computeMemberBounds=function(t){if(!(this.part instanceof Et))return t.h(0,0,0,0),t;for(var i=this.part,s=1/0,l=1/0,u=-1/0,c=-1/0,d=i.memberParts;d.next();){var m=d.value;if(m.isVisible()){if(m instanceof st&&(!i.computesBoundsIncludingLinks||Na(m)||m.fromNode===i||m.toNode===i))continue;m=m.actualBounds,m.left<s&&(s=m.left),m.top<l&&(l=m.top),m.right>u&&(u=m.right),m.bottom>c&&(c=m.bottom)}}return isFinite(s)&&isFinite(l)?t.h(s,l,u-s,c-l):(i=i.location,t.h(i.x,i.y,0,0)),t},S.Object.defineProperties(On.prototype,{padding:{get:function(){return this.zb},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.g("padding",i,t),this.v())}}}),On.className="Placeholder";function st(t){kt.call(this,nt.Link),this.Qa=8,this.ef=null,this.ff="",this.uf=this.hn=null,this.vf="",this.vo=null,this.pk=Fi,this.Pm=0,this.Rm=Fi,this.Sm=NaN,this.rj=q1,this.qo=.5,this.wd=null,this.Ob=new ct().freeze(),this.Tg=this.Mg=null,this.ml=new J,this.ua=new lt,this.u=this.o=this.Sf=this.Wf=null,this.tu=new F,this.cq=this.Ow=this.Nw=null,this.wt=NaN,this.ba=null,this.j=[],t&&Object.assign(this,t)}v(st,kt),st.prototype.cloneProtected=function(t){kt.prototype.cloneProtected.call(this,t),t.Qa=this.Qa&-113,t.ff=this.ff,t.hn=this.hn,t.vf=this.vf,t.vo=this.vo,t.pk=this.pk,t.Pm=this.Pm,t.Rm=this.Rm,t.Sm=this.Sm,t.rj=this.rj,t.qo=this.qo,this.ba!==null&&(t.ba=this.ba.copy())},n=st.prototype,n.Af=function(t){kt.prototype.Af.call(this,t),this.ff=t.ff,this.vf=t.vf,t.Mg=null,t.bb(),t.Sf=this.Sf;var i=t.fromPort;i!==null&&Jn(i),t=t.toPort,t!==null&&Jn(t)},n.qb=function(t){t.classType===st?(t.value&2)===2?this.routing=t:t===tr||t===zl||t===If?this.curve=t:t===zp||t===Yy||t===Wy?this.adjusting=t:t!==q1&&t!==Fi&&D("Unknown Link enum value for a Link property: "+t):kt.prototype.qb.call(this,t)},n.Xc=function(){this.ba===null&&(this.ba=new jy)},n.ti=function(){var t=this.fromNode;if(t!==null){var i=t.findVisibleNode();if(i!==null&&(t=i),Ts(t)||Ru(t))return!1}return t=this.toNode,!(t!==null&&(i=t.findVisibleNode(),i!==null&&(t=i),Ts(t)||Ru(t)))},n.Bv=function(){return!1},n.Cv=function(){},n.Zc=function(){return!1},st.prototype.computeAngle=function(t,i,s){return st.computeAngle(i,s)},st.computeAngle=function(t,i){switch(t){default:case Fi:t=0;break;case Bp:t=i;break;case Xp:t=i+90;break;case _p:t=i-90;break;case G1:t=i+180;break;case qy:t=Y.cp(i),90<t&&270>t&&(t-=180);break;case Up:t=Y.cp(i+90),90<t&&270>t&&(t-=180);break;case Zp:t=Y.cp(i-90),90<t&&270>t&&(t-=180);break;case Gy:if(t=Y.cp(i),45<t&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return Y.cp(t)};function Fp(t){var i=t.fromNode,s=t.toNode,l=null;if(i!==null?l=s!==null?i.sx(s):i.containingGroup:s!==null?l=s.containingGroup:l=null,i=l,s=t.Ah,s!==i){s!==null&&nC(s,t),t.Ah=i,i!==null&&iC(i,t);var u=t.containingGroupChanged;if(u!==null){var c=!0,d=t.diagram;d!==null&&(c=d.aa,d.aa=!0),u(t,s,i),d!==null&&(d.aa=c)}!t.fd||t.Nw!==s&&t.Ow!==s||t.bb()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=l}n=st.prototype,n.oh=function(){var t=this.containingGroup;t!==null&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&kt.prototype.oh.call(this)},n.Uo=function(t){var i=this.fromNode;return t===i?this.toNode:i},n.Hz=function(t){var i=this.fromPort;return t===i?this.toPort:i};function cD(t,i){t.wd===null&&(t.wd=new ut),t.wd.add(i),t.v()}n.Wo=function(t){if(kt.prototype.Wo.call(this,t),Zh(this)&&this.Yo(this.actualBounds),!t){t=this.ef;var i=null;t!==null&&(i=this.fromPort,z1(t,this,i));var s=this.uf;if(s!==null){var l=this.toPort;s===t&&l===i||z1(s,this,l)}Uy(this)}},n.Xo=function(t){if(kt.prototype.Xo.call(this,t),Zh(this)&&this.Yo(this.actualBounds),!t){t=this.ef;var i=null;t!==null&&(i=this.fromPort,B1(t,this,i));var s=this.uf;if(s!==null){var l=this.toPort;s===t&&l===i||B1(s,this,l)}Zy(this)}},n.Lj=function(){if(this.fd=!0,this.wd!==null){var t=this.diagram;if(t!==null)for(var i=this.wd.copy().iterator;i.next();)t.remove(i.value)}this.data!==null&&(t=this.diagram,t!==null&&t.partManager.removeDataForLink(this))},st.prototype.updateRelationshipsFromData=function(){if(this.data!==null){var t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)}},st.prototype.move=function(t,i){var s=i?this.location:this.position,l=s.x;isNaN(l)&&(l=0);var u=s.y;for(isNaN(u)&&(u=0),l=t.x-l,u=t.y-u,i===!0?kt.prototype.move.call(this,t,!1):(t=F.allocAt(s.x+l,s.y+u),kt.prototype.move.call(this,t,!1),F.free(t)),Ea(this,l,u),t=this.labelNodes;t.next();)i=t.value,s=i.position,i.moveTo(s.x+l,s.y+u)},st.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return t===null?!0:t.allowRelink?(t=t.diagram,!!(t===null||t.allowRelink)):!1},st.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return t===null?!0:t.allowRelink?(t=t.diagram,!!(t===null||t.allowRelink)):!1},st.prototype.computeMidPoint=function(t){var i=this.pointsCount;if(i===0)return t.assign(cf),t;if(i===1)return t.assign(this.i(0)),t;if(i===2){var s=this.i(0),l=this.i(1);return t.h((s.x+l.x)/2,(s.y+l.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===tr))return this.ua.Ru(.5,t),t.add(this.i(0)),s=this.ua.figures.first(),t.offset(-s.startX,-s.startY),t;if(this.computeCurve()===tr){if(i===3){s=this.i(0),l=this.i(1);var u=this.i(2);return Y.ex(s.x,s.y,l.x,l.y,l.x,l.y,u.x,u.y,t),t}if(l=(i-1)/3|0,s=3*(l/2|0),l%2===1){l=this.i(s),u=this.i(s+1);var c=this.i(s+2);s=this.i(s+3),Y.ex(l.x,l.y,u.x,u.y,c.x,c.y,s.x,s.y,t)}else t.assign(this.i(s));return t}var d=this.flattenedLengths;for(s=this.flattenedTotalLength,u=c=l=0;l<s/2&&c<i&&(u=d[c],!(l+u>s/2));)l+=u,c++;return i=this.i(c),c=this.i(c+1),1>Math.abs(i.x-c.x)?i.y>c.y?t.h(i.x,i.y-(s/2-l)):t.h(i.x,i.y+(s/2-l)):1>Math.abs(i.y-c.y)?i.x>c.x?t.h(i.x-(s/2-l),i.y):t.h(i.x+(s/2-l),i.y):(s=(s/2-l)/u,t.h(i.x+s*(c.x-i.x),i.y+s*(c.y-i.y))),t},st.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(t===2)return this.i(0).ab(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===tr))return this.ua.yx(.5);if(this.computeCurve()===tr&&4<=t){var i=(t-1)/3|0,s=3*(i/2|0);if(i%2===1){s=Math.floor(s),t=this.i(s),i=this.i(s+1);var l=this.i(s+2);return s=this.i(s+3),Y.Oy(t.x,t.y,i.x,i.y,l.x,l.y,s.x,s.y)}if(0<s&&s+1<t)return this.i(s-1).ab(this.i(s+1))}i=this.flattenedLengths,l=this.flattenedTotalLength;var u=0;s=0;for(var c;u<l/2&&s<t&&(c=i[s],!(u+c>l/2));)u+=c,s++;if(i=this.i(s),l=this.i(s+1),1>Math.abs(i.x-l.x)&&1>Math.abs(i.y-l.y)){if(0<s&&s+2<t)return this.i(s-1).ab(this.i(s+2))}else{if(1>Math.abs(i.x-l.x))return i.y>l.y?270:90;if(1>Math.abs(i.y-l.y))return i.x>l.x?180:0}return i.ab(l)},n=st.prototype,n.i=function(t){return this.Ob.s[t]},n.dd=function(t,i){this.Ob.cd(t,i)},n.L=function(t,i,s){this.Ob.cd(t,new F(i,s))},n.Pz=function(t,i){this.Ob.Hb(t,i)},n.m=function(t,i,s){this.Ob.Hb(t,new F(i,s))},n.ne=function(t){this.Ob.add(t)},n.yf=function(t,i){this.Ob.add(new F(t,i))},n.rv=function(t){this.Ob.mb(t)},n.Fj=function(){this.Ob.clear()};function Ea(t,i,s){if(i!==0||s!==0)if(t.pointsCount===0)t.defaultFromPoint&&t.defaultFromPoint.offset(i,s),t.defaultToPoint&&t.defaultToPoint.offset(i,s);else{for(var l=t.fd,u=new ct,c=t.Ob.iterator;c.next();){var d=c.value;u.add(new F(d.x+i,d.y+s).freeze())}u.freeze(),c=t.Ob,t.Ob=u,d=t.diagram,isNaN(i)||isNaN(s)||d!==null&&d.animationManager.Ab?t.v():(t.ke.h(t.ke.x+i,t.ke.y+s),t.pa.h(t.pa.x+i,t.pa.y+s),kp(t)),l?_1(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),d!==null&&d.animationManager.Ab&&jb(d.animationManager,t,u),t.g("points",c,u)}}n.uh=function(){this.Mg===null&&(this.Mg=this.Ob,this.Ob=this.Ob.copy())},n.zf=function(){if(this.Mg!==null){for(var t=this.Mg,i=this.Ob,s=1/0,l=1/0,u=t.s,c=u.length,d=0;d<c;d++){var m=u[d];s=Math.min(m.x,s),l=Math.min(m.y,l)}m=d=1/0;for(var y=i.s,O=y.length,w=0;w<O;w++){var k=y[w];d=Math.min(k.x,d),m=Math.min(k.y,m),k.freeze()}if(i.freeze(),O===c){for(c=0;c<O;c++)if(w=u[c],k=y[c],w.x-s!==k.x-d||w.y-l!==k.y-m){this.rc();break}}else this.rc();this.Mg=null,s=this.diagram,s!==null&&s.animationManager.Ab&&jb(s.animationManager,this,i),_1(this),this.g("points",t,i)}},n.tv=function(){this.Mg!==null&&(this.Ob=this.Mg,this.Mg=null)};function _1(t){t.Ob.count===0?t.fd=!1:(t.fd=!0,t.cq=null,t.wt=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),W1(t,!1))}n.bb=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.As.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager,t.isTicking&&!t.isAnimating))return;this.Tg===null||t.isTicking||(this.Tg=null)}t=this.path,t!==null&&(this.fd=!1,this.v(),t.v())}},n.vg=function(){if(!this.fd&&!this.computingPoints){var t=!0;try{this.computingPoints=!0,this.uh(),t=this.computePoints()}catch{this.computingPoints=!1,this.tv()}finally{this.computingPoints=!1,t?this.zf():this.tv()}}},st.prototype.computePoints=function(){if(this.diagram===null)return!1;var t=this.fromNode,i=null;if(t===null?($f||($f=new ft,$f.desiredSize=Cu,$f.Va()),this.defaultFromPoint&&($f.location=this.defaultFromPoint,$f.Va(),i=t=$f)):i=this.fromPort,i!==null&&!t.isVisible()){var s=t.findVisibleNode();s!==null&&s!==t?(t=s,i=s.port):t=s}if(this.Nw=t,t===null||!t.location.w())return!1;for(;!(i===null||i.actualBounds.w()&&i.Ed());)i=i.panel;if(i===null)return!1;var l=this.toNode,u=null;if(l===null?(Df||(Df=new ft,Df.desiredSize=Cu,Df.Va()),this.defaultToPoint&&(Df.location=this.defaultToPoint,Df.Va(),u=l=Df)):u=this.toPort,u===null||l.isVisible()||(s=l.findVisibleNode(),s!==null&&s!==l?(l=s,u=s.port):l=s),this.Ow=l,l===null||!l.location.w())return!1;for(;!(u===null||u.actualBounds.w()&&u.Ed());)u=u.panel;if(u===null)return!1;var c=this.pointsCount,d=this.computeSpot(!0,i);s=this.computeSpot(!1,u);var m=Vp(d),y=Vp(s),O=i===u&&i!==null,w=this.isOrthogonal,k=this.curve===tr;this.Wf=O&&!w?k=!0:!1;var P=this.computeAdjusting()===Fi||O;if(!w&&!O&&m&&y){if(m=!1,!P&&3<=c&&(P=this.getLinkPoint(t,i,d,!0,!1,l,u),y=this.getLinkPoint(l,u,s,!1,!1,t,i),m=this.adjustPoints(0,P,c-1,y))&&(P=this.getLinkPoint(t,i,d,!0,!1,l,u),y=this.getLinkPoint(l,u,s,!1,!1,t,i),this.adjustPoints(0,P,c-1,y)),!m)if(this.Fj(),k){c=this.getLinkPoint(t,i,d,!0,!1,l,u),P=this.getLinkPoint(l,u,s,!1,!1,t,i),m=P.x-c.x,y=P.y-c.y,O=this.computeCurviness(),k=w=0;var T=c.x+m/3,C=c.y+y/3,A=T,I=C;Y.B(y,0)?I=0<m?I-O:I+O:(w=-m/y,k=Math.sqrt(O*O/(w*w+1)),0>O&&(k=-k),A=(0>y?-1:1)*k+T,I=w*(A-T)+C),T=c.x+2*m/3,C=c.y+2*y/3;var E=T,z=C;Y.B(y,0)?z=0<m?z-O:z+O:(E=(0>y?-1:1)*k+T,z=w*(E-T)+C),this.Fj(),this.ne(c),this.yf(A,I),this.yf(E,z),this.ne(P),this.dd(0,this.getLinkPoint(t,i,d,!0,!1,l,u)),this.dd(3,this.getLinkPoint(l,u,s,!1,!1,t,i))}else c=l,P=u,l=this.getLinkPoint(t,i,d,!0,!1,c,P),u=this.getLinkPoint(c,P,s,!1,!1,t,i),this.hasCurviness()?(P=u.x-l.x,s=u.y-l.y,d=this.computeCurviness(),t=l.x+P/2,i=l.y+s/2,c=t,m=i,Y.B(s,0)?m=0<P?m-d:m+d:(P=-P/s,c=Math.sqrt(d*d/(P*P+1)),0>d&&(c=-c),c=(0>s?-1:1)*c+t,m=P*(c-t)+i),this.ne(l),this.yf(c,m),this.ne(u)):(this.ne(l),this.ne(u),m=J.alloc(),i.ni(m),y=m.ca(u),P.ni(m),O=m.ca(l),(y||O)&&(d=i.ga(Z1(d),new F),this.dd(0,this.getLinkPointFromPoint(t,i,d,u,!0,d)),s=P.ga(Z1(s),new F),this.dd(1,this.getLinkPointFromPoint(c,P,s,l,!1,s))),J.free(m))}else{k=this.isAvoiding,P&&(w&&k||O)&&this.Fj();var B=O?this.computeCurviness():0;k=this.getLinkPoint(t,i,d,!0,w,l,u),T=A=C=0,(w||!m||O)&&(I=this.computeEndSegmentLength(t,i,d,!0),T=this.getLinkDirection(t,i,k,d,!0,w,l,u),O&&(m||d.D(s)||!w&&d.x+s.x===1&&d.y+s.y===1)&&(T-=w?90:30,0>B&&(T-=180)),0>T?T+=360:360<=T&&(T-=360),O&&(I+=Math.abs(B)*(w?1:2)),T===0?C=I:T===90?A=I:T===180?C=-I:T===270?A=-I:(C=I*Math.cos(T*Math.PI/180),A=I*Math.sin(T*Math.PI/180)),d.Nc()&&O&&(I=i.ga(oe,F.alloc()),E=F.allocAt(I.x+1e3*C,I.y+1e3*A),this.getLinkPointFromPoint(t,i,I,E,!0,k),F.free(I),F.free(E))),I=this.getLinkPoint(l,u,s,!1,w,t,i);var _=z=E=0;if(w||!y||O){var Z=this.computeEndSegmentLength(l,u,s,!1);_=this.getLinkDirection(l,u,I,s,!1,w,t,i),O&&(y||d.D(s)||!w&&d.x+s.x===1&&d.y+s.y===1)&&(_+=w?0:30,0>B&&(_+=180)),0>_?_+=360:360<=_&&(_-=360),O&&(Z+=Math.abs(B)*(w?1:2)),_===0?E=Z:_===90?z=Z:_===180?E=-Z:_===270?z=-Z:(E=Z*Math.cos(_*Math.PI/180),z=Z*Math.sin(_*Math.PI/180)),s.Nc()&&O&&(s=u.ga(oe,F.alloc()),d=F.allocAt(s.x+1e3*E,s.y+1e3*z),this.getLinkPointFromPoint(l,u,s,d,!1,I),F.free(s),F.free(d))}s=k,(w||!m||O)&&(s=new F(k.x+C,k.y+A)),d=I,(w||!y||O)&&(d=new F(I.x+E,I.y+z)),!P&&!w&&m&&3<c&&this.adjustPoints(0,k,c-2,d)?this.dd(c-1,I):!P&&!w&&y&&3<c&&this.adjustPoints(1,s,c-1,I)?this.dd(0,k):!P&&(w?6<=c:4<c)&&this.adjustPoints(1,s,c-2,d)?(this.dd(0,k),this.dd(c-1,I)):(this.Fj(),this.ne(k),(w||!m||O)&&this.ne(s),w&&this.addOrthoPoints(s,T,d,_,t,l),(w||!y||O)&&this.ne(d),this.ne(I))}return!0};function rC(t,i){return Math.abs(i.x-t.x)>Math.abs(i.y-t.y)?(i.x>=t.x?i.x=t.x+9e9:i.x=t.x-9e9,i.y=t.y):(i.y>=t.y?i.y=t.y+9e9:i.y=t.y-9e9,i.x=t.x),i}st.prototype.getLinkPointFromPoint=function(t,i,s,l,u,c){if(c===void 0&&(c=new F),t===null||i===null)return c.assign(s),c;if(t.isVisible()||(u=t.findVisibleNode(),u!==null&&u!==t&&(i=u.port)),t=null,u=i.panel,u===null||u.se()||(u=u.panel),u===null){u=l.x,l=l.y;var d=s.x;s=s.y}else{t=u.oe,u=1/(t.m11*t.m22-t.m12*t.m21),d=t.m22*u;var m=-t.m12*u,y=-t.m21*u,O=t.m11*u,w=u*(t.m21*t.dy-t.m22*t.dx),k=u*(t.m12*t.dx-t.m11*t.dy);u=l.x*d+l.y*y+w,l=l.x*m+l.y*O+k,d=s.x*d+s.y*y+w,s=s.x*m+s.y*O+k}return i.Rj(u,l,d,s,c),t!==null&&c.transform(t),c};function U1(t,i){var s=i.$n;return s===null&&(s=new Ff,s.port=i,s.node=i.part,i.$n=s),SD(s,t)}st.prototype.getLinkPoint=function(t,i,s,l,u,c,d,m){if(m===void 0&&(m=new F),s.sb()&&!Vp(s))return i.ga(s,m),m;if(s.$c()){var y=U1(this,i);if(y!==null){if(m.assign(y.$o),u&&this.routing===gD){var O=U1(this,d);if(O!==null&&y.Gl<O.Gl){y=F.alloc(),O=F.alloc();var w=new J(i.ga(tn,y),i.ga(Wo,O)),k=this.computeSpot(!l,d);t=this.getLinkPoint(c,d,k,!l,u,t,i,O),(s.Hf(tp)||s.Hf(ep))&&t.y>=w.y&&t.y<=w.y+w.height?m.y=t.y:(s.Hf(Jd)||s.Hf(ip))&&t.x>=w.x&&t.x<=w.x+w.width&&(m.x=t.x),F.free(y),F.free(O)}}return m}}return s=i.ga(Z1(s),F.alloc()),this.pointsCount>(u?6:2)?(d=l?this.i(1):this.i(this.pointsCount-2),u&&(d=rC(s,d.copy()))):(y=this.computeSpot(!l,d),c=F.alloc(),d=d.ga(Z1(y),c),u&&(d=rC(s,d)),F.free(c)),this.getLinkPointFromPoint(t,i,s,d,l,m),F.free(s),m},st.prototype.getLinkDirection=function(t,i,s,l,u,c,d,m){t:if(l.sb())var y=l.x>l.y?l.x>1-l.y?0:l.x<1-l.y?270:315:l.x<l.y?l.x>1-l.y?90:l.x<1-l.y?180:135:.5>l.x?225:.5<l.x?45:0;else{if(l.$c()&&(y=U1(this,i),y!==null))switch(y.Oc){case 1:y=270;break t;case 2:y=180;break t;default:case 4:y=0;break t;case 8:y=90;break t}y=i.ga(oe,F.alloc()),this.pointsCount>(c?6:2)?(m=u?this.i(1):this.i(this.pointsCount-2),m=c?rC(y,m.copy()):s):(s=F.alloc(),m=m.ga(oe,s),F.free(s)),s=Math.abs(m.x-y.x)>Math.abs(m.y-y.y)?m.x>=y.x?0:180:m.y>=y.y?90:270,F.free(y),y=s}return d&&l.Nc()&&d.Td(t)&&(y+=180,360<=y&&(y-=360)),Vp(l)||(t=i.mi(),t===0)||(45<=t&&135>t?y+=90:135<=t&&225>t?y+=180:225<=t&&315>t&&(y+=270),360<=y&&(y-=360)),y},st.prototype.computeEndSegmentLength=function(t,i,s,l){return i!==null&&s.$c()&&(t=U1(this,i),t!==null)?t.Lu:(t=l?this.fromEndSegmentLength:this.toEndSegmentLength,i!==null&&isNaN(t)&&(t=l?i.fromEndSegmentLength:i.toEndSegmentLength),isNaN(t)&&(t=10),t)},st.prototype.computeSpot=function(t,i){return i===void 0&&(i=null),t?(t=i||this.fromPort,t===null?t=oe:(i=this.fromSpot,i.$b()&&(i=t.fromSpot),t=i===Yi?Zi:i)):(t=i||this.toPort,t===null?t=oe:(i=this.toSpot,i.$b()&&(i=t.toSpot),t=i===Yi?Zi:i)),t};function Vp(t){return t===Zi||t.x===.5&&t.y===.5}function Z1(t){return t.x===.5&&t.y===.5?t:oe}st.prototype.computeOtherPoint=function(t,i){return this.computeAdjusting()!==Fi&&4<this.pointsCount?this.computeMidPoint(new F):(t=i.$n,t=t!==null?SD(t,this):null,t!==null?t.$o:i.ga(oe))},st.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var i=this.fromPort;i!==null&&(t=i.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(i=this.toPort,i!==null&&(t=i.toShortLength)),isNaN(t)?0:t},st.prototype.Cf=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var d=c;if(c===void 0&&(d=Bt.alloc(),d.reset()),d.multiply(this.transform),this.fh(t,d))return QT(this,i,s,u),c===void 0&&Bt.free(d),!0;if(this.Yc(t,d)){var m=!1;if(!this.isAtomic)for(var y=this.O.s,O=y.length;O--;){var w=y[O];if(w.visible||w===this.locationObject){var k=w.actualBounds,P=this.naturalBounds;if(!(k.x>P.width||k.y>P.height||0>k.x+k.width||0>k.y+k.height)){if(k=Bt.alloc(),k.set(d),w instanceof nt)m=w.Cf(t,i,s,l,u,k);else if(this.path===w){if(w instanceof It)if(m=t,P=l,w.pickable===!1)m=!1;else if(k.multiply(w.transform),P)t:{var T=m,C=k;if(w.fh(T,C))m=!0;else{if(C===void 0&&(C=w.transform,T.Re(w.actualBounds))){m=!0;break t}m=T.left,P=T.right;var A=T.top;T=T.bottom;var I=F.alloc(),E=F.alloc(),z=F.alloc(),B=Bt.alloc();B.set(C),B.ev(w.transform),B.Uj(),E.x=P,E.y=A,E.transform(B),I.x=m,I.y=A,I.transform(B),C=!1,_h(w,I,E,z)?C=!0:(I.x=P,I.y=T,I.transform(B),_h(w,I,E,z)?C=!0:(E.x=m,E.y=T,E.transform(B),_h(w,I,E,z)?C=!0:(I.x=m,I.y=A,I.transform(B),_h(w,I,E,z)&&(C=!0)))),Bt.free(B),F.free(I),F.free(E),F.free(z),m=C}}else m=w.fh(m,k)}else m=n$(w,t,l,k);m&&(P=w,i!==null&&(P=i(w)),P&&(s===null||s(P))&&u.add(P)),Bt.free(k)}}}return c===void 0&&Bt.free(d),m||this.background!==null||this.areaBackground!==null}return c===void 0&&Bt.free(d),!1},st.prototype.computeCurve=function(){if(this.Wf===null){var t=this.fromPort,i=this.isOrthogonal;this.Wf=t!==null&&t===this.toPort&&!i}return this.Wf?tr:this.curve},st.prototype.computeCorner=function(){if(this.curve===tr)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},st.prototype.findMidLabel=function(){for(var t=this.path,i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];if(u!==t&&!u.isPanelMain&&(u.segmentIndex===-1/0||isNaN(u.segmentIndex)))return u}for(t=this.labelNodes;t.next();)if(i=t.value,i.segmentIndex===-1/0||isNaN(i.segmentIndex))return i;return null},st.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=OD;t=Math.max(t,this.computeThickness());var i=this.fromPort,s=this.toPort;if(i!==null&&s!==null){var l=this.findMidLabel();if(l!==null){var u=l.naturalBounds,c=l.margin,d=isNaN(u.width)?30:u.width*l.scale+c.left+c.right;u=isNaN(u.height)?14:u.height*l.scale+c.top+c.bottom,l=l.segmentOrientation,l===Bp||l===qy||l===G1?t=Math.max(t,u):l===_p||l===Zp||l===Xp||l===Up?t=Math.max(t,d):(i=i.ga(oe).ab(s.ga(oe))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(i)*d)+Math.abs(Math.cos(i)*u)+1)),this.curve===tr&&(t*=1.333)}}return t},st.prototype.arrangeBundledLinks=function(t,i){if(i)for(i=0;i<t.length;i++){var s=t[i];s.computeAdjusting()===Fi&&s.bb()}},st.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=yD;var i=this.Sf;if(i!==null){for(var s=St(),l=0,u=i.links,c=0;c<u.length;c++){var d=u[c].computeSpacing();s.push(d),l+=d}for(l=-l/2,c=0;c<u.length;c++){if(u[c]===this){t=l+s[c]/2;break}l+=s[c]}i.Ds===this.fromNode&&(t=-t),mt(s)}}return t},st.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return t!==null?Math.max(t.strokeWidth,1):1},st.prototype.hasCurviness=function(){return!isNaN(this.curviness)||this.Sf!==null},st.prototype.adjustPoints=function(t,i,s,l){var u=this.computeAdjusting();if(this.isOrthogonal){if(u===Yy)return!1;u===Wy&&(u=zp)}switch(u){case Yy:var c=this.i(t),d=this.i(s);if(!c.Xa(i)||!d.Xa(l)){u=c.x,c=c.y;var m=d.x-u,y=d.y-c,O=Math.sqrt(m*m+y*y);if(!Y.$(O,0)){if(Y.$(m,0))var w=0>y?-Math.PI/2:Math.PI/2;else w=Math.atan(y/Math.abs(m)),0>m&&(w=Math.PI-w);d=i.x;var k=i.y;m=l.x-d;var P=l.y-k;for(y=Math.sqrt(m*m+P*P),Y.$(m,0)?P=0>P?-Math.PI/2:Math.PI/2:(P=Math.atan(P/Math.abs(m)),0>m&&(P=Math.PI-P)),O=y/O,w=P-w,this.dd(t,i),t+=1;t<s;t++)i=this.i(t),m=i.x-u,y=i.y-c,i=Math.sqrt(m*m+y*y),Y.$(i,0)||(Y.$(m,0)?y=0>y?-Math.PI/2:Math.PI/2:(y=Math.atan(y/Math.abs(m)),0>m&&(y=Math.PI-y)),m=y+w,i*=O,this.L(t,d+i*Math.cos(m),k+i*Math.sin(m)));this.dd(s,l)}}return!0;case Wy:if(c=this.i(t),k=this.i(s),!c.Xa(i)||!k.Xa(l)){u=c.x,c=c.y,d=k.x,k=k.y,O=(d-u)*(d-u)+(k-c)*(k-c),m=i.x,w=i.y,y=l.x,P=l.y;var T=1;if(y-m!==0){var C=(P-w)/(y-m);T=Math.sqrt(1+1/(C*C))}else C=9e9;for(this.dd(t,i),t+=1;t<s;t++){i=this.i(t);var A=i.x,I=i.y,E=.5;O!==0&&(E=((u-A)*(u-d)+(c-I)*(c-k))/O);var z=u+E*(d-u),B=c+E*(k-c);i=Math.sqrt((A-z)*(A-z)+(I-B)*(I-B)),I<C*(A-z)+B&&(i=-i),0<C&&(i=-i),A=m+E*(y-m),E=w+E*(P-w),C!==0?(i=A+i/T,this.L(t,i,E-(i-A)/C)):this.L(t,A,E+i)}this.dd(s,l)}return!0;case zp:t:{if(this.isOrthogonal&&(u=this.i(t),c=this.i(t+1),d=this.i(t+2),m=c.x,w=c.y,k=m,O=w,Y.B(u.y,c.y)?Y.B(c.x,d.x)?w=i.y:Y.B(c.y,d.y)&&(m=i.x):Y.B(u.x,c.x)&&(Y.B(c.y,d.y)?m=i.x:Y.B(c.x,d.x)&&(w=i.y)),this.L(t+1,m,w),u=this.i(s),c=this.i(s-1),d=this.i(s-2),m=c.x,w=c.y,y=m,P=w,Y.B(u.y,c.y)?Y.B(c.x,d.x)?w=l.y:Y.B(c.y,d.y)&&(m=l.x):Y.B(u.x,c.x)&&(Y.B(c.y,d.y)?m=l.x:Y.B(c.x,d.x)&&(w=l.y)),this.L(s-1,m,w),fD(this))){this.L(t+1,k,O),this.L(s-1,y,P),s=!1;break t}this.dd(t,i),this.dd(s,l),s=!0}return s;default:return!1}},st.prototype.addOrthoPoints=function(t,i,s,l,u,c){0>i?i+=360:360<=i&&(i-=360),0>l?l+=360:360<=l&&(l-=360);var d=l;i=315<=i||45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270,l=315<=l||45>l?0:45<=l&&135>l?90:135<=l&&225>l?180:270;var m=u.actualBounds.copy(),y=c.actualBounds.copy();if(m.w()&&y.w()){m.Bc(Hy,Hy),y.Bc(Hy,Hy),m.Ye(t),y.Ye(s);var O=F.alloc(),w=F.alloc();i===0?s.x>t.x||l===270&&s.y<t.y&&y.right>t.x||l===90&&s.y>t.y&&y.right>t.x?(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),l===180?(O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1),w.x=O.x,w.y=s.y):l===270&&s.y<t.y||l===90&&s.y>t.y?(O.x=t.x<y.left?this.computeMidOrthoPosition(t.x,t.y,y.left,s.y,!1):t.x<y.right&&(l===270&&t.y<y.top||l===90&&t.y>y.bottom)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):y.right,w.x=O.x,w.y=s.y):l===0&&t.x<y.left&&t.y>y.top&&t.y<y.bottom&&(O.x=t.x,O.y=t.y<s.y?Math.min(s.y,y.top):Math.max(s.y,y.bottom),w.y=O.y)):(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),(l===180||l===90&&s.y<m.top||l===270&&s.y>m.bottom)&&(l===180&&(y.ca(t)||m.ca(s))?O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):s.y<t.y&&(l===180||l===90)?O.y=this.computeMidOrthoPosition(t.x,m.top,s.x,Math.max(s.y,y.bottom),!0):s.y>t.y&&(l===180||l===270)&&(O.y=this.computeMidOrthoPosition(t.x,m.bottom,s.x,Math.min(s.y,y.top),!0)),w.x=s.x,w.y=O.y),O.y>m.top&&O.y<m.bottom&&(s.x>=m.left&&s.x<=t.x||t.x<=y.right&&t.x>=s.x?(l===90||l===270)&&(O.h(Math.max((t.x+s.x)/2,t.x),t.y),w.h(O.x,s.y)):(O.y=l===270||(l===0||l===180)&&s.y<t.y?Math.min(s.y,l===0?m.top:Math.min(m.top,y.top)):Math.max(s.y,l===0?m.bottom:Math.max(m.bottom,y.bottom)),w.x=s.x,w.y=O.y))):i===180?s.x<t.x||l===270&&s.y<t.y&&y.left<t.x||l===90&&s.y>t.y&&y.left<t.x?(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),l===0?(O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1),w.x=O.x,w.y=s.y):l===270&&s.y<t.y||l===90&&s.y>t.y?(O.x=t.x>y.right?this.computeMidOrthoPosition(t.x,t.y,y.right,s.y,!1):t.x>y.left&&(l===270&&t.y<y.top||l===90&&t.y>y.bottom)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):y.left,w.x=O.x,w.y=s.y):l===180&&t.x>y.right&&t.y>y.top&&t.y<y.bottom&&(O.x=t.x,O.y=t.y<s.y?Math.min(s.y,y.top):Math.max(s.y,y.bottom),w.y=O.y)):(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),(l===0||l===90&&s.y<m.top||l===270&&s.y>m.bottom)&&(l===0&&(y.ca(t)||m.ca(s))?O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):s.y<t.y&&(l===0||l===90)?O.y=this.computeMidOrthoPosition(t.x,m.top,s.x,Math.max(s.y,y.bottom),!0):s.y>t.y&&(l===0||l===270)&&(O.y=this.computeMidOrthoPosition(t.x,m.bottom,s.x,Math.min(s.y,y.top),!0)),w.x=s.x,w.y=O.y),O.y>m.top&&O.y<m.bottom&&(s.x<=m.right&&s.x>=t.x||t.x>=y.left&&t.x<=s.x?(l===90||l===270)&&(O.h(Math.min((t.x+s.x)/2,t.x),t.y),w.h(O.x,s.y)):(O.y=l===270||(l===0||l===180)&&s.y<t.y?Math.min(s.y,l===180?m.top:Math.min(m.top,y.top)):Math.max(s.y,l===180?m.bottom:Math.max(m.bottom,y.bottom)),w.x=s.x,w.y=O.y))):i===90?s.y>t.y||l===180&&s.x<t.x&&y.bottom>t.y||l===0&&s.x>t.x&&y.bottom>t.y?(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),l===270?(O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0),w.x=s.x,w.y=O.y):l===180&&s.x<t.x||l===0&&s.x>t.x?(O.y=t.y<y.top?this.computeMidOrthoPosition(t.x,t.y,s.x,y.top,!0):t.y<y.bottom&&(l===180&&t.x<y.left||l===0&&t.x>y.right)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):y.bottom,w.x=s.x,w.y=O.y):l===90&&t.y<y.top&&t.x>y.left&&t.x<y.right&&(O.x=t.x<s.x?Math.min(s.x,y.left):Math.max(s.x,y.right),O.y=t.y,w.x=O.x)):(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),(l===270||l===0&&s.x<m.left||l===180&&s.x>m.right)&&(l===270&&(y.ca(t)||m.ca(s))?O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):s.x<t.x&&(l===270||l===0)?O.x=this.computeMidOrthoPosition(m.left,t.y,Math.max(s.x,y.right),s.y,!1):s.x>t.x&&(l===270||l===180)&&(O.x=this.computeMidOrthoPosition(m.right,t.y,Math.min(s.x,y.left),s.y,!1)),w.x=O.x,w.y=s.y),O.x>m.left&&O.x<m.right&&(s.y>=m.top&&s.y<=t.y||t.y<=y.bottom&&t.y>=s.y?(l===0||l===180)&&(O.h(t.x,Math.max((t.y+s.y)/2,t.y)),w.h(s.x,O.y)):(O.x=l===180||(l===90||l===270)&&s.x<t.x?Math.min(s.x,l===90?m.left:Math.min(m.left,y.left)):Math.max(s.x,l===90?m.right:Math.max(m.right,y.right)),w.x=O.x,w.y=s.y))):s.y<t.y||l===180&&s.x<t.x&&y.top<t.y||l===0&&s.x>t.x&&y.top<t.y?(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),l===90?(O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0),w.x=s.x,w.y=O.y):l===180&&s.x<t.x||l===0&&s.x>=t.x?(O.y=t.y>y.bottom?this.computeMidOrthoPosition(t.x,t.y,s.x,y.bottom,!0):t.y>y.top&&(l===180&&t.x<y.left||l===0&&t.x>y.right)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):y.top,w.x=s.x,w.y=O.y):l===270&&t.y>y.bottom&&t.x>y.left&&t.x<y.right&&(O.x=t.x<s.x?Math.min(s.x,y.left):Math.max(s.x,y.right),O.y=t.y,w.x=O.x)):(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),(l===90||l===0&&s.x<m.left||l===180&&s.x>m.right)&&(l===90&&(y.ca(t)||m.ca(s))?O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):s.x<t.x&&(l===90||l===0)?O.x=this.computeMidOrthoPosition(m.left,t.y,Math.max(s.x,y.right),s.y,!1):s.x>t.x&&(l===90||l===180)&&(O.x=this.computeMidOrthoPosition(m.right,t.y,Math.min(s.x,y.left),s.y,!1)),w.x=O.x,w.y=s.y),O.x>m.left&&O.x<m.right&&(s.y<=m.bottom&&s.y>=t.y||t.y>=y.top&&t.y<=s.y?(l===0||l===180)&&(O.h(t.x,Math.min((t.y+s.y)/2,t.y)),w.h(s.x,O.y)):(O.x=l===180||(l===90||l===270)&&s.x<t.x?Math.min(s.x,l===270?m.left:Math.min(m.left,y.left)):Math.max(s.x,l===270?m.right:Math.max(m.right,y.right)),w.x=O.x,w.y=s.y)));var k=s;if(this.isAvoiding){var P=this.diagram;if(P===null||u===c||this.layer.isTemporary||!XE(P)||m.ca(k)&&!c.Td(u)||y.ca(t)&&!u.Td(c))i=!1;else{var T=iT(P,!0,this.containingGroup,null);if(this.segmentIndex!==17&&T.Xj(Math.min(t.x,O.x),Math.min(t.y,O.y),Math.abs(t.x-O.x),Math.abs(t.y-O.y))&&T.Xj(Math.min(O.x,w.x),Math.min(O.y,w.y),Math.abs(O.x-w.x),Math.abs(O.y-w.y))&&T.Xj(Math.min(w.x,k.x),Math.min(w.y,k.y),Math.abs(w.x-k.x),Math.abs(w.y-k.y)))i=!1;else{u=t,c=k;var C=s=null;if(P.isVirtualized){P=T.bounds.copy(),P.Bc(-T.Io,-T.Ho);var A=F.alloc();Yp(T,t.x,t.y)||(Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,t.x,t.y,O.x,O.y,A)?(s=t=A.copy(),i=A.ab(O)):Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,O.x,O.y,w.x,w.y,A)?(s=t=A.copy(),i=A.ab(w)):Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,w.x,w.y,k.x,k.y,A)&&(s=t=A.copy(),i=A.ab(k))),Yp(T,k.x,k.y)||(Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,k.x,k.y,w.x,w.y,A)?(C=k=A.copy(),l=w.ab(A)):Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,w.x,w.y,O.x,O.y,A)?(C=k=A.copy(),l=O.ab(A)):Y.Ff(P.x,P.y,P.x+P.width,P.y+P.height,O.x,O.y,t.x,t.y,A)&&(C=k=A.copy(),l=t.ab(A))),F.free(A)}m=m.copy().ed(y),m.Bc(T.Io*T.Ps,T.Ho*T.Ps),xD(T,t,i,k,l,m,!0),y=nl(T,k.x,k.y),!T.abort&&y>=Wp&&(vD(T),m.Bc(T.Io*T.Jx,T.Ho*T.Kx),xD(T,t,i,k,l,m,!1),y=nl(T,k.x,k.y)),!T.abort&&y<Wp&&nl(T,k.x,k.y)!==$a?(sC(this,T,k.x,k.y,l,!0,d),m=this.i(2),4>this.pointsCount?(i===0||i===180?(m.x=t.x,m.y=k.y):(m.x=k.x,m.y=t.y),this.L(2,m.x,m.y),this.m(3,m.x,m.y)):(d=this.i(3),i===0||i===180?Y.B(m.x,d.x)?(m=i===0?Math.max(m.x,t.x):Math.min(m.x,t.x),this.L(2,m,t.y),this.L(3,m,d.y)):Y.B(m.y,d.y)?(Math.abs(t.y-m.y)<=T.Ho/2&&(this.L(2,m.x,t.y),this.L(3,d.x,t.y)),this.m(2,m.x,t.y)):this.L(2,t.x,m.y):(i===90||i===270)&&(Y.B(m.y,d.y)?(m=i===90?Math.max(m.y,t.y):Math.min(m.y,t.y),this.L(2,t.x,m),this.L(3,d.x,m)):Y.B(m.x,d.x)?(Math.abs(t.x-m.x)<=T.Io/2&&(this.L(2,t.x,m.y),this.L(3,t.x,d.y)),this.m(2,t.x,m.y)):this.L(2,m.x,t.y))),s!==null&&(t=this.i(1),d=this.i(2),t.x!==d.x&&t.y!==d.y?i===0||i===180?this.m(2,t.x,d.y):this.m(2,d.x,t.y):i===0||i===180?this.m(2,u.x,s.y):this.m(2,s.x,u.y)),C!==null&&(l===0||l===180?this.yf(c.x,C.y):this.yf(C.x,c.y)),i=!0):i=!1}}}else i=!1;i||(this.ne(O.copy()),this.ne(w.copy())),F.free(O),F.free(w)}},st.prototype.computeMidOrthoPosition=function(t,i,s,l,u){var c=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).$c()||this.computeSpot(!1,this.toPort).$c()||(c=this.computeCurviness()),u?(i+l)/2+c:(t+s)/2+c};function fD(t){if(t.diagram===null||!t.isAvoiding||!XE(t.diagram))return!1;var i=t.points.s,s=i.length;if(4>s)return!1;t=iT(t.diagram,!0,t.containingGroup,null);for(var l=1;l<s-2;l++){var u=i[l],c=i[l+1];if(!t.Xj(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y)))return!0}return!1}function sC(t,i,s,l,u,c,d){var m=i.Io,y=i.Ho,O=nl(i,s,l),w=s,k=l;for(u===0?w+=m:u===90?k+=y:u===180?w-=m:k-=y,u!==d&&O>Yh&&nl(i,w,k)!==O-1&&(nl(i,s-m,l)===O-1?(u=180,w=s-m,k=l):nl(i,s+m,l)===O-1?(u=0,w=s+m,k=l):nl(i,s,l-y)===O-1?(u=270,w=s,k=l-y):nl(i,s,l+y)===O-1&&(u=90,w=s,k=l+y));O>Yh&&nl(i,w,k)===O-1;)s=w,l=k,u===0?w+=m:u===90?k+=y:u===180?w-=m:k-=y,--O;c?O>Yh&&(u===180||u===0?s=Math.floor(s/m)*m+m/2:(u===90||u===270)&&(l=Math.floor(l/y)*y+y/2)):(s=Math.floor(s/m)*m+m/2,l=Math.floor(l/y)*y+y/2),O>Yh&&(c=u,d=s,w=l,u===0?(c=90,w+=y):u===90?(c=180,d-=m):u===180?(c=270,w-=y):u===270&&(c=0,d+=m),nl(i,d,w)===O-1?sC(t,i,d,w,c,!1,c):(d=s,w=l,u===0?(c=270,w-=y):u===90?(c=0,d+=m):u===180?(c=90,w+=y):u===270&&(c=180,d-=m),nl(i,d,w)===O-1&&sC(t,i,d,w,c,!1,c))),t.yf(s,l)}st.prototype.jz=function(t){var i=t.x;t=t.y;for(var s=this.i(0),l=this.i(1),u=Di(i,t,s.x,s.y,l.x,l.y),c=0,d=1;d<this.pointsCount-1;d++){s=this.i(d+1);var m=Di(i,t,l.x,l.y,s.x,s.y);l=s,m<u&&(c=d,u=m)}return c},st.prototype.rc=function(){this.kk=!1,this.v()},st.prototype.Ul=function(t){if(!(!t&&(this.fd===!1||(t=this.Qb(),this.kk&&(t===null||t.geometry!==null))))&&(2>this.pointsCount?this.kk=!0:this.ua=this.makeGeometry(),t=this.path,t!==null)){t.ua=this.ua;for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];u!==t&&u.isPanelMain&&u instanceof It&&(u.ua=this.ua)}}},st.prototype.makeGeometry=function(){var t=this.ua,i=this.pointsCount,s=!1,l=this.diagram;l!==null&&Zh(this)&&l.Eh.contains(this)&&(this.ml.width!==0||this.ml.height!==0)&&(l.animationManager.isAnimating||l.currentTool!==l.toolManager)&&(s=!0);var u=this.i(0).copy(),c=u.copy();l=this.Ob.s;var d=this.computeCurve();if(d===tr&&3<=i&&!Y.$(this.smoothness,0))if(i===3){var m=this.i(1);l=Math.min(u.x,m.x);var y=Math.min(u.y,m.y);m=this.i(2),l=Math.min(l,m.x),y=Math.min(y,m.y)}else{if(this.isOrthogonal)for(y=0;y<i;y++)m=l[y],c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y);else for(l=3;l<i;l+=3)l+3>=i&&(l=i-1),y=this.i(l),c.x=Math.min(y.x,c.x),c.y=Math.min(y.y,c.y);l=c.x,y=c.y}else{for(y=0;y<i;y++)m=l[y],c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y);l=c.x,y=c.y}if(l-=this.tu.x,y-=this.tu.y,u.x-=l,u.y-=y,i!==2||Zh(this)){if(t.type=lt.j,m=z$(t),this.computeShortLength(!0)!==0&&(u=Lf(this,u,!0,c)),Ip(m,u.x,u.y,!1),d===tr&&3<=i&&!Y.$(this.smoothness,0))if(i===3)s=this.i(1),i=s.x-l,s=s.y-y,u=this.i(2).copy(),u.x-=l,u.y-=y,this.computeShortLength(!1)!==0&&(u=Lf(this,u,!1,c)),ja(m,i,s,i,s,u.x,u.y);else if(this.isOrthogonal){i=F.allocAt(l,y),s=F.alloc(),s.assign(this.i(1)),c=F.allocAt(l,y),u=F.allocAt(l,y),d=this.i(0);for(var O,w=this.smoothness/3,k=1;k<this.pointsCount-1;k++){O=this.i(k);var P=d,T=O,C=this.i(oC(this,O,k,!1));if((!Y.$(P.x,T.x)||!Y.$(T.x,C.x))&&(!Y.$(P.y,T.y)||!Y.$(T.y,C.y))){var A=w;isNaN(A)&&(A=this.smoothness/3);var I=P.x;P=P.y;var E=T.x;T=T.y;var z=C.x;C=C.y;var B=A*Y1(I,P,E,T);A*=Y1(E,T,z,C),Y.$(P,T)&&Y.$(E,z)&&(E>I?C>T?(c.x=E-B,c.y=T-B,u.x=E+A,u.y=T+A):(c.x=E-B,c.y=T+B,u.x=E+A,u.y=T-A):C>T?(c.x=E+B,c.y=T-B,u.x=E-A,u.y=T+A):(c.x=E+B,c.y=T+B,u.x=E-A,u.y=T-A)),Y.$(I,E)&&Y.$(T,C)&&(T>P?(z>E?(c.x=E-B,c.y=T-B,u.x=E+A):(c.x=E+B,c.y=T-B,u.x=E-A),u.y=T+A):(z>E?(c.x=E-B,c.y=T+B,u.x=E+A):(c.x=E+B,c.y=T+B,u.x=E-A),u.y=T-A)),(Y.$(I,E)&&Y.$(E,z)||Y.$(P,T)&&Y.$(T,C))&&(I=.5*(I+z),P=.5*(P+C),c.x=I,c.y=P,u.x=I,u.y=P),(k===1||k===2&&Y.$(d.x,this.i(0).x)&&Y.$(d.y,this.i(0).y))&&(s.x=.5*(d.x+O.x),s.y=.5*(d.y+O.y)),ja(m,s.x-l,s.y-y,c.x-l,c.y-y,O.x-l,O.y-y),i.set(c),s.set(u),d=O}}O=d.x,d=d.y,w=this.i(this.pointsCount-1),this.computeShortLength(!1)!==0&&(w=Lf(this,w.copy(),!1,po)),O=.5*(O+w.x),d=.5*(d+w.y),ja(m,u.x-l,u.y-y,O-l,d-y,w.x-l,w.y-y),F.free(i),F.free(s),F.free(c),F.free(u)}else for(s=3;s<i;s+=3)c=this.i(s-2),s+3>=i&&(s=i-1),u=this.i(s-1),d=this.i(s),s===i-1&&this.computeShortLength(!1)!==0&&(d=Lf(this,d.copy(),!1,po)),ja(m,c.x-l,c.y-y,u.x-l,u.y-y,d.x-l,d.y-y);else{for(c=F.alloc(),c.assign(this.i(0)),u=F.alloc(),u.assign(c),d=this.computeCorner(),k=1,O=0;k<i;){if(k=oC(this,c,k,1<k),w=this.i(k),k>=i-1){if(!c.D(w))this.computeShortLength(!1)!==0&&(w=Lf(this,w.copy(),!1,po)),Ef(this,m,-l,-y,c,w,s);else if(O===0)for(k=1;k<i;)u.assign(c),w=this.i(k++),Ef(this,m,-l,-y,c,w,s),c.assign(w);break}if(O=oC(this,w,k+1,k<i-3),k=-l,I=-y,P=w,E=this.i(O),A=s,Y.B(c.y,P.y)&&Y.B(P.x,E.x))if(C=Math.min(d,Math.abs(P.x-u.x)/2),C=B=Math.min(C,Math.abs(E.y-P.y)/2),Y.B(C,0))Ef(this,m,k,I,c,P,A),c.assign(P);else{var _=P.x,Z=P.y;T=_,z=Z,P.x>c.x?_=P.x-C:_=P.x+C,E.y>P.y?z=P.y+B:z=P.y-B,E=F.allocAt(_,Z),Ef(this,m,k,I,c,E,A),F.free(E),D1(m,P.x+k,P.y+I,T+k,z+I),c.h(T,z)}else Y.B(c.x,P.x)&&Y.B(P.y,E.y)?(C=Math.min(d,Math.abs(P.y-u.y)/2),C=B=Math.min(C,Math.abs(E.x-P.x)/2),Y.B(B,0)?(Ef(this,m,k,I,c,P,A),c.assign(P)):(_=P.x,Z=P.y,T=_,z=Z,P.y>c.y?Z=P.y-C:Z=P.y+C,E.x>P.x?T=P.x+B:T=P.x-B,E=F.allocAt(_,Z),Ef(this,m,k,I,c,E,A),F.free(E),D1(m,P.x+k,P.y+I,T+k,z+I),c.h(T,z))):(Ef(this,m,k,I,c,P,A),c.assign(P));u.assign(w),k=O}F.free(c)}I1=m}else m=this.i(1).copy(),m.x-=l,m.y-=y,this.computeShortLength(!0)!==0&&(u=Lf(this,u,!0,c)),this.computeShortLength(!1)!==0&&(m=Lf(this,m,!1,c)),t.type=lt.o,t.startX=u.x,t.startY=u.y,t.endX=m.x,t.endY=m.y;return this.kk=!0,t};function Y1(t,i,s,l){return t=s-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),i=l-i,isNaN(i)||i===1/0||i===-1/0?NaN:(0>i&&(i=-i),Y.$(t,0)?i:Y.$(i,0)?t:Math.sqrt(t*t+i*i)))}function Lf(t,i,s,l){var u=t.pointsCount;if(2>u)return i;if(s){var c=t.i(1);if(s=c.x-l.x,c=c.y-l.y,l=Y1(i.x,i.y,s,c),l===0)return i;u=u===2?.5*l:l,t=t.computeShortLength(!0),t>u&&(t=u),u=t*(c-i.y)/l,i.x+=t*(s-i.x)/l,i.y+=u}else{if(c=t.i(u-2),s=c.x-l.x,c=c.y-l.y,l=Y1(i.x,i.y,s,c),l===0)return i;u=u===2?.5*l:l,t=t.computeShortLength(!1),t>u&&(t=u),u=t*(i.y-c)/l,i.x-=t*(i.x-s)/l,i.y-=u}return i}function oC(t,i,s,l){for(var u=t.pointsCount,c=i;Y.$(i.x,c.x)&&Y.$(i.y,c.y);){if(s>=u)return u-1;c=t.i(s++)}if(!Y.$(i.x,c.x)&&!Y.$(i.y,c.y))return s-1;for(var d=c;Y.$(i.x,c.x)&&Y.$(c.x,d.x)&&(!l||(i.y>=c.y?c.y>=d.y:c.y<=d.y))||Y.$(i.y,c.y)&&Y.$(c.y,d.y)&&(!l||(i.x>=c.x?c.x>=d.x:c.x<=d.x));){if(s>=u)return u-1;d=t.i(s++)}return s-2}st.prototype.computeJumpLength=function(){return 10};function Ef(t,i,s,l,u,c,d){if(!d&&Zh(t)){d=t.computeJumpLength();var m=d/2,y=[],O=0;if(t.isVisible()&&(O=WG(t,u,c,y)),0<O){if(Y.B(u.y,c.y))if(u.x<c.x)for(var w=0;w<O;){var k=Math.max(u.x,Math.min(y[w++]-m,c.x-d));i.lineTo(k+s,c.y+l);for(var P=k+s,T=Math.min(k+d,c.x);w<O&&(k=y[w],k<T+d);)w++,T=Math.min(k+m,c.x);k=c.y-d+l,T+=s;var C=c.y+l;t.curve===zl?Ip(i,T,C,!1):ja(i,P,k,T,k,T,C)}else for(--O;0<=O;){for(w=Math.min(u.x,Math.max(y[O--]+m,c.x+d)),i.lineTo(w+s,c.y+l),P=w+s,k=Math.max(w-d,c.x);0<=O&&(w=y[O],w>k-d);)O--,k=Math.max(w-m,c.x);w=c.y-d+l,k+=s,T=c.y+l,t.curve===zl?Ip(i,k,T,!1):ja(i,P,w,k,w,k,T)}else if(Y.B(u.x,c.x))if(u.y<c.y)for(w=0;w<O;){for(k=Math.max(u.y,Math.min(y[w++]-m,c.y-d)),i.lineTo(c.x+s,k+l),P=k+l,k=Math.min(k+d,c.y);w<O&&(T=y[w],T<k+d);)w++,k=Math.min(T+m,c.y);T=c.x-d+s,C=c.x+s,k+=l,t.curve===zl?Ip(i,C,k,!1):ja(i,T,P,T,k,C,k)}else for(--O;0<=O;){for(w=Math.min(u.y,Math.max(y[O--]+m,c.y+d)),i.lineTo(c.x+s,w+l),P=w+l,w=Math.max(w-d,c.y);0<=O&&(k=y[O],k>w-d);)O--,w=Math.max(k-m,c.y);k=c.x-d+s,T=c.x+s,w+=l,t.curve===zl?Ip(i,T,w,!1):ja(i,k,P,k,w,T,w)}}}i.lineTo(c.x+s,c.y+l)}function WG(t,i,s,l){var u=t.diagram;if(u===null||i.D(s))return 0;for(u=u.layers;u.next();){var c=u.value;if(c!==null&&c.visible){c=c.Pa.s;for(var d=c.length,m=0;m<d;m++){var y=c[m];if(y instanceof st){if(y===t)return 0<l.length&&l.sort(function(w,k){return w-k}),l.length;if(y.isVisible()&&Zh(y)){var O=y.routeBounds;O.w()&&t.routeBounds.Yc(O)&&!t.usesSamePort(y)&&(O=y.path,O!==null&&O.Ed()&&qG(i,s,l,y))}}}}}return 0<l.length&&l.sort(function(w,k){return w-k}),l.length}function qG(t,i,s,l){for(var u=Y.B(t.y,i.y),c=l.pointsCount,d=l.i(0),m=F.alloc(),y=1;y<c;y++){var O=l.i(y);if(y<c-1){var w=l.i(y+1);if(d.y===O.y&&O.y===w.y){if(O.x>d.x&&w.x>=O.x||O.x<d.x&&w.x<=O.x)continue}else if(d.x===O.x&&O.x===w.x&&(O.y>d.y&&w.y>=O.y||O.y<d.y&&w.y<=O.y))continue}t:{w=t.x;var k=t.y,P=i.x,T=i.y,C=d.x;d=d.y;var A=O.x,I=O.y;if(Y.B(w,P)){if(!Y.B(k,T)&&Y.B(d,I)&&Math.min(k,T)<d&&Math.max(k,T)>d&&Math.min(C,A)<w&&Math.max(C,A)>w&&!Y.B(C,A)){m.x=w,m.y=d,w=!0;break t}}else if(Y.B(k,T)&&Y.B(C,A)&&Math.min(w,P)<C&&Math.max(w,P)>C&&Math.min(d,I)<k&&Math.max(d,I)>k&&!Y.B(d,I)){m.x=C,m.y=k,w=!0;break t}m.x=0,m.y=0,w=!1}w&&(u?s.push(m.x):s.push(m.y)),d=O}F.free(m)}function Zh(t){return t=t.curve,t===If||t===zl}function W1(t,i){(i||Zh(t))&&(i=t.diagram,i===null||i.animationManager.isTicking||i.Eh.contains(t)||t.ml.width===0&&t.ml.height===0||i.Eh.add(t,t.ml.copy()))}st.prototype.Yo=function(t){var i=this.layer;if(i!==null&&i.visible&&!i.isTemporary){var s=i.diagram;if(s!==null&&!s.animationManager.isTicking){var l=!1;for(s=s.layers;s.next();){var u=s.value;if(u.visible){if(u===i){l=!0;var c=!1;u=u.Pa.s;for(var d=u.length,m=0;m<d;m++){var y=u[m];y instanceof st&&(y===this?c=!0:c&&dD(this,y,t))}}else if(l)for(c=u.Pa.s,u=c.length,d=0;d<u;d++)m=c[d],m instanceof st&&dD(this,m,t)}}}}};function dD(t,i,s){if(i!==null&&i.kk&&i.fd&&Zh(i)){var l=i.routeBounds;l.w()&&(t.routeBounds.Yc(l)||s.Yc(l))&&(t.usesSamePort(i)||i.rc())}}st.prototype.usesSamePort=function(t){var i=this.pointsCount,s=t.pointsCount;if(0<i&&0<s){var l=this.i(0),u=t.i(0);if(l.Xa(u)||(i=this.i(i-1),t=t.i(s-1),i.Xa(t)||l.Xa(t)||i.Xa(u)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},st.prototype.isVisible=function(){if(!kt.prototype.isVisible.call(this))return!1;var t=this.containingGroup,i=!0,s=this.diagram;if(s!==null&&(i=s.isTreePathToChildren),s=this.fromNode,s!==null){if(this.isTreeLink&&i&&!s.isTreeExpanded)return!1;if(s===t)return!0;for(var l=s;l!==null;){if(l.labeledLink===this)return!0;l=l.containingGroup}if(s=s.findVisibleNode(),s===null||s===t)return!1}if(s=this.toNode,s!==null){if(this.isTreeLink&&!i&&!s.isTreeExpanded)return!1;if(s===t)return!0;for(i=s;i!==null;){if(i.labeledLink===this)return!0;i=i.containingGroup}if(i=s.findVisibleNode(),i===null||i===t)return!1}return!0},st.prototype.bc=function(t){if(kt.prototype.bc.call(this,t),t&&W1(this,!1),this.Sf!==null&&this.Sf.Sl(),this.wd!==null)for(var i=this.wd.iterator;i.next();)i.value.bc(t)},st.prototype.computeAdjusting=function(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?zp:this.pk};function Uy(t){var i=t.ef;if(i!==null){var s=t.uf;if(s!==null&&isNaN(t.curviness)){for(var l=t.ff,u=t.vf,c=t=null,d=i.jb.s,m=d.length,y=0;y<m;y++){var O=d[y];(O.ef===i&&O.ff===l&&O.uf===s&&O.vf===u||O.ef===s&&O.ff===u&&O.uf===i&&O.vf===l)&&(c===null?c=O:(t===null&&(t=[],t.push(c)),t.push(O)))}if(t!==null){for(c=J$(i,s,l,u),c===null&&(c=new H1(i,l,s,u),K$(i,c),K$(s,c)),c.links=t,i=0;i<t.length;i++)t[i].Sf=c;c.Sl()}}}}function Zy(t){var i=t.Sf;i!==null&&isNaN(t.curviness)&&(t.Sf=null,t=i.links.indexOf(t),0<=t&&(wt(i.links,t),i.Sl()))}st.prototype.ph=function(){return!0},S.Object.defineProperties(st.prototype,{fromNode:{get:function(){return this.ef},set:function(t){var i=this.ef;if(i!==t){var s=this.fromPort;i!==null&&(this.uf!==i&&B1(i,this,s),Zy(this),this.C(2)),this.ef=t,t!==null&&this.bc(t.isVisible()),this.Wf=null,this.bb();var l=this.diagram;l!==null&&l.aa&&l.partManager.setFromNodeForLink(this,t,i);var u=this.fromPort,c=this.fromPortChanged;if(c!==null){var d=!0;l!==null&&(d=l.aa,l.aa=!0),c(this,s,u),l!==null&&(l.aa=d)}t!==null&&(this.uf!==t&&z1(t,this,u),Uy(this),this.C(1)),this.g("fromNode",i,t),Fp(this)}}},fromPortId:{get:function(){return this.ff},set:function(t){var i=this.ff;if(i!==t){var s=this.fromPort;s!==null&&Jn(s),Zy(this),this.ff=t;var l=this.fromPort;l!==null&&Jn(l);var u=this.diagram;if(u!==null){var c=this.data,d=u.model;c!==null&&d.si()&&d.zv(c,t)}s!==l&&(this.Wf=null,this.bb(),c=this.fromPortChanged,c!==null&&(d=!0,u!==null&&(d=u.aa,u.aa=!0),c(this,s,l),u!==null&&(u.aa=d))),Uy(this),this.g("fromPortId",i,t)}}},fromPort:{get:function(){var t=this.ef;return t===null?null:t.ns(this.ff)}},fromPortChanged:{get:function(){return this.hn},set:function(t){var i=this.hn;i!==t&&(this.hn=t,this.g("fromPortChanged",i,t))}},toNode:{get:function(){return this.uf},set:function(t){var i=this.uf;if(i!==t){var s=this.toPort;i!==null&&(this.ef!==i&&B1(i,this,s),Zy(this),this.C(2)),this.uf=t,t!==null&&this.bc(t.isVisible()),this.Wf=null,this.bb();var l=this.diagram;l!==null&&l.aa&&l.partManager.setToNodeForLink(this,t,i);var u=this.toPort,c=this.toPortChanged;if(c!==null){var d=!0;l!==null&&(d=l.aa,l.aa=!0),c(this,s,u),l!==null&&(l.aa=d)}t!==null&&(this.ef!==t&&z1(t,this,u),Uy(this),this.C(1)),this.g("toNode",i,t),Fp(this)}}},toPortId:{get:function(){return this.vf},set:function(t){var i=this.vf;if(i!==t){var s=this.toPort;s!==null&&Jn(s),Zy(this),this.vf=t;var l=this.toPort;l!==null&&Jn(l);var u=this.diagram;if(u!==null){var c=this.data,d=u.model;c!==null&&d.si()&&d.Ev(c,t)}s!==l&&(this.Wf=null,this.bb(),c=this.toPortChanged,c!==null&&(d=!0,u!==null&&(d=u.aa,u.aa=!0),c(this,s,l),u!==null&&(u.aa=d))),Uy(this),this.g("toPortId",i,t)}}},toPort:{get:function(){var t=this.uf;return t===null?null:t.ns(this.vf)}},toPortChanged:{get:function(){return this.vo},set:function(t){var i=this.vo;i!==t&&(this.vo=t,this.g("toPortChanged",i,t))}},fromSpot:{get:function(){return this.ba!==null?this.ba.Yi:Yi},set:function(t){var i=this.fromSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.Yi=t,this.g("fromSpot",i,t),(i.$c()||t.$c())&&this.fromNode!==null&&Jn(this.fromPort),this.bb())}},fromEndSegmentLength:{get:function(){return this.ba!==null?this.ba.Wi:NaN},set:function(t){var i=this.fromEndSegmentLength;i!==t&&(0>t&&W(t,">= 0",st,"fromEndSegmentLength"),this.Xc(),this.ba.Wi=t,this.g("fromEndSegmentLength",i,t),this.bb())}},fromShortLength:{get:function(){return this.ba!==null?this.ba.Xi:NaN},set:function(t){var i=this.fromShortLength;i!==t&&(this.Xc(),this.ba.Xi=t,this.rc(),this.g("fromShortLength",i,t))}},toSpot:{get:function(){return this.ba!==null?this.ba.zj:Yi},set:function(t){var i=this.toSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.zj=t,this.g("toSpot",i,t),(i.$c()||t.$c())&&this.toNode!==null&&Jn(this.toPort),this.bb())}},toEndSegmentLength:{get:function(){return this.ba!==null?this.ba.xj:NaN},set:function(t){var i=this.toEndSegmentLength;i!==t&&(0>t&&W(t,">= 0",st,"toEndSegmentLength"),this.Xc(),this.ba.xj=t,this.g("toEndSegmentLength",i,t),this.bb())}},toShortLength:{get:function(){return this.ba!==null?this.ba.yj:NaN},set:function(t){var i=this.toShortLength;i!==t&&(this.Xc(),this.ba.yj=t,this.rc(),this.g("toShortLength",i,t))}},isLabeledLink:{get:function(){return this.wd===null?!1:0<this.wd.count}},labelNodes:{get:function(){return this.wd===null?fi:this.wd.iterator}},relinkableFrom:{get:function(){return(this.Qa&1)!==0},set:function(t){var i=(this.Qa&1)!==0;i!==t&&(this.Qa^=1,this.g("relinkableFrom",i,t),this.Zb())}},relinkableTo:{get:function(){return(this.Qa&2)!==0},set:function(t){var i=(this.Qa&2)!==0;i!==t&&(this.Qa^=2,this.g("relinkableTo",i,t),this.Zb())}},resegmentable:{get:function(){return(this.Qa&4)!==0},set:function(t){var i=(this.Qa&4)!==0;i!==t&&(this.Qa^=4,this.g("resegmentable",i,t),this.Zb())}},isTreeLink:{get:function(){return(this.Qa&8)!==0},set:function(t){var i=(this.Qa&8)!==0;i!==t&&(this.Qa^=8,this.g("isTreeLink",i,t),this.fromNode!==null&&Xy(this.fromNode),this.toNode!==null&&Xy(this.toNode))}},path:{get:function(){var t=this.Qb();return t instanceof It?t:null}},routeBounds:{get:function(){this.vg();var t=this.ml,i=1/0,s=1/0,l=this.pointsCount;if(l===0)t.h(NaN,NaN,0,0);else{if(l===1)l=this.i(0),i=Math.min(l.x,i),s=Math.min(l.y,s),t.h(l.x,l.y,0,0);else if(l===2){l=this.i(0);var u=this.i(1);i=Math.min(l.x,u.x),s=Math.min(l.y,u.y),t.h(l.x,l.y,0,0),t.Ye(u)}else if(this.computeCurve()===tr&&3<=l&&!this.isOrthogonal)if(u=this.i(0),i=u.x,s=u.y,t.h(i,s,0,0),l===3){l=this.i(1),i=Math.min(l.x,i),s=Math.min(l.y,s);var c=this.i(2);i=Math.min(c.x,i),s=Math.min(c.y,s),Y.Dl(u.x,u.y,l.x,l.y,l.x,l.y,c.x,c.y,.5,t)}else for(c=3;c<l;c+=3){var d=this.i(c-2);c+3>=l&&(c=l-1);var m=this.i(c-1),y=this.i(c);Y.Dl(u.x,u.y,d.x,d.y,m.x,m.y,y.x,y.y,.5,t),i=Math.min(y.x,i),s=Math.min(y.y,s),u=y}else for(u=this.i(0),c=this.i(1),i=Math.min(u.x,c.x),s=Math.min(u.y,c.y),t.h(u.x,u.y,0,0),t.Ye(c),u=2;u<l;u++)c=this.i(u),i=Math.min(c.x,i),s=Math.min(c.y,s),t.Ye(c);this.tu.h(i-t.x,s-t.y)}return t}},midPoint:{get:function(){return this.vg(),this.computeMidPoint(new F)}},midAngle:{get:function(){return this.vg(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(this.cq===null){this.fd||_1(this);for(var t=this.cq=[],i=this.pointsCount,s=0;s<i-1;s++){var l=this.i(s),u=this.i(s+1);Y.$(l.x,u.x)?(l=u.y-l.y,0>l&&(l=-l)):Y.$(l.y,u.y)?(l=u.x-l.x,0>l&&(l=-l)):l=Math.sqrt(l.Bf(u)),t.push(l)}}return this.cq}},flattenedTotalLength:{get:function(){var t=this.wt;if(isNaN(t)){for(var i=this.flattenedLengths,s=i.length,l=t=0;l<s;l++)t+=i[l];this.wt=t}return t}},points:{get:function(){return this.Ob},set:function(t){var i=this.Ob;if(i!==t){var s=null;if(Array.isArray(t)){var l=t.length%2===0;if(l){for(var u=0;u<t.length;u++)if(typeof t[u]!="number"||isNaN(t[u])){l=!1;break}}if(l)for(s=new ct,l=0;l<t.length/2;l++)u=new F(t[2*l],t[2*l+1]).freeze(),s.add(u);else{for(l=!0,u=0;u<t.length;u++){var c=t[u];if(!tt(c)||typeof c.x!="number"||isNaN(c.x)||typeof c.y!="number"||isNaN(c.y)){l=!1;break}}if(l)for(s=new ct,l=0;l<t.length;l++)u=t[l],s.add(new F(u.x,u.y).freeze())}}else if(t instanceof ct)for(s=t.copy(),t=s.iterator;t.next();)t.value.freeze();else D("Link.points value is not an instance of List or Array: "+t);s.freeze(),this.Ob=s,this.rc(),_1(this),t=this.diagram,t!==null&&(t.ri||t.undoManager.isUndoingRedoing||t.As.add(this),t.animationManager.Ab&&jb(t.animationManager,this,s)),this.g("points",i,s)}}},pointsCount:{get:function(){return this.Ob.count}},fd:{get:function(){return(this.Qa&16)!==0},set:function(t){(this.Qa&16)!==0!==t&&(this.Qa^=16)}},suspendsRouting:{get:function(){return(this.Qa&32)!==0},set:function(t){(this.Qa&32)!==0!==t&&(this.Qa^=32)}},computingPoints:{get:function(){return(this.Qa&64)!==0},set:function(t){(this.Qa&64)!==0!==t&&(this.Qa^=64)}},defaultFromPoint:{get:function(){return this.o},set:function(t){this.o=t.copy()}},defaultToPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},isOrthogonal:{get:function(){return(this.rj.value&2)===2}},isAvoiding:{get:function(){return(this.rj.value&4)===4}},kk:{get:function(){return(this.Qa&128)!==0},set:function(t){(this.Qa&128)!==0!==t&&(this.Qa^=128)}},geometry:{get:function(){if(!this.kk){if(this.vg(),2>this.pointsCount)return this.kk=!0,this.ua;this.ua=this.makeGeometry()}return this.ua}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Vp(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return t===0?0:2>=t?t-1:this.isOrthogonal||!Vp(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.pk},set:function(t){var i=this.pk;i!==t&&(this.pk=t,this.g("adjusting",i,t))}},corner:{get:function(){return this.Pm},set:function(t){var i=this.Pm;i!==t&&(this.Pm=t,this.rc(),this.g("corner",i,t))}},curve:{get:function(){return this.Rm},set:function(t){var i=this.Rm;i!==t&&(this.Rm=t,this.bb(),this.rc(),W1(this,i===zl||i===If||t===zl||t===If),this.g("curve",i,t))}},curviness:{get:function(){return this.Sm},set:function(t){var i=this.Sm;i!==t&&(this.Sm=t,this.bb(),this.rc(),this.g("curviness",i,t))}},routing:{get:function(){return this.rj},set:function(t){var i=this.rj;i!==t&&(this.rj=t,this.Wf=null,this.bb(),W1(this,(i.value&2)===2||(t.value&2)===2),this.g("routing",i,t))}},smoothness:{get:function(){return this.qo},set:function(t){var i=this.qo;i!==t&&(this.qo=t,this.rc(),this.g("smoothness",i,t))}},key:{get:function(){var t=this.diagram;if(t!==null&&t.model.si())return t.model.Ac(this.data)}}}),st.prototype.invalidateOtherJumpOvers=st.prototype.Yo,st.prototype.findClosestSegment=st.prototype.jz,st.prototype.updateRoute=st.prototype.vg,st.prototype.invalidateRoute=st.prototype.bb,st.prototype.rollbackRoute=st.prototype.tv,st.prototype.commitRoute=st.prototype.zf,st.prototype.startRoute=st.prototype.uh,st.prototype.clearPoints=st.prototype.Fj,st.prototype.removePoint=st.prototype.rv,st.prototype.addPointAt=st.prototype.yf,st.prototype.addPoint=st.prototype.ne,st.prototype.insertPointAt=st.prototype.m,st.prototype.insertPoint=st.prototype.Pz,st.prototype.setPointAt=st.prototype.L,st.prototype.setPoint=st.prototype.dd,st.prototype.getPoint=st.prototype.i,st.prototype.getOtherPort=st.prototype.Hz,st.prototype.getOtherNode=st.prototype.Uo;var $f=null,Df=null,q1=new it(st,"Normal",1),pD=new it(st,"Orthogonal",2),mD=new it(st,"AvoidsNodes",6),gD=new it(st,"AvoidsNodesStraight",7),Fi=new it(st,"None",0),tr=new it(st,"Bezier",9),zl=new it(st,"JumpGap",10),If=new it(st,"JumpOver",11),zp=new it(st,"End",17),Yy=new it(st,"Scale",18),Wy=new it(st,"Stretch",19),Bp=new it(st,"OrientAlong",21),Xp=new it(st,"OrientPlus90",22),_p=new it(st,"OrientMinus90",23),G1=new it(st,"OrientOpposite",24),qy=new it(st,"OrientUpright",25),Up=new it(st,"OrientPlus90Upright",26),Zp=new it(st,"OrientMinus90Upright",27),Gy=new it(st,"OrientUpright45",28),yD=16,OD=14,Hy=8;st.className="Link",st.Normal=q1,st.Orthogonal=pD,st.AvoidsNodes=mD,st.AvoidsNodesStraight=gD,st.None=Fi,st.Bezier=tr,st.JumpGap=zl,st.JumpOver=If,st.End=zp,st.Scale=Yy,st.Stretch=Wy,st.OrientAlong=Bp,st.OrientPlus90=Xp,st.OrientMinus90=_p,st.OrientOpposite=G1,st.OrientUpright=qy,st.OrientPlus90Upright=Up,st.OrientMinus90Upright=Zp,st.OrientUpright45=Gy,st.EndSegmentStep=8,st.CurvinessStart=yD,st.SpacingMin=OD,st.OrthoShortCut=Hy;function H1(t,i,s,l){Ye(this),this.Fe=this.qq=!1,this.Ds=t,this.Qx=i,this.fv=s,this.Rx=l,this.links=[]}H1.prototype.Sl=function(){if(!this.qq){var t=this.links;0<t.length&&(t=t[0].diagram,t!==null&&(t.qw.add(this),this.Fe=t.undoManager.isUndoingRedoing))}this.qq=!0},H1.prototype.Pv=function(){if(this.qq){this.qq=!1;var t=this.links;if(0<t.length){var i=t[0],s=i.diagram;s=s===null||s.ri&&!this.Fe,this.Fe=!1,i.arrangeBundledLinks(t,s),t.length===1&&(i.Sf=null,t.length=0)}t.length===0&&(t=this.Ds,this!==null&&t.af!==null&&t.af.remove(this),t=this.fv,this!==null&&t.af!==null&&t.af.remove(this))}},H1.className="LinkBundle";function Ky(t){Ye(this),this.$x=this.group=null,this.vs=!0,this.abort=!1,this.Od=this.Nd=1,this.Gn=this.Fn=-1,this.sc=t.width,this.tc=t.height,this.cc=null,this.ei=this.di=0,this.Ps=11,this.Kx=this.Jx=22}Ky.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var i=t.y,s=t.x+t.width,l=t.y+t.height;if(this.Nd=Math.floor((t.x-this.sc)/this.sc)*this.sc,this.Od=Math.floor((i-this.tc)/this.tc)*this.tc,this.Fn=Math.ceil((s+2*this.sc)/this.sc)*this.sc,this.Gn=Math.ceil((l+2*this.tc)/this.tc)*this.tc,t=1+(Math.ceil((this.Fn-this.Nd)/this.sc)|0),i=1+(Math.ceil((this.Gn-this.Od)/this.tc)|0),this.cc===null||this.di<t-1||this.ei<i-1){for(s=[],l=0;l<=t;l++)s[l]=new Uint32Array(i);this.cc=s,this.di=t-1,this.ei=i-1}if(t=lC,this.cc!==null)for(i=0;i<=this.di;i++)if(s=this.cc[i],s.fill)s.fill(t);else for(l=0;l<=this.ei;l++)s[l]=t}};function Yp(t,i,s){return t.Nd<=i&&i<=t.Fn&&t.Od<=s&&s<=t.Gn}function nl(t,i,s){return Yp(t,i,s)?(i-=t.Nd,i/=t.sc,s-=t.Od,s/=t.tc,t.cc[i|0][s|0]):lC}function vD(t){if(t.cc!==null)for(var i=0;i<=t.di;i++)for(var s=t.cc[i],l=0;l<=t.ei;l++)s[l]>=Yh&&(s[l]=lC)}Ky.prototype.Xj=function(t,i,s,l){if(t>this.Fn||t+s<this.Nd||i>this.Gn||i+l<this.Od)return!0;t=(t-this.Nd)/this.sc|0,i=(i-this.Od)/this.tc|0,s=Math.max(0,s)/this.sc+1|0;var u=Math.max(0,l)/this.tc+1|0;if(0>t&&(s+=t,t=0),0>i&&(u+=i,i=0),0>s||0>u)return!0;for(l=Math.min(t+s-1,this.di)|0,s=Math.min(i+u-1,this.ei)|0;t<=l;t++){u=this.cc[t];for(var c=i;c<=s;c++)if(u[c]===$a)return!1}return!0};function rl(t,i,s,l,u,c,d,m,y){if(!(i<c||i>d||s<m||s>y)){var O=i|0,w=s|0,k=t.cc[O][w];if(k>=Yh&&k<Wp)for(u?w+=l:O+=l,k+=1;c<=O&&O<=d&&m<=w&&w<=y&&!(k>=t.cc[O][w]);)t.cc[O][w]=k,k+=1,u?w+=l:O+=l;if(O=u?w:O,u)if(0<l)for(s+=l;s<O;s+=l)rl(t,i,s,1,!u,c,d,m,y),rl(t,i,s,-1,!u,c,d,m,y);else for(s+=l;s>O;s+=l)rl(t,i,s,1,!u,c,d,m,y),rl(t,i,s,-1,!u,c,d,m,y);else if(0<l)for(i+=l;i<O;i+=l)rl(t,i,s,1,!u,c,d,m,y),rl(t,i,s,-1,!u,c,d,m,y);else for(i+=l;i>O;i+=l)rl(t,i,s,1,!u,c,d,m,y),rl(t,i,s,-1,!u,c,d,m,y)}}function K1(t,i,s,l,u,c,d,m,y){i|=0,s|=0;var O=$a,w=Yh;for(t.cc[i][s]=w;O===$a&&i>c&&i<d&&s>m&&s<y;)w+=1,t.cc[i][s]=w,u?s+=l:i+=l,O=t.cc[i][s]}function J1(t,i,s,l,u,c,d,m,y){i|=0,s|=0;var O=$a,w=Wp;for(t.cc[i][s]=w;O===$a&&i>c&&i<d&&s>m&&s<y;)t.cc[i][s]=w,u?s+=l:i+=l,O=t.cc[i][s]}function xD(t,i,s,l,u,c,d){if(t.cc!==null){t.abort=!1;var m=i.x,y=i.y;if(Yp(t,m,y)){m-=t.Nd,m/=t.sc,y-=t.Od,y/=t.tc;var O=l.x,w=l.y;if(Yp(t,O,w))if(O-=t.Nd,O/=t.sc,w-=t.Od,w/=t.tc,1>=Math.abs(m-O)&&1>=Math.abs(y-w))t.abort=!0;else{var k=c.x;l=c.y,i=c.x+c.width;var P=c.y+c.height;k-=t.Nd,k/=t.sc,l-=t.Od,l/=t.tc,i-=t.Nd,i/=t.sc,P-=t.Od,P/=t.tc,c=Math.max(0,Math.min(t.di,k|0)),i=Math.min(t.di,Math.max(0,i|0)),k=Math.max(0,Math.min(t.ei,l|0)),P=Math.min(t.ei,Math.max(0,P|0)),l=t.cc,m|=0,y|=0,O|=0,w|=0;var T=s===0||s===90?1:-1;if(s=s===90||s===270,l[m][y]===$a?(K1(t,m,y,T,s,c,i,k,P),K1(t,m,y,1,!s,c,i,k,P),K1(t,m,y,-1,!s,c,i,k,P)):K1(t,m,y,T,s,m,y,m,y),l[O][w]===$a?(J1(t,O,w,u===0||u===90?1:-1,u===90||u===270,c,i,k,P),J1(t,O,w,1,!(u===90||u===270),c,i,k,P),J1(t,O,w,-1,!(u===90||u===270),c,i,k,P)):J1(t,O,w,T,s,O,w,O,w),s=St(),d&&wD(t,O,w,u,m,y,s))for((s[0]!==O||s[1]!==w)&&(s.unshift(w),s.unshift(O)),(s[s.length-2]!==m||s[s.length-1]!==y)&&(s.push(m),s.push(y)),t=Yh,u=s[s.length-2],d=s[s.length-1],l[u][d]=t++,c=s.length-4;0<=c;c-=2)for(u=s[c+2],d=s[c+3],i=s[c],O=s[c+1];i>u?u++:i<u?u--:O>d?d++:O<d&&d--,l[u][d]=t++,u!==i||d!==O;);else rl(t,m,y,1,!1,c,i,k,P),rl(t,m,y,-1,!1,c,i,k,P),rl(t,m,y,1,!0,c,i,k,P),rl(t,m,y,-1,!0,c,i,k,P);mt(s)}}}}function wD(t,i,s,l,u,c,d){for(var m=t.cc,y=i,O=s;;){if(y===u&&O===c)return!0;var w=y,k=O;if(l===0)if(w<u)w++;else break;else if(l===90)if(k<c)k++;else break;else if(l===180)if(w>u)w--;else break;else if(k>c)k--;else break;var P=m[w][k];if(P===0||P===aC)break;y=w,O=k}for(;;){if(w=l,k=y,P=O,l===0?P<c?(w=90,P++):P>c&&(w=270,P--):l===90?k<u?(w=0,k++):k>u&&(w=180,k--):l===180?P<c?(w=90,P++):P>c&&(w=270,P--):k<u?(w=0,k++):k>u&&(w=180,k--),k=m[k][P],w!==l&&k!==0&&k!==aC){if(d.push(y),d.push(O),wD(t,y,O,w,u,c,d))return!0;d.pop(),d.pop()}if(m[y][O]=aC,l===0){if(y===i)return!1;y--}else if(l===90){if(O===s)return!1;O--}else if(l===180){if(y===i)return!1;y++}else{if(O===s)return!1;O++}}}S.Object.defineProperties(Ky.prototype,{bounds:{get:function(){return new J(this.Nd,this.Od,this.Fn-this.Nd,this.Gn-this.Od)}},Io:{get:function(){return this.sc},set:function(t){0<t&&t!==this.sc&&(this.sc=t,this.initialize(this.bounds))}},Ho:{get:function(){return this.tc},set:function(t){0<t&&t!==this.tc&&(this.tc=t,this.initialize(this.bounds))}}});var $a=0,Yh=1,Wp=999999,lC=Wp+1,aC=Wp+2;Ky.className="PositionArray";function Ff(){Ye(this),this.port=this.node=null,this.pe=[],this.bp=!1}Ff.prototype.toString=function(){for(var t=this.pe,i=this.node.toString()+" "+t.length.toString()+":",s=0;s<t.length;s++){var l=t[s];l!==null&&(i+=`
  `+l.toString())}return i};function GG(t,i,s,l){switch(i=i.offsetY,i){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(i){case 9:return 180<s?270:90;case 6:return 90<s&&270>=s?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,i){case 3:return s>t&&s<=180+t?180:270;case 5:return s>180-t&&s<=360-t?270:0;case 12:return s>t&&s<=180+t?90:0;case 10:return s>180-t&&s<=360-t?180:90;case 7:return 90<s&&s<=180+t?180:s>180+t&&s<=360-t?270:0;case 13:return 180<s&&s<=360-t?270:s>t&&180>=s?90:0;case 14:return s>t&&s<=180-t?90:s>180-t&&270>=s?180:0;case 11:return s>180-t&&s<=180+t?180:s>180+t?270:90}return l&&i!==15&&(s-=15,0>s&&(s+=360)),s>t&&s<180-t?90:s>=180-t&&s<=180+t?180:s>180+t&&s<360-t?270:0}Ff.prototype.Sl=function(){this.pe.length=0};function SD(t,i){var s=t.pe;if(s.length===0){t:if(!t.bp){s=t.bp,t.bp=!0;var l=null,u=t.node,c=u instanceof Et?u:null;if(c===null||c.isSubGraphExpanded)var d=u.isTreeExpanded?u.findLinksConnected(t.port.portId):u.tx();else{if(!c.actualBounds.w()){t.bp=s;break t}l=c,d=l.Nu()}c=t.pe.length=0;var m=t.port.ga(tn,F.alloc()),y=t.port.ga(Wo,F.alloc());for(u=J.allocAt(m.x,m.y,0,0),u.Ye(y),F.free(m),F.free(y),m=F.allocAt(u.x+u.width/2,u.y+u.height/2),y=t.port.mi(),d=d.iterator;d.next();){var O=d.value;if(O.isVisible()&&O.fromPort!==O.toPort){var w=O.fromPort===t.port||O.fromNode!==null&&O.fromNode.Td(l),k=O.computeSpot(w,t.port);if(k.$c()&&(w=w?O.toPort:O.fromPort,w!==null)){var P=w.part;if(P!==null){var T=P.findVisibleNode();T!==null&&T!==P&&(P=T,w=P.port),w=O.computeOtherPoint(P,w),P=m.ab(w),P-=y,0>P?P+=360:360<=P&&(P-=360),k=GG(u,k,P,O.isOrthogonal),k===0?(k=4,180<P&&(P-=360)):k===90?(k=8,270<P&&(P-=360)):k===180?k=2:(k=1,90>P&&(P+=360)),T=t.pe[c],T===void 0?(T=new uC(O,P,k),t.pe[c]=T):(T.link=O,T.angle=P,T.Oc=k),T.jv.set(w),c++}}}}for(F.free(m),t.pe.sort(Ff.prototype.j),y=t.pe.length,l=-1,c=m=0;c<y;c++)d=t.pe[c],d!==void 0&&(d.Oc!==l&&(l=d.Oc,m=0),d.Vo=m,m++);for(l=-1,m=0,c=y-1;0<=c;c--)y=t.pe[c],y!==void 0&&(y.Oc!==l&&(l=y.Oc,m=y.Vo+1),y.Gl=m);if(c=t.pe,k=t.port,l=t.node.portSpreading,m=F.alloc(),y=F.alloc(),d=F.alloc(),O=F.alloc(),k.ga(tn,m),k.ga(Hd,y),k.ga(Wo,d),k.ga(Kd,O),T=P=w=k=0,l===X1)for(var C=0;C<c.length;C++){var A=c[C];if(A!==null){var I=A.link.computeThickness();switch(A.Oc){case 8:P+=I;break;case 2:T+=I;break;case 1:k+=I;break;default:case 4:w+=I}}}var E=C=0,z=1,B=A=0;for(I=0;I<c.length;I++){var _=c[I];if(_!==null){if(C!==_.Oc){switch(C=_.Oc,C){case 8:var Z=d;E=O;break;case 2:Z=O,E=m;break;case 1:Z=m,E=y;break;default:case 4:Z=y,E=d}switch(A=E.x-Z.x,B=E.y-Z.y,C){case 8:P>Math.abs(A)?(z=Math.abs(A)/P,P=Math.abs(A)):z=1;break;case 2:T>Math.abs(B)?(z=Math.abs(B)/T,T=Math.abs(B)):z=1;break;case 1:k>Math.abs(A)?(z=Math.abs(A)/k,k=Math.abs(A)):z=1;break;default:case 4:w>Math.abs(B)?(z=Math.abs(B)/w,w=Math.abs(B)):z=1}E=0}var H=_.$o;if(l===X1){switch(_=_.link.computeThickness(),_*=z,H.set(Z),C){case 8:H.x=Z.x+A/2+P/2-E-_/2;break;case 2:H.y=Z.y+B/2+T/2-E-_/2;break;case 1:H.x=Z.x+A/2-k/2+E+_/2;break;default:case 4:H.y=Z.y+B/2-w/2+E+_/2}E+=_}else{var at=.5;l===_y&&(at=(_.Vo+1)/(_.Gl+1)),H.x=Z.x+A*at,H.y=Z.y+B*at}}}for(F.free(m),F.free(y),F.free(d),F.free(O),Z=t.pe,c=0;c<Z.length;c++)l=Z[c],l!==null&&(l.Lu=t.computeEndSegmentLength(l));t.bp=s,J.free(u)}s=t.pe}for(t=0;t<s.length;t++)if(u=s[t],u!==null&&u.link===i)return u;return null}Ff.prototype.j=function(t,i){return t===i?0:t===null?-1:i===null?1:t.Oc<i.Oc?-1:t.Oc>i.Oc?1:t.angle<i.angle?-1:t.angle>i.angle?1:0},Ff.prototype.computeEndSegmentLength=function(t){var i=t.link,s=i.computeEndSegmentLength(this.node,this.port,Zi,i.fromPort===this.port),l=t.Vo;if(0>l)return s;var u=t.Gl;if(1>=u||!i.isOrthogonal)return s;i=t.jv;var c=t.$o;return(t.Oc===2||t.Oc===8)&&(l=u-1-l),((t=t.Oc===2||t.Oc===4)?i.y<c.y:i.x<c.x)?s+8*l:(t?i.y===c.y:i.x===c.x)?s:s+8*(u-1-l)},Ff.className="Knot";function uC(t,i,s){this.link=t,this.angle=i,this.Oc=s,this.jv=new F,this.Gl=this.Vo=0,this.$o=new F,this.Lu=0}uC.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Oc.toString()+":"+this.Vo.toString()+"/"+this.Gl.toString()+" "+this.$o.toString()+" "+this.Lu.toString()+" "+this.jv.toString()},uC.className="LinkInfo";function ye(t){Ye(this),this.o=this.H=null,this.Gh=this.tn=!0,this.zn=!1,this.Bm=new F(0,0).freeze(),this.wn=!0,this.Fm=this.vn=null,this.yn=!1,this.j=null,t&&Object.assign(this,t)}ye.prototype.cloneProtected=function(t){t.tn=this.tn,t.Gh=this.Gh,t.zn=this.zn,t.Bm.assign(this.Bm),t.wn=this.wn,t.vn=this.vn,t.Fm=this.Fm,t.yn=!0},ye.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},ye.prototype.qb=function(){},ye.prototype.toString=function(){var t=Ft(this.constructor);return t+="(",this.group!==null&&(t+=" in "+this.group),this.diagram!==null&&(t+=" for "+this.diagram),t+")"},ye.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(t!==null&&!t.undoManager.isUndoingRedoing){var i=t.animationManager;!i.isTicking&&(i.defaultAnimation.isAnimating&&i.Cc(),this.isOngoing&&t.ri||this.isInitial&&!t.ri)&&(this.isValidLayout=!1,t.Rb())}}},ye.prototype.createNetwork=function(){return new de(this)},ye.prototype.makeNetwork=function(t){var i=this.createNetwork();return t instanceof G?(i.lg(t.nodes,!0),i.lg(t.links,!0)):t instanceof Et?i.lg(t.memberParts):i.lg(t.iterator),i},ye.prototype.updateParts=function(){this.isValidLayout=!0;var t=this.diagram;if(t===null&&this.network!==null)for(var i=this.network.vertexes.iterator;i.next();){var s=i.value.node;if(s!==null&&(t=s.diagram,t!==null))break}try{t!==null&&t.Ea("Layout"),this.commitLayout()}finally{t!==null&&t.eb("Layout")}},ye.prototype.commitLayout=function(){if(this.network!==null){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},ye.prototype.doLayout=function(t){var i=new ut;t instanceof G?($u(this,i,t.nodes,!0,this.rh,!0,!1),$u(this,i,t.parts,!0,this.rh,!0,!1)):t instanceof Et?$u(this,i,t.memberParts,!1,this.rh,!0,!1):i.addAll(t.iterator),0<i.count&&(t=this.diagram,t!==null&&t.Ea("Layout"),this.doMinimalNoNetworkLayout(i),t!==null&&t.eb("Layout")),this.isValidLayout=!0},ye.prototype.doMinimalNoNetworkLayout=function(t){var i=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var s=this.arrangementOrigin.x,l=s,u=this.arrangementOrigin.y,c=0,d=0;for(t=t.iterator;t.next();){var m=t.value;Jy(m);var y=m.measuredBounds,O=y.width;y=y.height,m.moveTo(l,u),m instanceof Et&&(m.rh=!1),l+=Math.max(O,50)+20,d=Math.max(d,Math.max(y,50)),c>=i-1?(c=0,l=s,u+=d+20,d=0):c++}},ye.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var i=this.arrangementOrigin.x,s=i,l=this.arrangementOrigin.y,u=0,c=0,d=this.network.vertexes.iterator;d.next();){var m=d.value.node;if(!(m===null||m instanceof st)&&(Jy(m),this.rh(m))){var y=m.measuredBounds,O=y.width;y=y.height,m.moveTo(s,l),m instanceof Et&&(m.rh=!1),s+=Math.max(O,50)+20,c=Math.max(c,Math.max(y,50)),u>=t-1?(u=0,s=i,l+=c+20,c=0):u++}}},ye.prototype.rh=function(t){return!!(!t.location.w()||t instanceof Et&&t.rh)};function $u(t,i,s,l,u,c,d,m){for(s=s.iterator;s.next();){var y=s.value;l&&!y.isTopLevel||u!==null&&!u(y)||!y.canLayout()||(y instanceof ft?y.isLinkLabel||(y instanceof Et&&y.layout===null?$u(t,i,y.memberParts,!1,u,c,d):(Jy(y),i.add(y))):d&&y instanceof st?i.add(y):!y.Zc()||y instanceof ft||(Jy(y),i.add(y)))}}function Jy(t){var i=t.actualBounds;(i.width===0||i.height===0||isNaN(i.width)||isNaN(i.height))&&t.Va()}ye.prototype.oi=function(t,i){var s=this.boundsComputation;return s!==null?(i||(i=new J),s(t,this,i)):i?(i.set(t.actualBounds),i):t.actualBounds},ye.prototype.hx=function(t){var i=new ut;return t instanceof G?($u(this,i,t.nodes,!0,null,!0,!0),$u(this,i,t.links,!0,null,!0,!0),$u(this,i,t.parts,!0,null,!0,!0)):t instanceof Et?$u(this,i,t.memberParts,!1,null,!0,!0):$u(this,i,t.iterator,!1,null,!0,!0),i},ye.prototype.initialOrigin=function(t){var i=this.group;if(i!==null){var s=i.position.copy();return(isNaN(s.x)||isNaN(s.y))&&s.set(t),i=i.placeholder,i!==null&&(s=i.ga(tn),(isNaN(s.x)||isNaN(s.y))&&s.set(t),t=i.padding,s.x+=t.left,s.y+=t.top),s}return t},S.Object.defineProperties(ye.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},group:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t,t!==null&&(this.H=t.diagram))}},isOngoing:{get:function(){return this.tn},set:function(t){this.tn!==t&&(this.tn=t)}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t,t||(this.yn=!0)}},isViewportSized:{get:function(){return this.zn},set:function(t){this.zn!==t&&(this.zn=t)&&this.C()}},isRouting:{get:function(){return this.wn},set:function(t){this.wn!==t&&(this.wn=t)}},isRealtime:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t)}},isValidLayout:{get:function(){return this.yn},set:function(t){this.yn!==t&&(this.yn=t,t||(t=this.diagram,t!==null&&(t.xh=!0)))}},network:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,t!==null&&(t.layout=this))}},boundsComputation:{get:function(){return this.Fm},set:function(t){this.Fm!==t&&(this.Fm=t,this.C())}},arrangementOrigin:{get:function(){return this.Bm},set:function(t){this.Bm.D(t)||(this.Bm.assign(t),this.C())}}}),ye.prototype.collectParts=ye.prototype.hx,ye.prototype.getLayoutBounds=ye.prototype.oi,ye.prototype.invalidateLayout=ye.prototype.C,ye.className="Layout";function de(t){Ye(this),this.Tc=t,this.wf=new ut,this.ye=new ut,this.Es=new jt,this.zs=new jt}de.prototype.clear=function(){if(this.wf)for(var t=this.wf.iterator;t.next();)t.value.clear();if(this.ye)for(t=this.ye.iterator;t.next();)t.value.clear();this.wf=new ut,this.ye=new ut,this.Es=new jt,this.zs=new jt},de.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(0>=t)return i;if(i+=" vertexes: "+this.wf.count+" edges: "+this.ye.count,1<t){for(var s=this.wf.iterator;s.next();)i+=`
    `+s.value.toString(t-1);for(s=this.ye.iterator;s.next();)i+=`
    `+s.value.toString(t-1)}return i},de.prototype.createVertex=function(){return new ri(this)},de.prototype.createEdge=function(){return new er(this)},de.prototype.lg=function(t,i,s){if(t!==null){for(i===void 0&&(i=!1),s===void 0&&(s=null),s===null&&(s=function(d){if(d instanceof ft)return!d.isLinkLabel;if(d instanceof st){var m=d.fromNode;return m===null||m.isLinkLabel?!1:(d=d.toNode,!(d===null||d.isLinkLabel))}return!1}),t=t.iterator;t.next();){var l=t.value;if(l instanceof ft&&(!i||l.isTopLevel)&&l.canLayout()&&s(l)){if(l instanceof Et&&l.layout===null)this.lg(l.memberParts,!1);else if(this.li(l)===null){var u=this.createVertex();u.node=l,this.dh(u)}}}for(t.reset();t.next();)if(l=t.value,l instanceof st&&(!i||l.isTopLevel)&&l.canLayout()&&s(l)&&this.Mo(l)===null){var c=l.fromNode;u=l.toNode,c!==null&&u!==null&&c!==u&&(c=this.findGroupVertex(c),u=this.findGroupVertex(u),c!==null&&u!==null&&this.Yj(c,u,l))}}},de.prototype.findGroupVertex=function(t){if(t===null)return null;var i=t.findVisibleNode();if(i===null)return null;if(t=this.li(i),t!==null)return t;for(i=i.containingGroup;i!==null;){if(t=this.li(i),t!==null)return t;i=i.containingGroup}return null},n=de.prototype,n.dh=function(t){if(t!==null){this.wf.add(t);var i=t.node;i!==null&&this.Es.add(i,t),t.network=this}},n.Bl=function(t){if(t===null)return null;var i=this.li(t);return i===null&&(i=this.createVertex(),i.node=t,this.dh(i)),i},n.Ku=function(t){if(t!==null&&kD(this,t)){for(var i=t.tg,s=i.count-1;0<=s;s--){var l=i.M(s);this.Mj(l)}for(i=t.mg,t=i.count-1;0<=t;t--)s=i.M(t),this.Mj(s)}};function kD(t,i){if(i===null)return!1;var s=t.wf.remove(i);return s&&(i=i.node,i!==null&&t.Es.remove(i)),s}n.dz=function(t){t!==null&&(t=this.li(t),t!==null&&this.Ku(t))},n.li=function(t){return t===null?null:this.Es.I(t)},n.Co=function(t){if(t!==null){hC(this,t);var i=t.toVertex;i!==null&&i.Cl(t),i=t.fromVertex,i!==null&&i.zl(t)}};function hC(t,i){if(i!==null){t.ye.add(i);var s=i.link;s!==null&&t.Mo(s)===null&&t.zs.add(s,i),i.network=t}}n.Fy=function(t){if(t===null)return null;var i=t.fromNode,s=t.toNode,l=this.Mo(t);return l===null?(l=this.createEdge(),l.link=t,i!==null&&(l.fromVertex=this.Bl(i)),s!==null&&(l.toVertex=this.Bl(s)),this.Co(l)):(i!==null?l.fromVertex=this.Bl(i):l.fromVertex=null,s!==null?l.toVertex=this.Bl(s):l.toVertex=null),l},n.Mj=function(t){if(t!==null){var i=t.toVertex;i!==null&&i.Kl(t),i=t.fromVertex,i!==null&&i.Jl(t),cC(this,t)}};function cC(t,i){i!==null&&t.ye.remove(i)&&(i=i.link,i!==null&&t.zs.remove(i))}n.cz=function(t){t!==null&&(t=this.Mo(t),t!==null&&this.Mj(t))},n.Mo=function(t){return t===null?null:this.zs.I(t)},n.Yj=function(t,i,s){if(t===null||i===null)return null;if(t.network===this&&i.network===this){var l=this.createEdge();return l.link=s,l.fromVertex=t,l.toVertex=i,this.Co(l),l}return null},n.hm=function(t){if(t!==null){var i=t.fromVertex,s=t.toVertex;i!==null&&s!==null&&(i.Jl(t),s.Kl(t),t.hm(),i.Cl(t),s.zl(t))}},n.Lo=function(){for(var t=St(),i=this.ye.iterator;i.next();){var s=i.value;s.fromVertex===s.toVertex&&t.push(s)}for(i=t.length,s=0;s<i;s++)this.Mj(t[s]);mt(t)},de.prototype.deleteArtificialVertexes=function(){for(var t=St(),i=this.wf.iterator;i.next();){var s=i.value;s.node===null&&s.data===null&&t.push(s)}for(s=t.length,i=0;i<s;i++)this.Ku(t[i]);for(i=St(),s=this.ye.iterator;s.next();){var l=s.value;l.link===null&&l.data===null&&i.push(l)}for(s=i.length,l=0;l<s;l++)this.Mj(i[l]);mt(t),mt(i)};function HG(t){for(var i=St(),s=t.ye.iterator;s.next();){var l=s.value;l.fromVertex!==null&&l.toVertex!==null||i.push(l)}for(s=i.length,l=0;l<s;l++)t.Mj(i[l]);mt(i)}de.prototype.ay=function(t){t===void 0&&(t=!0),t&&(this.deleteArtificialVertexes(),HG(this),this.Lo()),t=new ct;for(var i=!0;i;){i=!1;for(var s=this.wf.iterator;s.next();){var l=s.value;if(0<l.tg.count||0<l.mg.count){i=this.layout.createNetwork(),t.add(i),fC(this,i,l),i=!0;break}}}return t.sort(function(u,c){return u===null||c===null||u===c?0:c.vertexes.count-u.vertexes.count}),t};function fC(t,i,s){if(s!==null&&s.network!==i){kD(t,s),i.dh(s);for(var l=s.sourceEdges;l.next();){var u=l.value;u.network!==i&&(cC(t,u),hC(i,u),fC(t,i,u.fromVertex))}for(l=s.destinationEdges;l.next();)s=l.value,s.network!==i&&(cC(t,s),hC(i,s),fC(t,i,s.toVertex))}}de.prototype.iz=function(){for(var t=new ut,i=this.wf.iterator;i.next();)t.add(i.value.node);for(i=this.ye.iterator;i.next();)t.add(i.value.link);return t},S.Object.defineProperties(de.prototype,{layout:{get:function(){return this.Tc},set:function(t){t!==null&&(this.Tc=t)}},vertexes:{get:function(){return this.wf}},edges:{get:function(){return this.ye}}}),de.prototype.findAllParts=de.prototype.iz,de.prototype.splitIntoSubNetworks=de.prototype.ay,de.prototype.deleteSelfEdges=de.prototype.Lo,de.prototype.reverseEdge=de.prototype.hm,de.prototype.linkVertexes=de.prototype.Yj,de.prototype.findEdge=de.prototype.Mo,de.prototype.deleteLink=de.prototype.cz,de.prototype.deleteEdge=de.prototype.Mj,de.prototype.addLink=de.prototype.Fy,de.prototype.addEdge=de.prototype.Co,de.prototype.findVertex=de.prototype.li,de.prototype.deleteNode=de.prototype.dz,de.prototype.deleteVertex=de.prototype.Ku,de.prototype.addNode=de.prototype.Bl,de.prototype.addVertex=de.prototype.dh,de.prototype.addParts=de.prototype.lg,de.className="LayoutNetwork";function ri(t){Ye(this),this.ob=t,this.j=new J(0,0,10,10).freeze(),this.o=new F(5,5).freeze(),this.Sh=this.ub=null,this.tg=new ct,this.mg=new ct}ri.prototype.clear=function(){this.Sh=this.ub=null,this.tg=new ct,this.mg=new ct},ri.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutVertex#"+Qi(this);if(0<t&&(i+=this.node!==null?"("+this.node.toString()+")":"",1<t)){t="";for(var s=!0,l=this.tg.iterator;l.next();){var u=l.value;s?s=!1:t+=",",t+=u.toString(0)}for(u="",s=!0,l=this.mg.iterator;l.next();){var c=l.value;s?s=!1:u+=",",u+=c.toString(0)}i+=" sources: "+t+" destinations: "+u}return i},ri.prototype.commit=function(){var t=this.ub;if(t!==null){var i=this.bounds,s=t.bounds;tt(s)?(s.x=i.x,s.y=i.y,s.width=i.width,s.height=i.height):t.bounds=i.copy()}else if(t=this.node,t!==null){if(i=this.bounds,!(t instanceof Et)){s=J.alloc(),t.Va();var l=this.network.layout.oi(t,s),u=t.locationObject.ga(oe);if(l.w()&&u.w()){t.moveTo(i.x+this.focusX-(u.x-l.x),i.y+this.focusY-(u.y-l.y)),J.free(s);return}J.free(s)}t.moveTo(i.x,i.y)}},ri.prototype.Cl=function(t){t!==null&&(this.tg.contains(t)||this.tg.add(t))},ri.prototype.Kl=function(t){t!==null&&this.tg.remove(t)},ri.prototype.zl=function(t){t!==null&&(this.mg.contains(t)||this.mg.add(t))},ri.prototype.Jl=function(t){t!==null&&this.mg.remove(t)};function dC(t,i){return t=t.Sh,i=i.Sh,t?i?(t=t.text,i=i.text,t<i?-1:t>i?1:0):1:i!==null?-1:0}S.Object.defineProperties(ri.prototype,{sourceEdgesArrayAccess:{get:function(){return this.tg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.mg._dataArray}},data:{get:function(){return this.ub},set:function(t){if(this.ub=t,t!==null&&t.bounds){var i=t.bounds;t=i.x;var s=i.y,l=i.width;i=i.height,this.o.h(l/2,i/2),this.j.h(t,s,l,i)}}},node:{get:function(){return this.Sh},set:function(t){if(this.Sh!==t){this.Sh=t,t.Va();var i=this.network.layout,s=J.alloc(),l=i.oi(t,s);i=l.x;var u=l.y,c=l.width;if(l=l.height,isNaN(i)&&(i=0),isNaN(u)&&(u=0),this.j.h(i,u,c,l),J.free(s),!(t instanceof Et)&&(t=t.locationObject.ga(oe),t.w())){this.o.h(t.x-i,t.y-u);return}this.o.h(c/2,l/2)}}},bounds:{get:function(){return this.j},set:function(t){this.j.D(t)||this.j.assign(t)}},focus:{get:function(){return this.o},set:function(t){this.o.D(t)||this.o.assign(t)}},centerX:{get:function(){return this.j.x+this.o.x},set:function(t){var i=this.j;i.x+this.o.x!==t&&(i.ka(),i.x=t-this.o.x,i.freeze())}},centerY:{get:function(){return this.j.y+this.o.y},set:function(t){var i=this.j;i.y+this.o.y!==t&&(i.ka(),i.y=t-this.o.y,i.freeze())}},focusX:{get:function(){return this.o.x},set:function(t){var i=this.o;i.x!==t&&(i.ka(),i.x=t,i.freeze())}},focusY:{get:function(){return this.o.y},set:function(t){var i=this.o;i.y!==t&&(i.ka(),i.y=t,i.freeze())}},x:{get:function(){return this.j.x},set:function(t){var i=this.j;i.x!==t&&(i.ka(),i.x=t,i.freeze())}},y:{get:function(){return this.j.y},set:function(t){var i=this.j;i.y!==t&&(i.ka(),i.y=t,i.freeze())}},width:{get:function(){return this.j.width},set:function(t){var i=this.j;i.width!==t&&(i.ka(),i.width=t,i.freeze())}},height:{get:function(){return this.j.height},set:function(t){var i=this.j;i.height!==t&&(i.ka(),i.height=t,i.freeze())}},network:{get:function(){return this.ob},set:function(t){this.ob=t}},sourceVertexes:{get:function(){for(var t=new ut,i=this.sourceEdges;i.next();)t.add(i.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new ut,i=this.destinationEdges;i.next();)t.add(i.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new ut,i=this.sourceEdges;i.next();)t.add(i.value.fromVertex);for(i=this.destinationEdges;i.next();)t.add(i.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.tg.iterator}},destinationEdges:{get:function(){return this.mg.iterator}},edges:{get:function(){for(var t=new ct,i=this.sourceEdges;i.next();)t.add(i.value);for(i=this.destinationEdges;i.next();)t.add(i.value);return t.iterator}},edgesCount:{get:function(){return this.tg.count+this.mg.count}}}),ri.prototype.deleteDestinationEdge=ri.prototype.Jl,ri.prototype.addDestinationEdge=ri.prototype.zl,ri.prototype.deleteSourceEdge=ri.prototype.Kl,ri.prototype.addSourceEdge=ri.prototype.Cl,ri.className="LayoutVertex",ri.standardComparer=dC,ri.smartComparer=function(t,i){if(t!==null){if(i!==null){t=t.Sh;var s=i.Sh;if(t!==null){if(s!==null){for(i=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=s.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),s=0;s<i.length;s++)if(t[s]!==""&&t[s]!==void 0){var l=parseFloat(i[s]),u=parseFloat(t[s]);if(isNaN(l))if(isNaN(u)){if(i[s].localeCompare(t[s])!==0)return i[s].localeCompare(t[s])}else return 1;else{if(isNaN(u))return-1;if(l-u!==0)return l-u}}else if(i[s]!=="")return 1;return t[s]!==""&&t[s]!==void 0?-1:0}return 1}return s!==null?-1:0}return 1}return i!==null?-1:0};function er(t){Ye(this),this.nb=t,this.qd=this.kd=this.Zk=this.ub=null}er.prototype.clear=function(){this.qd=this.kd=this.Zk=this.ub=null},er.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutEdge#"+Qi(this);return 0<t&&(i+=this.Zk!==null?"("+this.Zk.toString()+")":"",1<t&&(i+=" "+(this.kd?this.kd.toString():"null")+" --> "+(this.qd?this.qd.toString():"null"))),i},er.prototype.hm=function(){var t=this.kd;this.kd=this.qd,this.qd=t},er.prototype.commit=function(){},er.prototype.Cx=function(t){return this.qd===t?this.kd:this.kd===t?this.qd:null},S.Object.defineProperties(er.prototype,{network:{get:function(){return this.nb},set:function(t){this.nb=t}},data:{get:function(){return this.ub},set:function(t){this.ub!==t&&(this.ub=t)}},link:{get:function(){return this.Zk},set:function(t){this.Zk!==t&&(this.Zk=t)}},fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}}}),er.prototype.getOtherVertex=er.prototype.Cx,er.className="LayoutEdge";function xi(t){ye.call(this),this.isViewportSized=!0,this.zo=this.Ao=NaN,this.yg=new At(NaN,NaN).freeze(),this.tf=new At(10,10).freeze(),this.Kb=qp,this.Tb=e0,this.nd=Gp,this.hd=PD,t&&Object.assign(this,t)}v(xi,ye),xi.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.Ao=this.Ao,t.zo=this.zo,t.yg.assign(this.yg),t.tf.assign(this.tf),t.Kb=this.Kb,t.Tb=this.Tb,t.nd=this.nd,t.hd=this.hd},xi.prototype.qb=function(t){t.classType===xi?t===Gp||t===n0||t===tw||t===i0?this.sorting=t:t===e0||t===Ns?this.arrangement=t:t===qp||t===t0?this.alignment=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},xi.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.hx(t);t=this.diagram;for(var s=i.copy().iterator;s.next();){var l=s.value;if(!l.ph()||l.fromNode===null&&l.toNode===null){if(l.Va(),l instanceof Et)for(l=l.memberParts;l.next();)i.remove(l.value)}else i.remove(l)}var u=i.Fa();if(u.length!==0){switch(this.sorting){case i0:u.reverse();break;case Gp:u.sort(this.comparer);break;case n0:u.sort(this.comparer),u.reverse()}var c=this.wrappingColumn;isNaN(c)&&(c=0);var d=this.wrappingWidth;switch(isNaN(d)&&t!==null?(i=t.padding,d=Math.max(t.viewportBounds.width-i.left-i.right,0)):d=Math.max(this.wrappingWidth,0),0>=c&&0>=d&&(c=1),i=this.spacing.width,isFinite(i)||(i=0),s=this.spacing.height,isFinite(s)||(s=0),t!==null&&t.Ea("Layout"),l=[],this.alignment){case t0:var m=i,y=s,O=J.alloc(),w=Math.max(this.cellSize.width,1);if(!isFinite(w))for(var k=w=0;k<u.length;k++){var P=this.oi(u[k],O);w=Math.max(w,P.width)}if(w=Math.max(w+m,1),k=Math.max(this.cellSize.height,1),!isFinite(k))for(P=k=0;P<u.length;P++){var T=this.oi(u[P],O);k=Math.max(k,T.height)}k=Math.max(k+y,1),P=this.arrangement;for(var C=T=this.arrangementOrigin.x,A=this.arrangementOrigin.y,I=0,E=0,z=0;z<u.length;z++){var B=u[z],_=this.oi(B,O),Z=Math.ceil((_.width+m)/w)*w,H=Math.ceil((_.height+y)/k)*k;switch(P){case Ns:var at=Math.abs(C-_.width);break;default:at=C+_.width}switch((0<c&&I>c-1||0<d&&0<I&&at-T>d)&&(l.push(new J(0,A,d+m,E)),I=0,C=T,A+=E,E=0),E=Math.max(E,H),P){case Ns:_=-_.width;break;default:_=0}switch(B.moveTo(C+_,A),P){case Ns:C-=Z;break;default:C+=Z}I++}l.push(new J(0,A,d+m,E)),J.free(O);break;case qp:for(y=d,w=c,k=i,P=s,d=J.alloc(),T=Math.max(this.cellSize.width,1),c=A=O=0,m=F.alloc(),C=0;C<u.length;C++)E=u[C],I=this.oi(E,d),E=Ra(E,E.locationObject,E.locationSpot,m),O=Math.max(O,E.x),A=Math.max(A,I.width-E.x),c=Math.max(c,E.y);switch(C=this.arrangement,C){case Ns:O+=k;break;default:A+=k}T=isFinite(T)?Math.max(T+k,1):Math.max(O+A,1);var pt=E=this.arrangementOrigin.x;for(z=this.arrangementOrigin.y,A=0,y>=O&&(y-=O),O=B=0,Z=Math.max(this.cellSize.height,1),_=c=0,H=!0,I=F.alloc(),at=0;at<u.length;at++){var gt=u[at],ot=this.oi(gt,d),et=Ra(gt,gt.locationObject,gt.locationSpot,m);if(0<A)switch(C){case Ns:pt=(pt-E-(ot.width-et.x))/T,pt=Y.$(Math.round(pt),pt)?Math.round(pt):Math.floor(pt),pt=pt*T+E;break;default:pt=(pt-E+et.x)/T,pt=Y.$(Math.round(pt),pt)?Math.round(pt):Math.ceil(pt),pt=pt*T+E}else switch(C){case Ns:B=pt+et.x+ot.width;break;default:B=pt-et.x}switch(C){case Ns:var Lt=-(pt+et.x)+B;break;default:Lt=pt+ot.width-et.x-B}if(0<w&&A>w-1||0<y&&0<A&&Lt>y){for(l.push(new J(0,H?z-c:z,y+k,_+c+P)),pt=0;pt<A&&at!==A;pt++){Lt=u[at-A+pt];var Qt=Ra(Lt,Lt.locationObject,Lt.locationSpot,I);Lt.moveTo(Lt.position.x,Lt.position.y+c-Qt.y)}_+=P,z=H?z+_:z+(_+c),A=_=c=0,pt=E,H=!1}switch(pt===E&&(O=C===Ns?Math.max(O,ot.width-et.x):Math.min(O,-et.x)),c=Math.max(c,et.y),_=Math.max(_,ot.height-et.y),isFinite(Z)&&(_=Math.max(_,Math.max(ot.height,Z)-et.y)),H?gt.moveTo(pt-et.x,z-et.y):gt.moveTo(pt-et.x,z),C){case Ns:pt-=et.x+k;break;default:pt+=ot.width-et.x+k}A++}if(l.push(new J(0,z,y+k,(H?_:_+c)+P)),u.length!==A)for(y=0;y<A;y++)w=u[u.length-A+y],k=Ra(w,w.locationObject,w.locationSpot,m),w.moveTo(w.position.x,w.position.y+c-k.y);if(F.free(m),F.free(I),C===Ns)for(u=0;u<l.length;u++)c=l[u],c.width+=O,c.x-=O;else for(u=0;u<l.length;u++)c=l[u],c.x>O&&(c.width+=c.x-O,c.x=O);J.free(d)}for(m=c=d=u=0;m<l.length;m++)y=l[m],u=Math.min(u,y.x),d=Math.min(d,y.y),c=Math.max(c,y.x+y.width);this.arrangement===Ns?this.commitLayers(l,new F(u+i/2-(c+u),d-s/2)):this.commitLayers(l,new F(u-i/2,d-s/2)),t!==null&&t.eb("Layout"),this.isValidLayout=!0}},xi.prototype.commitLayers=function(){};function PD(t,i){return t=t.text,i=i.text,t<i?-1:t>i?1:0}S.Object.defineProperties(xi.prototype,{wrappingWidth:{get:function(){return this.Ao},set:function(t){this.Ao!==t&&(0<t||isNaN(t))&&(this.Ao=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.zo},set:function(t){this.zo!==t&&(0<t||isNaN(t))&&(this.zo=t,this.C())}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||(this.yg.assign(t),this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf.D(t)||(this.tf.assign(t),this.C())}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb===t||t!==qp&&t!==t0||(this.Kb=t,this.C())}},arrangement:{get:function(){return this.Tb},set:function(t){this.Tb===t||t!==e0&&t!==Ns||(this.Tb=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==tw&&t!==i0&&t!==Gp&&t!==n0||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}}});var t0=new it(xi,"Position",0),qp=new it(xi,"Location",1),e0=new it(xi,"LeftToRight",2),Ns=new it(xi,"RightToLeft",3),tw=new it(xi,"Forward",4),i0=new it(xi,"Reverse",5),Gp=new it(xi,"Ascending",6),n0=new it(xi,"Descending",7);xi.className="GridLayout",xi.standardComparer=PD,xi.smartComparer=function(t,i){if(t!==null){if(i!==null){t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),i=i.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var s=0;s<t.length;s++)if(i[s]!==""&&i[s]!==void 0){var l=parseFloat(t[s]),u=parseFloat(i[s]);if(isNaN(l))if(isNaN(u)){if(t[s].localeCompare(i[s])!==0)return t[s].localeCompare(i[s])}else return 1;else{if(isNaN(u))return-1;if(l-u!==0)return l-u}}else if(t[s]!=="")return 1;return i[s]!==""&&i[s]!==void 0?-1:0}return 1}return i!==null?-1:0},xi.Position=t0,xi.Location=qp,xi.LeftToRight=e0,xi.RightToLeft=Ns,xi.Forward=tw,xi.Reverse=i0,xi.Ascending=Gp,xi.Descending=n0;function re(){this.Pn=new ut,this.En=new ut,this.Pa=new ut,this.cf=new jt,this.bf=new jt,this.bj=new jt,this.H=null,this.tp=!1}n=re.prototype,n.clear=function(){this.Pn.clear(),this.En.clear(),this.Pa.clear(),this.cf.clear(),this.bf.clear(),this.bj.clear()},n.Xe=function(t){this.H=t},n.pi=function(t){if(t instanceof ft){if(this.Pn.add(t),t instanceof Et){var i=t.containingGroup;i===null?this.H.ai.add(t):i.fl.add(t),i=t.layout,i!==null&&(i.diagram=this.H)}}else t instanceof st?this.En.add(t):t instanceof Wt||this.Pa.add(t);i=t.data,i===null||t instanceof Wt||(t instanceof st?this.bf.add(i,t):this.cf.add(i,t))},n.qc=function(t){if(t.Ej(),t instanceof ft){if(this.Pn.remove(t),t instanceof Et){var i=t.containingGroup;i===null?this.H.ai.remove(t):i.fl.remove(t),i=t.layout,i!==null&&(i.diagram=null)}}else t instanceof st?this.En.remove(t):t instanceof Wt||this.Pa.remove(t);i=t.data,i===null||t instanceof Wt||(t instanceof st?this.bf.remove(i):this.cf.remove(i))},n.Wd=function(){var t=this.H;if(t!==null){for(var i=t.nodeTemplateMap.iterator;i.next();){var s=i.value,l=i.key;(!s.Zc()||s instanceof Et)&&D('Invalid node template in Diagram.nodeTemplateMap: template for "'+l+'" must be a Node or a simple Part, not a Group or Link: '+s)}for(i=t.groupTemplateMap.iterator;i.next();)s=i.value,l=i.key,s instanceof Et||D('Invalid group template in Diagram.groupTemplateMap: template for "'+l+'" must be a Group, not a normal Node or Link: '+s);for(i=t.linkTemplateMap.iterator;i.next();)s=i.value,l=i.key,s instanceof st||D('Invalid link template in Diagram.linkTemplateMap: template for "'+l+'" must be a Link, not a normal Node or simple Part: '+s);for(i=St(),s=t.selection.iterator;s.next();)(l=s.value.data)&&i.push(l);for(s=St(),t=t.highlighteds.iterator;t.next();)(l=t.value.data)&&s.push(l);for(t=St(),l=this.nodes.iterator;l.next();){var u=l.value;u.data!==null&&(t.push(u.data),t.push(u.location))}for(l=this.links.iterator;l.next();)u=l.value,u.data!==null&&(t.push(u.data),t.push(u.location));for(l=this.parts.iterator;l.next();)u=l.value,u.data!==null&&(t.push(u.data),t.push(u.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),l=0;l<i.length;l++)u=this.Mc(i[l]),u!==null&&(u.isSelected=!0);for(l=0;l<s.length;l++)u=this.Mc(s[l]),u!==null&&(u.isHighlighted=!0);for(l=0;l<t.length;l+=2)u=this.Mc(t[l]),u!==null&&(u.location=t[l+1]);mt(i),mt(s),mt(t)}},re.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},re.prototype.addModeledParts=function(t,i){var s=this,l=this.diagram.model;t.forEach(function(u){l.lb(u)&&bD(s,u,!1)}),t.forEach(function(u){l.lb(u)&&s.resolveReferencesForData(u)}),i!==!1&&qx(this.diagram,!1)};function bD(t,i,s){if(i!=null&&!t.diagram.undoManager.isUndoingRedoing&&!t.cf.contains(i)){s===void 0&&(s=!0);t:{if(i!=null&&!t.H.undoManager.isUndoingRedoing&&!t.cf.contains(i)){var l=t.So(i),u=TD(t,i,l);if(u!==null&&(Jr(u),u=u.copy(),u!==null)){var c=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,u.Tf=l,u.ub=i,t.tp&&(u.Jg="Tool"),t.diagram.add(u),u.ub=null,u.data=i,t.diagram.skipsModelSourceBindings=c,l=u;break t}}l=null}l!==null&&s&&t.resolveReferencesForData(i)}}re.prototype.insertLink=function(){return null},re.prototype.resolveReferencesForData=function(){},re.prototype.So=function(t){return this.H.model.So(t)};function TD(t,i,s){t=t.H;var l=t.model;return l.Wj()&&l.$u(i)?(i=t.groupTemplateMap.I(s),i===null&&(i=t.groupTemplateMap.I(""),i===null&&(ND||(ND=!0,K('No Group template found for category "'+s+'"'),K("  Using default group template")),i=t.ny))):(i=t.nodeTemplateMap.I(s),i===null&&(i=t.nodeTemplateMap.I(""),i===null&&(MD||(MD=!0,K('No Node template found for category "'+s+'"'),K("  Using default node template")),i=t.py))),i}re.prototype.getLinkCategoryForData=function(){return""},re.prototype.setLinkCategoryForData=function(){},re.prototype.setFromNodeForLink=function(){},re.prototype.setToNodeForLink=function(){},re.prototype.findLinkTemplateForCategory=function(t){var i=this.H,s=i.linkTemplateMap.I(t);return s===null&&(s=i.linkTemplateMap.I(""),s===null&&(QD||(QD=!0,K('No Link template found for category "'+t+'"'),K("  Using default link template")),s=i.oy)),s},re.prototype.removeAllModeledParts=function(){this.Hs(this.diagram.model.nodeDataArray)},re.prototype.Hs=function(t){var i=this;t.forEach(function(s){i.ip(s)})},re.prototype.ip=function(t){t=this.Mc(t),t!==null&&(Zb(this.diagram,t,!1),this.unresolveReferencesForPart(t))},re.prototype.unresolveReferencesForPart=function(){},re.prototype.removeDataForLink=function(){},re.prototype.findPartForKey=function(t){return t==null?null:(t=this.H.model.jc(t),t!==null?this.cf.I(t):null)},re.prototype.Yb=function(t){return t==null||(t=this.H.model.jc(t),t===null)?null:(t=this.cf.I(t),t instanceof ft?t:null)},re.prototype.findLinkForKey=function(){return null},n=re.prototype,n.Mc=function(t){if(t===null)return null;var i=this.cf.I(t);return i!==null?i:i=this.bf.I(t)},n.ji=function(t){return t===null?null:(t=this.cf.I(t),t instanceof ft?t:null)},n.Lc=function(t){return t===null?null:this.bf.I(t)},n.ms=function(t){for(var i=0;i<arguments.length;++i);i=new ut;for(var s=this.Pn.iterator;s.next();){var l=s.value,u=l.data;if(u!==null)for(var c=0;c<arguments.length;c++){var d=arguments[c];if(tt(d)&&pC(this,u,d)){i.add(l);break}}}return i.iterator},n.ls=function(t){for(var i=0;i<arguments.length;++i);i=new ut;for(var s=this.En.iterator;s.next();){var l=s.value,u=l.data;if(u!==null)for(var c=0;c<arguments.length;c++){var d=arguments[c];if(tt(d)&&pC(this,u,d)){i.add(l);break}}}return i.iterator};function pC(t,i,s){for(var l in s){var u=i[l],c=s[l];if(rt(c)){if(!rt(u)||u.length<c.length)return!1;for(var d=0;d<u.length;d++){var m=c[d];if(m!==void 0&&!CD(t,u[d],m))return!1}}else if(!CD(t,u,c))return!1}return!0}function CD(t,i,s){if(typeof s=="function"){if(!s(i))return!1}else if(s instanceof RegExp){if(!i||!s.test(i.toString()))return!1}else if(tt(i)&&tt(s)){if(!pC(t,i,s))return!1}else if(i!==s)return!1;return!0}re.prototype.doModelChanged=function(t){if(this.H){var i=this.H;if(t.model===i.model){var s=t.change;if(i.doModelChanged(t),i.aa){i.aa=!1;try{var l=t.modelChange;if(l!=="")if(s===Se){if(l==="nodeCategory"){var u=this.Mc(t.object),c=t.newValue;u!==null&&typeof c=="string"&&(u.category=c)}else l==="nodeDataArray"&&(this.Hs(t.oldValue),this.addModeledParts(t.newValue));i.isModified=!0}else if(s===ei){var d=t.newValue;l==="nodeDataArray"&&tt(d)&&bD(this,d),i.isModified=!0}else if(s===ui){var m=t.oldValue;l==="nodeDataArray"&&tt(m)&&this.ip(m),i.isModified=!0}else s===Ps&&(l==="SourceChanged"?t.object!==null?this.updateDataBindings(t.object,t.propertyName):(this.rp(),this.updateAllTargetBindings()):l==="ModelDisplaced"&&this.Wd());else if(s===Se){var y=t.propertyName,O=t.object;O===i.model?(y==="nodeKeyProperty"||y==="nodeCategoryProperty")&&(i.undoManager.isUndoingRedoing||this.Wd()):this.updateDataBindings(O,y),i.isModified=!0}else if(s===ei||s===ui){var w=t.change===ei,k=w?t.newParam:t.oldParam,P=w?t.newValue:t.oldValue,T=this.bj.I(t.object);if(Array.isArray(T))for(t=0;t<T.length;t++){var C=T[t];if(w)S1(C,P,k,!0);else if(!(0>k)){var A=k+Dy(C);C.qc(A,!0),LT(C,A,k)}}i.isModified=!0}}finally{i.aa=!0}}}}},re.prototype.updateAllTargetBindings=function(t){t===void 0&&(t="");for(var i=this.parts.iterator;i.next();)i.value.La(t);for(i=this.nodes.iterator;i.next();)i.value.La(t);for(i=this.links.iterator;i.next();)i.value.La(t)},re.prototype.rp=function(){for(var t=this.H.model,i=new ut,s=t.nodeDataArray,l=0;l<s.length;l++)i.add(s[l]);var u=[];for(this.nodes.each(function(d){d.data===null||i.contains(d.data)||u.push(d.data)}),this.parts.each(function(d){d.data===null||i.contains(d.data)||u.push(d.data)}),u.forEach(function(d){FD(t,d,!1)}),l=0;l<s.length;l++){var c=s[l];this.Mc(c)===null&&ID(t,c,!1)}for(this.refreshDataBoundLinks(),s=this.parts.iterator;s.next();)s.value.updateRelationshipsFromData();for(s=this.nodes.iterator;s.next();)s.value.updateRelationshipsFromData();for(s=this.links.iterator;s.next();)s.value.updateRelationshipsFromData()},re.prototype.refreshDataBoundLinks=function(){},re.prototype.updateRelationshipsFromData=function(){},re.prototype.updateDataBindings=function(t,i){if(typeof i=="string"){var s=this.Mc(t);if(s!==null)s.La(i);else{s=null;for(var l=this.bj.iterator;l.next();){for(var u=l.value,c=0;c<u.length;c++){var d=u[c].ux(t);d!==null&&(s===null&&(s=St()),s.push(d))}if(s!==null)break}if(s!==null){for(l=0;l<s.length;l++)s[l].La(i);mt(s)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(i)}};function mC(t,i){var s=i.Hh;if(rt(s)){var l=t.bj.I(s);if(l===null)l=[],l.push(i),t.bj.add(s,l);else{for(t=0;t<l.length;t++)if(l[t]===i)return;l.push(i)}}}function gC(t,i,s){Bh(i,function(d){d=d.O.s;for(var m=d.length,y=0;y<m;y++)Kb(s,d[y])});var l=i.Hh;if(rt(l)){var u=t.bj.I(l);if(u!==null){for(var c=0;c<u.length;c++)if(u[c]===i){u.splice(c,1),u.length===0&&t.bj.remove(l);break}}}}re.prototype.Kj=function(t,i,s){s===void 0&&(s=!1);var l=new jt;if(rt(t))for(var u=0;u<t.length;u++)ew(this,t[u],i,l,s);else for(t=t.iterator;t.next();)ew(this,t.value,i,l,s);if(i!==null){s=i.model,t=i.toolManager.findTool("Dragging"),t=t!==null?t.dragOptions.dragsLink:i.Xm.dragsLink,u=new ut;for(var c=new jt,d=l.iterator;d.next();){var m=d.value;if(m instanceof st)t||m.fromNode!==null&&m.toNode!==null||u.add(m);else if(m instanceof ft&&m.data!==null&&s.Tl()){var y=m;m=d.key;var O=m.pg();O!==null&&(O=l.I(O),O!==null?(s.qe(y.data,s.wa(O.data)),y=i.Lc(y.data),m=m.kh(),m!==null&&y!==null&&c.add(m,y)):s.qe(y.data,void 0))}}if(0<u.count&&i.Js(u,!1),0<c.count)for(s=c.iterator;s.next();)l.add(s.key,s.value)}if(i!==null&&this.H!==null&&(i=i.model,s=i.afterCopyFunction,s!==null)){var w=new jt;l.each(function(k){k.key.data!==null&&w.add(k.key.data,k.value.data)}),s(w,i,this.H.model)}for(i=l.iterator;i.next();)i.value.La();return l};function ew(t,i,s,l,u){if(i===null||u&&!i.canCopy())return null;if(l.contains(i))return l.I(i);var c=t.copyPartData(i,s);if(!(c instanceof kt))return null;if(c.isSelected=!1,c.isHighlighted=!1,l.add(i,c),i instanceof ft){for(var d=i.linksConnected;d.next();){var m=d.value;if(m.fromNode===i){var y=l.I(m);y!==null&&(y.fromNode=c)}m.toNode===i&&(m=l.I(m),m!==null&&(m.toNode=c))}if(i instanceof Et&&c instanceof Et)for(i=i.memberParts;i.next();)d=ew(t,i.value,s,l,u),d instanceof st||d===null||(d.containingGroup=c)}else if(i instanceof st&&c instanceof st)for(d=i.fromNode,d!==null&&(d=l.I(d),d!==null&&(c.fromNode=d)),d=i.toNode,d!==null&&(d=l.I(d),d!==null&&(c.toNode=d)),i=i.labelNodes;i.next();)d=ew(t,i.value,s,l,u),d!==null&&d instanceof ft&&(d.labeledLink=c);return c}re.prototype.copyPartData=function(t,i){var s=null,l=t.data;if(l!==null&&i!==null){var u=i.model;t instanceof st||(l=u.copyNodeData(l),tt(l)&&(u.xf(l),s=i.Mc(l)))}else Jr(t),s=t.copy(),s!==null&&(u=this.H,i!==null?i.add(s):l!==null&&u!==null&&u.commandHandler!==null&&u.commandHandler.copiesClipboardData&&(i=u.model,u=null,s instanceof st||(u=i.copyNodeData(l)),tt(u)&&(s.data=u)));return s},S.Object.defineProperties(re.prototype,{nodes:{get:function(){return this.Pn}},links:{get:function(){return this.En}},parts:{get:function(){return this.Pa}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.tp},set:function(t){this.tp=t}}}),re.prototype.updateAllRelationshipsFromData=re.prototype.rp,re.prototype.findLinksByExample=re.prototype.ls,re.prototype.findNodesByExample=re.prototype.ms,re.prototype.findLinkForData=re.prototype.Lc,re.prototype.findNodeForData=re.prototype.ji,re.prototype.findPartForData=re.prototype.Mc,re.prototype.findNodeForKey=re.prototype.Yb,re.prototype.removeModeledPart=re.prototype.ip,re.prototype.removeModeledParts=re.prototype.Hs,re.prototype.rebuildParts=re.prototype.Wd;var MD=!1,ND=!1,QD=!1;re.className="PartManager";function di(t){re.apply(this,arguments)}v(di,re),di.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),AD(this,t.linkDataArray)},di.prototype.addModeledParts=function(t){for(re.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)Fp(t.value);qx(this.diagram,!1)};function AD(t,i){i.forEach(function(s){jD(t,s)}),qx(t.diagram,!1)}function jD(t,i){if(i!=null&&!t.diagram.undoManager.isUndoingRedoing&&!t.bf.contains(i)){var s=t.getLinkCategoryForData(i),l=t.findLinkTemplateForCategory(s);if(l!==null){Jr(l);var u=l.copy();if(u!==null){l=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,u.Tf=s,u.ub=i,s=t.diagram.model;var c=sw(s,i,!0);c!==""&&(u.fromPortId=c),c=vr(s,i,!0),c!==void 0&&(c=t.Yb(c),c instanceof ft&&(u.fromNode=c)),c=sw(s,i,!1),c!==""&&(u.toPortId=c),c=vr(s,i,!1),c!==void 0&&(c=t.Yb(c),c instanceof ft&&(u.toNode=c)),s=s.Ef(i),Array.isArray(s)&&s.forEach(function(d){d=t.Yb(d),d!==null&&(d.labeledLink=u)}),t.tp&&(u.Jg="Tool"),t.diagram.add(u),u.ub=null,u.data=i,t.diagram.skipsModelSourceBindings=l}}}}di.prototype.removeAllModeledParts=function(){var t=this.diagram.model;RD(this,t.linkDataArray),this.Hs(t.nodeDataArray)};function RD(t,i){i.forEach(function(s){t.ip(s)})}di.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ps(t)},di.prototype.setLinkCategoryForData=function(t,i){return this.diagram.model.lp(t,i)},di.prototype.setFromNodeForLink=function(t,i){var s=this.diagram.model;s.yv(t.data,s.wa(i!==null?i.data:null))},di.prototype.setToNodeForLink=function(t,i){var s=this.diagram.model;s.Dv(t.data,s.wa(i!==null?i.data:null))},di.prototype.removeDataForLink=function(t){this.diagram.model.cm(t.data)},di.prototype.findPartForKey=function(t){var i=re.prototype.findPartForKey.call(this,t);return i===null&&(t=this.diagram.model.jh(t),t!==null)?this.bf.I(t):i},di.prototype.findLinkForKey=function(t){return t==null?null:(t=this.diagram.model.jh(t),t!==null?this.bf.I(t):null)},di.prototype.doModelChanged=function(t){var i=this;if(re.prototype.doModelChanged.call(this,t),this.diagram){var s=this.diagram;if(t.model===s.model){var l=t.change;if(s.aa){s.aa=!1;try{var u=t.modelChange;if(u!==""){if(l===Se){if(u==="linkFromKey"){var c=this.Lc(t.object);if(c!==null){var d=this.Yb(t.newValue);c.fromNode=d}}else if(u==="linkToKey"){var m=this.Lc(t.object);if(m!==null){var y=this.Yb(t.newValue);m.toNode=y}}else if(u==="linkFromPortId"){var O=this.Lc(t.object);if(O!==null){var w=t.newValue;typeof w=="string"&&(O.fromPortId=w)}}else if(u==="linkToPortId"){var k=this.Lc(t.object);if(k!==null){var P=t.newValue;typeof P=="string"&&(k.toPortId=P)}}else if(u==="nodeGroupKey"){var T=this.Mc(t.object);if(T!==null){var C=t.newValue;if(C!==void 0){var A=this.Yb(C);A instanceof Et?T.containingGroup=A:T.containingGroup=null}else T.containingGroup=null}}else if(u==="linkLabelKeys"){var I=this.Lc(t.object);if(I!==null){var E=t.oldValue,z=t.newValue;Array.isArray(E)&&E.forEach(function(et){0<=z.indexOf(et)||(et=i.Yb(et),et!==null&&(et.labeledLink=null))}),Array.isArray(z)&&z.forEach(function(et){et=i.Yb(et),et!==null&&(et.labeledLink=I)})}}else if(u==="linkCategory"){var B=this.Lc(t.object),_=t.newValue;B!==null&&typeof _=="string"&&(B.category=_)}else u==="linkDataArray"&&(RD(this,t.oldValue),AD(this,t.newValue));s.isModified=!0}else if(l===ei){var Z=t.newValue;if(u==="linkDataArray"&&typeof Z=="object"&&Z!==null)jD(this,Z);else if(u==="linkLabelKeys"&&Iu(Z)){var H=this.Lc(t.object),at=this.Yb(Z);H!==null&&at!==null&&(at.labeledLink=H)}s.isModified=!0}else if(l===ui){var pt=t.oldValue;if(u==="linkDataArray"&&typeof pt=="object"&&pt!==null)this.ip(pt);else if(u==="linkLabelKeys"&&Iu(pt)){var gt=this.Yb(pt);gt!==null&&(gt.labeledLink=null)}s.isModified=!0}}else if(l===Se){var ot=t.propertyName;t.object!==s.model||ot!=="linkFromKeyProperty"&&ot!=="linkToKeyProperty"&&ot!=="linkFromPortIdProperty"&&ot!=="linkToPortIdProperty"&&ot!=="linkLabelKeysProperty"&&ot!=="nodeIsGroupProperty"&&ot!=="nodeGroupKeyProperty"&&ot!=="linkCategoryProperty"||s.undoManager.isUndoingRedoing||this.Wd(),s.isModified=!0}}finally{s.aa=!0}}}}},di.prototype.refreshDataBoundLinks=function(){var t=this,i=this.diagram.model,s=new ut,l=i.linkDataArray;l.forEach(function(c){s.add(c)});var u=[];this.links.each(function(c){c.data===null||s.contains(c.data)||u.push(c.data)}),u.forEach(function(c){_D(i,c,!1)}),l.forEach(function(c){t.Lc(c)===null&&XD(i,c,!1)})},di.prototype.updateRelationshipsFromData=function(t){var i=t.data;if(i!==null){var s=t.diagram;if(s!==null){var l=s.model;if(t instanceof st){var u=vr(l,i,!0);if(u=s.Yb(u),t.fromNode=u,u=vr(l,i,!1),u=s.Yb(u),t.toNode=u,i=l.Ef(i),0<i.length||0<t.labelNodes.count){if(i.length===1&&t.labelNodes.count===1){u=i[0];var c=t.labelNodes.first();if(l.wa(c.data)===u)return}u=new ut().addAll(i);var d=new ut;t.labelNodes.each(function(m){m.data!==null&&(m=l.wa(m.data),m!==void 0&&d.add(m))}),i=d.copy(),i.hp(u),u=u.copy(),u.hp(d),(0<i.count||0<u.count)&&(i.each(function(m){m=s.Yb(m),m!==null&&m.labeledLink===t&&(m.labeledLink=null)}),u.each(function(m){m=s.Yb(m),m!==null&&m.labeledLink!==t&&(m.labeledLink=t)}))}}else!(t instanceof Wt)&&(i=l.lh(i),i=s.findPartForKey(i),i===null||i instanceof Et)&&(t.containingGroup=i)}}},di.prototype.resolveReferencesForData=function(t){var i=this.diagram.model,s=i.wa(t);if(s!==void 0){var l=r0(i,s),u=this.Mc(t);if(l!==null&&u!==null){l=l.iterator;for(var c={};l.next();){var d=l.value;i.lb(d)?u instanceof Et&&i.lh(d)===s&&(d=this.Mc(d),d!==null&&(d.containingGroup=u)):(c.link=this.Lc(d),c.link!==null&&u instanceof ft&&(vr(i,d,!0)===s&&(c.link.fromNode=u),vr(i,d,!1)===s&&(c.link.toNode=u),d=i.Ef(d),Array.isArray(d)&&d.some(function(m){return function(y){return y===s?(u.labeledLink=m.link,!0):!1}}(c)))),c={link:c.link}}qs(i,s)}t=i.lh(t),t!==void 0&&(t=this.Yb(t),t instanceof Et&&(u.containingGroup=t))}},di.prototype.unresolveReferencesForPart=function(t){var i=this.diagram.model;if(t instanceof ft){var s=i.wa(t.data);if(s!==void 0){for(var l=t.linksConnected;l.next();)Ws(i,s,l.value.data);if(t.isLinkLabel&&(l=t.labeledLink,l!==null&&Ws(i,s,l.data)),t instanceof Et)for(t=t.memberParts;t.next();)l=t.value.data,i.lb(l)&&Ws(i,s,l)}}},di.prototype.copyPartData=function(t,i){var s=re.prototype.copyPartData.call(this,t,i);if(t instanceof st)if(t=t.data,t!==null&&i!==null){var l=i.model;t=l.Ko(t),typeof t=="object"&&t!==null&&(l.fi(t),s=i.Lc(t))}else s!==null&&(i=this.diagram,t!==null&&i!==null&&i.commandHandler!==null&&i.commandHandler.copiesClipboardData&&(i=i.model.Ko(t),typeof i=="object"&&i!==null&&(s.data=i)));return s},di.prototype.insertLink=function(t,i,s,l){var u=this.diagram,c=u.model,d=u.toolManager.findTool("Linking"),m="";if(t!==null&&(i===null&&(i=t),m=i.portId,m===null&&(m="")),i="",s!==null&&(l===null&&(l=s),i=l.portId,i===null&&(i="")),l=d.archetypeLinkData,l instanceof st){if(Jr(l),c=l.copy(),c!==null)return c.fromNode=t,c.fromPortId=m,c.toNode=s,c.toPortId=i,u.add(c),t=d.archetypeLabelNodeData,t instanceof ft&&(Jr(t),t=t.copy(),t!==null&&(t.labeledLink=c,u.add(t))),c}else if(l!==null&&(l=c.Ko(l),typeof l=="object"&&l!==null))return t!==null&&Jp(c,l,c.wa(t.data),!0),tm(c,l,m,!0),s!==null&&Jp(c,l,c.wa(s.data),!1),tm(c,l,i,!1),c.fi(l),t=d.archetypeLabelNodeData,t===null||t instanceof ft||(t=c.copyNodeData(t),typeof t=="object"&&t!==null&&(c.xf(t),t=c.wa(t),t!==void 0&&c.Cu(l,t))),u.Lc(l);return null},di.prototype.findLinkForKey=di.prototype.findLinkForKey,di.prototype.findPartForKey=di.prototype.findPartForKey,di.prototype.removeAllModeledParts=di.prototype.removeAllModeledParts,di.prototype.addModeledParts=di.prototype.addModeledParts,di.prototype.addAllModeledParts=di.prototype.addAllModeledParts,di.className="GraphLinksPartManager";function Lr(){re.apply(this,arguments),this.Sg=null}v(Lr,re);function iw(t,i,s){if(i!==null&&s!==null&&s.kh()===null){var l=t.diagram.toolManager.findTool("Linking"),u=i,c=s;if(t.diagram.isTreePathToChildren||(u=s,c=i),(l===null||!my(l,u,c,null,!0))&&(i=t.getLinkCategoryForData(s.data),l=t.findLinkTemplateForCategory(i),l!==null&&(Jr(l),l=l.copy(),l!==null))){var d=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,l.Tf=i,l.ub=s.data,l.fromNode=u,l.toNode=c,t.diagram.add(l),l.ub=null,l.data=s.data,t.diagram.skipsModelSourceBindings=d}}}Lr.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ss(t)},Lr.prototype.setLinkCategoryForData=function(t,i){this.diagram.model.Ns(t,i)},Lr.prototype.setFromNodeForLink=function(t,i,s){var l=this.diagram.model;if(s===void 0&&(s=null),i=i!==null?i.data:null,this.diagram.isTreePathToChildren)l.qe(t.data,l.wa(i));else{var u=this.Sg;this.Sg=t,s!==null&&l.qe(s.data,void 0),l.qe(i,l.wa(t.toNode!==null?t.toNode.data:null)),this.Sg=u}},Lr.prototype.setToNodeForLink=function(t,i,s){var l=this.diagram.model;if(s===void 0&&(s=null),i=i!==null?i.data:null,this.diagram.isTreePathToChildren){var u=this.Sg;this.Sg=t,s!==null&&l.qe(s.data,void 0),l.qe(i,l.wa(t.fromNode!==null?t.fromNode.data:null)),this.Sg=u}else l.qe(t.data,l.wa(i))},Lr.prototype.removeDataForLink=function(t){this.diagram.model.qe(t.data,void 0)},Lr.prototype.findLinkForKey=function(t){return t==null?null:(t=this.diagram.model.jc(t),t!==null?this.bf.I(t):null)},Lr.prototype.doModelChanged=function(t){if(re.prototype.doModelChanged.call(this,t),this.diagram){var i=this.diagram;if(t.model===i.model){var s=t.change;if(i.aa){i.aa=!1;try{var l=t.modelChange;if(l!==""){if(s===Se){if(l==="nodeParentKey"){var u=t.object,c=this.Yb(t.newValue),d=this.ji(u);if(this.Sg!==null)c!==null&&(this.Sg.data=u,this.Sg.category=this.getLinkCategoryForData(u));else if(d!==null){var m=d.kh();m!==null?c===null?i.remove(m):i.isTreePathToChildren?m.fromNode=c:m.toNode=c:iw(this,c,d)}}else if(l==="parentLinkCategory"){var y=this.ji(t.object),O=t.newValue;if(y!==null&&typeof O=="string"){var w=y.kh();w!==null&&(w.category=O)}}i.isModified=!0}}else if(s===Se){var k=t.propertyName;t.object===i.model&&k==="nodeParentKeyProperty"&&(i.undoManager.isUndoingRedoing||this.Wd()),i.isModified=!0}}finally{i.aa=!0}}}}},Lr.prototype.updateRelationshipsFromData=function(t){var i=t.data;if(i!==null){var s=t.diagram;if(s!==null){var l=s.model;t instanceof ft&&(i=l.mh(i),i=s.Yb(i),l=t.pg(),i!==l&&(l=t.kh(),i!==null?l!==null?s.isTreePathToChildren?l.fromNode=i:l.toNode=i:iw(this,i,t):l!==null&&Zb(s,l,!1)))}}},Lr.prototype.updateDataBindings=function(t,i){re.prototype.updateDataBindings.call(this,t,i),typeof i=="string"&&this.Mc(t)!==null&&(t=this.Lc(t),t!==null&&t.La(i))},Lr.prototype.resolveReferencesForData=function(t){var i=this.diagram.model,s=i.wa(t);if(s!==void 0){var l=r0(i,s),u=this.Mc(t);if(l!==null&&u!==null){for(l=l.iterator;l.next();){var c=l.value;i.lb(c)&&u instanceof ft&&i.mh(c)===s&&iw(this,u,this.ji(c))}qs(i,s)}t=i.mh(t),t!==void 0&&u instanceof ft&&(t=this.Yb(t),iw(this,t,u))}},Lr.prototype.unresolveReferencesForPart=function(t){var i=this.diagram.model;if(t instanceof ft){var s=i.wa(t.data),l=this.Lc(t.data);if(l!==null){l.isSelected=!1,l.isHighlighted=!1;var u=l.layer;if(u!==null){var c=u.qc(-1,l,!1);0<=c&&this.diagram.cb(ui,"parts",u,l,null,c,null),c=l.layerChanged,c!==null&&c(l,u,null)}}for(l=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)u=t.value,u=(l?u.toNode:u.fromNode).data,i.lb(u)&&Ws(i,s,u)}},Lr.prototype.insertLink=function(t,i,s){i=this.diagram.model;var l=t,u=s;return this.diagram.isTreePathToChildren||(l=s,u=t),l!==null&&u!==null?(i.qe(u.data,i.wa(l.data)),u.kh()):null},Lr.prototype.findLinkForKey=Lr.prototype.findLinkForKey,Lr.className="TreePartManager";function xt(t,i){this.jl=new ut,this.hl=new ut,this.Yv=`,
  "insertedNodeKeys": `,this.ly=`,
  "modifiedNodeData": `,this.$v=`,
  "removedNodeKeys": `,this.vh=null,Ye(this),this.Tm=this.xa="",this.Gg=!1,this.j={},this.Uc=[],this.kb=new jt,this.Th="key",this.Ak=this.al=null,this.Km=this.Lm=!1,this.Nm=!0,this.ym=null,this.mj="category",this.Vf=new jt,this.Mt=new ct,this.Wg=!1,this.o=null,this.undoManager=new Ee,t!==void 0&&(rt(t)?this.nodeDataArray=t:i=t),i&&(Object.assign(this,i),t=i.Changed)&&(delete this.Changed,this.Pe(t))}xt.prototype.cloneProtected=function(t){t.xa=this.xa,t.Tm=this.Tm,t.Gg=this.Gg,t.Th=this.Th,t.al=this.al,t.Ak=this.Ak,t.Lm=this.Lm,t.Km=this.Km,t.Nm=this.Nm,t.ym=this.ym,t.mj=this.mj},xt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},xt.prototype.clear=function(){this.Uc=[],this.kb.clear(),this.Vf.clear(),this.undoManager.clear()},xt.prototype.toString=function(t){if(t===void 0&&(t=0),1<t)return this.np();var i=(this.name!==""?this.name:"")+" Model";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;for(var s=t.length,l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Nt(u)}}return i},xt.prototype.BA=function(t){t.change!==Ps&&D("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.isTransactionFinished&&i instanceof Si?(ED(this,i),t=this.Sv(i,t.propertyName==="FinishedUndo"),this.vh=null,t):null},xt.prototype.Sv=function(t,i){var s=this,l=!1,u=new ut,c=new ut,d=new ut,m=this.vh;t.changes.each(function(k){k.model===s&&(k.modelChange==="nodeDataArray"?k.change===ei?u.add(k.newValue):k.change===ui&&d.add(k.oldValue):s.lb(k.object)?c.add(k.object):k.change!==Se||s.modelData!==k.object&&k.propertyName!=="modelData"?k.object!==null&&(m&&m.contains(k.object)?m.get(k.object).each(function(P){s.lb(P)&&c.add(P)}):k.object instanceof xt||s.si()&&s.Kc(k.object)||$D(s,k.object).each(function(P){c.add(P)})):l=!0)});var y=this.hl;y.clear(),u.each(function(k){y.add(s.wa(k)),i||c.add(k)});var O=this.jl;O.clear(),d.each(function(k){O.add(s.wa(k)),i&&c.add(k)}),t=s.cloneDeep(c.Fa());var w=null;return l&&(w===null&&(w={}),w.modelData=this.cloneDeep(this.modelData)),0<y.count&&(w===null&&(w={}),i?w.removedNodeKeys=y.Fa():w.insertedNodeKeys=y.Fa()),0<t.length&&(w===null&&(w={}),w.modifiedNodeData=t),0<O.count&&(w===null&&(w={}),i?w.insertedNodeKeys=O.Fa():w.removedNodeKeys=O.Fa()),O.clear(),y.clear(),w},xt.prototype.cloneDeep=function(t){return Hp(this,t,!0)};function Hp(t,i,s,l,u,c){function d(k,P){m?(k.__gohashid===void 0&&c.push(k),l.set(k,P)):(k=pn++,l.set(k,P),u.set(k,i))}if(!tt(i))return i;c||(c=[]);var m=Object.isExtensible(i);if(l||(l=new jt),m){var y=l.get(i);if(y)return y}else for(u||(u=new jt),y=u.iterator;y.next();){var O=y.key;if(y.value===i&&(O=l.get(O)))return O}if(Array.isArray(i)){y=[],d(i,y);for(var w=0;w<i.length;w++)y.push(Hp(t,i[w],!1,l,u,c))}else if(i instanceof F||i instanceof At||i instanceof J||i instanceof ne||i instanceof Tt)y=i.copy(),d(i,y);else{if(i instanceof ie||i instanceof lt||i instanceof it)return i;if(i instanceof ct)y=new ct().addAll(Hp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof ut)y=new ut().addAll(Hp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof jt)y=new jt().addAll(Hp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof Date)y=new Date(i.getTime()),d(i,y);else if(i instanceof RegExp)y=new RegExp(i),d(i,y),y.lastIndex=i.lastIndex;else if(typeof i.copy=="function")y=i.copy(),d(i,y);else for(w in y={},d(i,y),i)w!=="__gohashid"&&(y[w]=Hp(t,i[w],!1,l,u,c))}return s&&c.forEach(function(k){delete k.__gohashid}),y}n=xt.prototype,n.quote=function(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,function(i){return"\\u"+("0000"+i.charCodeAt(0).toString(16)).substr(-4)})},n.sm=function(){var t="";return this.name!==""&&(t+=`,
  "name": `+this.quote(this.name)),this.dataFormat!==""&&(t+=`,
  "dataFormat": `+this.quote(this.dataFormat)),this.isReadOnly&&(t+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(t+=`,
  "nodeKeyProperty": `+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(t+=`,
  "copiesArrayObjects": true`),this.copiesKey||(t+=`,
  "copiesKey": false`),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(t+=`,
  "nodeCategoryProperty": `+this.quote(this.nodeCategoryProperty)),t},n.gp=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),t.copiesKey===!1&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)};function LD(t,i){i=i.modelData,tt(i)&&(t.em(i),t.modelData=i)}n.Tv=function(){var t=this.modelData,i=!1,s;for(s in t)if(!DD(s,t[s])){i=!0;break}return t="",i&&(t=`,
  "modelData": `+yC(this,this.modelData)),t+`,
  "nodeDataArray": `+Du(this,this.nodeDataArray,!0)},n.mv=function(t){LD(this,t),t=t.nodeDataArray,rt(t)&&(this.em(t),this.nodeDataArray=t)};function ED(t,i){function s(u,c){if((c=c.part)&&(c=c.data,u!==c)){var d=l.get(u);d===null?(d=new ut,d.add(c),l.add(u,d)):d.add(c)}}var l=t.vh;l===null&&(l=new jt,i.changes.each(function(u){if(u.diagram!==null){var c=u.change;c===Se?(u=u.object.panel)&&(c=u.data)&&s(c,u):(c===ei||c===ui)&&(u=u.object,(c=u.itemArray)&&s(c,u))}}),t.vh=l)}function $D(t,i){for(var s=new ut,l=0;l<t.nodeDataArray.length;l++){var u=t.nodeDataArray[l];nw(t,i,u,u,s)}return s}function nw(t,i,s,l,u){if(Array.isArray(s))for(var c=0;c<s.length;c++){var d=s[c];if(d===i)return u.add(l),!0;if(nw(t,i,d,l,u))return!0}else if(tt(s)&&Object.getPrototypeOf(s)===Object.prototype)for(c in s){if(d=s[c],d===i)return u.add(l),!0;if(nw(t,i,d,l,u))return!0}return!1}n.Rv=function(t,i){var s=this,l=!1,u=new ut,c=new ut,d=new ut,m=this.vh;t.changes.each(function(w){w.model===s&&(w.modelChange==="nodeDataArray"?w.change===ei?u.add(w.newValue):w.change===ui&&d.add(w.oldValue):s.lb(w.object)?c.add(w.object):w.change!==Se||s.modelData!==w.object&&w.propertyName!=="modelData"?w.object!==null&&(m&&m.contains(w.object)?m.get(w.object).each(function(k){s.lb(k)&&c.add(k)}):w.object instanceof xt||s.si()&&s.Kc(w.object)||$D(s,w.object).each(function(k){c.add(k)})):l=!0)});var y=this.hl;y.clear(),u.each(function(w){y.add(s.wa(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(s.wa(w)),i&&c.add(w)}),t="",l&&(t+=`,
  "modelData": `+yC(this,this.modelData)),0<y.count&&(t+=(i?this.$v:this.Yv)+Du(this,y.Fa(),!0)),0<c.count&&(t+=this.ly+Du(this,c.Fa(),!0)),0<O.count&&(t+=(i?this.Yv:this.$v)+Du(this,O.Fa(),!0)),O.clear(),y.clear(),t},n.fp=function(t){(t.name!==void 0&&t.name!==this.name||t.dataFormat!==void 0&&t.dataFormat!==this.dataFormat||t.isReadOnly!==void 0&&t.isReadOnly!==this.isReadOnly||t.nodeKeyProperty!==void 0&&t.nodeKeyProperty!==this.nodeKeyProperty||t.copiesArrays!==void 0&&t.copiesArrays!==this.copiesArrays||t.copiesArrayObjects!==void 0&&t.copiesArrayObjects!==this.copiesArrayObjects||t.copiesKey!==void 0&&t.copiesKey!==this.copiesKey||t.nodeCategoryProperty!==void 0&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&D("applyIncrementalJson cannot change Model properties"),LD(this,t);var i=t.insertedNodeKeys,s=t.modifiedNodeData,l=new jt;if(Array.isArray(s))for(var u=0;u<s.length;u++){var c=s[u],d=this.wa(c);d!=null&&l.set(d,c)}if(Array.isArray(i))for(u=i.length,c=0;c<u;c++){d=i[c];var m=this.jc(d);m===null&&(m=(m=l.get(d))?m:this.copyNodeData({}),this.lm(m,d),this.xf(m))}if(Array.isArray(s)){for(i=s.length,l=0;l<i;l++)if(u=s[l],c=this.wa(u),c=this.jc(c),c!==null){for(var y in u)y==="__gohashid"||y===this.nodeKeyProperty||this.Vj()&&y===this.nodeIsGroupProperty||this.setDataProperty(c,y,u[y]);this.mm(u,c)}}if(t=t.removedNodeKeys,Array.isArray(t))for(s=t.length,y=0;y<s;y++)i=this.jc(t[y]),i!==null&&this.dm(i)},n.by=function(t,i){t.change!==Ps&&D("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var s=t.object;return t.isTransactionFinished&&s instanceof Si?(i===void 0&&(i=s0(this,this)),ED(this,s),t=this.Rv(s,t.propertyName==="FinishedUndo"),this.vh=null,i==="2"?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(i)+', "incremental": 1'+this.sm()+t+"}"):'{ "incremental": 0 }'},n.CA=function(t,i){return this.by(t,i)},n.np=function(t){return t===void 0&&(t=s0(this,this)),'{ "class": '+this.quote(t)+this.sm()+this.Tv()+"}"},n.toJSON=function(t){return this.np(t)},n.ax=function(t){var i=null;if(typeof t=="string")try{i=Q.JSON.parse(t)}catch{}else typeof t=="object"?i=t:D("Unable to modify a Model from: "+t);var s=i.incremental;typeof s!="number"&&D("Unable to apply non-incremental changes to Model: "+t),s!==0&&(this.Ea("applyIncrementalJson"),this.fp(i),this.eb("applyIncrementalJson"))},n.My=function(t){return this.ax(t)},xt.constructGraphLinksModel=function(){return new xt},n=xt.prototype,n.em=function(t){if(rt(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];if(tt(l)){var u=s;l=this.em(l),Array.isArray(t)?t[u]=l:D("Cannot replace an object in an HTMLCollection or NodeList at "+u)}}else if(tt(t)){for(i in t)if(s=t[i],tt(s)&&(s=this.em(s),t[i]=s,i==="points"&&Array.isArray(s))){for(u=s.length%2===0,l=0;l<s.length;l++)if(typeof s[l]!="number"){u=!1;break}if(u){for(u=new ct,l=0;l<s.length/2;l++)u.add(new F(s[2*l],s[2*l+1]));u.freeze(),t[i]=u}}return KG(t)}return t},n.tm=function(t){return t===void 0?"undefined":t===null?"null":t===!0?"true":t===!1?"false":typeof t=="string"?this.quote(t):typeof t=="number"?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.tm(t.valueOf()):rt(t)?Du(this,t):tt(t)?yC(this,t):typeof t=="function"?"null":t.toString()};function Du(t,i,s){s===void 0&&(s=!1);var l=i.length;if(0>=l)return"[]";var u=new Be;u.add("["),s&&1<l&&u.add(`
`);for(var c=0;c<l;c++){var d=i[c];d!==void 0&&(0<c&&(u.add(","),s&&u.add(`
`)),u.add(t.tm(d)))}return s&&1<l&&u.add(`
`),u.add("]"),u.toString()}function DD(t,i){return i===void 0||t==="__gohashid"||t[0]==="_"||typeof i=="function"}function vn(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function yC(t,i){var s=i;if(s instanceof F)i={class:"go.Point",x:vn(s.x),y:vn(s.y)};else if(s instanceof At)i={class:"go.Size",width:vn(s.width),height:vn(s.height)};else if(s instanceof J)i={class:"go.Rect",x:vn(s.x),y:vn(s.y),width:vn(s.width),height:vn(s.height)};else if(s instanceof ne)i={class:"go.Margin",top:vn(s.top),right:vn(s.right),bottom:vn(s.bottom),left:vn(s.left)};else if(s instanceof Tt)s.sb()?i={class:"go.Spot",x:vn(s.x),y:vn(s.y),offsetX:vn(s.offsetX),offsetY:vn(s.offsetY)}:i={class:"go.Spot",enum:s.toString()};else if(s instanceof ie){if(i={class:"go.Brush",type:s.type.name},s.type===Il?i.color=s.color:(s.type===tl||s.type===Or)&&(i.start=s.start,i.end=s.end,s.type===Or&&(s.startRadius!==0&&(i.startRadius=vn(s.startRadius)),isNaN(s.endRadius)||(i.endRadius=vn(s.endRadius)))),s.colorStops!==null){var l={};for(s=s.colorStops.iterator;s.next();)l[s.key]=s.value;i.colorStops=l}}else s instanceof lt?(i={class:"go.Geometry",type:s.type.name},s.startX!==0&&(i.startX=vn(s.startX)),s.startY!==0&&(i.startY=vn(s.startY)),s.endX!==0&&(i.endX=vn(s.endX)),s.endY!==0&&(i.endY=vn(s.endY)),s.spot1.D(tn)||(i.spot1=s.spot1),s.spot2.D(Wo)||(i.spot2=s.spot2),s.type===lt.j&&(i.path=lt.ia(s))):s instanceof it&&(i={class:"go.EnumValue",classType:s0(t,s.classType),name:s.name});l="{",s=!0;for(var u in i){var c=Fe(i,u);if(!DD(u,c))if(s?s=!1:l+=",",l+=t.quote(u)+":",u==="points"&&c instanceof ct){var d="[";for(c=c.iterator;c.next();){var m=c.value;1<d.length&&(d+=","),d+=t.tm(m.x),d+=",",d+=t.tm(m.y)}d+="]",l+=d}else l+=t.tm(c)}return l+"}"}function xn(t){return typeof t=="number"?t:t==="NaN"?NaN:t==="9e9999"?1/0:t==="-9e9999"?-1/0:parseFloat(t)}function KG(t){if(typeof t!="object")return t;var i=t.class||"";if(typeof i!="string"||!i)return t;if(i==="NaN")return NaN;if(i==="Date")return new Date(t.value);if(i.indexOf("go.")!==0)return t;i=i.substr(3);var s=t;if(i==="Point")s=new F(xn(t.x),xn(t.y));else if(i==="Size")s=new At(xn(t.width),xn(t.height));else if(i==="Rect")s=new J(xn(t.x),xn(t.y),xn(t.width),xn(t.height));else if(i==="Margin")s=new ne(xn(t.top),xn(t.right),xn(t.bottom),xn(t.left));else if(i==="Spot")typeof t.enum=="string"?s=mb(t.enum):s=new Tt(xn(t.x),xn(t.y),xn(t.offsetX),xn(t.offsetY));else if(i==="Brush"){if(s=new ie,s.type=xe(ie,t.type),typeof t.color=="string"&&(s.color=t.color),t.start instanceof Tt&&(s.start=t.start),t.end instanceof Tt&&(s.end=t.end),typeof t.startRadius=="number"&&(s.startRadius=xn(t.startRadius)),typeof t.endRadius=="number"&&(s.endRadius=xn(t.endRadius)),t=t.colorStops,tt(t))for(var l in t)s.addColorStop(parseFloat(l),t[l])}else i==="Geometry"?(s=null,typeof t.path=="string"?s=lt.parse(t.path):s=new lt,s.type=xe(lt,t.type),typeof t.startX=="number"&&(s.startX=xn(t.startX)),typeof t.startY=="number"&&(s.startY=xn(t.startY)),typeof t.endX=="number"&&(s.endX=xn(t.endX)),typeof t.endY=="number"&&(s.endY=xn(t.endY)),t.spot1 instanceof Tt&&(s.spot1=t.spot1),t.spot2 instanceof Tt&&(s.spot2=t.spot2)):i==="EnumValue"&&(l=t.classType,l.indexOf("go.")===0&&(l=l.substr(3)),l=vC(l),typeof l=="function"&&(s=xe(l,t.name)));return s}n.Pe=function(t){return this.Mt.add(t),this},n.hk=function(t){this.Mt.remove(t)},n.ds=function(t){this.skipsUndoManager||this.undoManager.Vu(t);for(var i=this.Mt,s=i.length,l=0;l<s;l++)i.M(l)(t)},n.cb=function(t,i,s,l,u,c,d){Ge(this,"",t,i,s,l,u,c,d)},n.g=function(t,i,s,l,u){Ge(this,"",Se,t,this,i,s,l,u)},n.Gs=function(t,i,s,l,u,c){Ge(this,"",Se,i,t,s,l,u,c)};function Ge(t,i,s,l,u,c,d,m,y){m===void 0&&(m=null),y===void 0&&(y=null);var O=new Te;O.model=t,O.change=s,O.modelChange=i,O.propertyName=l,O.object=u,O.oldValue=c,O.oldParam=m,O.newValue=d,O.newParam=y,t.ds(O)}xt.prototype.changeState=function(t,i){if(t!==null&&t.model===this)if(t.change===Se){var s=t.object,l=t.propertyName,u=t.I(i);l===this.nodeKeyProperty&&this.lb(s)&&(i=t.I(!i),i!==void 0&&this.kb.remove(i),u!==void 0&&this.kb.add(u,s)),me(s,l,u)}else t.change===ei?(s=t.newParam,t.modelChange==="nodeDataArray"?(t=t.newValue,tt(t)&&typeof s=="number"&&(l=this.wa(t),i?(this.Uc[s]===t&&wt(this.Uc,s),l!==void 0&&this.kb.remove(l)):(this.Uc[s]!==t&&bt(this.Uc,s,t),l!==void 0&&this.kb.add(l,t)))):t.modelChange===""?((l=t.object)&&!rt(l)&&t.propertyName&&(l=Fe(t.object,t.propertyName)),rt(l)&&typeof s=="number"&&(t=t.newValue,i?wt(l,s):bt(l,s,t))):D("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===ui?(s=t.oldParam,t.modelChange==="nodeDataArray"?(t=t.oldValue,tt(t)&&typeof s=="number"&&(l=this.wa(t),i?(this.Uc[s]!==t&&bt(this.Uc,s,t),l!==void 0&&this.kb.add(l,t)):(this.Uc[s]===t&&wt(this.Uc,s),l!==void 0&&this.kb.remove(l)))):t.modelChange===""?((l=t.object)&&!rt(l)&&t.propertyName&&(l=Fe(t.object,t.propertyName)),rt(l)&&typeof s=="number"&&(t=t.oldValue,i?bt(l,s,t):wt(l,s))):D("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Ps&&D("unknown ChangedEvent: "+t.toString())},xt.prototype.Ea=function(t){return this.undoManager.Ea(t)},xt.prototype.eb=function(t){return this.undoManager.eb(t)},xt.prototype.Kf=function(){return this.undoManager.Kf()},xt.prototype.commit=function(t,i){i===void 0&&(i="");var s=this.skipsUndoManager;i===null&&(this.skipsUndoManager=!0,i=""),this.undoManager.Ea(i);var l=!1;try{t(this),l=!0}finally{l?this.undoManager.eb(i):this.undoManager.Kf(),this.skipsUndoManager=s}},n=xt.prototype,n.La=function(t,i){i===void 0&&(i=""),Ge(this,"SourceChanged",Ps,i,t,null,null)},n.wa=function(t){if(t!==null){var i=this.Th;if(i!==""&&(i=Fe(t,i),i!==void 0)){if(Iu(i))return i;D("Key value for node data "+t+" is not a number or a string: "+i)}}},n.lm=function(t,i){if(t!==null){var s=this.Th;if(s!=="")if(this.lb(t)){var l=Fe(t,s);l!==i&&this.jc(i)===null&&(me(t,s,i),l!==void 0&&this.kb.remove(l),this.kb.add(i,t),Ge(this,"nodeKey",Se,s,t,l,i),typeof s=="string"&&this.La(t,s),this.jp(l,i))}else me(t,s,i)}};function Iu(t){return typeof t=="number"||typeof t=="string"}n.lb=function(t){var i=this.wa(t);return i===void 0?!1:this.kb.I(i)===t},n.jc=function(t){return t===null&&D("Model.findNodeDataForKey:key must not be null"),t!==void 0&&Iu(t)?this.kb.I(t):null},n.bv=function(t){if(t!==null){var i=this.Th;if(i!==""){var s=this.wa(t);if(s===void 0||this.kb.contains(s)){var l=this.al;if(l!==null&&(s=l(this,t),s!=null&&!this.kb.contains(s))){me(t,i,s);return}if(typeof s=="string"){for(l=2;this.kb.contains(s+l);)l++;me(t,i,s+l)}else if(s===void 0||typeof s=="number"){for(s=-this.kb.count-1;this.kb.contains(s);)s--;me(t,i,s)}}}}},n.xf=function(t){t!==null&&(ws(t),this.lb(t)||ID(this,t,!0))};function ID(t,i,s){var l=t.wa(i);(l===void 0||t.kb.I(l)!==i)&&(t.bv(i),l=t.wa(i),l===void 0&&D("Model.makeNodeDataKeyUnique failed on "+i+".  Data not added to Model."),t.kb.add(l,i),l=null,s&&(l=t.Uc.length,bt(t.Uc,l,i)),Ge(t,"nodeDataArray",ei,"nodeDataArray",t,null,i,null,l),t.gm(i),t.fm(i))}n.Hy=function(t){if(rt(t))for(var i=t.length,s=0;s<i;s++)this.xf(t[s]);else for(t=t.iterator;t.next();)this.xf(t.value)},n.dm=function(t){t!==null&&FD(this,t,!0)};function FD(t,i,s){var l=t.wa(i);if(l!==void 0&&t.kb.remove(l),l=null,s){t:if(s=t.Uc,Array.isArray(s))l=s.indexOf(i);else{l=s.length;for(var u=0;u<l;u++)if(s[u]===i){l=u;break t}l=-1}if(0>l)return;wt(t.Uc,l)}Ge(t,"nodeDataArray",ui,"nodeDataArray",t,i,null,l,null),t.qp(i)}n.rA=function(t){if(rt(t))for(var i=t.length,s=0;s<i;s++)this.dm(t[s]);else for(t=t.iterator;t.next();)this.dm(t.value)},n.eA=function(t){if(t!==this.nodeDataArray&&rt(t)){var i=this.jl;i.clear(),i.addAll(this.kb.iteratorKeys);var s=this.hl;s.clear();for(var l=t.length,u=0;u<l;u++){var c=t[u],d=this.wa(c);if(d!==void 0){s.add(d);var m=this.jc(d);m!==c&&(m!==null?(this.Eo(m,c),this.mm(c,m)):(c=this.cloneDeep(c),this.lm(c,d),this.xf(c)))}else d=this.cloneDeep(c),this.xf(d),s.add(this.wa(d))}for(t=i.iterator;t.next();)l=t.value,s.contains(l)||(l=this.jc(l))&&this.dm(l);i.clear(),s.clear()}},n.jp=function(t,i){i!==void 0&&(t=r0(this,t),t instanceof ut&&this.Vf.add(i,t))},n.Nv=function(){},n.gm=function(){},n.fm=function(){},n.qp=function(){};function Ws(t,i,s){if(i!==void 0){var l=t.Vf.I(i);l===null&&(l=new ut,t.Vf.add(i,l)),l.add(s)}}function qs(t,i,s){if(i!==void 0){var l=t.Vf.I(i);l instanceof ut&&(s==null?t.Vf.remove(i):(l.remove(s),l.count===0&&t.Vf.remove(i)))}}function r0(t,i){return i===void 0?null:(t=t.Vf.I(i),t instanceof ut?t:null)}n.Vy=function(t){t===void 0?this.Vf.clear():this.Vf.remove(t)},xt.prototype.copyNodeData=function(t){if(t===null)return null;var i=this.Ak;return t=i!==null?i(t,this):rw(this,t,!0),tt(t)&&Ye(t),t};function rw(t,i,s){if(t.copiesArrays&&Array.isArray(i)){var l=[];for(s=0;s<i.length;s++){var u=rw(t,i[s],t.copiesArrayObjects);l.push(u)}return Ye(l),l}if(s&&tt(i)){s=(s=i.constructor)?new s:{},u=t.copiesKey||typeof t.nodeKeyProperty!="string"?null:t.nodeKeyProperty;for(l in i)if(l==="__gohashid")s.__gohashid=void 0;else if(l===u)s[u]=void 0;else{var c=Fe(i,l),d=s0(t,c);d==="GraphObject"||d==="Diagram"||d==="Layer"||d==="RowColumnDefinition"||d==="AnimationManager"||d==="Tool"||d==="CommandHandler"||d==="Layout"||d==="InputEvent"||d==="DiagramEvent"||c instanceof xt||c instanceof Ee||c instanceof Si||c instanceof Te||(c=rw(t,c,!1)),me(s,l,c)}return Ye(s),s}return i instanceof F||i instanceof At||i instanceof J||i instanceof Tt||i instanceof ne?i.copy():i}xt.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.lm(t,s);return}if(i===this.nodeCategoryProperty){this.km(t,s);return}}else!VD&&t instanceof vt&&(VD=!0,K('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),K("  Is that really your intent?"));var l=Fe(t,i);l!==s&&(me(t,i,s),this.Gs(t,i,l,s))},n=xt.prototype,n.set=function(t,i,s){this.setDataProperty(t,i,s)},n.Eo=function(t,i){if(i){var s=this.lb(t),l;for(l in i)l==="__gohashid"||s&&l===this.nodeKeyProperty||this.setDataProperty(t,l,i[l])}},n.Cy=function(t,i){this.ts(t,-1,i)},n.ts=function(t,i,s){0>i&&(i=t.length),bt(t,i,s),Ge(this,"",ei,"",t,null,s,null,i)},n.qv=function(t,i){i===void 0&&(i=-1),t===this.Uc&&D("Model.removeArrayItem should not be called on the Model.nodeDataArray"),i===-1&&(i=t.length-1);var s=t[i];wt(t,i),Ge(this,"",ui,"",t,s,null,i,null)},n.So=function(t){if(t===null)return"";var i=this.mj;if(i===""||(i=Fe(t,i),i===void 0))return"";if(typeof i=="string")return i;D("getCategoryForNodeData found a non-string category for "+t+": "+i)},n.km=function(t,i){if(t!==null){var s=this.mj;if(s!=="")if(this.lb(t)){var l=Fe(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),Ge(this,"nodeCategory",Se,s,t,l,i))}else me(t,s,i)}},n.mm=function(t,i){this.km(i,this.So(t))},n.Tl=function(){return!1},n.Vj=function(){return!1},n.si=function(){return!1},n.xs=function(){return!1},n.Wj=function(){return!1};function OC(){return new xt}function s0(t,i){if(typeof i=="function"){if(i.className)return i.className;if(i.name)return i.name}else if(typeof i=="object"&&i!==null&&i.constructor)return s0(t,i.constructor);return typeof i}function vC(t){return Qs[t]?Qs[t]:Q.go!==void 0&&Q.go[t]?Q.go[t]:null}function Fe(t,i){if(!t||!i)return null;try{if(typeof i=="function")var s=i(t);else typeof t.getAttribute=="function"?(s=t.getAttribute(i),s===null&&(s=void 0)):s=t[i]}catch{}return s}function me(t,i,s){if(t&&i)try{typeof i=="function"?i(t,s):typeof t.setAttribute=="function"?t.setAttribute(i,s):t[i]=s}catch{}}S.Object.defineProperties(xt.prototype,{name:{get:function(){return this.xa},set:function(t){var i=this.xa;i!==t&&(this.xa=t,this.g("name",i,t))}},dataFormat:{get:function(){return this.Tm},set:function(t){var i=this.Tm;i!==t&&(this.Tm=t,this.g("dataFormat",i,t))}},isReadOnly:{get:function(){return this.Gg},set:function(t){var i=this.Gg;i!==t&&(this.Gg=t,this.g("isReadOnly",i,t))}},modelData:{get:function(){return this.j},set:function(t){var i=this.j;i!==t&&(this.j=t,this.g("modelData",i,t),this.La(t))}},undoManager:{get:function(){return this.o},set:function(t){var i=this.o;i!==t&&(i!==null&&i.Tx(this),this.o=t,t!==null&&t.Zw(this))}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t}},nodeKeyProperty:{get:function(){return this.Th},set:function(t){var i=this.Th;i!==t&&(t===""&&D("Model.nodeKeyProperty may not be the empty string"),0<this.kb.count&&D("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Th=t,this.g("nodeKeyProperty",i,t))}},makeUniqueKeyFunction:{get:function(){return this.al},set:function(t){var i=this.al;i!==t&&(this.al=t,this.g("makeUniqueKeyFunction",i,t))}},nodeDataArray:{get:function(){return this.Uc},set:function(t){var i=this.Uc;if(i!==t){this.kb.clear(),this.Nv();for(var s=t.length,l=0;l<s;l++){var u=t[l];tt(u)||D("Model.nodeDataArray must only contain Objects, not: "+u),ws(u)}for(this.Uc=t,l=new ct,u=0;u<s;u++){var c=t[u],d=this.wa(c);d===void 0||this.kb.I(d)!==null?l.add(c):this.kb.add(d,c)}for(l=l.iterator;l.next();)u=l.value,this.bv(u),c=this.wa(u),c!==void 0&&this.kb.add(c,u);for(Ge(this,"nodeDataArray",Se,"nodeDataArray",this,i,t),i=0;i<s;i++)l=t[i],this.gm(l),this.fm(l);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Ak},set:function(t){var i=this.Ak;i!==t&&(this.Ak=t,this.g("copyNodeDataFunction",i,t))}},copiesArrays:{get:function(){return this.Lm},set:function(t){var i=this.Lm;i!==t&&(this.Lm=t,this.g("copiesArrays",i,t))}},copiesArrayObjects:{get:function(){return this.Km},set:function(t){var i=this.Km;i!==t&&(this.Km=t,this.g("copiesArrayObjects",i,t))}},copiesKey:{get:function(){return this.Nm},set:function(t){var i=this.Nm;i!==t&&(this.Nm=t,this.g("copiesKey",i,t))}},afterCopyFunction:{get:function(){return this.ym},set:function(t){var i=this.ym;i!==t&&(this.ym=t,this.g("afterCopyFunction",i,t))}},nodeCategoryProperty:{get:function(){return this.mj},set:function(t){var i=this.mj;i!==t&&(this.mj=t,this.g("nodeCategoryProperty",i,t))}},type:{get:function(){return"Model"}}}),xt.prototype.setCategoryForNodeData=xt.prototype.km,xt.prototype.getCategoryForNodeData=xt.prototype.So,xt.prototype.removeArrayItem=xt.prototype.qv,xt.prototype.insertArrayItem=xt.prototype.ts,xt.prototype.addArrayItem=xt.prototype.Cy,xt.prototype.assignAllDataProperties=xt.prototype.Eo,xt.prototype.set=xt.prototype.set,xt.prototype.clearUnresolvedReferences=xt.prototype.Vy,xt.prototype.mergeNodeDataArray=xt.prototype.eA,xt.prototype.removeNodeDataCollection=xt.prototype.rA,xt.prototype.removeNodeData=xt.prototype.dm,xt.prototype.addNodeDataCollection=xt.prototype.Hy,xt.prototype.addNodeData=xt.prototype.xf,xt.prototype.makeNodeDataKeyUnique=xt.prototype.bv,xt.prototype.findNodeDataForKey=xt.prototype.jc,xt.prototype.containsNodeData=xt.prototype.lb,xt.prototype.setKeyForNodeData=xt.prototype.lm,xt.prototype.getKeyForNodeData=xt.prototype.wa,xt.prototype.updateTargetBindings=xt.prototype.La,xt.prototype.commit=xt.prototype.commit,xt.prototype.rollbackTransaction=xt.prototype.Kf,xt.prototype.commitTransaction=xt.prototype.eb,xt.prototype.startTransaction=xt.prototype.Ea,xt.prototype.raiseDataChanged=xt.prototype.Gs,xt.prototype.raiseChanged=xt.prototype.g,xt.prototype.raiseChangedEvent=xt.prototype.cb,xt.prototype.removeChangedListener=xt.prototype.hk,xt.prototype.addChangedListener=xt.prototype.Pe,xt.prototype.writeJsonValue=xt.prototype.tm,xt.prototype.replaceJsonObjects=xt.prototype.em,xt.prototype.applyIncrementalJSON=xt.prototype.My,xt.prototype.applyIncrementalJson=xt.prototype.ax,xt.prototype.toJSON=xt.prototype.toJSON,xt.prototype.toJson=xt.prototype.np,xt.prototype.toIncrementalJSON=xt.prototype.CA,xt.prototype.toIncrementalJson=xt.prototype.by,xt.prototype.toIncrementalData=xt.prototype.BA,xt.prototype.clear=xt.prototype.clear;var VD=!1,Qs={};xt.className="Model",xt.fromJSON=xt.fromJson=function(t,i){i===void 0&&(i=null);var s=null;if(typeof t=="string")try{s=Q.JSON.parse(t)}catch{}else typeof t=="object"?s=t:D("Unable to construct a Model from: "+t);if(i===null){t=null;var l=s.class;if(typeof l=="string")try{var u=null;l.indexOf("go.")===0?(l=l.substr(3),u=vC(l)):(u=vC(l),u===null&&(u=Q[l])),typeof u=="function"&&(t=new u)}catch{}t===null||t instanceof xt?i=t:D("Unable to construct a Model of declared class: "+s.class)}return i===null&&(i=xt.constructGraphLinksModel()),i.gp(s),i.mv(s),i},xt.safePropertyValue=Fe,xt.safePropertySet=me,Qs.Brush=ie,Qs.ChangedEvent=Te,Qs.Geometry=lt,Qs.Margin=ne,Qs.Panel=nt,Qs.Point=F,Qs.Rect=J,Qs.Size=At,Qs.Spot=Tt,Qs.Transaction=Si,Qs.UndoManager=Ee;function De(t,i,s,l){Ye(this),this._isFrozen=!1,t===void 0&&(t=""),i===void 0&&(i=t),s===void 0&&(s=null),this.j=-1,this.xd=null,this.xl=t,this.wl=this.uo=0,this.Cr=null,this.xn=!1,this.sl=i,this.Jm=s,l===void 0?(this.dl=xC,this.vk=null):(this.dl=Kp,this.vk=l),this.tt=new ut}De.prototype.copy=function(){var t=new De;return t.xl=this.xl,t.uo=this.uo,t.wl=this.wl,t.Cr=this.Cr,t.xn=this.xn,t.sl=this.sl,t.Jm=this.Jm,t.dl=this.dl,t.vk=this.vk,t},n=De.prototype,n.qb=function(t){t.classType===De&&(this.mode=t)},n.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.Bi!==-1?" "+this.Bi:"")+" "+this.mode.name+")"},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.dv=function(t){return t===void 0&&(t=null),this.mode=Kp,this.backConverter=t,this},n.Xl=function(t){return t===void 0&&(t=""),this.sourceName=t,this.isToModel=!1,this},n.Nx=function(){return this.sourceName=null,this.isToModel=!0,this};function zD(t,i,s){return t=t.sourceName,t===null||t===""?i:t==="/"?s.part:t==="."?s:t===".."?s.panel:i.fb(t)}n.Ov=function(t,i,s){var l=this.sl;if(s===void 0||l===""||l===s){s=this.xl;var u=this.Jm;if(u===null&&s==="")K("Binding error: target property is the empty string: "+this.toString());else{var c=i;if(l!==""&&(c=Fe(i,l)),c!==void 0)if(u===null)s!==""&&me(t,s,c);else try{if(s!==""){var d=u(c,t);me(t,s,d)}else u(c,t)}catch{}}}},n.sp=function(t,i,s,l){if(this.dl===Kp){var u=this.xl;if(s===void 0||u===s){s=this.sl;var c=this.vk,d=t;if(u!==""&&(d=Fe(t,u)),d!==void 0&&!this.tt.contains(t))try{this.tt.add(t);var m=l!==null?l.diagram:null,y=m!==null?m.model:null;if(c===null){if(s!=="")y!==null?y.setDataProperty(i,s,d):me(i,s,d);else if(y!==null&&l!==null&&0<=l.itemIndex&&l.panel!==null&&Array.isArray(l.panel.itemArray)){var O=l.itemIndex,w=l.panel.itemArray;y.qv(w,O),y.ts(w,O,d)}}else try{if(s!==""){var k=c(d,i,y);y!==null?y.setDataProperty(i,s,k):me(i,s,k)}else{var P=c(d,i,y);if(P!==void 0&&y!==null&&l!==null&&0<=l.itemIndex&&l.panel!==null&&Array.isArray(l.panel.itemArray)){var T=l.itemIndex,C=l.panel.itemArray;y.qv(C,T),y.ts(C,T,P)}}}catch{}}finally{this.tt.remove(t)}}}},S.Object.defineProperties(De.prototype,{Bi:{get:function(){return this.j},set:function(t){this._isFrozen&&X(this),this.j=t}},targetProperty:{get:function(){return this.xl},set:function(t){this._isFrozen&&X(this),this.xl=t}},sourceName:{get:function(){return this.Cr},set:function(t){this._isFrozen&&X(this),this.Cr=t,t!==null&&(this.xn=!1)}},isToModel:{get:function(){return this.xn},set:function(t){this._isFrozen&&X(this),this.xn=t}},sourceProperty:{get:function(){return this.sl},set:function(t){this._isFrozen&&X(this),this.sl=t}},converter:{get:function(){return this.Jm},set:function(t){this._isFrozen&&X(this),this.Jm=t}},backConverter:{get:function(){return this.vk},set:function(t){this._isFrozen&&X(this),this.vk=t}},mode:{get:function(){return this.dl},set:function(t){this._isFrozen&&X(this),this.dl=t}}}),De.prototype.updateSource=De.prototype.sp,De.prototype.updateTarget=De.prototype.Ov,De.prototype.ofModel=De.prototype.Nx,De.prototype.ofObject=De.prototype.Xl,De.prototype.makeTwoWay=De.prototype.dv;var JG="Binding",xC=new it(De,"OneWay",1),Kp=new it(De,"TwoWay",2);De.className="Binding",De.parseEnum=function(t,i){return function(s){return s=xe(t,s),s===null?i:s}},De.toString=Nt,De.OneWay=xC,De.TwoWay=Kp;function Ut(t,i,s){xt.call(this),this.Xv=`,
  "insertedLinkKeys": `,this.ky=`,
  "modifiedLinkData": `,this.Zv=`,
  "removedLinkKeys": `,this.md=[],this.$f=new ut,this.xb=new jt,this.Jh="",this.Si=this.zk=this.bl=null,this.lf="from",this.mf="to",this.gj=this.fj="",this.ej="category",this.je="",this.il="isGroup",this.Je="group",this.Mm=!1,i!==void 0&&(this.linkDataArray=i),t!==void 0&&(rt(t)?this.nodeDataArray=t:s=t),s&&(Object.assign(this,s),t=s.Changed)&&(delete this.Changed,this.Pe(t))}v(Ut,xt),Ut.constructGraphLinksModel=xt.constructGraphLinksModel,Ut.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.Jh=this.Jh,t.bl=this.bl,t.zk=this.zk,t.lf=this.lf,t.mf=this.mf,t.fj=this.fj,t.gj=this.gj,t.ej=this.ej,t.je=this.je,t.il=this.il,t.Je=this.Je,t.Mm=this.Mm},n=Ut.prototype,n.clear=function(){xt.prototype.clear.call(this),this.md=[],this.xb.clear(),this.$f.clear()},n.toString=function(t){if(t===void 0&&(t=0),2<=t)return this.np();var i=(this.name!==""?this.name:"")+" GraphLinksModel";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;var s=t.length,l;for(l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Nt(u)}for(i+=`
 link data:`,t=this.linkDataArray,s=t.length,l=0;l<s;l++)u=t[l],i+=" "+vr(this,u,!0)+"-->"+vr(this,u,!1)}return i},n.Sv=function(t,i){this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var s=xt.prototype.Sv.call(this,t,i),l=this,u=new ut,c=new ut,d=new ut,m=this.vh;t.changes.each(function(w){w.model===l&&(w.modelChange==="linkDataArray"?w.change===ei?u.add(w.newValue):w.change===ui&&d.add(w.oldValue):l.Kc(w.object)?c.add(w.object):w.object!==null&&(w.object!==null&&m&&m.contains(w.object)?m.get(w.object).each(function(k){l.Kc(k)&&c.add(k)}):w.object instanceof xt||l.lb(w.object)||BD(l,w.object).each(function(k){c.add(k)})))});var y=this.hl;y.clear(),u.each(function(w){y.add(l.Ac(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(l.Ac(w)),i&&c.add(w)}),t=l.cloneDeep(c.Fa()),0<y.count&&(s===null&&(s={}),i?s.removedLinkKeys=y.Fa():s.insertedLinkKeys=y.Fa()),0<t.length&&(s===null&&(s={}),s.modifiedLinkData=t),0<O.count&&(s===null&&(s={}),i?s.insertedLinkKeys=O.Fa():s.removedLinkKeys=O.Fa()),O.clear(),y.clear(),s},n.sm=function(){var t=xt.prototype.sm.call(this),i="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(i+=`,
  "linkCategoryProperty": `+this.quote(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(i+=`,
  "linkKeyProperty": `+this.quote(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(i+=`,
  "linkFromKeyProperty": `+this.quote(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(i+=`,
  "linkToKeyProperty": `+this.quote(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(i+=`,
  "linkFromPortIdProperty": `+this.quote(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(i+=`,
  "linkToPortIdProperty": `+this.quote(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(i+=`,
  "linkLabelKeysProperty": `+this.quote(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(i+=`,
  "nodeIsGroupProperty": `+this.quote(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(i+=`,
  "nodeGroupKeyProperty": `+this.quote(this.nodeGroupKeyProperty)),t+i},n.gp=function(t){xt.prototype.gp.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},n.Tv=function(){var t=xt.prototype.Tv.call(this),i=`,
  "linkDataArray": `+Du(this,this.linkDataArray,!0);return t+i},n.mv=function(t){xt.prototype.mv.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.em(t),this.linkDataArray=t)};function BD(t,i){for(var s=new ut,l=0;l<t.linkDataArray.length;l++){var u=t.linkDataArray[l];nw(t,i,u,u,s)}return s}n.Rv=function(t,i){this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var s=xt.prototype.Rv.call(this,t,i),l=this,u=new ut,c=new ut,d=new ut,m=this.vh;t.changes.each(function(w){w.model===l&&(w.modelChange==="linkDataArray"?w.change===ei?u.add(w.newValue):w.change===ui&&d.add(w.oldValue):l.Kc(w.object)?c.add(w.object):w.object!==null&&(w.object!==null&&m&&m.contains(w.object)?m.get(w.object).each(function(k){l.Kc(k)&&c.add(k)}):w.object instanceof xt||l.lb(w.object)||BD(l,w.object).each(function(k){c.add(k)})))});var y=this.hl;y.clear(),u.each(function(w){y.add(l.Ac(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(l.Ac(w)),i&&c.add(w)}),t=s,0<y.count&&(t+=(i?this.Zv:this.Xv)+Du(this,y.Fa(),!0)),0<c.count&&(t+=this.ky+Du(this,c.Fa(),!0)),0<O.count&&(t+=(i?this.Xv:this.Zv)+Du(this,O.Fa(),!0)),O.clear(),y.clear(),t},n.fp=function(t){(t.linkCategoryProperty!==void 0&&t.linkCategoryProperty!==this.linkCategoryProperty||t.linkKeyProperty!==void 0&&t.linkKeyProperty!==this.linkKeyProperty||t.linkFromKeyProperty!==void 0&&t.linkFromKeyProperty!==this.linkFromKeyProperty||t.linkToKeyProperty!==void 0&&t.linkToKeyProperty!==this.linkToKeyProperty||t.linkFromPortIdProperty!==void 0&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||t.linkToPortIdProperty!==void 0&&t.linkToPortIdProperty!==this.linkToPortIdProperty||t.linkLabelKeysProperty!==void 0&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||t.nodeIsGroupProperty!==void 0&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||t.nodeGroupKeyProperty!==void 0&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&D("applyIncrementalJson cannot change Model properties"),xt.prototype.fp.call(this,t);var i=t.insertedLinkKeys;if(Array.isArray(i))for(var s=i.length,l=0;l<s;l++){var u=i[l],c=this.jh(u);c===null&&(c=this.Ko({}),this.Ls(c,u),this.fi(c))}if(i=t.modifiedLinkData,Array.isArray(i)){for(s=i.length,l=0;l<s;l++)if(u=i[l],c=this.Ac(u),c=this.jh(c),c!==null){for(var d in u)d!=="__gohashid"&&d!==this.linkKeyProperty&&this.setDataProperty(c,d,u[d]);UD(this,u,c)}}if(t=t.removedLinkKeys,Array.isArray(t))for(d=t.length,i=0;i<d;i++)s=this.jh(t[i]),s!==null&&this.cm(s)},Ut.prototype.changeState=function(t,i){if(t!==null&&t.model===this){if(t.change===Se){var s=t.object,l=t.propertyName;if(l===this.linkKeyProperty&&this.Kc(s)){var u=t.I(i);i=t.I(!i),i!==void 0&&this.xb.remove(i),u!==void 0&&this.xb.add(u,s),me(s,l,u);return}}else if(t.change===ei){if(s=t.newParam,t.modelChange==="linkDataArray"){t=t.newValue,tt(t)&&typeof s=="number"&&(l=this.Ac(t),i?(this.$f.remove(t),this.md[s]===t&&this.md.splice(s,1),l!==void 0&&this.xb.remove(l)):(this.$f.add(t),this.md[s]!==t&&this.md.splice(s,0,t),l!==void 0&&this.xb.add(l,t)));return}if(t.modelChange==="linkLabelKeys"){l=this.Ef(t.object),Array.isArray(l)&&typeof s=="number"&&(i?(s=l.indexOf(t.newValue),0<=s&&l.splice(s,1)):0>l.indexOf(t.newValue)&&l.splice(s,0,t.newValue));return}}else if(t.change===ui){if(s=t.oldParam,t.modelChange==="linkDataArray"){t=t.oldValue,tt(t)&&typeof s=="number"&&(l=this.Ac(t),i?(this.$f.add(t),this.md[s]!==t&&this.md.splice(s,0,t),l!==void 0&&this.xb.add(l,t)):(this.$f.remove(t),this.md[s]===t&&this.md.splice(s,1),l!==void 0&&this.xb.remove(l)));return}if(t.modelChange==="linkLabelKeys"){l=this.Ef(t.object),Array.isArray(l)&&typeof s=="number"&&(i?0>l.indexOf(t.newValue)&&l.splice(s,0,t.newValue):(s=l.indexOf(t.newValue),0<=s&&l.splice(s,1)));return}}xt.prototype.changeState.call(this,t,i)}},n=Ut.prototype,n.Vl=function(t){if(t!==void 0){var i=this.Si;if(i!==null){var s=this.jc(t);s===null&&(s=this.copyNodeData(i),me(s,this.nodeKeyProperty,t),this.xf(s))}return t}},n.Ax=function(t){return vr(this,t,!0)},n.yv=function(t,i){Jp(this,t,i,!0)},n.Ex=function(t){return vr(this,t,!1)},n.Dv=function(t,i){Jp(this,t,i,!1)};function vr(t,i,s){if(i!==null&&(t=s?t.lf:t.mf,t!==""&&(t=Fe(i,t),t!==void 0))){if(Iu(t))return t;D((s?"FromKey":"ToKey")+" value for link data "+i+" is not a number or a string: "+t)}}function Jp(t,i,s,l){if(s===null&&(s=void 0),i!==null){var u=l?t.lf:t.mf;if(u!=="")if(s=t.Vl(s),t.Kc(i)){var c=Fe(i,u);c!==s&&(qs(t,c,i),me(i,u,s),t.jc(s)===null&&Ws(t,s,i),Ge(t,l?"linkFromKey":"linkToKey",Se,u,i,c,s),typeof u=="string"&&t.La(i,u))}else me(i,u,s)}}n.Bx=function(t){return sw(this,t,!0)},n.zv=function(t,i){tm(this,t,i,!0)},n.Fx=function(t){return sw(this,t,!1)},n.Ev=function(t,i){tm(this,t,i,!1)};function sw(t,i,s){return i===null||(t=s?t.fj:t.gj,t==="")?"":(i=Fe(i,t),i===void 0?"":i)}function tm(t,i,s,l){if(i!==null){var u=l?t.fj:t.gj;if(u!=="")if(t.Kc(i)){var c=Fe(i,u);c===void 0&&(c=""),c!==s&&(me(i,u,s),Ge(t,l?"linkFromPortId":"linkToPortId",Se,u,i,c,s),typeof u=="string"&&t.La(i,u))}else me(i,u,s)}}n.Ef=function(t){if(t===null)return ow;var i=this.je;return i===""?ow:(t=Fe(t,i),t===void 0?ow:t)},n.Ms=function(t,i){if(t!==null){var s=this.je;if(s!=="")if(this.Kc(t)){var l=Fe(t,s);if(l===void 0&&(l=ow),l!==i){if(Array.isArray(l))for(var u=l.length,c=0;c<u;c++)qs(this,l[c],t);for(me(t,s,i),u=i.length,c=0;c<u;c++){var d=i[c];this.jc(d)===null&&Ws(this,d,t)}Ge(this,"linkLabelKeys",Se,s,t,l,i),typeof s=="string"&&this.La(t,s)}}else me(t,s,i)}},n.Cu=function(t,i){if(i!=null&&t!==null){var s=this.je;if(s!==""){var l=Fe(t,s);if(l===void 0)s=[],s.push(i),this.Ms(t,s);else if(Array.isArray(l)){var u=l.indexOf(i);0<=u||(u=l.length,l.push(i),this.Kc(t)&&(this.jc(i)===null&&Ws(this,i,t),Ge(this,"linkLabelKeys",ei,s,t,null,i,null,u)))}else D(s+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},n.Sx=function(t,i){if(i!=null&&t!==null){var s=this.je;if(s!==""){var l=Fe(t,s);if(Array.isArray(l)){var u=l.indexOf(i);0>u||(l.splice(u,1),this.Kc(t)&&(qs(this,i,t),Ge(this,"linkLabelKeys",ui,s,t,i,null,u,null)))}else l!==void 0&&D(s+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},n.Ac=function(t){if(t!==null){var i=this.Jh;if(i!==""&&(i=Fe(t,i),i!==void 0)){if(Iu(i))return i;D("Key value for link data "+t+" is not a number or a string: "+i)}}},n.Ls=function(t,i){if(t!==null){var s=this.Jh;if(s!=="")if(this.Kc(t)){var l=Fe(t,s);l!==i&&this.jh(i)===null&&(me(t,s,i),l!==void 0&&this.xb.remove(l),this.xb.add(i,t),Ge(this,"linkKey",Se,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},n.jh=function(t){return t===null&&D("GraphLinksModel.findLinkDataForKey:key must not be null"),t!==void 0&&Iu(t)?this.xb.I(t):null},n.Bs=function(t){if(t!==null){var i=this.Jh;if(i!==""){var s=this.Ac(t);if(s===void 0||this.xb.contains(s)){var l=this.bl;if(l!==null&&(s=l(this,t),s!=null&&!this.xb.contains(s))){me(t,i,s);return}if(typeof s=="string"){for(l=2;this.xb.contains(s+l);)l++;me(t,i,s+l)}else if(s===void 0||typeof s=="number"){for(s=-this.xb.count-1;this.xb.contains(s);)s--;me(t,i,s)}}}}},n.Kc=function(t){return t===null?!1:this.$f.contains(t)},n.fi=function(t){t!==null&&(ws(t),this.Kc(t)||XD(this,t,!0))};function XD(t,i,s){if(t.linkKeyProperty!==""){var l=t.Ac(i);if(l!==void 0&&t.xb.I(l)===i)return;t.Bs(i),l=t.Ac(i),l===void 0&&D("GraphLinksModel.makeLinkDataKeyUnique failed on "+i+". Data not added to model."),t.xb.add(l,i)}t.$f.add(i),l=null,s&&(l=t.md.length,t.md.splice(l,0,i)),Ge(t,"linkDataArray",ei,"linkDataArray",t,null,i,null,l),wC(t,i)}n.Gy=function(t){if(Array.isArray(t))for(var i=t.length,s=0;s<i;s++)this.fi(t[s]);else for(t=t.iterator;t.next();)this.fi(t.value)},n.cm=function(t){t!==null&&_D(this,t,!0)};function _D(t,i,s){t.$f.remove(i);var l=t.Ac(i);if(l!==void 0&&t.xb.remove(l),l=null,s){if(l=t.md.indexOf(i),0>l)return;t.md.splice(l,1)}if(Ge(t,"linkDataArray",ui,"linkDataArray",t,i,null,l,null),s=vr(t,i,!0),qs(t,s,i),s=vr(t,i,!1),qs(t,s,i),l=t.Ef(i),Array.isArray(l))for(var u=l.length,c=0;c<u;c++)s=l[c],qs(t,s,i)}n.pA=function(t){if(Array.isArray(t))for(var i=t.length,s=0;s<i;s++)this.cm(t[s]);else for(t=t.iterator;t.next();)this.cm(t.value)},n.dA=function(t){if(this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&rt(t)){var i=this.jl;i.clear(),i.addAll(this.xb.iteratorKeys);var s=this.hl;s.clear();for(var l=t.length,u=0;u<l;u++){var c=t[u],d=this.Ac(c);if(d!==void 0){s.add(d);var m=this.jh(d);m!==c&&(m!==null?(this.Eo(m,c),UD(this,c,m)):(c=this.cloneDeep(c),this.Ls(c,d),this.fi(c)))}else d=this.cloneDeep(c),this.fi(d),s.add(this.Ac(d))}for(t=i.iterator;t.next();)l=t.value,s.contains(l)||(l=this.jh(l))&&this.cm(l);i.clear(),s.clear()}};function wC(t,i){var s=vr(t,i,!0);s=t.Vl(s),t.jc(s)===null&&Ws(t,s,i),s=vr(t,i,!1),s=t.Vl(s),t.jc(s)===null&&Ws(t,s,i);var l=t.Ef(i);if(Array.isArray(l))for(var u=l.length,c=0;c<u;c++)s=l[c],t.jc(s)===null&&Ws(t,s,i)}n.Ko=function(t){if(t===null)return null;var i=this.zk;return t=i!==null?i(t,this):rw(this,t,!0),tt(t)&&(Ye(t),this.lf!==""&&me(t,this.lf,void 0),this.mf!==""&&me(t,this.mf,void 0),this.je!==""&&me(t,this.je,[])),t},n.$u=function(t){if(t===null)return!1;var i=this.il;return i===""?!1:!!Fe(t,i)},n.lh=function(t){if(t!==null){var i=this.Je;if(i!==""&&(i=Fe(t,i),i!==void 0)){if(Iu(i))return i;D("GroupKey value for node data "+t+" is not a number or a string: "+i)}}},n.mp=function(t,i){if(i===null&&(i=void 0),t!==null){var s=this.Je;if(s!=="")if(this.lb(t)){var l=Fe(t,s);l!==i&&(qs(this,l,t),me(t,s,i),this.jc(i)===null&&Ws(this,i,t),Ge(this,"nodeGroupKey",Se,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},Ut.prototype.copyNodeData=function(t){return t===null?null:(t=xt.prototype.copyNodeData.call(this,t),this.Ij||this.Je===""||Fe(t,this.Je)===void 0||me(t,this.Je,void 0),t)},Ut.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.lm(t,s);return}if(i===this.nodeCategoryProperty){this.km(t,s);return}if(i===this.nodeGroupKeyProperty){this.mp(t,s);return}}else if(this.Kc(t)){if(i===this.linkFromKeyProperty){Jp(this,t,s,!0);return}if(i===this.linkToKeyProperty){Jp(this,t,s,!1);return}if(i===this.linkFromPortIdProperty){tm(this,t,s,!0);return}if(i===this.linkToPortIdProperty){tm(this,t,s,!1);return}if(i===this.linkKeyProperty){this.Ls(t,s);return}if(i===this.linkCategoryProperty){this.lp(t,s);return}if(i===this.linkLabelKeysProperty){this.Ms(t,s);return}}var l=Fe(t,i);l!==s&&(me(t,i,s),this.Gs(t,i,l,s))},n=Ut.prototype,n.Eo=function(t,i){if(i){var s=this.lb(t),l=this.Kc(t),u;for(u in i)u==="__gohashid"||s&&u===this.nodeKeyProperty||s&&u===this.nodeIsGroupProperty&&Fe(t,u)===i[u]||l&&u===this.linkKeyProperty||this.setDataProperty(t,u,i[u])}},n.jp=function(t,i){xt.prototype.jp.call(this,t,i);for(var s=this.kb.iterator;s.next();)this.sv(s.value,t,i);for(s=this.$f.iterator;s.next();){var l=s.value,u=t,c=i;if(vr(this,l,!0)===u){var d=this.lf;me(l,d,c),Ge(this,"linkFromKey",Se,d,l,u,c),typeof d=="string"&&this.La(l,d)}if(vr(this,l,!1)===u&&(d=this.mf,me(l,d,c),Ge(this,"linkToKey",Se,d,l,u,c),typeof d=="string"&&this.La(l,d)),d=this.Ef(l),Array.isArray(d))for(var m=d.length,y=this.je,O=0;O<m;O++)d[O]===u&&(d[O]=c,Ge(this,"linkLabelKeys",ei,y,l,u,c,O,O))}},n.sv=function(t,i,s){if(this.lh(t)===i){var l=this.Je;me(t,l,s),Ge(this,"nodeGroupKey",Se,l,t,i,s),typeof l=="string"&&this.La(t,l)}},n.Nv=function(){xt.prototype.Nv.call(this);for(var t=this.linkDataArray,i=t.length,s=0;s<i;s++)wC(this,t[s])},n.gm=function(t){xt.prototype.gm.call(this,t),t=this.wa(t);var i=r0(this,t);if(i!==null){var s=St();for(i=i.iterator;i.next();){var l=i.value;if(this.lb(l)){if(this.lh(l)===t){var u=this.Je;Ge(this,"nodeGroupKey",Se,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)}}else if(vr(this,l,!0)===t&&(u=this.lf,Ge(this,"linkFromKey",Se,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)),vr(this,l,!1)===t&&(u=this.mf,Ge(this,"linkToKey",Se,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)),u=this.Ef(l),Array.isArray(u))for(var c=u.length,d=this.je,m=0;m<c;m++)u[m]===t&&(Ge(this,"linkLabelKeys",ei,d,l,t,t,m,m),s.push(l))}for(i=0;i<s.length;i++)qs(this,t,s[i]);mt(s)}},n.fm=function(t){xt.prototype.fm.call(this,t);var i=this.lh(t);this.jc(i)===null&&Ws(this,i,t)},n.qp=function(t){xt.prototype.qp.call(this,t);var i=this.lh(t);qs(this,i,t)},n.ps=function(t){if(t===null)return"";var i=this.ej;if(i===""||(i=Fe(t,i),i===void 0))return"";if(typeof i=="string")return i;D("getCategoryForLinkData found a non-string category for "+t+": "+i)},Ut.prototype.getLinkCategoryForData=function(t){return this.ps(t)},Ut.prototype.lp=function(t,i){if(t!==null){var s=this.ej;if(s!=="")if(this.Kc(t)){var l=Fe(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),Ge(this,"linkCategory",Se,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},Ut.prototype.setLinkCategoryForData=function(t,i){this.lp(t,i)},n=Ut.prototype,n.mm=function(t,i){xt.prototype.mm.call(this,t,i),this.mp(i,this.lh(t))};function UD(t,i,s){t.lp(s,t.ps(i)),t.yv(s,t.Ax(i)),t.Dv(s,t.Ex(i)),t.Ms(s,t.Ef(i)),t.zv(s,t.Bx(i)),t.Ev(s,t.Fx(i))}n.Vj=function(){return!0},n.si=function(){return!0},n.xs=function(){return!0},n.Wj=function(){return!0},S.Object.defineProperties(Ut.prototype,{archetypeNodeData:{get:function(){return this.Si},set:function(t){var i=this.Si;i!==t&&(this.Si=t,this.g("archetypeNodeData",i,t))}},linkFromKeyProperty:{get:function(){return this.lf},set:function(t){var i=this.lf;i!==t&&(this.lf=t,this.g("linkFromKeyProperty",i,t))}},linkToKeyProperty:{get:function(){return this.mf},set:function(t){var i=this.mf;i!==t&&(this.mf=t,this.g("linkToKeyProperty",i,t))}},linkFromPortIdProperty:{get:function(){return this.fj},set:function(t){var i=this.fj;i!==t&&(this.fj=t,this.g("linkFromPortIdProperty",i,t))}},linkToPortIdProperty:{get:function(){return this.gj},set:function(t){var i=this.gj;i!==t&&(this.gj=t,this.g("linkToPortIdProperty",i,t))}},linkLabelKeysProperty:{get:function(){return this.je},set:function(t){var i=this.je;i!==t&&(this.je=t,this.g("linkLabelKeysProperty",i,t))}},linkDataArray:{get:function(){return this.md},set:function(t){var i=this.md;if(i!==t){this.xb.clear();for(var s=t.length,l=0;l<s;l++){var u=t[l];tt(u)||D("GraphLinksModel.linkDataArray must only contain Objects, not: "+u),ws(u)}if(this.md=t,this.linkKeyProperty!==""){for(l=new ct,u=0;u<s;u++){var c=t[u],d=this.Ac(c);d===void 0||this.xb.I(d)!==null?l.add(c):this.xb.add(d,c)}for(l=l.iterator;l.next();)u=l.value,this.Bs(u),c=this.Ac(u),c!==void 0&&this.xb.add(c,u)}for(l=new ut,u=0;u<s;u++)l.add(t[u]);for(this.$f=l,Ge(this,"linkDataArray",Se,"linkDataArray",this,i,t),i=0;i<s;i++)wC(this,t[i])}}},linkKeyProperty:{get:function(){return this.Jh},set:function(t){var i=this.Jh;if(i!==t){this.Jh=t,this.xb.clear();for(var s=this.linkDataArray.length,l=0;l<s;l++){var u=this.linkDataArray[l],c=this.Ac(u);c===void 0&&(this.Bs(u),c=this.Ac(u)),c!==void 0&&this.xb.add(c,u)}this.g("linkKeyProperty",i,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.bl},set:function(t){var i=this.bl;i!==t&&(this.bl=t,this.g("makeUniqueLinkKeyFunction",i,t))}},copyLinkDataFunction:{get:function(){return this.zk},set:function(t){var i=this.zk;i!==t&&(this.zk=t,this.g("copyLinkDataFunction",i,t))}},nodeIsGroupProperty:{get:function(){return this.il},set:function(t){var i=this.il;i!==t&&(this.il=t,this.g("nodeIsGroupProperty",i,t))}},nodeGroupKeyProperty:{get:function(){return this.Je},set:function(t){var i=this.Je;i!==t&&(this.Je=t,this.g("nodeGroupKeyProperty",i,t))}},Ij:{get:function(){return this.Mm},set:function(t){this.Mm!==t&&(this.Mm=t)}},linkCategoryProperty:{get:function(){return this.ej},set:function(t){var i=this.ej;i!==t&&(this.ej=t,this.g("linkCategoryProperty",i,t))}},type:{get:function(){return"GraphLinksModel"}}}),Ut.prototype.setCategoryForLinkData=Ut.prototype.lp,Ut.prototype.getCategoryForLinkData=Ut.prototype.ps,Ut.prototype.assignAllDataProperties=Ut.prototype.Eo,Ut.prototype.setGroupKeyForNodeData=Ut.prototype.mp,Ut.prototype.getGroupKeyForNodeData=Ut.prototype.lh,Ut.prototype.isGroupForNodeData=Ut.prototype.$u,Ut.prototype.copyLinkData=Ut.prototype.Ko,Ut.prototype.mergeLinkDataArray=Ut.prototype.dA,Ut.prototype.removeLinkDataCollection=Ut.prototype.pA,Ut.prototype.removeLinkData=Ut.prototype.cm,Ut.prototype.addLinkDataCollection=Ut.prototype.Gy,Ut.prototype.addLinkData=Ut.prototype.fi,Ut.prototype.containsLinkData=Ut.prototype.Kc,Ut.prototype.makeLinkDataKeyUnique=Ut.prototype.Bs,Ut.prototype.findLinkDataForKey=Ut.prototype.jh,Ut.prototype.setKeyForLinkData=Ut.prototype.Ls,Ut.prototype.getKeyForLinkData=Ut.prototype.Ac,Ut.prototype.removeLabelKeyForLinkData=Ut.prototype.Sx,Ut.prototype.addLabelKeyForLinkData=Ut.prototype.Cu,Ut.prototype.setLabelKeysForLinkData=Ut.prototype.Ms,Ut.prototype.getLabelKeysForLinkData=Ut.prototype.Ef,Ut.prototype.setToPortIdForLinkData=Ut.prototype.Ev,Ut.prototype.getToPortIdForLinkData=Ut.prototype.Fx,Ut.prototype.setFromPortIdForLinkData=Ut.prototype.zv,Ut.prototype.getFromPortIdForLinkData=Ut.prototype.Bx,Ut.prototype.setToKeyForLinkData=Ut.prototype.Dv,Ut.prototype.getToKeyForLinkData=Ut.prototype.Ex,Ut.prototype.setFromKeyForLinkData=Ut.prototype.yv,Ut.prototype.getFromKeyForLinkData=Ut.prototype.Ax,Ut.prototype.clear=Ut.prototype.clear;var ow=Object.freeze([]);Ut.className="GraphLinksModel",Qs.GraphLinksModel=Ut,xt.constructGraphLinksModel=xt.constructGraphLinksModel=function(){return new Ut},xt.initDiagramModel=OC=function(){return new Ut};function wn(t,i){xt.call(this),this.Ke="parent",this.Om=!1,this.oj="parentLinkCategory",t!==void 0&&(rt(t)?this.nodeDataArray=t:i=t),i&&(Object.assign(this,i),t=i.Changed)&&(delete this.Changed,this.Pe(t))}v(wn,xt),wn.constructGraphLinksModel=xt.constructGraphLinksModel,wn.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.Ke=this.Ke,t.Om=this.Om,t.oj=this.oj},n=wn.prototype,n.toString=function(t){if(t===void 0&&(t=0),2<=t)return this.np();var i=(this.name!==""?this.name:"")+" TreeModel";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;for(var s=t.length,l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Nt(u)}}return i},n.sm=function(){var t=xt.prototype.sm.call(this),i="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(i+=`,
  "nodeParentKeyProperty": `+this.quote(this.nodeParentKeyProperty)),t+i},n.gp=function(t){xt.prototype.gp.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},n.fp=function(t){t.nodeParentKeyProperty!==void 0&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&D("applyIncrementalJson cannot change Model properties"),xt.prototype.fp.call(this,t)},n.Vl=function(t){return t},n.mh=function(t){if(t!==null){var i=this.Ke;if(i!==""&&(i=Fe(t,i),i!==void 0)){if(Iu(i))return i;D("ParentKey value for node data "+t+" is not a number or a string: "+i)}}},n.qe=function(t,i){if(i===null&&(i=void 0),t!==null){var s=this.Ke;if(s!=="")if(i=this.Vl(i),this.lb(t)){var l=Fe(t,s);l!==i&&(qs(this,l,t),me(t,s,i),this.jc(i)===null&&Ws(this,i,t),Ge(this,"nodeParentKey",Se,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},n.ss=function(t){if(t===null)return"";var i=this.oj;return i===""||(i=Fe(t,i),i===void 0)?"":typeof i=="string"?i:(D("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+i),"")},wn.prototype.getLinkCategoryForData=function(t){return this.ss(t)},wn.prototype.Ns=function(t,i){if(t!==null){var s=this.oj;if(s!=="")if(this.lb(t)){var l=Fe(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),Ge(this,"parentLinkCategory",Se,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},wn.prototype.setLinkCategoryForData=function(t,i){this.Ns(t,i)},wn.prototype.copyNodeData=function(t){return t===null?null:(t=xt.prototype.copyNodeData.call(this,t),this.Jj||this.Ke===""||Fe(t,this.Ke)===void 0||me(t,this.Ke,void 0),t)},wn.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.lm(t,s);return}if(i===this.nodeCategoryProperty){this.km(t,s);return}if(i===this.nodeParentKeyProperty){this.qe(t,s);return}}var l=Fe(t,i);l!==s&&(me(t,i,s),this.Gs(t,i,l,s))},n=wn.prototype,n.jp=function(t,i){xt.prototype.jp.call(this,t,i);for(var s=this.kb.iterator;s.next();)this.sv(s.value,t,i)},n.sv=function(t,i,s){if(this.mh(t)===i){var l=this.Ke;me(t,l,s),Ge(this,"nodeParentKey",Se,l,t,i,s),typeof l=="string"&&this.La(t,l)}},n.gm=function(t){xt.prototype.gm.call(this,t),t=this.wa(t);var i=r0(this,t);if(i!==null){var s=St();for(i=i.iterator;i.next();){var l=i.value;if(this.lb(l)&&this.mh(l)===t){var u=this.Ke;Ge(this,"nodeParentKey",Se,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)}}for(i=0;i<s.length;i++)qs(this,t,s[i]);mt(s)}},n.fm=function(t){xt.prototype.fm.call(this,t);var i=this.mh(t);i=this.Vl(i),this.jc(i)===null&&Ws(this,i,t)},n.qp=function(t){xt.prototype.qp.call(this,t);var i=this.mh(t);qs(this,i,t)},n.mm=function(t,i){xt.prototype.mm.call(this,t,i),this.Ns(i,this.ss(t)),this.qe(i,this.mh(t))},n.Tl=function(){return!0},n.xs=function(){return!0},S.Object.defineProperties(wn.prototype,{nodeParentKeyProperty:{get:function(){return this.Ke},set:function(t){var i=this.Ke;i!==t&&(this.Ke=t,this.g("nodeParentKeyProperty",i,t))}},Jj:{get:function(){return this.Om},set:function(t){this.Om!==t&&(this.Om=t)}},parentLinkCategoryProperty:{get:function(){return this.oj},set:function(t){var i=this.oj;i!==t&&(this.oj=t,this.g("parentLinkCategoryProperty",i,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),wn.prototype.setParentLinkCategoryForNodeData=wn.prototype.Ns,wn.prototype.getParentLinkCategoryForNodeData=wn.prototype.ss,wn.prototype.setParentKeyForNodeData=wn.prototype.qe,wn.prototype.getParentKeyForNodeData=wn.prototype.mh,wn.className="TreeModel",Qs.TreeModel=wn;function be(t){ye.call(this),this.nw=this.$m=this.nc=0,this.Wp=360,this.mw=ts,this.Ui=0,this.aw=new F,this.Jp=this.me=0,this.Xr=new p0,this.ht=this.nj=0,this.vy=600,this.fo=NaN,this.Dm=1,this.so=0,this.ul=360,this.Tb=ts,this.K=rn,this.nd=zf,this.hd=dC,this.tf=6,this.On=d0,t&&Object.assign(this,t)}v(be,ye),be.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.fo=this.fo,t.Dm=this.Dm,t.so=this.so,t.ul=this.ul,t.Tb=this.Tb,t.K=this.K,t.nd=this.nd,t.hd=this.hd,t.tf=this.tf,t.On=this.On},be.prototype.qb=function(t){t.classType===be?t===c0||t===f0||t===u0||t===h0||t===zf?this.sorting=t:t===Fu||t===Vf||t===rn||t===Ia?this.direction=t:t===Bl||t===Da||t===ts||t===es?this.arrangement=t:(t===Wh||t===d0)&&(this.nodeDiameterFormula=t):ye.prototype.qb.call(this,t)},be.prototype.createNetwork=function(){return new em(this)},be.prototype.doLayout=function(t){if(this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),t=this.network.vertexes,1>=t.count)t.count===1&&(t=t.first(),t.centerX=0,t.centerY=0);else{var i=new ct;i.addAll(t.iterator),t=new ct;var s=new ct,l=this.sort(i),u,c,d=this.Jp,m=this.arrangement,y=this.nodeDiameterFormula,O=this.radius;(!isFinite(O)||0>=O)&&(O=NaN);var w=this.aspectRatio;(!isFinite(w)||0>=w)&&(w=1);var k=this.startAngle;isFinite(k)||(k=0);var P=this.sweepAngle;if((!isFinite(P)||360<P||1>P)&&(P=360),i=this.spacing,isFinite(i)||(i=NaN),m===es&&y===Wh?m=ts:m===es&&y!==Wh&&(m=this.arrangement),(this.direction===Fu||this.direction===Vf)&&this.sorting!==zf){for(y=0;!(y>=l.length)&&(t.add(l.M(y)),!(y+1>=l.length));y+=2)s.add(l.M(y+1));this.direction===Fu?(this.arrangement===es&&t.reverse(),l=new ct,l.addAll(t),l.addAll(s)):(this.arrangement===es&&s.reverse(),l=new ct,l.addAll(s),l.addAll(t))}y=l.length;for(var T=c=u=0;T<l.length;T++){var C=k+P*c*(this.direction===rn?1:-1)/y,A=l.M(T).diameter;isNaN(A)&&(A=Vu(l.M(T),C)),360>P&&(T===0||T===l.length-1)&&(A/=2),u+=A,c++}if(isNaN(O)||m===es){if(isNaN(i)&&(i=6),m!==ts&&m!==es){for(c=-1/0,d=0;d<y;d++)T=l.M(d),u=l.M(d===y-1?0:d+1),isNaN(T.diameter)&&Vu(T,0),isNaN(u.diameter)&&Vu(u,0),c=Math.max(c,(T.diameter+u.diameter)/2);d=c+i,m===Bl?O=(c+i)/(2*Math.PI/y):O=lw(this,d*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180)}else O=lw(this,u+(360<=P?y:y-1)*(m!==es?i:1.6*i),w,k*Math.PI/180,P*Math.PI/180);c=O*w}else if(c=O*w,T=SC(this,O,c,k*Math.PI/180,P*Math.PI/180),isNaN(i))(m===ts||m===es)&&(i=(T-u)/(360<=P?y:y-1));else if(m===ts||m===es)T=(T-u)/(360<=P?y:y-1),T<i?(O=lw(this,u+i*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180),c=O*w):i=T;else{for(d=-1/0,u=0;u<y;u++)C=l.M(u),A=l.M(u===y-1?0:u+1),isNaN(C.diameter)&&Vu(C,0),isNaN(A.diameter)&&Vu(A,0),d=Math.max(d,(C.diameter+A.diameter)/2);d+=i,u=lw(this,d*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180),u>O?(O=u,c=O*w):d=T/(360<=P?y:y-1)}if(this.mw=m,this.nc=O,this.$m=w,this.nw=k,this.Wp=P,this.Ui=i,this.me=c,this.Jp=d,i=l,l=this.mw,m=this.nc,O=this.nw,w=this.Wp,k=this.Ui,P=this.me,y=this.Jp,this.direction!==Fu&&this.direction!==Vf||l!==es)if(this.direction===Fu||this.direction===Vf){switch(d=0,l){case Da:d=180*aw(this,m,P,O,y)/Math.PI;break;case ts:y=i=0,d=t.first(),d!==null&&(i=Vu(d,Math.PI/2)),d=s.first(),d!==null&&(y=Vu(d,Math.PI/2)),d=180*aw(this,m,P,O,k+(i+y)/2)/Math.PI;break;case Bl:d=w/i.length}if(this.direction===Fu){switch(l){case Da:a0(this,t,O,Ia);break;case ts:l0(this,t,O,Ia);break;case Bl:o0(this,t,w/2,O,Ia)}switch(l){case Da:a0(this,s,O+d,rn);break;case ts:l0(this,s,O+d,rn);break;case Bl:o0(this,s,w/2,O+d,rn)}}else{switch(l){case Da:a0(this,s,O,Ia);break;case ts:l0(this,s,O,Ia);break;case Bl:o0(this,s,w/2,O,Ia)}switch(l){case Da:a0(this,t,O+d,rn);break;case ts:l0(this,t,O+d,rn);break;case Bl:o0(this,t,w/2,O+d,rn)}}}else switch(l){case Da:a0(this,i,O,this.direction);break;case ts:l0(this,i,O,this.direction);break;case Bl:o0(this,i,w,O,this.direction);break;case es:ZD(this,i,w,O,this.direction)}else ZD(this,i,w,O-w/2,rn)}this.updateParts(),this.network=null,this.isValidLayout=!0};function o0(t,i,s,l,u){var c=t.Wp,d=t.nc;t=t.me,l=l*Math.PI/180,s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=l+(u===rn?y*s/(360<=c?m:m-1):-(y*s)/m),w=i.M(y),k=d*Math.tan(O)/t;k=Math.sqrt((d*d+t*t*k*k)/(1+k*k)),w.centerX=k*Math.cos(O),w.centerY=k*Math.sin(O),w.actualAngle=180*O/Math.PI}}function l0(t,i,s,l){var u=t.nc,c=t.me,d=t.Ui;s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=i.M(y),w=i.M(y===m-1?0:y+1),k=c*Math.sin(s);O.centerX=u*Math.cos(s),O.centerY=k,O.actualAngle=180*s/Math.PI,isNaN(O.diameter)&&Vu(O,0),isNaN(w.diameter)&&Vu(w,0),O=aw(t,u,c,l===rn?s:-s,(O.diameter+w.diameter)/2+d),s+=l===rn?O:-O}}function a0(t,i,s,l){var u=t.nc,c=t.me,d=t.Jp;s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=i.M(y);O.centerX=u*Math.cos(s),O.centerY=c*Math.sin(s),O.actualAngle=180*s/Math.PI,O=aw(t,u,c,l===rn?s:-s,d),s+=l===rn?O:-O}}function ZD(t,i,s,l,u){var c=t.Wp;if(t.nj=0,t.Xr=new p0,360>s){for(c=l+(u===rn?c:-c);0>c;)c+=360;c%=360,180<c&&(c-=360),c*=Math.PI/180,t.ht=c,WD(t,i,s,l,u)}else YD(t,i,s,l,u);t.Xr.commit(i)}function YD(t,i,s,l,u){var c=t.nc,d=t.Ui,m=t.$m,y=c*Math.cos(l*Math.PI/180),O=t.me*Math.sin(l*Math.PI/180),w=i.Fa();if(w.length===3)w[0].centerX=c,w[0].centerY=0,w[1].centerX=w[0].centerX-w[0].width/2-w[1].width/2-d,w[1].y=w[0].y,w[2].centerX=(w[0].centerX+w[1].centerX)/2,w[2].y=w[0].y-w[2].height-d;else if(w.length===4)w[0].centerX=c,w[0].centerY=0,w[2].centerX=-w[0].centerX,w[2].centerY=w[0].centerY,w[1].centerX=0,w[1].y=Math.min(w[0].y,w[2].y)-w[1].height-d,w[3].centerX=0,w[3].y=Math.max(w[0].y+w[0].height+d,w[2].y+w[2].height+d);else{c=F.alloc();for(var k=0;k<w.length&&(w[k].centerX=y,w[k].centerY=O,!(k>=w.length-1));k++)qD(t,y,O,w,k,u,c)||GD(t,y,O,w,k,u,c),y=c.x,O=c.y;if(F.free(c),t.nj++,!(23<t.nj)){y=w[0].centerX,O=w[0].centerY,c=w[w.length-1].centerX,k=w[w.length-1].centerY;var P=Math.abs(y-c)-((w[0].width+w[w.length-1].width)/2+d),T=Math.abs(O-k)-((w[0].height+w[w.length-1].height)/2+d);d=0,1>Math.abs(T)?Math.abs(y-c)<(w[0].width+w[w.length-1].width)/2&&(d=0):d=0<T?T:1>Math.abs(P)?0:P,y=Math.abs(c)>Math.abs(k)?0<c!=O>k:0<k!=y<c,(y=u===rn?y:!y)&&(d=-Math.abs(d),d=Math.min(d,-w[w.length-1].width),d=Math.min(d,-w[w.length-1].height)),t.Xr.compare(d,w),1<Math.abs(d)&&(t.nc=8>t.nj?t.nc-d/(2*Math.PI):5>w.length&&10<d?t.nc/2:t.nc-(0<d?1.7:-2.3),t.me=t.nc*m,YD(t,i,s,l,u))}}}function WD(t,i,s,l,u){for(var c=t.nc,d=t.me,m=t.$m,y=c*Math.cos(l*Math.PI/180),O=d*Math.sin(l*Math.PI/180),w=F.alloc(),k=i.Fa(),P=0;P<k.length&&(k[P].centerX=y,k[P].centerY=O,!(P>=k.length-1));P++)qD(t,y,O,k,P,u,w)||GD(t,y,O,k,P,u,w),y=w.x,O=w.y;if(F.free(w),t.nj++,!(23<t.nj)){if(y=Math.atan2(O,y),y=u===rn?t.ht-y:y-t.ht,y=Math.abs(y)<Math.abs(y-2*Math.PI)?y:y-2*Math.PI,c=y*(c+d)/2,d=t.Xr,Math.abs(c)<Math.abs(d.Pl))for(d.Pl=c,d.lk=[],d.um=[],y=0;y<k.length;y++)d.lk[y]=k[y].bounds.x,d.um[y]=k[y].bounds.y;1<Math.abs(c)&&(t.nc=8>t.nj?t.nc-c/(2*Math.PI):t.nc-(0<c?1.7:-2.3),t.me=t.nc*m,WD(t,i,s,l,u))}}function qD(t,i,s,l,u,c,d){var m=t.nc,y=t.me,O=0;t=(l[u].width+l[u+1].width)/2+t.Ui;var w=!1;if(0<=s!=(c===rn)){if(c=i+t,c>m){if(c=i-t,c<-m)return d.x=c,d.y=O,!1;w=!0}}else if(c=i-t,c<-m){if(c=i+t,c>m)return d.x=c,d.y=O,!1;w=!0}return O=Math.sqrt(1-Math.min(1,c*c/(m*m)))*y,0>s!==w&&(O=-O),Math.abs(s-O)>(l[u].height+l[u+1].height)/2?(d.x=c,d.y=O,!1):(d.x=c,d.y=O,!0)}function GD(t,i,s,l,u,c,d){var m=t.nc,y=t.me,O=0;if(t=(l[u].height+l[u+1].height)/2+t.Ui,l=!1,0<=i!=(c===rn)){if(c=s-t,c<-y){if(c=s+t,c>y){d.x=O,d.y=c;return}l=!0}}else if(c=s+t,c>y){if(c=s-t,c<-y){d.x=O,d.y=c;return}l=!0}O=Math.sqrt(1-Math.min(1,c*c/(y*y)))*m,0>i!==l&&(O=-O),d.x=O,d.y=c}be.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},be.prototype.commitNodes=function(){var t=this.group!==null&&this.group.placeholder!==null&&this.group.isSubGraphExpanded,i=t?this.group.location.copy():null,s=this.actualCenter;t?s=new F(0,0):(s.x=this.arrangementOrigin.x+this.nc,s.y=this.arrangementOrigin.y+this.me);for(var l=this.network.vertexes.iterator;l.next();){var u=l.value;u.x+=s.x,u.y+=s.y,u.commit()}t&&(this.group.Va(),t=this.group.position.copy(),s=this.group.location.copy(),i=i.re(s.re(t)),this.group.move(i),this.aw=i.re(t))},be.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()};function SC(t,i,s,l,u){var c=t.vy;if(.001>Math.abs(t.$m-1))return l!==void 0&&u!==void 0?u*i:2*Math.PI*i;t=i>s?Math.sqrt(i*i-s*s)/i:Math.sqrt(s*s-i*i)/s;for(var d=0,m=l!==void 0&&u!==void 0?u/(c+1):Math.PI/(2*(c+1)),y=0,O=0;O<=c;O++){l!==void 0&&u!==void 0?y=l+O*u/c:y=O*Math.PI/(2*c);var w=Math.sin(y);d+=Math.sqrt(1-t*t*w*w)*m}return l!==void 0&&u!==void 0?(i>s?i:s)*d:4*(i>s?i:s)*d}function lw(t,i,s,l,u){return i/(l!==void 0&&u!==void 0?SC(t,1,s,l,u):SC(t,1,s))}function aw(t,i,s,l,u){if(.001>Math.abs(t.$m-1))return u/i;var c=i>s?Math.sqrt(i*i-s*s)/i:Math.sqrt(s*s-i*i)/s,d=0;t=2*Math.PI/(700*t.network.vertexes.count),i>s&&(l+=Math.PI/2);for(var m=0;;m++){var y=Math.sin(l+m*t);if(d+=(i>s?i:s)*Math.sqrt(1-c*c*y*y)*t,d>=u)return m*t}}be.prototype.sort=function(t){switch(this.sorting){case u0:break;case h0:t.reverse();break;case c0:t.sort(this.comparer);break;case f0:t.sort(this.comparer),t.reverse();break;case zf:return this.$j(tH(t));default:D("Invalid sorting type.")}return t};function tH(t){for(var i=[],s=0;s<t.length;s++)i.push(0);s=new ct;for(var l=0;l<t.length;l++){var u=-1,c=-1;if(l===0)for(var d=0;d<t.length;d++){var m=t.M(d).edgesCount;m>u&&(u=m,c=d)}else for(d=0;d<t.length;d++)m=i[d],m>u&&(u=m,c=d);for(s.add(t.M(c)),i[c]=-1,c=t.M(c),d=c.sourceEdges;d.next();)u=t.indexOf(d.value.fromVertex),0>u||0<=i[u]&&i[u]++;for(c=c.destinationEdges;c.next();)u=t.indexOf(c.value.toVertex),0>u||0<=i[u]&&i[u]++}return s}be.prototype.$j=function(t){for(var i=[],s=0;s<t.length;s++){var l=t.M(s);i[s]=[];for(var u,c=l.destinationEdges;c.next();)u=t.indexOf(c.value.toVertex),u!==s&&0>i[s].indexOf(u)&&i[s].push(u);for(l=l.sourceEdges;l.next();)u=t.indexOf(l.value.fromVertex),u!==s&&0>i[s].indexOf(u)&&i[s].push(u)}for(c=[],s=0;s<i.length;s++)c[s]=0;s=[];var d=[],m=[];l=[],u=new ct;for(var y=0,O=0;O<i.length;O++){var w=i[O].length;if(w===1)l.push(O);else if(w===0)u.add(t.M(O));else{if(y===0)s.push(O);else{for(var k=w=1/0,P=-1,T=[],C=0;C<s.length;C++)0>i[s[C]].indexOf(s[C===s.length-1?0:C+1])&&T.push(C===s.length-1?0:C+1);if(T.length===0)for(C=0;C<s.length;C++)T.push(C);for(C=0;C<T.length;C++){for(var A=T[C],I=i[O],E=0,z=0;z<d.length;z++){var B=c[d[z]],_=c[m[z]];if(B<_){var Z=B;B=_}else Z=_;if(Z<A&&A<=B)for(_=0;_<I.length;_++){var H=I[_];0>s.indexOf(H)||Z<c[H]&&c[H]<B||Z===c[H]||B===c[H]||E++}else for(_=0;_<I.length;_++)H=I[_],0>s.indexOf(H)||Z<c[H]&&c[H]<B&&Z!==c[H]&&B!==c[H]&&E++}for(I=E,z=E=0;z<i[O].length;z++)Z=s.indexOf(i[O][z]),0<=Z&&(Z=Math.abs(A-(Z>=A?Z+1:Z)),E+=Z<s.length+1-Z?Z:s.length+1-Z);for(z=0;z<d.length;z++)Z=c[d[z]],B=c[m[z]],Z>=A&&Z++,B>=A&&B++,Z>B&&(_=B,B=Z,Z=_),B-Z<(s.length+2)/2==(Z<A&&A<=B)&&E++;(I<w||I===w&&E<k)&&(w=I,k=E,P=A)}for(s.splice(P,0,O),w=0;w<s.length;w++)c[s[w]]=w;for(w=0;w<i[O].length;w++)k=i[O][w],0<=s.indexOf(k)&&(d.push(O),m.push(k))}y++}}for(d=s.length;;){for(c=!0,m=0;m<l.length;m++)if(y=l[m],O=i[y][0],w=s.indexOf(O),0<=w){for(P=k=0;P<i[O].length;P++)T=s.indexOf(i[O][P]),0>T||T===w||(C=T>w?T-w:w-T,k+=T<w!=C>d-C?1:-1);s.splice(0>k?w:w+1,0,y),l.splice(m,1),m--}else c=!1;if(c)break;s.push(l[0]),l.splice(0,1)}for(i=0;i<s.length;i++)u.add(t.M(s[i]));return u},S.Object.defineProperties(be.prototype,{radius:{get:function(){return this.fo},set:function(t){this.fo!==t&&(0<t||isNaN(t))&&(this.fo=t,this.C())}},aspectRatio:{get:function(){return this.Dm},set:function(t){this.Dm!==t&&0<t&&(this.Dm=t,this.C())}},startAngle:{get:function(){return this.so},set:function(t){this.so!==t&&(this.so=t,this.C())}},sweepAngle:{get:function(){return this.ul},set:function(t){this.ul!==t&&(0<t&&360>=t?this.ul=t:this.ul=360,this.C())}},arrangement:{get:function(){return this.Tb},set:function(t){this.Tb===t||t!==es&&t!==ts&&t!==Da&&t!==Bl||(this.Tb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==rn&&t!==Ia&&t!==Fu&&t!==Vf||(this.K=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==u0&&t!==h0&&t!==c0&&!f0&&t!==zf||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf!==t&&(this.tf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.On},set:function(t){this.On===t||t!==d0&&t!==Wh||(this.On=t,this.C())}},actualXRadius:{get:function(){return this.nc}},actualYRadius:{get:function(){return this.me}},actualSpacing:{get:function(){return this.Ui}},actualCenter:{get:function(){return this.aw}}});var ts=new it(be,"ConstantSpacing",0),Da=new it(be,"ConstantDistance",1),Bl=new it(be,"ConstantAngle",2),es=new it(be,"Packed",3),rn=new it(be,"Clockwise",4),Ia=new it(be,"Counterclockwise",5),Fu=new it(be,"BidirectionalLeft",6),Vf=new it(be,"BidirectionalRight",7),u0=new it(be,"Forwards",8),h0=new it(be,"Reverse",9),c0=new it(be,"Ascending",10),f0=new it(be,"Descending",11),zf=new it(be,"Optimized",12),d0=new it(be,"Pythagorean",13),Wh=new it(be,"Circular",14);be.className="CircularLayout",be.ConstantSpacing=ts,be.ConstantDistance=Da,be.ConstantAngle=Bl,be.Packed=es,be.Clockwise=rn,be.Counterclockwise=Ia,be.BidirectionalLeft=Fu,be.BidirectionalRight=Vf,be.Forwards=u0,be.Reverse=h0,be.Ascending=c0,be.Descending=f0,be.Optimized=zf,be.Pythagorean=d0,be.Circular=Wh;function p0(){this.Pl=-1/0,this.um=this.lk=null}p0.prototype.compare=function(t,i){if(0<t&&0>this.Pl||Math.abs(t)<Math.abs(this.Pl)&&!(0>t&&0<this.Pl))for(this.Pl=t,this.lk=[],this.um=[],t=0;t<i.length;t++)this.lk[t]=i[t].bounds.x,this.um[t]=i[t].bounds.y},p0.prototype.commit=function(t){if(this.lk!==null&&this.um!==null)for(var i=0;i<this.lk.length;i++){var s=t.M(i);s.x=this.lk[i],s.y=this.um[i]}},p0.className="VertexArrangement";function em(t){de.call(this,t)}v(em,de),em.prototype.createVertex=function(){return new m0(this)},em.prototype.createEdge=function(){return new uw(this)},em.className="CircularNetwork";function m0(t){ri.call(this,t),this.u=this.Ti=NaN}v(m0,ri);function Vu(t,i){var s=t.network;if(s===null)return NaN;if(s=s.layout,s===null)return NaN;if(s.arrangement===es)if(s.nodeDiameterFormula===Wh)t.Ti=Math.max(t.width,t.height);else{if(s=Math.abs(Math.sin(i)),i=Math.abs(Math.cos(i)),s===0)return t.width;if(i===0)return t.height;t.Ti=Math.min(t.height/s,t.width/i)}else t.Ti=s.nodeDiameterFormula===Wh?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Ti}S.Object.defineProperties(m0.prototype,{diameter:{get:function(){return this.Ti},set:function(t){this.Ti!==t&&(this.Ti=t)}},actualAngle:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}}}),m0.className="CircularVertex";function uw(t){er.call(this,t)}v(uw,er),uw.className="CircularEdge";function Ri(t){ye.call(this),this.ah=null,this.Bn=0,this.$d=new At(100,100).freeze(),this.Cm=!1,this.sf=!0,this.td=!1,this.cl=100,this.an=1,this.Zf=1e3,this.Jn=10,this.ho=Math,this.Gk=.05,this.Fk=50,this.Dk=150,this.Ek=0,this.Wm=10,this.Vm=5,t&&Object.assign(this,t)}v(Ri,ye),Ri.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.$d.assign(this.$d),t.Cm=this.Cm,t.sf=this.sf,t.td=this.td,t.cl=this.cl,t.an=this.an,t.Zf=this.Zf,t.Jn=this.Jn,t.ho=this.ho,t.Gk=this.Gk,t.Fk=this.Fk,t.Dk=this.Dk,t.Ek=this.Ek,t.Wm=this.Wm,t.Vm=this.Vm},Ri.prototype.createNetwork=function(){return new Bf(this)},Ri.prototype.doLayout=function(t){if(this.network===null&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.Lo();for(var i=this.network.vertexes.iterator;i.next();){var s=i.value;s.charge=this.electricalCharge(s),s.mass=this.gravitationalMass(s)}for(i=this.network.edges.iterator;i.next();)s=i.value,s.stiffness=this.springStiffness(s),s.length=this.springLength(s);if(this.Du(),this.Bn=0,this.needsClusterLayout()){i=this.network,s=i.ay();for(var l=s.iterator;l.next();){this.network=l.value;for(var u=this.network.vertexes.iterator;u.next();){var c=u.value;c.Vd=c.vertexes.count,c.sh=1,c.Hj=null,c.We=null}HD(this,0,t)}this.network=i;var d=l=s.iterator;l=this.arrangementSpacing;var m=d.count,y=!0;c=u=0;for(var O=St(),w=0;w<m+i.vertexes.count+2;w++)O[w]=null;m=0,d.reset();for(var k=J.alloc();d.next();)if(w=d.value,this.computeBounds(w,k),y)y=!1,u=k.x+k.width/2,c=k.y+k.height/2,O[0]=new F(k.x+k.width+l.width,k.y),O[1]=new F(k.x,k.y+k.height+l.height),m=2;else{var P=KD(O,m,u,c,k.width,k.height,l),T=O[P],C=new F(T.x+k.width+l.width,T.y),A=new F(T.x,T.y+k.height+l.height);for(P+1<m&&O.splice(P+1,0,null),O[P]=C,O[P+1]=A,m++,P=T.x-k.x,T=T.y-k.y,w=w.vertexes.iterator;w.next();)C=w.value,C.centerX+=P,C.centerY+=T}for(J.free(k),w=i.vertexes.iterator;w.next();)d=w.value,P=d.bounds,2>m?(u=P.x+P.width/2,c=P.y+P.height/2,O[0]=new F(P.x+P.width+l.width,P.y),O[1]=new F(P.x,P.y+P.height+l.height),m=2):(y=KD(O,m,u,c,P.width,P.height,l),k=O[y],T=new F(k.x+P.width+l.width,k.y),P=new F(k.x,k.y+P.height+l.height),y+1<m&&O.splice(y+1,0,null),O[y]=T,O[y+1]=P,m++,d.centerX=k.x+d.width/2,d.centerY=k.y+d.height/2);for(mt(O),l=s.iterator;l.next();){for(s=l.value,u=s.vertexes.iterator;u.next();)i.dh(u.value);for(s=s.edges.iterator;s.next();)i.Co(s.value)}}tI(this,t),this.updateParts()}this.cl=t,this.network=null,this.isValidLayout=!0},Ri.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,i=0,s=this.network.vertexes.first().bounds,l=this.network.vertexes.iterator;l.next();){if(l.value.bounds.Yc(s)&&(t++,2<t))return!0;if(10<i)break;i++}return!1},Ri.prototype.computeBounds=function(t,i){var s=!0;for(t=t.vertexes.iterator;t.next();){var l=t.value;s?(s=!1,i.set(l.bounds)):i.ed(l.bounds)}return i};function HD(t,i,s){if(eH(t,i)){var l=t.Zf;t.Zf*=1+1/(i+1);var u=iH(t,i),c=Math.max(0,Math.max(Math.min(t.network.vertexes.count,s*(i+1)/11),10));for(t.maxIterations+=c,HD(t,i+1,s),tI(t,c),nH(t,u),i=u.vertexes.Fa(),i.sort(function(d,m){return d===null||m===null||d===m?0:m.Vd-d.Vd}),s=0;s<i.length;s++)rH(t,i[s]);t.Zf=l}}function eH(t,i){if(10<i||3>t.network.vertexes.count)return!1;for(t.ah=t.network.vertexes.Fa(),t=t.ah,t.sort(function(s,l){return s===null||l===null||s===l?0:l.Vd-s.Vd}),i=t.length-1;0<=i&&1>=t[i].Vd;)i--;return 1<t.length-i}function iH(t,i){for(var s=t.network,l=new Bf(t),u=0;u<t.ah.length;u++){var c=t.ah[u];if(1<c.Vd){l.dh(c);var d=new eI;d.Ss=c.Vd,d.Ts=c.width,d.Rs=c.height,d.Uv=c.focus.x,d.Vv=c.focus.y,c.We===null&&(c.We=new ct),c.We.add(d),c.uv=c.We.count-1}else break}for(c=s.edges.iterator;c.next();){var m=c.value;u=m.fromVertex,d=m.toVertex,u.network===l&&d.network===l?l.Co(m):u.network===l?(m=u.Hj,m===null&&(m=new ct,u.Hj=m),m.add(d),u.Vd--,u.sh+=d.sh):d.network===l&&(m=d.Hj,m===null&&(m=new ct,d.Hj=m),m.add(u),d.Vd--,d.sh+=u.sh)}for(u=l.edges.iterator;u.next();)c=u.value,c.length*=Math.max(1,Y.sqrt((c.fromVertex.sh+c.toVertex.sh)/(4*i+1)));for(i=l.vertexes.iterator;i.next();){u=i.value;var y=u.Hj;if(y!==null&&0<y.count&&(d=u.We.M(u.We.count-1).Ss-u.Vd,!(0>=d))){for(var O=m=0,w=y.count-d;w<y.count;w++){var k=y.M(w),P=null;for(c=k.edges.iterator;c.next();){var T=c.value;if(T.Cx(k)===u){P=T;break}}P!==null&&(O+=P.length,m+=k.width*k.height)}c=u.centerX,y=u.centerY,w=u.width,k=u.height,P=u.focus,T=w*k,1>T&&(T=1),m=Y.sqrt((m+T+O*O*4/(d*d))/T),d=(m-1)*w/2,m=(m-1)*k/2,u.bounds=new J(c-P.x-d,y-P.y-m,w+2*d,k+2*m),u.focus=new F(P.x+d,P.y+m)}}return t.network=l,s}function nH(t,i){for(var s=t.network.vertexes.iterator;s.next();){var l=s.value;if(l.network=i,l.We!==null){var u=l.We.M(l.uv);l.Vd=u.Ss;var c=u.Uv,d=u.Vv;l.bounds=new J(l.centerX-c,l.centerY-d,u.Ts,u.Rs),l.focus=new F(c,d),l.uv--}}for(s=t.network.edges.iterator;s.next();)s.value.network=i;t.network=i}function rH(t,i){var s=i.Hj;if(s!==null&&s.count!==0){var l=i.centerX,u=i.centerY,c=i.width,d=i.height;i.We!==null&&0<i.We.count&&(d=i.We.M(0),c=d.Ts,d=d.Rs),c=Y.sqrt(c*c+d*d)/2;for(var m=!1,y=d=0,O=0,w=i.vertexes.iterator;w.next();){var k=w.value;1>=k.Vd?y++:(m=!0,O++,d+=Math.atan2(i.centerY-k.centerY,i.centerX-k.centerX))}if(y!==0){for(0<O&&(d/=O),O=i=0,i=m?2*Math.PI/(y+1):2*Math.PI/y,y%2===0&&(O=i/2),1<s.count&&s.sort(function(T,C){return T===null||C===null||T===C?0:C.width*C.height-T.width*T.height}),m=y%2===0?0:1,s=s.iterator;s.next();)if(y=s.value,!(1<y.Vd||t.isFixed(y))){for(w=null,k=y.edges.iterator;k.next();){w=k.value;break}k=y.width;var P=y.height;k=Y.sqrt(k*k+P*P)/2,w=c+w.length+k,k=d+(i*(m/2>>1)+O)*(m%2===0?1:-1),y.centerX=l+w*Math.cos(k),y.centerY=u+w*Math.sin(k),m++}}}}function KD(t,i,s,l,u,c,d){var m=9e19,y=-1,O=0;t:for(;O<i;O++){var w=t[O],k=w.x-s,P=w.y-l;if(k=k*k+P*P,k<m){for(P=O-1;0<=P;P--)if(t[P].y>w.y&&t[P].x-w.x<u+d.width)continue t;for(P=O+1;P<i;P++)if(t[P].x>w.x&&t[P].y-w.y<c+d.height)continue t;y=O,m=k}}return y}Ri.prototype.Du=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Ri.prototype.addComments=function(t){var i=t.node;if(i!==null)for(i=i.Ou();i.next();){var s=i.value;if(s.category==="Comment"&&s.isVisible()){var l=this.network.li(s);l===null&&(l=this.network.Bl(s)),l.charge=this.defaultCommentElectricalCharge,s=null;for(var u=l.destinationEdges;u.next();){var c=u.value;if(c.toVertex===t){s=c;break}}if(s===null){for(u=l.sourceEdges;u.next();)if(c=u.value,c.fromVertex===t){s=c;break}}s===null&&(s=this.network.Yj(t,l,null)),s.length=this.defaultCommentSpringLength}}};function JD(t,i){var s=t.bounds,l=s.x;t=s.y;var u=s.width;s=s.height;var c=i.bounds,d=c.x;i=c.y;var m=c.width;return c=c.height,l+u<d?t>i+c?(s=l+u-d,t=t-i-c,Y.sqrt(s*s+t*t)):t+s<i?(l=l+u-d,t=t+s-i,Y.sqrt(l*l+t*t)):d-(l+u):l>d+m?t>i+c?(s=l-d-m,t=t-i-c,Y.sqrt(s*s+t*t)):t+s<i?(l=l-d-m,t=t+s-i,Y.sqrt(l*l+t*t)):l-(d+m):t>i+c?t-(i+c):t+s<i?i-(t+s):.1}function tI(t,i){for(t.ah=null,i=t.Bn+i;t.Bn<i&&(t.Bn++,sH(t)););t.ah=null}function sH(t){t.ah===null&&(t.ah=t.network.vertexes.Fa());var i=t.ah;if(0>=i.length)return!1;var s=i[0];s.forceX=0,s.forceY=0;for(var l=s.centerX,u=l,c=s=s.centerY,d=1;d<i.length;d++){var m=i[d];m.forceX=0,m.forceY=0;var y=m.centerX;m=m.centerY,l=Math.min(l,y),u=Math.max(u,y),s=Math.min(s,m),c=Math.max(c,m)}(u=u-l>c-s)?i.sort(function(A,I){return A===null||I===null||A===I?0:A.centerX-I.centerX}):i.sort(function(A,I){return A===null||I===null||A===I?0:A.centerY-I.centerY}),s=t.Zf;var O=l=m=0;for(c=0;c<i.length;c++){d=i[c],l=d.bounds,m=d.focus,y=l.x+m.x;var w=l.y+m.y;l=d.charge*t.electricalFieldX(y,w),O=d.charge*t.electricalFieldY(y,w),l+=d.mass*t.gravitationalFieldX(y,w),O+=d.mass*t.gravitationalFieldY(y,w),d.forceX+=l,d.forceY+=O;for(var k=c+1;k<i.length;k++){var P=i[k];if(P!==d){l=P.bounds,m=P.focus,O=l.x+m.x;var T=l.y+m.y;if(y-O>s||O-y>s){if(u)break}else if(w-T>s||T-w>s){if(!u)break}else{var C=JD(d,P);1>C?(l=t.randomNumberGenerator,l===null&&(t.randomNumberGenerator=l=new hw),C=l.random(),m=l.random(),y>O?(l=Math.abs(P.bounds.right-d.bounds.x),l=(1+l)*C):y<O?(l=Math.abs(P.bounds.x-d.bounds.right),l=-(1+l)*C):(l=Math.max(P.width,d.width),l=(1+l)*C-l/2),w>T?(O=Math.abs(P.bounds.bottom-d.bounds.y),O=(1+O)*m):y<O?(O=Math.abs(P.bounds.y-d.bounds.bottom),O=-(1+O)*m):(O=Math.max(P.height,d.height),O=(1+O)*m-O/2)):(m=-(d.charge*P.charge)/(C*C),l=(O-y)/C*m,O=(T-w)/C*m),d.forceX+=l,d.forceY+=O,P.forceX-=l,P.forceY-=O}}}}for(u=t.network.edges.iterator;u.next();)m=u.value,s=m.fromVertex,c=m.toVertex,d=s.bounds,y=s.focus,l=d.x+y.x,d=d.y+y.y,w=c.bounds,k=c.focus,y=w.x+k.x,w=w.y+k.y,k=JD(s,c),1>k?(k=t.randomNumberGenerator,k===null&&(t.randomNumberGenerator=k=new hw),m=k.random(),k=k.random(),l=(l>y?1:-1)*(1+(c.width>s.width?c.width:s.width))*m,O=(d>w?1:-1)*(1+(c.height>s.height?c.height:s.height))*k):(m=m.stiffness*(k-m.length),l=(y-l)/k*m,O=(w-d)/k*m),s.forceX+=l,s.forceY+=O,c.forceX-=l,c.forceY-=O;for(u=l=0;u<i.length;u++)s=i[u],t.isFixed(s)?t.moveFixedVertex(s):l=Math.max(l,t.moveVertex(s)||0);return l>t.epsilonDistance*t.epsilonDistance}Ri.prototype.moveVertex=function(t){var i=t.forceX,s=t.forceY,l=this.moveLimit;return i<-l?i=-l:i>l&&(i=l),s<-l?s=-l:s>l&&(s=l),t.centerX+=i,t.centerY+=s,i*i+s*s},Ri.prototype.moveFixedVertex=function(){},Ri.prototype.commitLayout=function(){this.Av(),this.commitNodes(),this.isRouting&&this.commitLinks()},Ri.prototype.Av=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var i=t.value.link;i!==null&&(i.fromSpot=Yi,i.toSpot=Yi)}},Ri.prototype.commitNodes=function(){var t=0,i=0;if(this.arrangesToOrigin){var s=J.alloc();this.computeBounds(this.network,s),i=this.arrangementOrigin,t=i.x-s.x,i=i.y-s.y,J.free(s)}s=J.alloc();for(var l=this.network.vertexes.iterator;l.next();){var u=l.value;(t!==0||i!==0)&&(s.assign(u.bounds),s.x+=t,s.y+=i,u.bounds=s),u.commit()}J.free(s)},Ri.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Ri.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Gk:t},Ri.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Fk:t},Ri.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Dk:t},Ri.prototype.electricalFieldX=function(){return 0},Ri.prototype.electricalFieldY=function(){return 0},Ri.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Ek:t},Ri.prototype.gravitationalFieldX=function(){return 0},Ri.prototype.gravitationalFieldY=function(){return 0},Ri.prototype.isFixed=function(t){return t.isFixed},S.Object.defineProperties(Ri.prototype,{currentIteration:{get:function(){return this.Bn}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.Cm},set:function(t){this.Cm!==t&&(this.Cm=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},maxIterations:{get:function(){return this.cl},set:function(t){this.cl!==t&&0<=t&&(this.cl=t,this.C())}},epsilonDistance:{get:function(){return this.an},set:function(t){this.an!==t&&0<t&&(this.an=t,this.C())}},infinityDistance:{get:function(){return this.Zf},set:function(t){this.Zf!==t&&1<t&&(this.Zf=t,this.C())}},moveLimit:{get:function(){return this.Jn},set:function(t){this.Jn!==t&&1<t&&(this.Jn=t,this.C())}},randomNumberGenerator:{get:function(){return this.ho},set:function(t){this.ho!==t&&(t!==null&&typeof t.random!="function"&&D('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.ho=t)}},defaultSpringStiffness:{get:function(){return this.Gk},set:function(t){this.Gk!==t&&(this.Gk=t,this.C())}},defaultSpringLength:{get:function(){return this.Fk},set:function(t){this.Fk!==t&&(this.Fk=t,this.C())}},defaultElectricalCharge:{get:function(){return this.Dk},set:function(t){this.Dk!==t&&(this.Dk=t,this.C())}},defaultGravitationalMass:{get:function(){return this.Ek},set:function(t){this.Ek!==t&&(this.Ek=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.Wm},set:function(t){this.Wm!==t&&(this.Wm=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Vm},set:function(t){this.Vm!==t&&(this.Vm=t,this.C())}}}),Ri.className="ForceDirectedLayout";function eI(){this.Vv=this.Uv=this.Rs=this.Ts=this.Ss=0}eI.className="ForceDirectedSubnet";function Bf(t){de.call(this,t)}v(Bf,de),Bf.prototype.createVertex=function(){return new g0(this)},Bf.prototype.createEdge=function(){return new y0(this)},Bf.className="ForceDirectedNetwork";function g0(t){ri.call(this,t),this.ia=!1,this.Ha=this.u=NaN,this.sh=this.Vd=this.V=this.F=0,this.We=this.Hj=null,this.uv=0}v(g0,ri),S.Object.defineProperties(g0.prototype,{isFixed:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},charge:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},mass:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},forceX:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},forceY:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}}}),g0.className="ForceDirectedVertex";function y0(t){er.call(this,t),this.j=this.o=NaN}v(y0,er),S.Object.defineProperties(y0.prototype,{stiffness:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},length:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}}}),y0.className="ForceDirectedEdge";function hw(){var t=0;this.seed=t,this.ey=48271,this.hy=2147483647,this.Q=44488.07041494893,this.iy=3399,this.gy=1/2147483647,this.random()}hw.prototype.random=function(){var t=this.seed%this.Q*this.ey-this.seed/this.Q*this.iy;return 0<t?this.seed=t:this.seed=t+this.hy,this.seed*this.gy},hw.className="RandomNumberGenerator";function se(t){ye.call(this),this.mc=this.ie=25,this.K=0,this.Ck=v0,this.Yk=x0,this.Pk=w0,this.cj=4,this.qk=S0,this.bg=15,this.kl=10,this.sf=!0,this.Dn=4,this.Ra=this.Iq=this.Ia=-1,this.Md=this.In=0,this.Ta=this.Kd=this.Ld=this.he=this.vb=null,this.Ln=0,this.Kn=this.lj=null,this.le=0,this.el=null,this.Rf=new F,this.He=[],this.He.length=100,this.zw=this.ve=0,t&&Object.assign(this,t)}v(se,ye),se.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.ie=this.ie,t.mc=this.mc,t.K=this.K,t.Ck=this.Ck,t.Yk=this.Yk,t.Pk=this.Pk,t.cj=this.cj,t.qk=this.qk,t.bg=this.bg,t.kl=this.kl,t.sf=this.sf,t.Dn=this.Dn,t.ve=this.ve},se.prototype.qb=function(t){t.classType===se?t.name.indexOf("Aggressive")===0?this.aggressiveOption=t:t.name.indexOf("Cycle")===0?this.cycleRemoveOption=t:t.name.indexOf("Init")===0?this.initializeOption=t:t.name.indexOf("Layer")===0?this.layeringOption=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},se.prototype.createNetwork=function(){return new rm(this)},se.prototype.doLayout=function(t){for(this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Iq=-1,this.Md=this.In=0,this.el=this.Kn=this.lj=null,t=0;t<this.He.length;t++)this.He[t]=null;if(0<this.network.vertexes.count){for(this.network.Lo(),this.cycleRemoveOption!==nm&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.Ia=-1,this.assignLayers(),t.reset();t.next();)this.Ia=Math.max(this.Ia,t.value.layer);this.cycleRemoveOption===nm&&this.removeCycles(),t=this.network;for(var i=[],s=t.edges.iterator;s.next();){var l=s.value;l.valid=!1,i.push(l)}for(s=0;s<i.length;s++){l=i[s];var u=l.fromVertex,c=l.toVertex;if(!(l.valid||(u.node===null&&u.data===null||c.node===null&&c.data===null)&&u.layer===c.layer)){var d=0,m=0,y=0,O=0;if(l.link!==null){if(m=l.link,m===null)continue;var w=u.node;if(d=c.node,w===null||d===null)continue;var k=m.fromNode;y=m.toNode;for(var P=m.fromPort;P!==null&&!P.Ed();)P=P.panel;for(m=m.toPort;m!==null&&!m.Ed();)m=m.panel;if(l.rev){O=k;var T=P;k=y,P=m,y=O,m=T}var C=u.focus;O=c.focus;var A=l.rev?c.bounds:u.bounds;T=F.alloc(),w!==k?A.w()&&k.isVisible()?k.actualBounds.w()?(Ra(k,P,oe,T),T.x+=k.actualBounds.x-A.x,T.y+=k.actualBounds.y-A.y):(Ra(k,P,oe,T),T.w()||T.assign(C)):T.assign(C):A.w()?(Ra(k,P,oe,T),T.w()||T.assign(C)):T.assign(C),k=l.rev?u.bounds:c.bounds,w=F.alloc(),d!==y?k.w()&&y.isVisible()?y.actualBounds.w()?(Ra(y,m,oe,w),w.x+=y.actualBounds.x-k.x,w.y+=y.actualBounds.y-k.y):(Ra(y,m,oe,w),w.w()||w.assign(O)):w.assign(O):k.w()?(Ra(y,m,oe,w),w.w()||w.assign(O)):w.assign(O),this.K===90||this.K===270?(d=Math.round((T.x-C.x)/this.mc),y=T.x,m=Math.round((w.x-O.x)/this.mc),O=w.x):(d=Math.round((T.y-C.y)/this.mc),y=T.y,m=Math.round((w.y-O.y)/this.mc),O=w.y),F.free(T),F.free(w),l.portFromColOffset=d,l.portFromPos=y,l.portToColOffset=m,l.portToPos=O}else l.portFromColOffset=0,l.portFromPos=0,l.portToColOffset=0,l.portToPos=0;if(T=u.layer,w=c.layer,k=0,A=l.link,A!==null){var I=A.fromPort,E=A.toPort;if(I!==null&&E!==null){var z=A.fromNode;if(P=A.toNode,z!==null&&P!==null){var B=pw(this,!0),_=pw(this,!1),Z=this.setsPortSpots?B:A.computeSpot(!0,I);C=this.setsPortSpots?_:A.computeSpot(!1,E);var H=A.isOrthogonal;Z.$c()&&Z.Hf(_)&&C.$c()&&C.Hf(B)?k=0:(B=A.getLinkPoint(z,I,Z,!0,H,P,E,F.alloc()),_=A.getLinkDirection(z,I,B,Z,!0,H,P,E),F.free(B),Z.ys()||_!==hI(this,l,!0)?this.setsPortSpots&&z!==null&&z.ports.count===1&&l.rev&&(k+=1):k+=1,Z=A.getLinkPoint(P,E,C,!1,H,z,I,F.alloc()),A=A.getLinkDirection(P,E,Z,C,!1,H,z,I),F.free(Z),C.ys()||A!==hI(this,l,!1)?this.setsPortSpots&&P!==null&&P.ports.count===1&&l.rev&&(k+=2):k+=2)}}}if(P=k,k=P===1||P===3,P=P===2||P===3,A=null,I=void 0,P&&(this._experimental&&(C=u,A=[],A.push(c),A=cI(this,C,A)?A.reverse():[],I=1),C=t.createVertex(),C.node=null,C.Eu=1,C.layer=T,C.near=u,t.dh(C),u=t.Yj(u,C,l.link),u.valid=!1,u.rev=l.rev,u.portFromColOffset=d,u.portToColOffset=0,u.portFromPos=y,u.portToPos=0,u=C),E=1,k&&E--,T-w>E&&0<T){for(l.valid=!1,C=t.createVertex(),C.node=null,C.Eu=2,C.layer=T-1,A&&I<A.length&&C.layer===A[I].layer&&(C.near=A[I++]),t.dh(C),u=t.Yj(u,C,l.link),u.valid=!0,u.rev=l.rev,u.portFromColOffset=P?0:d,u.portToColOffset=0,u.portFromPos=P?0:y,u.portToPos=0,u=C,T--;T-w>E&&0<T;)C=t.createVertex(),C.node=null,C.Eu=3,C.layer=T-1,A&&I<A.length&&C.layer===A[I].layer&&(C.near=A[I++]),t.dh(C),u=t.Yj(u,C,l.link),u.valid=!0,u.rev=l.rev,u.portFromColOffset=0,u.portToColOffset=0,u.portFromPos=0,u.portToPos=0,u=C,T--;u=t.Yj(C,c,l.link),u.valid=!k,k&&(C.near=c),u.rev=l.rev,u.portFromColOffset=0,u.portToColOffset=m,u.portFromPos=0,u.portToPos=O}else l.valid=!0}}for(t=this.vb=[],i=0;i<=this.Ia;i++)t[i]=0;for(i=this.network.vertexes.iterator;i.next();)i.value.index=-1;for(this.initializeIndices(),this.Iq=-1,s=this.Md=this.In=0;s<=this.Ia;s++)t[s]>t[this.Md]&&(this.Iq=t[s]-1,this.Md=s),t[s]<t[this.In]&&(this.In=s);for(this.el=[],s=0;s<t.length;s++)this.el[s]=[];for(i.reset();i.next();)t=i.value,this.el[t.layer][t.index]=t;for(this.Ra=-1,t=0;t<=this.Ia;t++){for(i=zu(this,t),s=0,l=this.vb[t],c=0;c<l;c++)u=i[c],s+=this.nodeMinColumnSpace(u,!0),u.column=s,s+=1,s+=this.nodeMinColumnSpace(u,!1);this.Ra=Math.max(this.Ra,s-1),Bu(this,t,i)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},se.prototype.linkMinLength=function(){return 1};function kC(t){var i=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,i===null&&t===null?8:i===null||t===null?4:1}se.prototype.nodeMinLayerSpace=function(t,i){return t.node===null&&t.data===null?0:this.K===90||this.K===270?i?t.focus.y+10:t.bounds.height-t.focus.y+10:i?t.focus.x+10:t.bounds.width-t.focus.x+10},se.prototype.nodeMinColumnSpace=function(t,i){if(t.node===null&&t.data===null)return 0;var s=i?t.hv:t.gv;return s!==null?s:(s=this.K,s===90||s===270?i?t.hv=t.focus.x/this.mc+1|0:t.gv=(t.bounds.width-t.focus.x)/this.mc+1|0:i?t.hv=t.focus.y/this.mc+1|0:t.gv=(t.bounds.height-t.focus.y)/this.mc+1|0)};function An(t){t.lj===null&&(t.lj=[]);for(var i=0,s=t.network.vertexes.iterator;s.next();){var l=s.value;t.lj[i]=l.layer,i++,t.lj[i]=l.column,i++,t.lj[i]=l.index,i++}return t.lj}function Er(t,i){var s=0;for(t=t.network.vertexes.iterator;t.next();){var l=t.value;l.layer=i[s],s++,l.column=i[s],s++,l.index=i[s],s++}}function iI(t,i,s){var l=zu(t,i),u=t.vb[i];(t.Kn===null||t.Kn.length<u*u)&&(t.Kn=[]);for(var c=t.Kn,d=0;d<u;d++){var m=0,y=l[d],O=y.near;O!==null&&O!==y&&O.layer===y.layer&&(m+=Math.max(0,Math.abs(O.index-y.index)-1));var w;if(0<=s){var k=l[d].sourceEdgesArrayAccess;for(y=0;y<k.length;y++){var P=k[y];if(P.valid&&P.fromVertex.layer!==i){O=P.fromVertex.index;var T=P.portToPos;for(P=P.portFromPos,w=y+1;w<k.length;w++){var C=k[w];if(C.valid&&C.fromVertex.layer!==i){var A=C.fromVertex.index,I=C.portToPos;C=C.portFromPos,T<I&&(O>A||O===A&&P>C)&&m++,I<T&&(A>O||A===O&&C>P)&&m++}}}}}if(0>=s){for(k=l[d].destinationEdgesArrayAccess,y=0;y<k.length;y++)if(P=k[y],P.valid&&P.toVertex.layer!==i)for(O=P.toVertex.index,T=P.portToPos,P=P.portFromPos,w=y+1;w<k.length;w++)C=k[w],C.valid&&C.toVertex.layer!==i&&(A=C.toVertex.index,I=C.portToPos,C=C.portFromPos,P<C&&(O>A||O===A&&T>I)&&m++,C<P&&(A>O||A===O&&I>T)&&m++)}for(c[d*u+d]=m,m=d+1;m<u;m++){var E=0,z=0;if(0<=s){k=l[d].sourceEdgesArrayAccess;var B=l[m].sourceEdgesArrayAccess;for(y=0;y<k.length;y++)if(P=k[y],P.valid&&P.fromVertex.layer!==i)for(O=P.fromVertex.index,P=P.portFromPos,w=0;w<B.length;w++)C=B[w],C.valid&&C.fromVertex.layer!==i&&(A=C.fromVertex.index,C=C.portFromPos,(O<A||O===A&&P<C)&&z++,(A<O||A===O&&C<P)&&E++)}if(0>=s){for(k=l[d].destinationEdgesArrayAccess,B=l[m].destinationEdgesArrayAccess,y=0;y<k.length;y++)if(P=k[y],P.valid&&P.toVertex.layer!==i)for(O=P.toVertex.index,T=P.portToPos,w=0;w<B.length;w++)C=B[w],C.valid&&C.toVertex.layer!==i&&(A=C.toVertex.index,I=C.portToPos,(O<A||O===A&&T<I)&&z++,(A<O||A===O&&I<T)&&E++)}c[d*u+m]=E,c[m*u+d]=z}}return Bu(t,i,l),c}se.prototype.countCrossings=function(){for(var t=0,i=0;i<=this.Ia;i++)for(var s=iI(this,i,1),l=this.vb[i],u=0;u<l;u++)for(var c=u;c<l;c++)t+=s[u*l+c];return t};function cw(t){for(var i=0,s=0;s<=t.Ia;s++){for(var l=t,u=s,c=zu(l,u),d=l.vb[u],m=0,y=0;y<d;y++){var O=c[y].destinationEdgesArrayAccess;if(O!==null)for(var w=0;w<O.length;w++){var k=O[w];if(k.valid&&k.toVertex.layer!==u){var P=k.fromVertex.column+k.portFromColOffset,T=k.toVertex.column+k.portToColOffset;m+=(Math.abs(P-T)+1)*kC(k)}}}Bu(l,u,c),i+=m}return i}se.prototype.normalize=function(){var t=1/0;this.Ra=-1;for(var i=this.network.vertexes.iterator;i.next();){var s=i.value;t=Math.min(t,s.column-this.nodeMinColumnSpace(s,!0)),this.Ra=Math.max(this.Ra,s.column+this.nodeMinColumnSpace(s,!1))}for(i.reset();i.next();)i.value.column-=t;this.Ra-=t};function PC(t,i,s){for(var l=zu(t,i),u=t.vb[i],c=[],d=0;d<u;d++){var m=l[d],y=null;0>=s&&(y=m.sourceEdgesArrayAccess);var O=null;0<=s&&(O=m.destinationEdgesArrayAccess);var w=0,k=0,P=m.near;if(P!==null&&P.layer===m.layer&&(w+=P.column-1,k++),y!==null)for(P=0;P<y.length;P++){m=y[P];var T=m.fromVertex;m.valid&&!m.rev&&T.layer!==i&&(w+=T.column,k++)}if(O!==null)for(y=0;y<O.length;y++)m=O[y],P=m.toVertex,m.valid&&!m.rev&&P.layer!==i&&(w+=P.column,k++);c[d]=k===0?-1:w/k}return Bu(t,i,l),c}function nI(t,i,s){for(var l=zu(t,i),u=t.vb[i],c=[],d=0;d<u;d++){var m=l[d],y=null;0>=s&&(y=m.sourceEdgesArrayAccess);var O=null;0<=s&&(O=m.destinationEdgesArrayAccess);var w=0,k=[],P=m.near;if(P!==null&&P.layer===m.layer&&(k[w]=P.column-1,w++),m=void 0,y!==null)for(P=0;P<y.length;P++){m=y[P];var T=m.fromVertex;m.valid&&!m.rev&&T.layer!==i&&(k[w]=T.column+m.portFromColOffset,w++)}if(O!==null)for(y=0;y<O.length;y++)m=O[y],P=m.toVertex,m.valid&&!m.rev&&P.layer!==i&&(k[w]=P.column+m.portToColOffset,w++);w===0?c[d]=-1:(k.sort(function(C,A){return C-A}),O=w>>1,c[d]=w&1?k[O]:k[O-1]+k[O]>>1)}return Bu(t,i,l),c}function O0(t,i,s,l,u,c){if(i.component===l){i.component=s;for(var d=i.destinationEdges;d.next();){var m=d.value,y=m.toVertex,O=i.layer-y.layer;m=t.linkMinLength(m),O===m&&O0(t,y,s,l,u,c)}if(c)for(d=i.sourceEdges;d.next();)m=d.value,y=m.fromVertex,O=y.layer-i.layer,m=t.linkMinLength(m),O===m&&O0(t,y,s,l,u,c)}}function bC(t,i,s,l,u,c){if(i.component===l){i.component=s;for(var d=i.destinationEdges;d.next();)bC(t,d.value.toVertex,s,l);for(i=i.sourceEdges;i.next();)bC(t,i.value.fromVertex,s,l)}}se.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Ck){default:case mw:t=this.network;var i=0,s=t.vertexes.count-1,l=[];l.length=s+1;for(var u=t.vertexes.iterator;u.next();)u.value.valid=!0;for(;oH(t)!==null;){for(u=rI(t);u!==null;)l[s]=u,s--,u.valid=!1,u=rI(t);for(u=sI(t);u!==null;)l[i]=u,i++,u.valid=!1,u=sI(t);u=null;for(var c=0,d=this.network.vertexes.iterator;d.next();){var m=d.value;if(m.valid){for(var y=0,O=m.destinationEdges;O.next();)O.value.toVertex.valid&&y++;O=0;for(var w=m.sourceEdges;w.next();)w.value.fromVertex.valid&&O++;(u===null||c<y-O)&&(u=m,c=y-O)}}u!==null&&(l[i]=u,i++,u.valid=!1)}for(i=0;i<t.vertexes.count;i++)l[i].index=i;for(l=t.edges.iterator;l.next();)i=l.value,i.fromVertex.index>i.toVertex.index&&(t.hm(i),i.rev=!0);break;case v0:for(l=this.network.vertexes.iterator;l.next();)t=l.value,t.Ll=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Ln=0,l.reset();l.next();)i=l.value,i.sourceEdges.count===0&&TC(this,i);for(l.reset();l.next();)i=l.value,i.Ll===-1&&TC(this,i);for(t.reset();t.next();)l=t.value,l.forest||(i=l.fromVertex,s=i.finish,u=l.toVertex,c=u.finish,u.Ll<i.Ll&&s<c&&(this.network.hm(l),l.rev=!0));break;case nm:for(t=this.network,i=t.vertexes.iterator,l=1/0;i.next();)l=Math.min(l,i.value.layer);if(1/0>l){if(0>l)for(i.reset();i.next();)i.value.layer-=l;for(l=[],i.reset();i.next();)s=i.value,u=l[s.layer],u===void 0?l[s.layer]=[s]:u.push(s);for(s=i=0;s<l.length;s++)if(u=l[s],!u||u.length===0)i++;else if(0<s)for(c=0;c<u.length;c++)u[c].layer-=i;for(l=t.edges.iterator;l.next();)i=l.value,i.fromVertex.layer<i.toVertex.layer&&(t.hm(i),i.rev=!0)}}};function oH(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid)return i}return null}function rI(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid){for(var s=!0,l=i.destinationEdges;l.next();)if(l.value.toVertex.valid){s=!1;break}if(s)return i}}return null}function sI(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid){for(var s=!0,l=i.sourceEdges;l.next();)if(l.value.fromVertex.valid){s=!1;break}if(s)return i}}return null}function TC(t,i){i.Ll=t.Ln,t.Ln++;for(var s=i.destinationEdges;s.next();){var l=s.value,u=l.toVertex;u.Ll===-1&&(l.forest=!0,TC(t,u))}i.finish=t.Ln,t.Ln++}se.prototype.assignLayers=function(){switch(this.Yk){case gw:oI(this);break;case yw:for(var t,i=this.network.vertexes.iterator;i.next();)t=aI(this,i.value),this.Ia=Math.max(t,this.Ia);for(i.reset();i.next();)t=i.value,t.layer=this.Ia-t.layer;break;default:case x0:for(oI(this),i=this.network.vertexes.iterator;i.next();)i.value.valid=!1;for(i.reset();i.next();)t=i.value,t.sourceEdges.count===0&&uI(this,t);for(t=1/0,i.reset();i.next();)t=Math.min(t,i.value.layer);for(this.Ia=-1,i.reset();i.next();){var s=i.value;s.layer-=t,this.Ia=Math.max(this.Ia,s.layer)}}};function oI(t){for(var i=t.network.vertexes.iterator;i.next();){var s=lI(t,i.value);t.Ia=Math.max(s,t.Ia)}}function lI(t,i){var s=0;if(i.layer===-1){for(var l=i.destinationEdges;l.next();){var u=l.value,c=u.toVertex;u=t.linkMinLength(u),s=Math.max(s,lI(t,c)+u)}i.layer=s}else s=i.layer;return s}function aI(t,i){var s=0;if(i.layer===-1){for(var l=i.sourceEdges;l.next();){var u=l.value,c=u.fromVertex;u=t.linkMinLength(u),s=Math.max(s,aI(t,c)+u)}i.layer=s}else s=i.layer;return s}function uI(t,i){if(!i.valid){i.valid=!0;for(var s=i.destinationEdges;s.next();)uI(t,s.value.toVertex);for(s=t.network.vertexes.iterator;s.next();)s.value.component=-1;for(var l=i.sourceEdgesArrayAccess,u=l.length,c=0;c<u;c++){var d=l[c],m=d.fromVertex,y=d.toVertex;d=t.linkMinLength(d),m.layer-y.layer>d&&O0(t,m,0,-1,!0,!1)}for(O0(t,i,1,-1,!0,!0);i.component!==0;){for(c=0,l=1/0,m=0,y=null,d=t.network.vertexes.iterator;d.next();){var O=d.value;if(O.component===1){var w=0,k=!1,P=O.sourceEdgesArrayAccess;u=P.length;for(var T=0;T<u;T++){var C=P[T],A=C.fromVertex;w+=1,A.component!==1&&(c+=1,A=A.layer-O.layer,C=t.linkMinLength(C),l=Math.min(l,A-C))}for(P=O.destinationEdgesArrayAccess,u=P.length,T=0;T<u;T++)C=P[T].toVertex,--w,C.component!==1?--c:k=!0;(y===null||w<m)&&!k&&(y=O,m=w)}}if(0<c){for(s.reset();s.next();)u=s.value,u.component===1&&(u.layer+=l);i.component=0}else y.component=0}for(s=t.network.vertexes.iterator;s.next();)s.value.component=-1;for(O0(t,i,1,-1,!0,!1);i.component!==0;){for(l=0,u=1/0,c=0,m=null,y=t.network.vertexes.iterator;y.next();)if(d=y.value,d.component===1){for(O=0,w=!1,P=d.sourceEdgesArrayAccess,k=P.length,T=0;T<k;T++)C=P[T].fromVertex,O+=1,C.component!==1?l+=1:w=!0;for(P=d.destinationEdgesArrayAccess,k=P.length,T=0;T<k;T++)C=P[T],A=C.toVertex,--O,A.component!==1&&(--l,A=d.layer-A.layer,C=t.linkMinLength(C),u=Math.min(u,A-C));(m===null||O>c)&&!w&&(m=d,c=O)}if(0>l){for(s.reset();s.next();)l=s.value,l.component===1&&(l.layer-=u);i.component=0}else m.component=0}}}function hI(t,i,s){return t.K===90?s&&!i.rev||!s&&i.rev?270:90:t.K===180?s&&!i.rev||!s&&i.rev?0:180:t.K===270?s&&!i.rev||!s&&i.rev?90:270:s&&!i.rev||!s&&i.rev?180:0}function cI(t,i,s){for(var l=s[s.length-1].sourceEdges.iterator;l.next();){var u=l.value;if(!u.rev&&u.valid){if(u=u.fromVertex,s.push(u),u===i||cI(t,i,s))return!0;s.pop()}}return!1}se.prototype.initializeIndices=function(){switch(this.Pk){default:case vw:lH(this);break;case w0:var t=null,i=this.network.vertexes.iterator;if(this._experimental)for(;i.next();){var s=i.value;if(s.near&&(t===null&&(t=new jt),s.layer===s.near.layer)){var l=t.get(s.near)||[];l.push(s),t.set(s.near,l)}}for(s=this.Ia;0<=s;s--)for(i.reset();i.next();)l=i.value,l.layer===s&&l.index===-1&&fI(this,l,t);break;case Ow:if(t=null,i=this.network.vertexes.iterator,this._experimental)for(;i.next();)s=i.value,s.near&&(t===null&&(t=new jt),s.layer===s.near.layer&&(l=t.get(s.near)||[],l.push(s),t.set(s.near,l)));for(s=0;s<=this.Ia;s++)for(i.reset();i.next();)l=i.value,l.layer===s&&l.index===-1&&dI(this,l,t)}};function lH(t){var i=null,s=t.network.vertexes.iterator;if(t._experimental){for(;s.next();){var l=s.value;if(l.near&&(i===null&&(i=new jt),l.layer===l.near.layer)){var u=i.get(l.near)||[];u.push(l),i.set(l.near,u)}}s.reset()}for(l={};s.next();)u=s.value,i&&u.near||(l.layer=u.layer,u.index=t.vb[l.layer],t.vb[l.layer]++,i&&(u=i.get(u),Array.isArray(u)&&u.forEach(function(c){return function(d){d.index=t.vb[c.layer],t.vb[c.layer]++}}(l)))),l={layer:l.layer}}function fI(t,i,s){if(!s||!i.near){var l=i.layer;if(i.index=t.vb[l],t.vb[l]++,s){var u=s.get(i);Array.isArray(u)&&u.forEach(function(y){y.index=t.vb[l],t.vb[l]++})}for(i=i.destinationEdgesArrayAccess,u=!0;u;){u=!1;for(var c=0;c<i.length-1;c++){var d=i[c],m=i[c+1];d.portFromColOffset>m.portFromColOffset&&(u=!0,i[c]=m,i[c+1]=d)}}for(u=0;u<i.length;u++)c=i[u],c.valid&&(c=c.toVertex,c.index===-1&&fI(t,c,s))}}function dI(t,i,s){if(!s||!i.near){var l=i.layer;if(i.index=t.vb[l],t.vb[l]++,s){var u=s.get(i);Array.isArray(u)&&u.forEach(function(y){y.index=t.vb[l],t.vb[l]++})}i=i.sourceEdgesArrayAccess;var c=!0;for(u=0;c;)for(c=!1,u=0;u<i.length-1;u++){var d=i[u],m=i[u+1];d.portToColOffset>m.portToColOffset&&(c=!0,i[u]=m,i[u+1]=d)}for(u=0;u<i.length;u++)c=i[u],c.valid&&(c=c.fromVertex,c.index===-1&&dI(t,c,s))}}se.prototype.reduceCrossings=function(){var t=this.countCrossings(),i=An(this),s,l;for(s=0;s<this.cj;s++){for(l=0;l<=this.Ia;l++)fw(this,l,1),is(this,l,1);var u=this.countCrossings();for(u<t&&(t=u,i=An(this)),l=this.Ia;0<=l;l--)fw(this,l,-1),is(this,l,-1);u=this.countCrossings(),u<t&&(t=u,i=An(this))}for(Er(this,i),s=0;s<this.cj;s++){for(l=0;l<=this.Ia;l++)fw(this,l,0),is(this,l,0);for(u=this.countCrossings(),u<t&&(t=u,i=An(this)),l=this.Ia;0<=l;l--)fw(this,l,0),is(this,l,0);u=this.countCrossings(),u<t&&(t=u,i=An(this))}Er(this,i);var c,d,m;switch(this.qk){case xw:break;case ww:for(m=t+1;(l=this.countCrossings())<m;)for(m=l,s=this.Ia;0<=s;s--)for(d=0;d<=s;d++){for(c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,-1)||c;for(u=this.countCrossings(),u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,1)||c;for(u=this.countCrossings(),u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,1)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,-1)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,0)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,0)||c;u>=t?Er(this,i):(t=u,i=An(this))}break;default:case S0:for(s=this.Ia,d=0,m=t+1;(l=this.countCrossings())<m;){for(m=l,c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,-1)||c;for(u=this.countCrossings(),u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,1)||c;for(u=this.countCrossings(),u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,1)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,-1)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=is(this,l,0)||c;for(u>=t?Er(this,i):(t=u,i=An(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=is(this,l,0)||c;u>=t?Er(this,i):(t=u,i=An(this))}}Er(this,i)};function fw(t,i,s){var l=zu(t,i),u=t.vb[i],c=nI(t,i,s),d=PC(t,i,s);for(s=0;s<u;s++)d[s]===-1&&(d[s]=l[s].column),c[s]===-1&&(c[s]=l[s].column);for(var m=!0,y;m;)for(m=!1,s=0;s<u-1;s++)(c[s+1]<c[s]||c[s+1]===c[s]&&d[s+1]<d[s])&&(m=!0,y=c[s],c[s]=c[s+1],c[s+1]=y,y=d[s],d[s]=d[s+1],d[s+1]=y,y=l[s],l[s]=l[s+1],l[s+1]=y);for(s=c=0;s<u;s++)y=l[s],y.index=s,c+=t.nodeMinColumnSpace(y,!0),y.column=c,c+=1,c+=t.nodeMinColumnSpace(y,!1);Bu(t,i,l)}function is(t,i,s){var l=zu(t,i),u=t.vb[i];s=iI(t,i,s);var c,d=[];for(c=0;c<u;c++)d[c]=-1;var m=[];for(c=0;c<u;c++)m[c]=-1;for(var y=!1,O=!0;O;)for(O=!1,c=0;c<u-1;c++){var w=s[l[c].index*u+l[c+1].index],k=s[l[c+1].index*u+l[c].index],P=0,T=0,C=l[c].column,A=l[c+1].column,I=t.nodeMinColumnSpace(l[c],!0),E=t.nodeMinColumnSpace(l[c],!1),z=t.nodeMinColumnSpace(l[c+1],!0),B=t.nodeMinColumnSpace(l[c+1],!1);I=C-I+z,E=A-E+B;var _=l[c].sourceEdges.iterator;for(_.reset();_.next();)if(z=_.value,B=z.fromVertex,z.valid&&B.layer===i){for(z=0;z<l.length&&l[z]!==B;)z++;z<c&&(P+=2*(c-z),T+=2*(c+1-z)),z===c+1&&(P+=1),z>c+1&&(P+=4*(z-c),T+=4*(z-(c+1)))}for(_=l[c].destinationEdges.iterator,_.reset();_.next();)if(z=_.value,B=z.toVertex,z.valid&&B.layer===i){for(z=0;z<l.length&&l[z]!==B;)z++;z===c+1&&(T+=1)}for(_=l[c+1].sourceEdges.iterator,_.reset();_.next();)if(z=_.value,B=z.fromVertex,z.valid&&B.layer===i){for(z=0;z<l.length&&l[z]!==B;)z++;z<c&&(P+=2*(c+1-z),T+=2*(c-z)),z===c&&(T+=1),z>c+1&&(P+=4*(z-(c+1)),T+=4*(z-c))}for(_=l[c+1].destinationEdges.iterator,_.reset();_.next();)if(z=_.value,B=z.toVertex,z.valid&&B.layer===i){for(z=0;z<l.length&&l[z]!==B;)z++;z===c&&(P+=1)}z=B=0,_=d[l[c].index];var Z=m[l[c].index],H=d[l[c+1].index],at=m[l[c+1].index];_!==-1&&(B+=Math.abs(_-C),z+=Math.abs(_-E)),Z!==-1&&(B+=Math.abs(Z-C),z+=Math.abs(Z-E)),H!==-1&&(B+=Math.abs(H-A),z+=Math.abs(H-I)),at!==-1&&(B+=Math.abs(at-A),z+=Math.abs(at-I)),(T<P-.5||T===P&&k<w-.5||T===P&&k===w&&z<B-.5)&&(O=y=!0,l[c].column=E,l[c+1].column=I,w=l[c],l[c]=l[c+1],l[c+1]=w)}for(c=0;c<u;c++)l[c].index=c;return Bu(t,i,l),y}se.prototype.straightenAndPack=function(){if(this.ve===0){var t=(this.bg&1)!==0,i=(this.bg&mH)!==0;if(1e3<this.network.edges.count&&i&&(t=!1),t){var s=[];for(i=0;i<=this.Ia;i++)s[i]=0;for(var l,u=this.network.vertexes.iterator;u.next();){var c=u.value;i=c.layer,l=c.column,c=this.nodeMinColumnSpace(c,!1),s[i]=Math.max(s[i],l+c)}for(u.reset();u.next();)c=u.value,i=c.layer,l=c.column,c.column=(8*(this.Ra-s[i])>>1)+8*l;this.Ra*=8}if(this.bg&2)for(s=!0,l=0;s&&l<this.kl;){for(s=!1,i=this.Md+1;i<=this.Ia;i++)s=im(this,i,1)||s;for(i=this.Md-1;0<=i;i--)s=im(this,i,-1)||s;s=im(this,this.Md,0)||s,l++}if(this.bg&4){for(i=this.Md+1;i<=this.Ia;i++)CC(this,i,1);for(i=this.Md-1;0<=i;i--)CC(this,i,-1);CC(this,this.Md,0)}if(t&&(pI(this,-1),pI(this,1)),this.bg&2)for(s=!0,t=0;s&&t<this.kl;){for(s=!1,s=im(this,this.Md,0)||s,i=this.Md+1;i<=this.Ia;i++)s=im(this,i,0)||s;for(i=this.Md-1;0<=i;i--)s=im(this,i,0)||s;t++}}else cH(this)};function im(t,i,s){for(var l=!1;aH(t,i,s);)l=!0;return l}function aH(t,i,s){var l,u=zu(t,i),c=t.vb[i],d=PC(t,i,-1);if(0<s)for(l=0;l<c;l++)d[l]=-1;var m=PC(t,i,1);if(0>s)for(l=0;l<c;l++)m[l]=-1;for(var y=!1,O=!0;O;)for(O=!1,l=0;l<c;l++){var w=u[l].column,k=t.nodeMinColumnSpace(u[l],!0),P=t.nodeMinColumnSpace(u[l],!1),T=0;0>l-1||w-u[l-1].column-1>k+t.nodeMinColumnSpace(u[l-1],!1)?T=w-1:T=w,k=l+1>=c||u[l+1].column-w-1>P+t.nodeMinColumnSpace(u[l+1],!0)?w+1:w;var C=P=0,A=0;if(0>=s)for(var I=u[l].sourceEdges.iterator;I.next();){var E=I.value,z=E.fromVertex;if(E.valid&&z.layer!==i){var B=kC(E),_=E.portFromColOffset;E=E.portToColOffset,z=z.column,P+=(Math.abs(w+E-(z+_))+1)*B,C+=(Math.abs(T+E-(z+_))+1)*B,A+=(Math.abs(k+E-(z+_))+1)*B}}if(0<=s)for(I=u[l].destinationEdges.iterator;I.next();)E=I.value,z=E.toVertex,E.valid&&z.layer!==i&&(B=kC(E),_=E.portFromColOffset,E=E.portToColOffset,z=z.column,P+=(Math.abs(w+_-(z+E))+1)*B,C+=(Math.abs(T+_-(z+E))+1)*B,A+=(Math.abs(k+_-(z+E))+1)*B);E=_=B=0,I=d[u[l].index],z=m[u[l].index],I!==-1&&(B+=Math.abs(I-w),_+=Math.abs(I-T),E+=Math.abs(I-k)),z!==-1&&(B+=Math.abs(z-w),_+=Math.abs(z-T),E+=Math.abs(z-k)),C<P||C===P&&_<B?(O=y=!0,u[l].column=T):(A<P||A===P&&E<B)&&(O=y=!0,u[l].column=k)}return Bu(t,i,u),t.normalize(),y}function CC(t,i,s){var l=zu(t,i),u=t.vb[i],c=nI(t,i,s),d=[];for(s=0;s<u;s++)d[s]=c[s];for(c=!0;c;)for(c=!1,s=0;s<u;s++){var m=l[s].column,y=t.nodeMinColumnSpace(l[s],!0),O=t.nodeMinColumnSpace(l[s],!1),w=0;if(d[s]===-1)if(s===0&&s===u-1)w=m;else if(s===0){var k=l[s+1].column;k-m===O+t.nodeMinColumnSpace(l[s+1],!0)?w=m-1:w=m}else s===u-1?(k=l[s-1].column,w=m-k===y+t.nodeMinColumnSpace(l[s-1],!1)?m+1:m):(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,w=(y+O)/2|0);else s===0&&s===u-1?w=d[s]:s===0?(k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,w=Math.min(d[s],O)):s===u-1?(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,w=Math.max(d[s],y)):(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,y<d[s]&&d[s]<O?w=d[s]:y>=d[s]?w=y:O<=d[s]&&(w=O));w!==m&&(c=!0,l[s].column=w)}Bu(t,i,l),t.normalize()}function uH(t,i){for(var s=!0,l=t.network.vertexes.iterator;l.next();){var u=l.value,c=t.nodeMinColumnSpace(u,!0),d=t.nodeMinColumnSpace(u,!1);if(u.column-c<=i&&u.column+d>=i){s=!1;break}}if(t=!1,s)for(l.reset();l.next();)s=l.value,s.column>i&&(--s.column,t=!0);return t}function hH(t,i){var s=i+1,l,u=[],c=[];for(l=0;l<=t.Ia;l++)u[l]=!1,c[l]=!1;for(var d=t.network.vertexes.iterator;d.next();){l=d.value;var m=l.column-t.nodeMinColumnSpace(l,!0),y=l.column+t.nodeMinColumnSpace(l,!1);m<=i&&y>=i&&(u[l.layer]=!0),m<=s&&y>=s&&(c[l.layer]=!0)}for(m=!0,s=!1,l=0;l<=t.Ia;l++)m=m&&!(u[l]&&c[l]);if(m)for(d.reset();d.next();)t=d.value,t.column>i&&(--t.column,s=!0);return s}function pI(t,i){for(var s=0;s<=t.Ra;s++)for(;uH(t,s););for(t.normalize(),s=0;s<t.Ra;s++)for(;hH(t,s););t.normalize();var l;if(0<i)for(s=0;s<=t.Ra;s++){var u=An(t),c=cw(t);for(l=c+1;c<l;){l=c,mI(t,s,1);var d=cw(t);d>c?Er(t,u):d<c&&(c=d,u=An(t))}}if(0>i)for(s=t.Ra;0<=s;s--)for(u=An(t),c=cw(t),l=c+1;c<l;)l=c,mI(t,s,-1),d=cw(t),d>c?Er(t,u):d<c&&(c=d,u=An(t));t.normalize()}function mI(t,i,s){t.le=0;for(var l=t.network.vertexes.iterator;l.next();)l.value.component=-1;if(0<s)for(l.reset();l.next();){var u=l.value;u.column-t.nodeMinColumnSpace(u,!0)<=i&&(u.component=t.le)}if(0>s)for(l.reset();l.next();)u=l.value,u.column+t.nodeMinColumnSpace(u,!1)>=i&&(u.component=t.le);for(t.le++,l.reset();l.next();)i=l.value,i.component===-1&&(bC(t,i,t.le,-1),t.le++);var c;for(i=[],c=0;c<t.le*t.le;c++)i[c]=!1;for(u=[],c=0;c<(t.Ia+1)*(t.Ra+1);c++)u[c]=-1;for(l.reset();l.next();){c=l.value;for(var d=c.layer,m=Math.max(0,c.column-t.nodeMinColumnSpace(c,!0)),y=Math.min(t.Ra,c.column+t.nodeMinColumnSpace(c,!1));m<=y;m++)u[d*(t.Ra+1)+m]=c.component}for(c=0;c<=t.Ia;c++){if(0<s)for(d=0;d<t.Ra;d++)u[c*(t.Ra+1)+d]!==-1&&u[c*(t.Ra+1)+d+1]!==-1&&u[c*(t.Ra+1)+d]!==u[c*(t.Ra+1)+d+1]&&(i[u[c*(t.Ra+1)+d]*t.le+u[c*(t.Ra+1)+d+1]]=!0);if(0>s)for(d=t.Ra;0<d;d--)u[c*(t.Ra+1)+d]!==-1&&u[c*(t.Ra+1)+d-1]!==-1&&u[c*(t.Ra+1)+d]!==u[c*(t.Ra+1)+d-1]&&(i[u[c*(t.Ra+1)+d]*t.le+u[c*(t.Ra+1)+d-1]]=!0)}for(u=[],c=0;c<t.le;c++)u[c]=!0;for(d=[],d.push(0);d.length!==0;)if(y=d[d.length-1],d.pop(),u[y])for(u[y]=!1,c=0;c<t.le;c++)i[y*t.le+c]&&d.splice(0,0,c);if(0<s)for(l.reset();l.next();)t=l.value,u[t.component]&&--t.column;if(0>s)for(l.reset();l.next();)s=l.value,u[s.component]&&(s.column+=1)}function cH(t){for(var i=St(),s=t.el.length,l=0;l<=s;l++)i[l]=[];for(l=t.network.vertexes.iterator;l.next();){var u=l.value;i[s-u.layer][u.index]=u}s=new ut,fH(i,s);var c=null,d=null,m=null,y=null,O=(t.ve&1)!==0,w=(t.ve&2)!==0,k=(t.ve&4)!==0,P=(t.ve&8)!==0;for(O&&(t.verticalAlignment(i,s,!0),c=dw(t,i,!0,!1)),i.reverse(),k&&(t.verticalAlignment(i,s,!1),m=dw(t,i,!1,!1)),l=r(i),u=l.next();!u.done;u=l.next())u.value.reverse();P&&(t.verticalAlignment(i,s,!1),y=dw(t,i,!1,!0)),i.reverse(),w&&(t.verticalAlignment(i,s,!0),d=dw(t,i,!0,!0)),mt(i),t.u(c,d,m,y),t.network.vertexes.each(function(T){var C=St();O&&C.push(c.get(T)),w&&C.push(d.get(T)),k&&C.push(m.get(T)),P&&C.push(y.get(T)),C.sort(function(I,E){return I-E});var A=C.length;A=(C[Math.floor((A-1)/2)]+C[Math.ceil((A-1)/2)])/2,mt(C),T.zc=A})}function fH(t,i){for(var s=t.length,l=1;l<s-1;l++)for(var u=0,c=0,d=t[l],m=t[l+1],y=0;c<m.length;y++){var O=m[y];t:{if(O.node===null){var w=MC(O);if(0<w.length){w=w[0].node===null;break t}}w=!1}var k=w;if(y===m.length-1||k){for(w=d.length-1,k&&(w=MC(O)[0].index);c<=y;){if(O=m[c],!O.co){k=[];for(var P=r(O.sourceEdgesArrayAccess),T=P.next();!T.done;T=P.next())T=T.value,T.valid&&k.push(T);O.co=k}for(O=r(O.co),k=O.next();!k.done;k=O.next())k=k.value,P=k.fromVertex.index,(P<u||P>w)&&i.add(k);c++}u=w}}}se.prototype.verticalAlignment=function(t,i,s){dH(t),t=r(t);for(var l=t.next();!l.done;l=t.next()){var u=-1;l=r(l.value);for(var c=l.next();!c.done;c=l.next()){c=c.value;var d=s?MC(c):gH(c),m=d.length;if(0<m){d.sort(function(k,P){return k.wi-P.wi});var y=(m-1)/2;for(m=Math.floor(y),y=Math.ceil(y);m<=y;m++)if(c.align===c){var O=d[m],w=void 0;w=s?Sw(O,c):Sw(c,O),!i.contains(w)&&u<O.wi&&(O.align=c,c.root=O.root,c.align=O.root,u=O.wi)}}}}};function dH(t){for(var i=0;i<t.length;i++)for(var s=t[i],l=0;l<s.length;l++){var u=s[l];u.root=u,u.align=u,u.Yz=i,u.wi=l}}function dw(t,i,s,l){for(var u=t.K===90||t.K===270,c=r(i),d=c.next();!d.done;d=c.next()){var m=r(d.value);for(d=m.next();!d.done;d=m.next())d=d.value,d.sd=d,d.shift=1/0,d.zc=NaN,d.qg=0}for(d=t.K===90||t.K===270,c=r(i),m=c.next();!m.done;m=c.next()){m=r(m.value);for(var y=m.next();!y.done;y=m.next())if(y=y.value,y.root===y){for(var O=0,w=y;w.align!==y;){var k=w.align,P=d?w.width:w.height,T=d?k.width:k.height;if(s){var C=Sw(w,k),A=C.portFromPos,I=C.portToPos;C.link!==null&&(w.node&&w.node!==C.link.fromNode&&(A=d?w.focusX:w.focusY),k.node&&k.node!==C.link.toNode&&(I=d?k.focusX:k.focusY))}else C=Sw(k,w),A=C.portToPos,I=C.portFromPos,C.link!==null&&(w.node&&w.node!==C.link.toNode&&(A=d?w.focusX:w.focusY),k.node&&k.node!==C.link.fromNode&&(I=d?k.focusX:k.focusY));P=l?w.qg+(P-A)-(T-I):w.qg+A-I,k.qg=P,O=Math.min(O,P),w=w.align}w=y;do w.qg=w.qg-O,w=w.align;while(w!==y)}}for(s=r(i),d=s.next();!d.done;d=s.next())for(c=r(d.value),d=c.next();!d.done;d=c.next())d=d.value,d.root===d&&gI(t,d,i);for(s=0;s<i.length;s++)if(!(0>=i[s].length)&&(d=i[s][0],d.sd===d)){d.sd.shift===1/0&&(d.sd.shift=0),d=s,m=0;do{for(c=i[d][m];c.align!==c.root;)c=c.align,d++,0<c.wi&&(m=yI(c,i),m.sd.shift=Math.min(m.sd.shift,c.sd.shift+c.zc+c.qg-(m.zc+m.qg+(u?m.width:m.height)+t.columnSpacing)));m=c.wi+1}while(d<i.length&&m<i[d].length&&c.sd===i[d][m].sd)}for(t=new jt,i=r(i),d=i.next();!d.done;d=i.next())for(s=r(d.value),d=s.next();!d.done;d=s.next())d=d.value,d.zc=d.zc+d.sd.shift+d.qg,c=u?d.width:d.height,t.add(d,l?-d.zc-c:d.zc);return t}function gI(t,i,s){if(isNaN(i.zc)){i.zc=0;var l=i;do{if(0<l.wi){var u=yI(l,s),c=u.root;gI(t,c,s),i.sd===i&&(i.sd=c.sd);var d=t.K===90||t.K===270?u.width:u.height;i.sd===c.sd&&(i.zc=Math.max(i.zc,c.zc+u.qg+d-l.qg+t.columnSpacing))}l=l.align}while(l!==i);for(;l.align!==i;)l=l.align,l.zc=i.zc,l.sd=i.sd}}function yI(t,i){var s=t.Yz;return t=t.wi,1>t&&D("Could not determine previous vertex in layer"),i[s][t-1]}se.prototype.u=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];s=-1;for(var l=St(),u=St(),c=1/0,d=0;4>d;d++)if(i[d]){var m=pH(this,i[d],l,u,d);m<c&&(s=d,c=m)}for(c={},d=0;4>d;c={delta:c.delta},d++)i[d]&&(c.delta=d===0||d===2?l[s]-l[d]:u[s]-u[d],c.delta!==0&&i[d].each(function(y){return function(O){O.value+=y.delta}}(c)));mt(l),mt(u)};function pH(t,i,s,l,u){if(!i||i.count===0)return s[u]=0,l[u]=0,1/0;var c=1/0,d=-1/0;return i.each(function(m){var y=m.key;m=m.value,y=t.K===90||t.K===270?y.width:y.height,m<c&&(c=m),m+y>d&&(d=m+y)}),s[u]=c,l[u]=d,d-c}se.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=pw(this,!0),i=pw(this,!1),s=this.network.edges.iterator;s.next();){var l=s.value.link;l!==null&&(l.fromSpot=t,l.toSpot=i)}this.commitNodes(),this.Iu(),this.isRouting&&this.commitLinks()};function pw(t,i){return t.K===270?i?Zr:Wr:t.K===90?i?Wr:Zr:t.K===180?i?Yr:Gn:i?Gn:Yr}se.prototype.commitNodes=function(){this.he=[],this.Ld=[],this.Kd=[],this.Ta=[];for(var t=0;t<=this.Ia;t++)this.he[t]=0,this.Ld[t]=0,this.Kd[t]=0,this.Ta[t]=0;for(t=this.network.vertexes.iterator;t.next();){var i=t.value,s=i.layer;this.he[s]=Math.max(this.he[s],this.nodeMinLayerSpace(i,!0)),this.Ld[s]=Math.max(this.Ld[s],this.nodeMinLayerSpace(i,!1))}i=0,s=this.ie;for(var l=0;l<=this.Ia;l++){var u=s;0>=this.he[l]+this.Ld[l]&&(u=0),0<l&&(i+=u/2),this.K===90||this.K===0?(i+=this.Ld[l],this.Kd[l]=i,i+=this.he[l]):(i+=this.he[l],this.Kd[l]=i,i+=this.Ld[l]),l<this.Ia&&(i+=u/2),this.Ta[l]=i}for(s=i,i=this.arrangementOrigin,l=0;l<=this.Ia;l++)this.K===270?this.Kd[l]=i.y+this.Kd[l]:this.K===90?(this.Kd[l]=i.y+s-this.Kd[l],this.Ta[l]=s-this.Ta[l]):this.K===180?this.Kd[l]=i.x+this.Kd[l]:(this.Kd[l]=i.x+s-this.Kd[l],this.Ta[l]=s-this.Ta[l]);s=this.ve!==0,t.reset(),l=this.K===270||this.K===90;for(var c=1/0,d=u=1/0,m=-1/0;t.next();){var y=t.value,O=y.layer,w=y.column|0;l?(d=i.x+this.mc*w,O=this.Kd[O]):(d=this.Kd[O],O=i.y+this.mc*w),y.centerX=d,y.centerY=O,s&&isFinite(y.zc)&&(l?y.node?y.x=i.x+y.zc:y.centerX=i.x+y.zc:y.node?y.y=i.y+y.zc:y.centerY=i.y+y.zc),c=Math.min(y.x,c),u=Math.min(y.y,u),l?(d=c,m=Math.max(m,y.bounds.right)):(d=u,m=Math.max(m,y.bounds.bottom))}for(this.zw=m-d,c=i.x-c,i=i.y-u,this.Rf=new F(s&&l?0:c,s&&!l?0:i),t.reset();t.next();)s=t.value,s.x+=c,s.y+=i,s.commit()},se.prototype.Iu=function(){for(var t=0,i=this.ie,s=0;s<=this.Ia;s++)t+=this.he[s],t+=this.Ld[s];t+=this.Ia*i,i=[],s=this.ve!==0?this.zw:this.mc*this.Ra;for(var l=this.maxLayer;0<=l;l--)this.K===270?l===0?i.push(new J(0,0,s,Math.abs(this.Ta[0]))):i.push(new J(0,this.Ta[l-1],s,Math.abs(this.Ta[l-1]-this.Ta[l]))):this.K===90?l===0?i.push(new J(0,this.Ta[0],s,Math.abs(this.Ta[0]-t))):i.push(new J(0,this.Ta[l],s,Math.abs(this.Ta[l-1]-this.Ta[l]))):this.K===180?l===0?i.push(new J(0,0,Math.abs(this.Ta[0]),s)):i.push(new J(this.Ta[l-1],0,Math.abs(this.Ta[l-1]-this.Ta[l]),s)):l===0?i.push(new J(this.Ta[0],0,Math.abs(this.Ta[0]-t),s)):i.push(new J(this.Ta[l],0,Math.abs(this.Ta[l-1]-this.Ta[l]),s));this.commitLayers(i,this.Rf)},se.prototype.commitLayers=function(){},se.prototype.commitLinks=function(){for(var t=this.network.edges.iterator,i;t.next();)i=t.value.link,i!==null&&(i.uh(),i.Fj(),i.zf());for(t.reset();t.next();)i=t.value.link,i!==null&&i.vg();for(t.reset();t.next();){var s=t.value;if(i=s.link,i!==null&&i.pointsCount!==0){i.uh();var l=i,u=l.fromNode,c=l.toNode,d=l.fromPort,m=l.toPort;if(u!==null){var y=u.findVisibleNode();y!==null&&y!==u&&(u=y,d=y.port)}c!==null&&(y=c.findVisibleNode(),y!==null&&y!==c&&(c=y,m=y.port));var O=i.computeSpot(!0,d);y=i.computeSpot(!1,m);var w=s.fromVertex,k=s.toVertex;if(s.valid)i.curve===tr&&i.pointsCount===4&&(w.column===k.column&&this.alignOption===0?(s=i.getLinkPoint(u,d,O,!0,!1,c,m),m=i.getLinkPoint(c,m,y,!1,!1,u,d),s.w()||s.set(u.actualBounds.center),m.w()||m.set(c.actualBounds.center),i.Fj(),i.yf(s.x,s.y),i.yf((2*s.x+m.x)/3,(2*s.y+m.y)/3),i.yf((s.x+2*m.x)/3,(s.y+2*m.y)/3),i.yf(m.x,m.y)):(s=l=!1,d!==null&&O===Zi&&(l=!0),m!==null&&y===Zi&&(s=!0),(l||s)&&(y=null,l&&(y=i.getLinkPointFromPoint(u,d,d.ga(oe),i.i(3),!0),y.w()||y.set(u.actualBounds.center),i.L(0,y.x,y.y)),u=null,s&&(u=i.getLinkPointFromPoint(c,m,m.ga(oe),i.i(0),!1),u.w()||u.set(c.actualBounds.center),i.L(3,u.x,u.y)),y&&(c=i.i(2),i.L(1,(2*y.x+c.x)/3,(2*y.y+c.y)/3)),u&&(c=i.i(1),i.L(2,(2*u.x+c.x)/3,(2*u.y+c.y)/3))))),i.zf();else if(w.layer===k.layer)i.zf();else{var P=!1,T=!1,C=this.ie,A=i.firstPickIndex+1;if(i.isOrthogonal){T=!0;var I=i.pointsCount;4<I&&i.points.removeRange(2,I-3)}else if(i.curve===tr)P=!0,I=i.pointsCount,4<I&&i.points.removeRange(2,I-3),I===4&&(A=2);else{I=i.pointsCount;var E=O===Zi,z=y===Zi;2<I&&E&&z?i.points.removeRange(1,I-2):3<I&&E&&!z?i.points.removeRange(1,I-3):3<I&&!E&&z?i.points.removeRange(2,I-2):4<I&&!E&&!z&&i.points.removeRange(2,I-3)}if(s.rev){for(;k!==null&&w!==k;){var B=I=null;for(E=k.sourceEdges.iterator;E.next()&&(z=E.value,z.link!==s.link||(I=z.fromVertex,B=z.toVertex,I.node!==null)););if(I===null)break;if(I!==w){E=i.i(A-1).x,z=i.i(A-1).y;var _=I.centerX,Z=I.centerY;if(T)this.K===180||this.K===0?A===i.firstPickIndex+1?(i.m(A++,E,z),i.m(A++,E,Z)):(B!==null?B.centerY:z)!==Z&&(B=this.Ta[I.layer-1]+this.Rf.x,i.m(A++,B,z),i.m(A++,B,Z)):A===i.firstPickIndex+1?(i.m(A++,E,z),i.m(A++,_,z)):(B!==null?B.centerX:E)!==_&&(B=this.Ta[I.layer-1]+this.Rf.y,i.m(A++,E,B),i.m(A++,_,B));else if(A===i.firstPickIndex+1){B=Math.max(10,this.he[k.layer]);var H=Math.max(10,this.Ld[k.layer]);if(P)this.K===180?_<=k.bounds.x?(k=k.bounds.x,i.m(A++,k-B,Z),i.m(A++,k,Z),i.m(A++,k+H,Z)):(i.m(A++,_-B,Z),i.m(A++,_,Z),i.m(A++,_+H,Z)):this.K===90?Z>=k.bounds.bottom?(k=k.bounds.y+k.bounds.height,i.m(A++,_,k+H),i.m(A++,_,k),i.m(A++,_,k-B)):(i.m(A++,_,Z+H),i.m(A++,_,Z),i.m(A++,_,Z-B)):this.K===270?Z<=k.bounds.y?(k=k.bounds.y,i.m(A++,_,k-B),i.m(A++,_,k),i.m(A++,_,k+H)):(i.m(A++,_,Z-B),i.m(A++,_,Z),i.m(A++,_,Z+H)):this.K===0&&(_>=k.bounds.right?(k=k.bounds.x+k.bounds.width,i.m(A++,k+H,Z),i.m(A++,k,Z),i.m(A++,k-B,Z)):(i.m(A++,_+H,Z),i.m(A++,_,Z),i.m(A++,_-B,Z)));else{i.m(A++,E,z);var at=0;this.K===180||this.K===0?((this.K===180?_>=k.bounds.right:_<=k.bounds.x)&&(at=(this.K===0?-B:H)/2),i.m(A++,E+at,Z)):((this.K===270?Z>=k.bounds.bottom:Z<=k.bounds.y)&&(at=(this.K===90?-B:H)/2),i.m(A++,_,z+at)),i.m(A++,_,Z)}}else B=Math.max(10,this.he[I.layer]),H=Math.max(10,this.Ld[I.layer]),P?this.K===180?(i.m(A++,_-B-C,Z),i.m(A++,Math.min(_-B+C/2,_),Z),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,Math.max(_+H-C/2,_),Z),i.m(A++,_+H+C,Z)):this.K===90?(i.m(A++,_,Z+H+C),i.m(A++,_,Math.max(Z+H-C/2,Z)),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,_,Math.min(Z-B+C/2,Z)),i.m(A++,_,Z-B-C)):this.K===270?(i.m(A++,_,Z-B-C),i.m(A++,_,Math.min(Z-B+C/2,Z)),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,_,Math.max(Z+H-C/2,Z)),i.m(A++,_,Z+H+C)):(i.m(A++,_+H+C,Z),i.m(A++,Math.max(_+H-C/2,_),Z),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,Math.min(_-B+C/2,_),Z),i.m(A++,_-B-C,Z)):i.m(A++,_,Z)}k=I}(m===null||O!==Zi||T)&&(E=i.i(A-1).x,z=i.i(A-1).y,_=i.i(A).x,Z=i.i(A).y,T?(C=this.Ld[w.layer],this.K===180||this.K===0?(T=z,T>=w.bounds.y&&T<=w.bounds.bottom&&(this.K===180?_>=w.bounds.x:_<=w.bounds.right)&&(k=w.centerX+(this.K===180?-C:C),T<w.bounds.y+w.bounds.height/2?T=w.bounds.y-this.mc/2:T=w.bounds.bottom+this.mc/2,i.m(A++,k,z),i.m(A++,k,T)),i.m(A++,_,T)):(T=E,T>=w.bounds.x&&T<=w.bounds.right&&(this.K===270?Z>=w.bounds.y:Z<=w.bounds.bottom)&&(k=w.centerY+(this.K===270?-C:C),T<w.bounds.x+w.bounds.width/2?T=w.bounds.x-this.mc/2:T=w.bounds.right+this.mc/2,i.m(A++,E,k),i.m(A++,T,k)),i.m(A++,T,Z)),i.m(A++,_,Z)):P?(B=Math.max(10,this.he[w.layer]),H=Math.max(10,this.Ld[w.layer]),this.K===180&&_>=w.bounds.x?(k=w.bounds.x+w.bounds.width,i.L(A-2,k,z),i.L(A-1,k+H,z)):this.K===90&&Z<=w.bounds.bottom?(k=w.bounds.y,i.L(A-2,E,k),i.L(A-1,E,k-B)):this.K===270&&Z>=w.bounds.y?(k=w.bounds.y+w.bounds.height,i.L(A-2,E,k),i.L(A-1,E,k+H)):this.K===0&&_<=w.bounds.right&&(k=w.bounds.x,i.L(A-2,k,z),i.L(A-1,k-B,z))):(B=Math.max(10,this.he[w.layer]),H=Math.max(10,this.Ld[w.layer]),T=0,this.K===180||this.K===0?((this.K===180?_<=w.bounds.x:_>=w.bounds.right)&&(T=(this.K===0?H:-B)/2),i.m(A++,_+T,z)):((this.K===270?Z<=w.bounds.y:Z>=w.bounds.bottom)&&(T=(this.K===90?H:-B)/2),i.m(A++,E,Z+T)),i.m(A++,_,Z)))}else{for(;w!==null&&w!==k;){for(B=I=null,w=w.destinationEdges.iterator;w.next()&&(E=w.value,E.link!==s.link||(I=E.toVertex,B=E.fromVertex,B.node!==null&&(B=null),I.node!==null)););if(I===null)break;I!==k&&(E=i.i(A-1).x,z=i.i(A-1).y,_=I.centerX,Z=I.centerY,T?this.K===180||this.K===0?(B!==null?B.centerY:z)!==Z&&(B=this.Ta[I.layer]+this.Rf.x,A===i.firstPickIndex+1&&(B=this.K===0?Math.max(B,E):Math.min(B,E)),i.m(A++,B,z),i.m(A++,B,Z)):(B!==null?B.centerX:E)!==_&&(B=this.Ta[I.layer]+this.Rf.y,A===i.firstPickIndex+1&&(B=this.K===90?Math.max(B,z):Math.min(B,z)),i.m(A++,E,B),i.m(A++,_,B)):(B=Math.max(10,this.he[I.layer]),H=Math.max(10,this.Ld[I.layer]),P?this.K===180?(i.m(A++,_+H+C,Z),i.m(A++,Math.max(_+H-C/2,_),Z),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,Math.min(_-B+C/2,_),Z),i.m(A++,_-B-C,Z)):this.K===90?(i.m(A++,_,Z-B-C),i.m(A++,_,Math.min(Z-B+C/2,Z)),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,_,Math.max(Z+H-C/2,Z)),i.m(A++,_,Z+H+C)):this.K===270?(i.m(A++,_,Z+H+C),i.m(A++,_,Math.max(Z+H-C/2,Z)),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,_,Math.min(Z-B+C/2,Z)),i.m(A++,_,Z-B-C)):(i.m(A++,_-B-C,Z),i.m(A++,Math.min(_-B+C/2,_),Z),i.m(A++,_,Z),i.m(A++,_,Z),i.m(A++,Math.max(_+H-C/2,_),Z),i.m(A++,_+H+C,Z)):this.K===180?(i.m(A++,_+H,Z),i.m(A++,_-B,Z)):this.K===90?(i.m(A++,_,Z-B),i.m(A++,_,Z+H)):this.K===270?(i.m(A++,_,Z+H),i.m(A++,_,Z-B)):(i.m(A++,_-B,Z),i.m(A++,_+H,Z)))),w=I}T&&(E=i.i(A-1).x,z=i.i(A-1).y,_=i.i(A).x,Z=i.i(A).y,this.K===180||this.K===0?z!==Z&&(B=this.K===0?Math.min(Math.max((_+E)/2,this.Ta[k.layer]+this.Rf.x),_):Math.max(Math.min((_+E)/2,this.Ta[k.layer]+this.Rf.x),_),i.m(A++,B,z),i.m(A++,B,Z)):E!==_&&(B=this.K===90?Math.min(Math.max((Z+z)/2,this.Ta[k.layer]+this.Rf.y),Z):Math.max(Math.min((Z+z)/2,this.Ta[k.layer]+this.Rf.y),Z),i.m(A++,E,B),i.m(A++,_,B)))}l!==null&&P&&4<=i.pointsCount&&(d!==null&&(d=O===Zi?i.getLinkPointFromPoint(u,d,d.ga(oe),i.i(3),!0):i.i(0),O===Zi&&(O=i.i(2),l=i.i(3),this.direction===90||this.direction===270?(i.L(1,(d.x+O.x)/2,O.y),i.L(2,l.x,(O.y+l.y)/2)):(i.L(1,O.x,(d.y+O.y)/2),i.L(2,(O.x+l.x)/2,l.y))),d.w()||d.set(u.actualBounds.center),i.L(0,d.x,d.y)),m!==null&&(u=y===Zi?i.getLinkPointFromPoint(c,m,m.ga(oe),i.i(i.pointsCount-4),!1):i.i(i.pointsCount-1),y===Zi&&(m=i.i(i.pointsCount-3),y=i.i(i.pointsCount-4),this.direction===90||this.direction===270?(i.L(i.pointsCount-2,(u.x+m.x)/2,m.y),i.L(i.pointsCount-2,y.x,(m.y+y.y)/2)):(i.L(i.pointsCount-2,m.x,(u.y+m.y)/2),i.L(i.pointsCount-3,(m.x+y.x)/2,y.y))),u.w()||u.set(c.actualBounds.center),i.L(i.pointsCount-1,u.x,u.y))),i.zf(),s.commit()}}}this.avoidOrthogonalOverlaps()},se.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new ct,i=this.network.edges.iterator;i.next();){var s=i.value.link;s!==null&&s.isOrthogonal&&!t.contains(s)&&t.add(s)}if(0<t.count)if(this.K===90||this.K===270){for(i=0,s=[],t=t.iterator;t.next();){var l=t.value;if(l!==null&&l.isOrthogonal)for(var u=2;u<l.pointsCount-3;u++){var c=l.i(u),d=l.i(u+1);if(this.B(c.y,d.y)&&!this.B(c.x,d.x)){var m=new Xu;m.layer=Math.floor(c.y/2);var y=l.i(0),O=l.i(l.pointsCount-1);if(m.first=y.x*y.x+y.y,m.lc=O.x*O.x+O.y,m.rd=Math.min(c.x,d.x),m.Jc=Math.max(c.x,d.x),m.index=u,m.link=l,u+2<l.pointsCount){y=l.i(u-1),O=l.i(u+2);var w=0;y.y<c.y?w=O.y<c.y?3:c.x<d.x?2:1:y.y>c.y&&(w=O.y>c.y?0:d.x<c.x?2:1),m.j=w}s.push(m)}}}if(1<s.length)for(s.sort(this.Xx),t=0;t<s.length;){for(c=s[t].layer,l=t+1;l<s.length&&s[l].layer===c;)l++;if(1<l-t)for(c=t;c<l;){for(d=s[c].Jc,u=t+1;u<l&&s[u].rd<d;)d=Math.max(d,s[u].Jc),u++;if(d=u-c,1<d){for(this.Ai(s,this.Ks,c,c+d),w=1,m=s[c].lc,y=c;y<u;y++)O=s[y],O.lc!==m&&(w++,m=O.lc);this.Ai(s,this.Wx,c,c+d);var k=1;for(m=s[c].first,y=c;y<u;y++)O=s[y],O.first!==m&&(k++,m=O.first);for(y=!0,O=k,w<k?(y=!1,O=w,m=s[c].lc,this.Ai(s,this.Ks,c,c+d)):m=s[c].first,w=0,k=c;k<u;k++){var P=s[k];(y?P.first:P.lc)!==m&&(w++,m=y?P.first:P.lc);var T=P.link;c=T.i(P.index),d=T.i(P.index+1);var C=this.linkSpacing*(w-(O-1)/2);i++,T.uh(),T.L(P.index,c.x,c.y+C),T.L(P.index+1,d.x,d.y+C),T.zf()}}c=u}t=l}}else{for(i=0,s=[],t=t.iterator;t.next();)if(l=t.value,l!==null&&l.isOrthogonal)for(u=2;u<l.pointsCount-3;u++)c=l.i(u),d=l.i(u+1),this.B(c.x,d.x)&&!this.B(c.y,d.y)&&(m=new Xu,m.layer=Math.floor(c.x/2),y=l.i(0),O=l.i(l.pointsCount-1),m.first=y.x+y.y*y.y,m.lc=O.x+O.y*O.y,m.rd=Math.min(c.y,d.y),m.Jc=Math.max(c.y,d.y),m.index=u,m.link=l,u+2<l.pointsCount&&(y=l.i(u-1),O=l.i(u+2),w=0,y.x<c.x?w=O.x<c.x?3:c.y<d.y?2:1:y.x>c.x&&(w=O.x>c.x?0:d.y<c.y?2:1),m.j=w),s.push(m));if(1<s.length)for(s.sort(this.Xx),t=0;t<s.length;){for(c=s[t].layer,l=t+1;l<s.length&&s[l].layer===c;)l++;if(1<l-t)for(c=t;c<l;){for(d=s[c].Jc,u=t+1;u<l&&s[u].rd<d;)d=Math.max(d,s[u].Jc),u++;if(d=u-c,1<d){for(this.Ai(s,this.Ks,c,c+d),w=1,m=s[c].lc,y=c;y<u;y++)O=s[y],O.lc!==m&&(w++,m=O.lc);for(this.Ai(s,this.Wx,c,c+d),k=1,m=s[c].first,y=c;y<u;y++)O=s[y],O.first!==m&&(k++,m=O.first);for(y=!0,O=k,w<k?(y=!1,O=w,m=s[c].lc,this.Ai(s,this.Ks,c,c+d)):m=s[c].first,w=0,k=c;k<u;k++)P=s[k],(y?P.first:P.lc)!==m&&(w++,m=y?P.first:P.lc),T=P.link,c=T.i(P.index),d=T.i(P.index+1),C=this.linkSpacing*(w-(O-1)/2),i++,T.uh(),T.L(P.index,c.x+C,c.y),T.L(P.index+1,d.x+C,d.y),T.zf()}c=u}t=l}}}},n=se.prototype,n.Xx=function(t,i){return t instanceof Xu&&i instanceof Xu&&t!==i?t.layer<i.layer?-1:t.layer>i.layer?1:t.rd<i.rd?-1:t.rd>i.rd?1:t.Jc<i.Jc?-1:t.Jc>i.Jc?1:0:0},n.Wx=function(t,i){return t instanceof Xu&&i instanceof Xu&&t!==i?t.first<i.first?-1:t.first>i.first||t.j<i.j?1:t.j>i.j||t.rd<i.rd?-1:t.rd>i.rd?1:t.Jc<i.Jc?-1:t.Jc>i.Jc?1:0:0},n.Ks=function(t,i){return t instanceof Xu&&i instanceof Xu&&t!==i?t.lc<i.lc?-1:t.lc>i.lc||t.j<i.j?1:t.j>i.j||t.rd<i.rd?-1:t.rd>i.rd?1:t.Jc<i.Jc?-1:t.Jc>i.Jc?1:0:0},n.B=function(t,i){return t-=i,-1<t&&1>t},n.Ai=function(t,i,s,l){var u=t.length,c=l-s;if(!(1>=c))if((0>s||s>=u-1)&&D("not in range 0 <= from < length: "+s),c===2)l=t[s],u=t[s+1],0<i(l,u)&&(t[s]=u,t[s+1]=l);else if(s===0)if(l>=u)t.sort(i);else for(s=t.slice(0,l),s.sort(i),i=0;i<l;i++)t[i]=s[i];else if(l>=u)for(l=t.slice(s),l.sort(i),i=s;i<u;i++)t[i]=l[i-s];else for(u=t.slice(s,l),u.sort(i),i=s;i<l;i++)t[i]=u[i-s]};function zu(t,i){var s=t.vb[i];if(s>=t.He.length){for(var l=[],u=0;u<t.He.length;u++)l[u]=t.He[u];t.He=l}for(t.He[s]===void 0||t.He[s]===null?l=[]:(l=t.He[s],t.He[s]=null),t=t.el[i],i=0;i<t.length;i++)s=t[i],l[s.index]=s;return l}function Bu(t,i,s){t.He[t.vb[i]]=s}S.Object.defineProperties(se.prototype,{layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&0<=t&&(this.ie=t,this.C())}},columnSpacing:{get:function(){return this.mc},set:function(t){this.mc!==t&&0<t&&(this.mc=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(t===0||t===90||t===180||t===270?(this.K=t,this.C()):D("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Ck},set:function(t){this.Ck===t||t!==mw&&t!==v0&&t!==nm||(this.Ck=t,this.C())}},layeringOption:{get:function(){return this.Yk},set:function(t){this.Yk===t||t!==x0&&t!==gw&&t!==yw||(this.Yk=t,this.C())}},initializeOption:{get:function(){return this.Pk},set:function(t){this.Pk===t||t!==w0&&t!==Ow&&t!==vw||(this.Pk=t,this.C())}},iterations:{get:function(){return this.cj},set:function(t){this.cj!==t&&0<=t&&(this.cj=t,this.C())}},aggressiveOption:{get:function(){return this.qk},set:function(t){this.qk===t||t!==xw&&t!==S0&&t!==ww||(this.qk=t,this.C())}},packOption:{get:function(){return this.bg},set:function(t){this.bg!==t&&0<=t&&8>t&&(this.bg=t,this.C())}},packIterations:{get:function(){return this.kl},set:function(t){this.kl=t}},alignOption:{get:function(){return this.ve},set:function(t){this.ve!==t&&0<=t&&16>t&&(this.ve=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},linkSpacing:{get:function(){return this.Dn},set:function(t){this.Dn!==t&&0<=t&&(this.Dn=t,this.C())}},maxLayer:{get:function(){return this.Ia}},maxIndex:{get:function(){return this.Iq}},maxColumn:{get:function(){return this.Ra}},minIndexLayer:{get:function(){return this.In}},maxIndexLayer:{get:function(){return this.Md}}});var v0=new it(se,"CycleDepthFirst",0),mw=new it(se,"CycleGreedy",1),nm=new it(se,"CycleFromLayers",2),x0=new it(se,"LayerOptimalLinkLength",0),gw=new it(se,"LayerLongestPathSink",1),yw=new it(se,"LayerLongestPathSource",2),w0=new it(se,"InitDepthFirstOut",0),Ow=new it(se,"InitDepthFirstIn",1),vw=new it(se,"InitNaive",2),xw=new it(se,"AggressiveNone",0),S0=new it(se,"AggressiveLess",1),ww=new it(se,"AggressiveMore",2),mH=8;se.className="LayeredDigraphLayout",se.CycleDepthFirst=v0,se.CycleGreedy=mw,se.CycleFromLayers=nm,se.LayerOptimalLinkLength=x0,se.LayerLongestPathSink=gw,se.LayerLongestPathSource=yw,se.InitDepthFirstOut=w0,se.InitDepthFirstIn=Ow,se.InitNaive=vw,se.AggressiveNone=xw,se.AggressiveLess=S0,se.AggressiveMore=ww,se.PackNone=0,se.PackExpand=1,se.PackStraighten=2,se.PackMedian=4,se.PackAll=15,se.AlignNone=0,se.AlignUpperLeft=1,se.AlignUpperRight=2,se.AlignLowerLeft=4,se.AlignLowerRight=8,se.AlignAll=15;function Xu(){this.index=this.Jc=this.rd=this.lc=this.first=this.layer=0,this.link=null,this.j=0}Xu.className="SegInfo";function rm(t){de.call(this,t)}v(rm,de),rm.prototype.createVertex=function(){return new $r(this)},rm.prototype.createEdge=function(){return new k0(this)},rm.className="LayeredDigraphNetwork";function $r(t){ri.call(this,t),this.ao=this.co=this.bo=this.eo=null,this.Za=this.Ag=this.Ig=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.Ll=NaN,this.Eu=0,this.gv=this.hv=null}v($r,ri);function OI(t,i){return t.index-i.index}function Sw(t,i){if(!t.ao){for(var s=[],l=r(t.destinationEdgesArrayAccess),u=l.next();!u.done;u=l.next())u=u.value,u.valid&&s.push(u);t.ao=s}for(t=r(t.ao),s=t.next();!s.done;s=t.next())if(s=s.value,s.toVertex===i)return s;D("Unable to find destination edge to given vertex")}function MC(t){if(!t.eo){for(var i=[],s=r(t.sourceEdgesArrayAccess),l=s.next();!l.done;l=s.next())l=l.value,!l.valid||l.fromVertex.layer<=l.toVertex.layer||i.push(l.fromVertex);i.sort(OI),t.eo=i}return t.eo}function gH(t){if(!t.bo){for(var i=[],s=r(t.destinationEdgesArrayAccess),l=s.next();!l.done;l=s.next())l=l.value,!l.valid||l.fromVertex.layer<=l.toVertex.layer||i.push(l.toVertex);i.sort(OI),t.bo=i}return t.bo}$r.prototype.Cl=function(t){ri.prototype.Cl.call(this,t),this.co=this.eo=null},$r.prototype.Kl=function(t){ri.prototype.Kl.call(this,t),this.co=this.eo=null},$r.prototype.zl=function(t){ri.prototype.zl.call(this,t),this.ao=this.bo=null},$r.prototype.Jl=function(t){ri.prototype.Jl.call(this,t),this.ao=this.bo=null},S.Object.defineProperties($r.prototype,{layer:{get:function(){return this.Ig},set:function(t){this.Ig!==t&&(this.Ig=t)}},column:{get:function(){return this.Ag},set:function(t){this.Ag!==t&&(this.Ag=t)}},index:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},component:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},near:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),$r.prototype.deleteDestinationEdge=$r.prototype.Jl,$r.prototype.addDestinationEdge=$r.prototype.zl,$r.prototype.deleteSourceEdge=$r.prototype.Kl,$r.prototype.addSourceEdge=$r.prototype.Cl,$r.className="LayeredDigraphVertex";function k0(t){er.call(this,t),this.j=this.ia=this.Ha=!1,this.V=this.u=NaN,this.F=this.o=0}v(k0,er),S.Object.defineProperties(k0.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},valid:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},rev:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},forest:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},portFromPos:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToPos:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},portFromColOffset:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},portToColOffset:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),k0.className="LayeredDigraphEdge";function Xt(t){ye.call(this),this.Xb=new ut,this.Xn=b0,this.ud=wo,this.wo=C0,this.Bq=Qw,this.bw=[],this.td=!0,this.Tb=M0,this.$d=new At(10,10).freeze();var i=new Zf(this);this.W=new ns(i),this.Y=new ns(i),this.su=[],t&&Object.assign(this,t)}v(Xt,ye),Xt.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.Xn=this.Xn,t.wo=this.wo,t.Bq=this.Bq,t.td=this.td,t.Tb=this.Tb,t.$d.assign(this.$d),t.W.copyInheritedPropertiesFrom(this.W),t.Y.copyInheritedPropertiesFrom(this.Y)},Xt.prototype.qb=function(t){t.classType===Xt?t.name.indexOf("Alignment")===0?this.alignment=t:t.name.indexOf("Arrangement")===0?this.arrangement=t:t.name.indexOf("Compaction")===0?this.compaction=t:t.name.indexOf("Path")===0?this.path=t:t.name.indexOf("Sorting")===0?this.sorting=t:t.name.indexOf("Style")===0?this.treeStyle=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},Xt.prototype.createNetwork=function(){return new Zf(this)},Xt.prototype.makeNetwork=function(t){function i(l){if(l instanceof ft)return!l.isLinkLabel&&l.category!=="Comment";if(l instanceof st){var u=l.fromNode;return u===null||u.isLinkLabel||u.category==="Comment"?!1:(l=l.toNode,!(l===null||l.isLinkLabel||l.category==="Comment"))}return!1}var s=this.createNetwork();return t instanceof G?(s.lg(t.nodes,!0,i),s.lg(t.links,!0,i)):t instanceof Et?s.lg(t.memberParts,!1,i):s.lg(t.iterator,!1,i),s},Xt.prototype.doLayout=function(t){this.network===null&&(this.network=this.makeNetwork(t)),this.arrangement!==N0&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var i=this.diagram;if(i===null&&t instanceof G&&(i=t),this.path===b0&&i!==null?this.ud=i.isTreePathToChildren?wo:Gh:this.ud=this.path===b0?wo:this.path,0<this.network.vertexes.count){for(this.network.Lo(),t=this.network.vertexes.iterator;t.next();)i=t.value,i.initialized=!1,i.level=0,i.parent=null,i.children=[];if(0<this.Xb.count){for(t=new ut,i=this.Xb.iterator;i.next();){var s=i.value;s instanceof ft?(s=this.network.li(s),s!==null&&t.add(s)):s instanceof ns&&t.add(s)}this.Xb=t}for(this.Xb.count===0&&this.findRoots(),t=this.Xb.copy().iterator;t.next();)i=t.value,i.initialized||(i.initialized=!0,NC(this,i));for(i=this.network.vertexes,t=null;t=yH(i),0<t.count;)i=vI(this,t),i!==null&&this.Xb.add(i),i.initialized=!0,NC(this,i),i=t;for(t=this.Xb.iterator;t.next();)i=t.value,i instanceof ns&&wI(this,i);for(t=this.Xb.iterator;t.next();)i=t.value,i instanceof ns&&SI(this,i);for(t=this.Xb.iterator;t.next();)i=t.value,i instanceof ns&&kI(this,i);if(this.Du(),this.layerStyle===Q0){for(t=[],i=this.network.vertexes.iterator;i.next();){s=i.value;var l=s.parent;l===null&&(l=s),l=l.angle===0||l.angle===180;var u=t[s.level];u===void 0&&(u=0),t[s.level]=Math.max(u,l?s.width:s.height)}for(i=0;i<t.length;i++)t[i]===void 0&&(t[i]=0);for(this.bw=t,i=this.network.vertexes.iterator;i.next();)s=i.value,l=s.parent,l===null&&(l=s),l.angle===0||l.angle===180?(l.angle===180&&(s.focusX+=t[s.level]-s.width),s.width=t[s.level]):(l.angle===270&&(s.focusY+=t[s.level]-s.height),s.height=t[s.level])}else if(this.layerStyle===Aw)for(t=this.network.vertexes.iterator;t.next();){for(i=t.value,s=i.angle===0||i.angle===180,l=-1,u=0;u<i.children.length;u++){var c=i.children[u];l=Math.max(l,s?c.width:c.height)}if(0<=l)for(u=0;u<i.children.length;u++)c=i.children[u],s?(i.angle===180&&(c.focusX+=l-c.width),c.width=l):(i.angle===270&&(c.focusY+=l-c.height),c.height=l)}for(t=this.Xb.iterator;t.next();)i=t.value,i instanceof ns&&this.layoutTree(i);this.arrangeTrees(),this.updateParts()}this.network=null,this.Xb=new ut,this.isValidLayout=!0};function yH(t){var i=new ut;for(t=t.iterator;t.next();){var s=t.value;s.initialized||i.add(s)}return i}Xt.prototype.findRoots=function(){for(var t=this.network.vertexes,i=t.iterator;i.next();){var s=i.value;switch(this.ud){case wo:s.sourceEdges.count===0&&this.Xb.add(s);break;case Gh:s.destinationEdges.count===0&&this.Xb.add(s);break;default:D("Unhandled path value "+this.ud.toString())}}this.Xb.count===0&&(t=vI(this,t),t!==null&&this.Xb.add(t))};function vI(t,i){var s=999999,l=null;for(i=i.iterator;i.next();){var u=i.value;switch(t.ud){case wo:u.sourceEdges.count<s&&(s=u.sourceEdges.count,l=u);break;case Gh:u.destinationEdges.count<s&&(s=u.destinationEdges.count,l=u);break;default:D("Unhandled path value "+t.ud.toString())}}return l}function NC(t,i){if(i!==null){switch(t.ud){case wo:if(0<i.destinationEdges.count){for(var s=new ct,l=i.destinationVertexes;l.next();){var u=l.value;xI(t,i,u)&&s.add(u)}0<s.count&&(i.children=s.Fa())}break;case Gh:if(0<i.sourceEdges.count){for(s=new ct,l=i.sourceVertexes;l.next();)u=l.value,xI(t,i,u)&&s.add(u);0<s.count&&(i.children=s.Fa())}break;default:D("Unhandled path value"+t.ud.toString())}for(s=i.children,l=s.length,u=0;u<l;u++){var c=s[u];c.initialized=!0,c.level=i.level+1,c.parent=i,t.Xb.remove(c)}for(i=0;i<l;i++)NC(t,s[i])}}function xI(t,i,s){if(s.initialized){if(i===null)var l=!1;else{for(l=i.parent;l!==null&&l!==s;)l=l.parent;l=l===s}if(l||s.level>i.level)return!1;t.removeChild(s.parent,s)}return!0}Xt.prototype.removeChild=function(t,i){if(t!==null&&i!==null){for(var s=t.children,l=0,u=0;u<s.length;u++)s[u]===i&&l++;if(0<l){l=Array(s.length-l);for(var c=u=0;c<s.length;c++)s[c]!==i&&(l[u++]=s[c]);t.children=l}}};function wI(t,i){if(i!==null){t.initializeTreeVertexValues(i),i.alignment===Po&&t.sortTreeVertexChildren(i);for(var s=0,l=i.childrenCount,u=0,c=i.children,d=c.length,m=0;m<d;m++){var y=c[m];wI(t,y),s+=y.descendantCount+1,l=Math.max(l,y.maxChildrenCount),u=Math.max(u,y.maxGenerationCount)}i.descendantCount=s,i.maxChildrenCount=l,i.maxGenerationCount=0<l?u+1:0}}function OH(t,i){switch(t.wo){default:case C0:return i.parent!==null?i.parent:t.W;case Mw:return i.parent===null?t.W:i.parent.parent===null?t.Y:i.parent;case Cw:return i.parent!==null?i.parent.parent!==null?i.parent.parent:t.Y:t.W;case Tw:var s=!0;if(i.childrenCount===0)s=!1;else for(var l=i.children,u=l.length,c=0;c<u;c++)if(0<l[c].childrenCount){s=!1;break}return s&&i.parent!==null?t.Y:i.parent!==null?i.parent:t.W}}Xt.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(OH(this,t)),t.parent!==null&&t.parent.alignment===Po){for(var i=t.angle,s=t.parent.children,l=0;l<s.length&&t!==s[l];)l++;l%2===0?l!==s.length-1&&(i=i===90?180:i===180?270:i===270?180:270):i=i===90?0:i===180?90:i===270?0:90,t.angle=i}t.initialized=!0};function SI(t,i){if(i!==null){t.assignTreeVertexValues(i),i=i.children;for(var s=i.length,l=0;l<s;l++)SI(t,i[l])}}Xt.prototype.assignTreeVertexValues=function(){};function kI(t,i){if(i!==null){i.alignment!==Po&&t.sortTreeVertexChildren(i),i=i.children;for(var s=i.length,l=0;l<s;l++)kI(t,i[l])}}Xt.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case _f:break;case sm:t.children.reverse();break;case om:t.children.sort(t.comparer);break;case lm:t.children.sort(t.comparer),t.children.reverse();break;default:D("Unhandled sorting value "+t.sorting.toString())}},Xt.prototype.Du=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Xt.prototype.addComments=function(t){var i=t.angle,s=t.parent,l=0,u=!1;s!==null&&(l=s.angle,u=s.alignment,u=_u(u)),i=i===90||i===270,l=l===90||l===270,s=t.childrenCount===0;var c=0,d=0,m=0,y=t.commentSpacing;if(t.node!==null)for(var O=t.node.Ou();O.next();){var w=O.value;w.category==="Comment"&&w.canLayout()&&(t.comments===null&&(t.comments=[]),t.comments.push(w),w.Va(),w=w.measuredBounds,i&&!s||!u&&!l&&s||u&&l&&s?(c=Math.max(c,w.width),d+=w.height+Math.abs(m)):(c+=w.width+Math.abs(m),d=Math.max(d,w.height)),m=y)}t.comments!==null&&(i&&!s||!u&&!l&&s||u&&l&&s?(c+=Math.abs(t.commentMargin),d=Math.max(0,d-t.height)):(d+=Math.abs(t.commentMargin),c=Math.max(0,c-t.width)),u=J.allocAt(0,0,t.bounds.width+c,t.bounds.height+d),t.bounds=u,J.free(u))};function _u(t){return t===Xl||t===Po||t===_l||t===sl}function P0(t){return t===Xl||t===Po}function QC(t){var i=t.parent;if(i!==null){var s=i.alignment;if(_u(s)){if(P0(s)){for(i=i.children,s=0;s<i.length&&t!==i[s];)s++;return s%2===0}if(s===_l)return!0}}return!1}Xt.prototype.layoutComments=function(t){if(t.comments!==null){var i=t.node.measuredBounds,s=t.parent,l=t.angle,u=0,c=!1;s!==null&&(u=s.angle,c=s.alignment,c=_u(c)),l=l===90||l===270,s=u===90||u===270;for(var d=t.childrenCount===0,m=QC(t),y=0,O=t.comments,w=O.length,k=F.alloc(),P=0;P<w;P++){var T=O[P],C=T.measuredBounds;if(l&&!d||!c&&!s&&d||c&&s&&d){if(135<u&&!c||s&&m)if(0<=t.commentMargin)for(k.h(t.bounds.x-t.commentMargin-C.width,t.bounds.y+y),T.move(k),T=T.Sd();T.next();){var A=T.value;A.fromSpot=Yr,A.toSpot=Gn}else for(k.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Gn,A.toSpot=Yr;else if(0<=t.commentMargin)for(k.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Gn,A.toSpot=Yr;else for(k.h(t.bounds.x+t.commentMargin-C.width,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Yr,A.toSpot=Gn;y=0<=t.commentSpacing?y+(C.height+t.commentSpacing):y+(t.commentSpacing-C.height)}else{if(135<u&&!c||!s&&m)if(0<=t.commentMargin)for(k.h(t.bounds.x+y,t.bounds.y-t.commentMargin-C.height),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Zr,A.toSpot=Wr;else for(k.h(t.bounds.x+y,t.bounds.y+2*t.focus.y-t.commentMargin),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Wr,A.toSpot=Zr;else if(0<=t.commentMargin)for(k.h(t.bounds.x+y,t.bounds.y+2*t.focus.y+t.commentMargin),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Wr,A.toSpot=Zr;else for(k.h(t.bounds.x+y,t.bounds.y+t.commentMargin-C.height),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Zr,A.toSpot=Wr;y=0<=t.commentSpacing?y+(C.width+t.commentSpacing):y+(t.commentSpacing-C.width)}}if(F.free(k),i=y-t.commentSpacing-(l?i.height:i.width),this.ud===wo)for(t=t.destinationEdges;t.next();)u=t.value.link,u===null||u.isAvoiding||(u.fromEndSegmentLength=0<i?i:NaN);else for(t=t.sourceEdges;t.next();)u=t.value.link,u===null||u.isAvoiding||(u.toEndSegmentLength=0<i?i:NaN)}},Xt.prototype.layoutTree=function(t){if(t!==null){for(var i=t.children,s=i.length,l=0;l<s;l++)this.layoutTree(i[l]);switch(t.compaction){case T0:PI(this,t);break;case am:if(t.alignment===Po)PI(this,t);else if(t.childrenCount===0)l=t.parent,s=!1,i=0,l!==null&&(i=l.angle,s=l.alignment,s=_u(s)),l=QC(t),t.T.h(0,0),t.Da.h(t.width,t.height),t.parent===null||t.comments===null||(i!==180&&i!==270||s)&&!l?t.la.h(0,0):i===180&&!s||(i===90||i===270)&&l?t.la.h(t.width-2*t.focus.x,0):t.la.h(0,t.height-2*t.focus.y),t.Zo=null,t.kp=null;else{var u=As(t);i=u===90||u===270;var c=0,d=t.children,m=d.length;for(s=0;s<m;s++)l=d[s],c=Math.max(c,i?l.Da.width:l.Da.height);var y=t.alignment;l=y===So;var O=y===ko,w=_u(y),k=Math.max(0,t.breadthLimit);s=this.computeLayerSpacing(t);var P=t.nodeSpacing,T=this.computeNodeIndent(t),C=t.rowSpacing,A=0;(l||O||t.im||t.jm&&t.maxGenerationCount===1)&&(A=Math.max(0,t.rowIndent)),l=t.width;var I=t.height,E=0,z=0,B=0,_=null,Z=null,H=0,at=0,pt=0,gt=0,ot=0,et=0,Lt=0,Qt=0;if(w&&!P0(y)&&135<u&&d.reverse(),P0(y))if(1<m)for(var Gt=0;Gt<m;Gt++)Gt%2===0&&Gt!==m-1&&(Qt=Math.max(Qt,i?d[Gt].Da.width:d[Gt].Da.height));else m===1&&(Qt=i?d[0].Da.width:d[0].Da.height);if(w){switch(y){case Xl:z=135>u?bI(this,t,d,Qt,E,z):TI(this,t,d,Qt,E,z),Qt=z.x,E=z.width,z=z.height;break;case _l:for(_=0;_<m;_++)Z=d[_],k=Z.Da,B=et===0?0:C,i?(Z.T.h(c-k.width,gt+B),E=Math.max(E,k.width),z=Math.max(z,gt+B+k.height),gt+=B+k.height):(Z.T.h(pt+B,c-k.height),E=Math.max(E,pt+B+k.width),z=Math.max(z,k.height),pt+=B+k.width),et++;break;case sl:for(_=0;_<m;_++)Z=d[_],c=Z.Da,k=et===0?0:C,i?(Z.T.h(P/2+t.focus.x,gt+k),E=Math.max(E,c.width),z=Math.max(z,gt+k+c.height),gt+=k+c.height):(Z.T.h(pt+k,P/2+t.focus.y),E=Math.max(E,pt+k+c.width),z=Math.max(z,c.height),pt+=k+c.width),et++}_=Xn(this,2),Z=Xn(this,2),i?(_[0].h(0,0),_[1].h(0,z),Z[0].h(E,0)):(_[0].h(0,0),_[1].h(E,0),Z[0].h(0,z)),Z[1].h(E,z)}else for(Gt=0;Gt<m;Gt++){var ce=d[Gt],hi=ce.Da;if(i){0<k&&0<et&&pt+P+hi.width>k&&(pt<c&&qh(t,y,c-pt,0,Lt,Gt-1),ot++,et=0,Lt=Gt,B=z,pt=0,gt=135<u?-z-C:z+C),Pw(this,ce,0,gt);var pi=0;if(et===0)_=ce.Zo,Z=ce.kp,H=hi.width,at=hi.height,(_===null||Z===null||u!==As(ce))&&(_=Xn(this,2),Z=Xn(this,2),_[0].h(0,0),_[1].h(0,at),Z[0].h(H,0),Z[1].h(H,at));else{var sn=St();at=CI(this,t,ce,_,Z,H,at,sn),pi=at.x,_=sn[0],Z=sn[1],H=at.width,at=at.height,mt(sn),pt<hi.width&&0>pi&&(Xf(t,-pi,0,Lt,Gt-1),bw(_,-pi,0),bw(Z,-pi,0),pi=0)}ce.T.h(pi,gt),E=Math.max(E,H),z=Math.max(z,B+(ot===0?0:C)+hi.height),pt=H}else 0<k&&0<et&&gt+P+hi.height>k&&(gt<c&&qh(t,y,0,c-gt,Lt,Gt-1),ot++,et=0,Lt=Gt,B=E,gt=0,pt=135<u?-E-C:E+C),Pw(this,ce,pt,0),pi=0,et===0?(_=ce.Zo,Z=ce.kp,H=hi.width,at=hi.height,(_===null||Z===null||u!==As(ce))&&(_=Xn(this,2),Z=Xn(this,2),_[0].h(0,0),_[1].h(H,0),Z[0].h(0,at),Z[1].h(H,at))):(sn=St(),at=CI(this,t,ce,_,Z,H,at,sn),pi=at.x,_=sn[0],Z=sn[1],H=at.width,at=at.height,mt(sn),gt<hi.height&&0>pi&&(Xf(t,0,-pi,Lt,Gt-1),bw(_,0,-pi),bw(Z,0,-pi),pi=0)),ce.T.h(pt,pi),z=Math.max(z,at),E=Math.max(E,B+(ot===0?0:C)+hi.width),gt=at;et++}switch(0<ot&&(i?(z+=Math.max(0,s),pt<E&&qh(t,y,E-pt,0,Lt,m-1),0<A&&(O||Xf(t,A,0,0,m-1),E+=A)):(E+=Math.max(0,s),gt<z&&qh(t,y,0,z-gt,Lt,m-1),0<A&&(O||Xf(t,0,A,0,m-1),z+=A))),A=O=0,y){case Uf:i?O+=E/2-t.focus.x-T/2:A+=z/2-t.focus.y-T/2;break;case Hh:0<ot?i?O+=E/2-t.focus.x-T/2:A+=z/2-t.focus.y-T/2:i?(Qt=d[0].T.x+d[0].la.x,O+=Qt+(d[m-1].T.x+d[m-1].la.x+2*d[m-1].focus.x-Qt)/2-t.focus.x-T/2):(Qt=d[0].T.y+d[0].la.y,A+=Qt+(d[m-1].T.y+d[m-1].la.y+2*d[m-1].focus.y-Qt)/2-t.focus.y-T/2);break;case So:i?(O-=T,E+=T):(A-=T,z+=T);break;case ko:i?(O+=E-t.width+T,E+=T):(A+=z-t.height+T,z+=T);break;case Xl:i?1<m?O+=Qt+P/2-t.focus.x:O+=d[0].focus.x-t.focus.x+d[0].la.x:1<m?A+=Qt+P/2-t.focus.y:A+=d[0].focus.y-t.focus.y+d[0].la.y;break;case _l:i?O+=E+P/2-t.focus.x:A+=z+P/2-t.focus.y;break;case sl:break;default:z=this.customAlignment(t,O,A,E,z),O=z[0],A=z[1],E=z[2],z=z[3]}for(T=0;T<m;T++)Qt=d[T],i?Qt.T.h(Qt.T.x+Qt.la.x-O,Qt.T.y+(135<u?(w?-z:-Qt.Da.height)+Qt.la.y-s:I+s+Qt.la.y)):Qt.T.h(Qt.T.x+(135<u?(w?-E:-Qt.Da.width)+Qt.la.x-s:l+s+Qt.la.x),Qt.T.y+Qt.la.y-A);if(m=d=0,w?i?(E=AC(t,E,O),0>O&&(O=0),135<u&&(A+=z+s),z+=I+s,y===sl&&(d+=P/2+t.focus.x),m+=I+s):(135<u&&(O+=E+s),E+=l+s,z=jC(t,z,A),0>A&&(A=0),y===sl&&(m+=P/2+t.focus.y),d+=l+s):i?(t.comments===null?l>E&&(E=RC(y,l-E,0),d=E.x,m=E.y,E=l,O=0):E=AC(t,E,O),0>O&&(d-=O,O=0),135<u&&(A+=z+s),z=Math.max(Math.max(z,I),z+I+s),m+=I+s):(135<u&&(O+=E+s),E=Math.max(Math.max(E,l),E+l+s),t.comments===null?I>z&&(z=RC(y,0,I-z),d=z.x,m=z.y,z=I,A=0):z=jC(t,z,A),0>A&&(m-=A,A=0),d+=l+s),0<ot)u=Xn(this,4),ot=Xn(this,4),i?(u[2].h(0,I+s),u[3].h(u[2].x,z),ot[2].h(E,u[2].y),ot[3].h(ot[2].x,u[3].y)):(u[2].h(l+s,0),u[3].h(E,u[2].y),ot[2].h(u[2].x,z),ot[3].h(u[3].x,ot[2].y));else{for(u=Xn(this,_.length+2),ot=Xn(this,Z.length+2),y=0;y<_.length;y++)w=_[y],u[y+2].h(w.x+d,w.y+m);for(y=0;y<Z.length;y++)w=Z[y],ot[y+2].h(w.x+d,w.y+m)}i?(u[0].h(O,0),u[1].h(u[0].x,I),u[2].y<u[1].y&&(u[2].x>u[0].x?u[2].assign(u[1]):u[1].assign(u[2])),u[3].y<u[2].y&&(u[3].x>u[0].x?u[3].assign(u[2]):u[2].assign(u[3])),ot[0].h(O+l,0),ot[1].h(ot[0].x,I),ot[2].y<ot[1].y&&(ot[2].x<ot[0].x?ot[2].assign(ot[1]):ot[1].assign(ot[2])),ot[3].y<ot[2].y&&(ot[3].x<ot[0].x?ot[3].assign(ot[2]):ot[2].assign(ot[3])),u[2].y-=s/2,ot[2].y-=s/2):(u[0].h(0,A),u[1].h(l,u[0].y),u[2].x<u[1].x&&(u[2].y>u[0].y?u[2].assign(u[1]):u[1].assign(u[2])),u[3].x<u[2].x&&(u[3].y>u[0].y?u[3].assign(u[2]):u[2].assign(u[3])),ot[0].h(0,A+I),ot[1].h(l,ot[0].y),ot[2].x<ot[1].x&&(ot[2].y<ot[0].y?ot[2].assign(ot[1]):ot[1].assign(ot[2])),ot[3].x<ot[2].x&&(ot[3].y<ot[0].y?ot[3].assign(ot[2]):ot[2].assign(ot[3])),u[2].x-=s/2,ot[2].x-=s/2),Gs(this,_),Gs(this,Z),t.Zo=u,t.kp=ot,t.la.h(O,A),t.Da.h(E,z)}break;default:D("Unhandled compaction value "+t.compaction.toString())}}};function PI(t,i){if(i.childrenCount===0){var s=!1,l=0;i.parent!==null&&(l=i.parent.angle,s=i.parent.alignment,s=_u(s));var u=QC(i);i.T.h(0,0),i.Da.h(i.width,i.height),i.parent===null||i.comments===null||(l!==180&&l!==270||s)&&!u?i.la.h(0,0):l===180&&!s||(l===90||l===270)&&u?i.la.h(i.width-2*i.focus.x,0):i.la.h(0,i.height-2*i.focus.y)}else{l=As(i),s=l===90||l===270;var c=0;u=i.children;for(var d=u.length,m=0;m<d;m++){var y=u[m];c=Math.max(c,s?y.Da.width:y.Da.height)}var O=i.alignment,w=O===So,k=O===ko;m=_u(O);var P=Math.max(0,i.breadthLimit);y=t.computeLayerSpacing(i);var T=i.nodeSpacing,C=t.computeNodeIndent(i),A=w||k?0:C/2,I=i.rowSpacing,E=0;(w||k||i.im||i.jm&&i.maxGenerationCount===1)&&(E=Math.max(0,i.rowIndent)),w=i.width;var z=i.height,B=0,_=0,Z=0,H=0,at=0,pt=0,gt=0,ot=0,et=0,Lt=0;if(m&&!P0(O)&&135<l&&u.reverse(),P0(O))if(1<d)for(var Qt=0;Qt<d;Qt++){var Gt=u[Qt],ce=Gt.Da;Qt%2===0&&Qt!==d-1?et=Math.max(et,(s?ce.width:ce.height)+t.computeBusNodeSpacing(Gt)-T):Qt%2!==0&&(Lt=Math.max(Lt,(s?ce.width:ce.height)+t.computeBusNodeSpacing(Gt)-T))}else d===1&&(et=s?u[0].Da.width:u[0].Da.height);if(m)switch(O){case Xl:case Po:_=135>l?bI(t,i,u,et,B,_):TI(t,i,u,et,B,_),et=_.x,B=_.width,_=_.height;break;case _l:for(P=0;P<d;P++)A=u[P],Z=A.Da,Lt=gt===0?0:I,s?(A.T.h(c-Z.width,at+Lt),B=Math.max(B,Z.width),_=Math.max(_,at+Lt+Z.height),at+=Lt+Z.height):(A.T.h(H+Lt,c-Z.height),B=Math.max(B,H+Lt+Z.width),_=Math.max(_,Z.height),H+=Lt+Z.width),gt++;break;case sl:for(c=0;c<d;c++)P=u[c],A=P.Da,Z=gt===0?0:I,s?(P.T.h(T/2+i.focus.x,at+Z),B=Math.max(B,A.width),_=Math.max(_,at+Z+A.height),at+=Z+A.height):(P.T.h(H+Z,T/2+i.focus.y),B=Math.max(B,H+Z+A.width),_=Math.max(_,A.height),H+=Z+A.width),gt++}else for(Lt=0;Lt<d;Lt++)Qt=u[Lt],Gt=Qt.Da,s?(0<P&&0<gt&&H+T+Gt.width>P&&(H<c&&qh(i,O,c-H,0,ot,Lt-1),pt++,gt=0,ot=Lt,Z=_,H=0,at=135<l?-_-I:_+I),ce=gt===0?A:T,Pw(t,Qt,0,at),Qt.T.h(H+ce,at),B=Math.max(B,H+ce+Gt.width),_=Math.max(_,Z+(pt===0?0:I)+Gt.height),H+=ce+Gt.width):(0<P&&0<gt&&at+T+Gt.height>P&&(at<c&&qh(i,O,0,c-at,ot,Lt-1),pt++,gt=0,ot=Lt,Z=B,at=0,H=135<l?-B-I:B+I),ce=gt===0?A:T,Pw(t,Qt,H,0),Qt.T.h(H,at+ce),_=Math.max(_,at+ce+Gt.height),B=Math.max(B,Z+(pt===0?0:I)+Gt.width),at+=ce+Gt.height),gt++;switch(0<pt&&(s?(_+=Math.max(0,y),H<B&&qh(i,O,B-H,0,ot,d-1),0<E&&(k||Xf(i,E,0,0,d-1),B+=E)):(B+=Math.max(0,y),at<_&&qh(i,O,0,_-at,ot,d-1),0<E&&(k||Xf(i,0,E,0,d-1),_+=E))),E=k=0,O){case Uf:s?k+=B/2-i.focus.x-C/2:E+=_/2-i.focus.y-C/2;break;case Hh:0<pt?s?k+=B/2-i.focus.x-C/2:E+=_/2-i.focus.y-C/2:s?(t=u[0].T.x+u[0].la.x,k+=t+(u[d-1].T.x+u[d-1].la.x+2*u[d-1].focus.x-t)/2-i.focus.x-C/2):(t=u[0].T.y+u[0].la.y,E+=t+(u[d-1].T.y+u[d-1].la.y+2*u[d-1].focus.y-t)/2-i.focus.y-C/2);break;case So:s?(k-=C,B+=C):(E-=C,_+=C);break;case ko:s?(k+=B-i.width+C,B+=C):(E+=_-i.height+C,_+=C);break;case Xl:case Po:s?1<d?k+=et+T/2-i.focus.x:k+=u[0].focus.x-i.focus.x+u[0].la.x:1<d?E+=et+T/2-i.focus.y:E+=u[0].focus.y-i.focus.y+u[0].la.y;break;case _l:s?k+=B+T/2-i.focus.x:E+=_+T/2-i.focus.y;break;case sl:break;default:t=t.customAlignment(i,k,E,B,_),k=t[0],E=t[1],B=t[2],_=t[3]}for(t=0;t<d;t++)C=u[t],s?C.T.h(C.T.x+C.la.x-k,C.T.y+(135<l?(m?-_:-C.Da.height)+C.la.y-y:z+y+C.la.y)):C.T.h(C.T.x+(135<l?(m?-B:-C.Da.width)+C.la.x-y:w+y+C.la.x),C.T.y+C.la.y-E);s?(B=AC(i,B,k),0>k&&(k=0),135<l&&(E+=_+y),_=Math.max(Math.max(_,z),_+z+y)):(135<l&&(k+=B+y),B=Math.max(Math.max(B,w),B+w+y),_=jC(i,_,E),0>E&&(E=0)),i.la.h(k,E),i.Da.h(B,_)}}Xt.prototype.customAlignment=function(t,i,s,l,u){return[i,s,l,u]};function bI(t,i,s,l,u,c){var d=s.length;if(d===0)return new J(l,0,u,c);if(d===1)return i=s[0],u=i.Da.width,c=i.Da.height,new J(l,0,u,c);for(var m=i.nodeSpacing,y=i.rowSpacing,O=As(i)===90,w=0,k=0,P=0,T=0;T<d;T++)if(!(T%2!==0||1<d&&T===d-1)){var C=s[T],A=C.Da,I=w===0?0:y;if(O){var E=t.computeBusNodeSpacing(C)-m;C.T.h(l-(A.width+E),P+I),u=Math.max(u,A.width+E),c=Math.max(c,P+I+A.height),P+=I+A.height}else E=t.computeBusNodeSpacing(C)-m,C.T.h(k+I,l-(A.height+E)),c=Math.max(c,A.height+E),u=Math.max(u,k+I+A.width),k+=I+A.width;w++}for(w=0,C=k,T=P,O?(k=l+m,P=0):(k=0,P=l+m),A=0;A<d;A++)if(A%2!==0){I=s[A],E=I.Da;var z=w===0?0:y;if(O){var B=t.computeBusNodeSpacing(I)-m;I.T.h(k+B,P+z),u=Math.max(u,k+E.width+B),c=Math.max(c,P+z+E.height),P+=z+E.height}else B=t.computeBusNodeSpacing(I)-m,I.T.h(k+z,P+B),u=Math.max(u,k+z+E.width),c=Math.max(c,P+E.height+B),k+=z+E.width;w++}return 1<d&&d%2===1&&(s=s[d-1],d=s.Da,t=t.computeBusLastRowSpacing(s,O?Math.max(Math.abs(T),Math.abs(P)):Math.max(Math.abs(C),Math.abs(k))),O?(s.T.h(l+m/2-s.focus.x-s.la.x,c+t),O=l+m/2-s.focus.x-s.la.x,u=Math.max(u,O+d.width),0>O&&(u-=O),c=Math.max(c,Math.max(T,P)+t+d.height),0>s.T.x&&(l=kw(i,s.T.x,!1,l,m))):(s.T.h(u+t,l+m/2-s.focus.y-s.la.y),u=Math.max(u,Math.max(C,k)+t+d.width),P=l+m/2-s.focus.y-s.la.y,c=Math.max(c,P+d.height),0>P&&(c-=P),0>s.T.y&&(l=kw(i,s.T.y,!0,l,m)))),new J(l,0,u,c)}function TI(t,i,s,l,u,c){var d=s.length;if(d===0)return new J(l,0,u,c);if(d===1)return s=s[0],u=s.Da.width,c=s.Da.height,new J(l,0,u,c);for(var m=i.nodeSpacing,y=i.rowSpacing,O=As(i)===270,w=0,k=0,P=0,T=0;T<d;T++)if(!(T%2!==0||1<d&&T===d-1)){var C=s[T],A=C.Da,I=w===0?0:y;if(O){var E=t.computeBusNodeSpacing(C)-m;P-=I+A.height,C.T.h(l-(A.width+E),P),u=Math.max(u,A.width+E),c=Math.max(c,Math.abs(P))}else E=t.computeBusNodeSpacing(C)-m,k-=I+A.width,C.T.h(k,l-(A.height+E)),c=Math.max(c,A.height+E),u=Math.max(u,Math.abs(k));w++}for(w=0,C=k,T=P,O?(k=l+m,P=0):(k=0,P=l+m),A=0;A<d;A++)if(A%2!==0){I=s[A],E=I.Da;var z=w===0?0:y;if(O){var B=t.computeBusNodeSpacing(I)-m;P-=z+E.height,I.T.h(k+B,P),u=Math.max(u,k+E.width+B),c=Math.max(c,Math.abs(P))}else B=t.computeBusNodeSpacing(I)-m,k-=z+E.width,I.T.h(k,P+B),c=Math.max(c,P+E.height+B),u=Math.max(u,Math.abs(k));w++}for(1<d&&d%2===1&&(y=s[d-1],w=y.Da,t=t.computeBusLastRowSpacing(y,O?Math.max(Math.abs(T),Math.abs(P)):Math.max(Math.abs(C),Math.abs(k))),O?(y.T.h(l+m/2-y.focus.x-y.la.x,-c-w.height-t),k=l+m/2-y.focus.x-y.la.x,u=Math.max(u,k+w.width),0>k&&(u-=k),c=Math.max(c,Math.abs(Math.min(T,P))+t+w.height),0>y.T.x&&(l=kw(i,y.T.x,!1,l,m))):(y.T.h(-u-w.width-t,l+m/2-y.focus.y-y.la.y),u=Math.max(u,Math.abs(Math.min(C,k))+t+w.width),P=l+m/2-y.focus.y-y.la.y,c=Math.max(c,P+w.height),0>P&&(c-=P),0>y.T.y&&(l=kw(i,y.T.y,!0,l,m)))),i=0;i<d;i++)m=s[i],O?m.T.h(m.T.x,m.T.y+c):m.T.h(m.T.x+u,m.T.y);return new J(l,0,u,c)}Xt.prototype.computeBusNodeSpacing=function(t){return t.parent===null?0:t.parent.nodeSpacing},Xt.prototype.computeBusLastRowSpacing=function(t){return t.parent===null?0:t.parent.rowSpacing};function kw(t,i,s,l,u){t=t.children;for(var c=t.length,d=0;d<c;d++)s?t[d].T.h(t[d].T.x,t[d].T.y-i):t[d].T.h(t[d].T.x-i,t[d].T.y);return i=t[c-1],Math.max(l,s?i.la.y+i.focus.y-u/2:i.la.x+i.focus.x-u/2)}function AC(t,i,s){switch(t.alignment){case Hh:case Uf:return s+t.width>i&&(i=s+t.width),0>s&&(i-=s),i;case So:return t.width>i?t.width:i;case ko:return 2*t.focus.x>i?t.width:i+t.width-2*t.focus.x;case Xl:case Po:return Math.max(t.width,Math.max(i,s+t.width)-Math.min(0,s));case _l:return t.width-t.focus.x+t.nodeSpacing/2+i;case sl:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+i);default:return i}}function jC(t,i,s){switch(t.alignment){case Hh:case Uf:return s+t.height>i&&(i=s+t.height),0>s&&(i-=s),i;case So:return t.height>i?t.height:i;case ko:return 2*t.focus.y>i?t.height:i+t.height-2*t.focus.y;case Xl:case Po:return Math.max(t.height,Math.max(i,s+t.height)-Math.min(0,s));case _l:return t.height-t.focus.y+t.nodeSpacing/2+i;case sl:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+i);default:return i}}function RC(t,i,s){switch(t){case Uf:i/=2,s/=2;break;case Hh:i/=2,s/=2;break;case So:s=i=0;break;case ko:break;default:D("Unhandled alignment value "+t.toString())}return new F(i,s)}function qh(t,i,s,l,u,c){i=RC(i,s,l),Xf(t,i.x,i.y,u,c)}function Xf(t,i,s,l,u){if(i!==0||s!==0)for(t=t.children;l<=u;l++){var c=t[l].T;c.x+=i,c.y+=s}}function Pw(t,i,s,l){var u=i.parent;switch(t.ud){case wo:for(t=i.sourceEdges;t.next();)i=t.value,i.fromVertex===u&&i.relativePoint.h(s,l);break;case Gh:for(t=i.destinationEdges;t.next();)i=t.value,i.toVertex===u&&i.relativePoint.h(s,l);break;default:D("Unhandled path value "+t.ud.toString())}}function bw(t,i,s){for(var l=0;l<t.length;l++){var u=t[l];u.x+=i,u.y+=s}}function CI(t,i,s,l,u,c,d,m){var y=As(i),O=y===90||y===270,w=i.nodeSpacing;i=l;var k=u;l=c;var P=d,T=s.Zo,C=s.kp;d=s.Da;var A=O?Math.max(P,d.height):Math.max(l,d.width);if((T===null||y!==As(s))&&(T=Xn(t,2),C=Xn(t,2),O?(T[0].h(0,0),T[1].h(0,d.height),C[0].h(d.width,0),C[1].h(C[0].x,T[1].y)):(T[0].h(0,0),T[1].h(d.width,0),C[0].h(0,d.height),C[1].h(T[1].x,C[0].y))),O){if(P=9999999,!(k===null||2>k.length||T===null||2>T.length))for(u=s=0;s<k.length&&u<T.length;){c=k[s];var I=T[u];y=I.x,O=I.y,y+=l;var E=c;s+1<k.length&&(E=k[s+1]);var z=I;I=z.x,z=z.y,u+1<T.length&&(z=T[u+1],I=z.x,z=z.y,I+=l);var B=P;c.y===O?B=y-c.x:c.y>O&&c.y<z?B=y+(c.y-O)/(z-O)*(I-y)-c.x:O>c.y&&O<E.y&&(B=y-(c.x+(O-c.y)/(E.y-c.y)*(E.x-c.x))),B<P&&(P=B),E.y<=c.y?s++:z<=O?u++:(E.y<=z&&s++,z<=E.y&&u++)}if(P=l-P,P+=w,s=T,u=P,i===null||2>i.length||s===null||2>s.length)l=null;else{for(w=Xn(t,i.length+s.length),l=c=y=0;c<s.length&&s[c].y<i[0].y;)O=s[c++],w[l++].h(O.x+u,O.y);for(;y<i.length;)O=i[y++],w[l++].h(O.x,O.y);for(y=i[i.length-1].y;c<s.length&&s[c].y<=y;)c++;for(;c<s.length&&s[c].y>y;)O=s[c++],w[l++].h(O.x+u,O.y);for(s=Xn(t,l),y=0;y<l;y++)s[y].assign(w[y]);Gs(t,w),l=s}if(c=C,y=P,k===null||2>k.length||c===null||2>c.length)u=null;else{for(w=Xn(t,k.length+c.length),u=O=s=0;s<k.length&&k[s].y<c[0].y;)E=k[s++],w[u++].h(E.x,E.y);for(;O<c.length;)E=c[O++],w[u++].h(E.x+y,E.y);for(c=c[c.length-1].y;s<k.length&&k[s].y<=c;)s++;for(;s<k.length&&k[s].y>c;)y=k[s++],w[u++].h(y.x,y.y);for(c=Xn(t,u),s=0;s<u;s++)c[s].assign(w[s]);Gs(t,w),u=c}return c=Math.max(0,P)+d.width,d=A,Gs(t,i),Gs(t,T),Gs(t,k),Gs(t,C),m[0]=l,m[1]=u,new J(P,0,c,d)}if(l=9999999,!(k===null||2>k.length||T===null||2>T.length))for(u=s=0;s<k.length&&u<T.length;)c=k[s],I=T[u],y=I.x,O=I.y,O+=P,E=c,s+1<k.length&&(E=k[s+1]),z=I,I=z.x,z=z.y,u+1<T.length&&(z=T[u+1],I=z.x,z=z.y,z+=P),B=l,c.x===y?B=O-c.y:c.x>y&&c.x<I?B=O+(c.x-y)/(I-y)*(z-O)-c.y:y>c.x&&y<E.x&&(B=O-(c.y+(y-c.x)/(E.x-c.x)*(E.y-c.y))),B<l&&(l=B),E.x<=c.x?s++:I<=y?u++:(E.x<=I&&s++,I<=E.x&&u++);if(P-=l,P+=w,s=T,u=P,i===null||2>i.length||s===null||2>s.length)l=null;else{for(w=Xn(t,i.length+s.length),l=c=y=0;c<s.length&&s[c].x<i[0].x;)O=s[c++],w[l++].h(O.x,O.y+u);for(;y<i.length;)O=i[y++],w[l++].h(O.x,O.y);for(y=i[i.length-1].x;c<s.length&&s[c].x<=y;)c++;for(;c<s.length&&s[c].x>y;)O=s[c++],w[l++].h(O.x,O.y+u);for(s=Xn(t,l),y=0;y<l;y++)s[y].assign(w[y]);Gs(t,w),l=s}if(c=C,y=P,k===null||2>k.length||c===null||2>c.length)u=null;else{for(w=Xn(t,k.length+c.length),u=O=s=0;s<k.length&&k[s].x<c[0].x;)E=k[s++],w[u++].h(E.x,E.y);for(;O<c.length;)E=c[O++],w[u++].h(E.x,E.y+y);for(c=c[c.length-1].x;s<k.length&&k[s].x<=c;)s++;for(;s<k.length&&k[s].x>c;)y=k[s++],w[u++].h(y.x,y.y);for(c=Xn(t,u),s=0;s<u;s++)c[s].assign(w[s]);Gs(t,w),u=c}return c=A,d=Math.max(0,P)+d.height,Gs(t,i),Gs(t,T),Gs(t,k),Gs(t,C),m[0]=l,m[1]=u,new J(P,0,c,d)}function Xn(t,i){if(t=t.su[i],t!==void 0&&(t=t.pop(),t!==void 0))return t;t=[];for(var s=0;s<i;s++)t[s]=new F;return t}function Gs(t,i){var s=i.length,l=t.su[s];l===void 0&&(l=[],t.su[s]=l),l.push(i)}Xt.prototype.arrangeTrees=function(){if(this.Tb===N0)for(var t=this.Xb.iterator;t.next();){var i=t.value;if(i instanceof ns){var s=i.node;if(s!==null){var l=s.position;s=l.x,l=l.y,isFinite(s)||(s=0),isFinite(l)||(l=0),LC(this,i,s,l)}}}else{for(t=[],i=this.Xb.iterator;i.next();)s=i.value,s instanceof ns&&t.push(s);switch(this.sorting){case _f:break;case sm:t.reverse();break;case om:t.sort(this.comparer);break;case lm:t.sort(this.comparer),t.reverse();break;default:D("Unhandled sorting value "+this.sorting.toString())}for(s=this.arrangementOrigin,i=s.x,s=s.y,l=0;l<t.length;l++){var u=t[l];switch(LC(this,u,i+u.la.x,s+u.la.y),this.Tb){case M0:s+=u.Da.height+this.$d.height;break;case Nw:i+=u.Da.width+this.$d.width;break;default:D("Unhandled arrangement value "+this.Tb.toString())}}}};function LC(t,i,s,l){if(i!==null){i.x=s,i.y=l,i=i.children;for(var u=i.length,c=0;c<u;c++){var d=i[c];LC(t,d,s+d.T.x,l+d.T.y)}}}Xt.prototype.commitLayout=function(){this.Av(),this.commitNodes(),this.Iu(),this.isRouting&&this.commitLinks()},Xt.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Xt.prototype.Iu=function(){if(this.layerStyle===Q0){for(var t=this.bw,i=[],s=null,l=this.network.vertexes.iterator;l.next();){var u=l.value;s===null?s=u.bounds.copy():s.ed(u.bounds);var c=i[u.level];c===void 0?c=this.computeLayerSpacing(u):c=Math.max(c,this.computeLayerSpacing(u)),i[u.level]=c}for(l=0;l<i.length;l++)i[l]===void 0&&(i[l]=0);if(this.angle===90||this.angle===270?(s.Bc(this.nodeSpacing/2,this.layerSpacing),l=new F(-this.nodeSpacing/2,-this.layerSpacing/2)):(s.Bc(this.layerSpacing,this.nodeSpacing/2),l=new F(-this.layerSpacing/2,-this.nodeSpacing/2)),u=[],s=this.angle===90||this.angle===270?s.width:s.height,c=0,this.angle===180||this.angle===270)for(var d=0;d<t.length;d++)c+=t[d]+i[d];for(d=0;d<t.length;d++){var m=t[d]+i[d];this.angle===270?(c-=m,u.push(new J(0,c,s,m))):this.angle===90?(u.push(new J(0,c,s,m)),c+=m):this.angle===180?(c-=m,u.push(new J(c,0,m,s))):(u.push(new J(c,0,m,s)),c+=m)}this.commitLayers(u,l)}},Xt.prototype.commitLayers=function(){},Xt.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Xt.prototype.Av=function(){for(var t=this.Xb.iterator;t.next();){var i=t.value;i instanceof ns&&MI(this,i)}};function MI(t,i){if(i!==null){t.setPortSpots(i),i=i.children;for(var s=i.length,l=0;l<s;l++)MI(t,i[l])}}Xt.prototype.setPortSpots=function(t){var i=t.alignment;if(_u(i)){var s=this.ud===wo,l=As(t);switch(l){case 0:var u=Gn;break;case 90:u=Wr;break;case 180:u=Yr;break;default:u=Zr}var c=t.children,d=c.length;switch(i){case Xl:case Po:for(i=0;i<d;i++){var m=c[i];if(m=(s?m.sourceEdges:m.destinationEdges).first(),m!==null&&(m=m.link,m!==null)){var y=l===90||l===270?Yr:Zr;if(d===1||i===d-1&&d%2===1)switch(l){case 0:y=Yr;break;case 90:y=Zr;break;case 180:y=Gn;break;default:y=Wr}else i%2===0&&(y=l===90||l===270?Gn:Wr);s?(t.setsPortSpot&&(m.fromSpot=u),t.setsChildPortSpot&&(m.toSpot=y)):(t.setsPortSpot&&(m.fromSpot=y),t.setsChildPortSpot&&(m.toSpot=u))}}break;case _l:for(l=l===90||l===270?Gn:Wr,c=s?t.destinationEdges:t.sourceEdges;c.next();)d=c.value.link,d!==null&&(s?(t.setsPortSpot&&(d.fromSpot=u),t.setsChildPortSpot&&(d.toSpot=l)):(t.setsPortSpot&&(d.fromSpot=l),t.setsChildPortSpot&&(d.toSpot=u)));break;case sl:for(l=l===90||l===270?Yr:Zr,c=s?t.destinationEdges:t.sourceEdges;c.next();)d=c.value.link,d!==null&&(s?(t.setsPortSpot&&(d.fromSpot=u),t.setsChildPortSpot&&(d.toSpot=l)):(t.setsPortSpot&&(d.fromSpot=l),t.setsChildPortSpot&&(d.toSpot=u)))}}else if(s=As(t),this.ud===wo){for(u=t.destinationEdges;u.next();)if(l=u.value.link,l!==null){if(t.setsPortSpot)if(t.portSpot.$b())switch(s){case 0:l.fromSpot=Gn;break;case 90:l.fromSpot=Wr;break;case 180:l.fromSpot=Yr;break;default:l.fromSpot=Zr}else l.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.$b())switch(s){case 0:l.toSpot=Yr;break;case 90:l.toSpot=Zr;break;case 180:l.toSpot=Gn;break;default:l.toSpot=Wr}else l.toSpot=t.childPortSpot}}else for(u=t.sourceEdges;u.next();)if(l=u.value.link,l!==null){if(t.setsPortSpot)if(t.portSpot.$b())switch(s){case 0:l.toSpot=Gn;break;case 90:l.toSpot=Wr;break;case 180:l.toSpot=Yr;break;default:l.toSpot=Zr}else l.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.$b())switch(s){case 0:l.fromSpot=Yr;break;case 90:l.fromSpot=Zr;break;case 180:l.fromSpot=Gn;break;default:l.fromSpot=Wr}else l.fromSpot=t.childPortSpot}};function As(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}Xt.prototype.computeLayerSpacing=function(t){var i=As(t);i=i===90||i===270;var s=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var l=Math.min(1,t.layerSpacingParentOverlap);s-=i?t.height*l:t.width*l}return s<(i?-t.height:-t.width)&&(s=i?-t.height:-t.width),s},Xt.prototype.computeNodeIndent=function(t){var i=As(t),s=t.nodeIndent;if(0<t.nodeIndentPastParent){var l=Math.min(1,t.nodeIndentPastParent);s+=i===90||i===270?t.width*l:t.height*l}return s=Math.max(0,s)},S.Object.defineProperties(Xt.prototype,{roots:{get:function(){return this.Xb},set:function(t){this.Xb!==t&&(this.Xb=t,this.C())}},path:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&(this.Xn=t,this.C())}},treeStyle:{get:function(){return this.wo},set:function(t){this.Tb===t||t!==C0&&t!==Cw&&t!==Tw&&t!==Mw||(this.wo=t,this.C())}},layerStyle:{get:function(){return this.Bq},set:function(t){this.Tb===t||t!==Qw&&t!==Aw&&t!==Q0||(this.Bq=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},arrangement:{get:function(){return this.Tb},set:function(t){this.Tb===t||t!==M0&&t!==Nw&&t!==N0||(this.Tb=t,this.C())}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},rootDefaults:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t,this.C())}},alternateDefaults:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t,this.C())}},sorting:{get:function(){return this.W.sorting},set:function(t){this.W.sorting===t||t!==_f&&t!==sm&&t!==om&&!lm||(this.W.sorting=t,this.C())}},comparer:{get:function(){return this.W.comparer},set:function(t){this.W.comparer!==t&&(this.W.comparer=t,this.C())}},angle:{get:function(){return this.W.angle},set:function(t){this.W.angle!==t&&(t===0||t===90||t===180||t===270?(this.W.angle=t,this.C()):D("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.W.alignment},set:function(t){this.W.alignment!==t&&(this.W.alignment=t,this.C())}},nodeIndent:{get:function(){return this.W.nodeIndent},set:function(t){this.W.nodeIndent!==t&&0<=t&&(this.W.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.W.nodeIndentPastParent},set:function(t){this.W.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.W.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.W.nodeSpacing},set:function(t){this.W.nodeSpacing!==t&&(this.W.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.W.layerSpacing},set:function(t){this.W.layerSpacing!==t&&(this.W.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.W.layerSpacingParentOverlap},set:function(t){this.W.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.W.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.W.compaction},set:function(t){this.W.compaction===t||t!==T0&&t!==am||(this.W.compaction=t,this.C())}},breadthLimit:{get:function(){return this.W.breadthLimit},set:function(t){this.W.breadthLimit!==t&&0<=t&&(this.W.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.W.rowSpacing},set:function(t){this.W.rowSpacing!==t&&(this.W.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.W.rowIndent},set:function(t){this.W.rowIndent!==t&&0<=t&&(this.W.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.W.commentSpacing},set:function(t){this.W.commentSpacing!==t&&(this.W.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.W.commentMargin},set:function(t){this.W.commentMargin!==t&&(this.W.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.W.setsPortSpot},set:function(t){this.W.setsPortSpot!==t&&(this.W.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.W.portSpot},set:function(t){this.W.portSpot.D(t)||(this.W.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.W.setsChildPortSpot},set:function(t){this.W.setsChildPortSpot!==t&&(this.W.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.W.childPortSpot},set:function(t){this.W.childPortSpot.D(t)||(this.W.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(t){this.Y.sorting===t||t!==_f&&t!==sm&&t!==om&&!lm||(this.Y.sorting=t,this.C())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(t){this.Y.comparer!==t&&(this.Y.comparer=t,this.C())}},alternateAngle:{get:function(){return this.Y.angle},set:function(t){this.Y.angle===t||t!==0&&t!==90&&t!==180&&t!==270||(this.Y.angle=t,this.C())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(t){this.Y.alignment!==t&&(this.Y.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(t){this.Y.nodeIndent!==t&&0<=t&&(this.Y.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(t){this.Y.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.Y.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(t){this.Y.nodeSpacing!==t&&(this.Y.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(t){this.Y.layerSpacing!==t&&(this.Y.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(t){this.Y.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.Y.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(t){this.Y.compaction===t||t!==T0&&t!==am||(this.Y.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(t){this.Y.breadthLimit!==t&&0<=t&&(this.Y.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(t){this.Y.rowSpacing!==t&&(this.Y.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(t){this.Y.rowIndent!==t&&0<=t&&(this.Y.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(t){this.Y.commentSpacing!==t&&(this.Y.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(t){this.Y.commentMargin!==t&&(this.Y.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(t){this.Y.setsPortSpot!==t&&(this.Y.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(t){this.Y.portSpot.D(t)||(this.Y.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(t){this.Y.setsChildPortSpot!==t&&(this.Y.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(t){this.Y.childPortSpot.D(t)||(this.Y.childPortSpot=t,this.C())}}});var b0=new it(Xt,"PathDefault",-1),wo=new it(Xt,"PathDestination",0),Gh=new it(Xt,"PathSource",1),_f=new it(Xt,"SortingForwards",10),sm=new it(Xt,"SortingReverse",11),om=new it(Xt,"SortingAscending",12),lm=new it(Xt,"SortingDescending",13),Uf=new it(Xt,"AlignmentCenterSubtrees",20),Hh=new it(Xt,"AlignmentCenterChildren",21),So=new it(Xt,"AlignmentStart",22),ko=new it(Xt,"AlignmentEnd",23),Xl=new it(Xt,"AlignmentBus",24),Po=new it(Xt,"AlignmentBusBranching",25),_l=new it(Xt,"AlignmentTopLeftBus",26),sl=new it(Xt,"AlignmentBottomRightBus",27),T0=new it(Xt,"CompactionNone",30),am=new it(Xt,"CompactionBlock",31),C0=new it(Xt,"StyleLayered",40),Tw=new it(Xt,"StyleLastParents",41),Cw=new it(Xt,"StyleAlternating",42),Mw=new it(Xt,"StyleRootOnly",43),M0=new it(Xt,"ArrangementVertical",50),Nw=new it(Xt,"ArrangementHorizontal",51),N0=new it(Xt,"ArrangementFixedRoots",52),Qw=new it(Xt,"LayerIndividual",60),Aw=new it(Xt,"LayerSiblings",61),Q0=new it(Xt,"LayerUniform",62);Xt.className="TreeLayout",Xt.PathDefault=b0,Xt.PathDestination=wo,Xt.PathSource=Gh,Xt.SortingForwards=_f,Xt.SortingReverse=sm,Xt.SortingAscending=om,Xt.SortingDescending=lm,Xt.AlignmentCenterSubtrees=Uf,Xt.AlignmentCenterChildren=Hh,Xt.AlignmentStart=So,Xt.AlignmentEnd=ko,Xt.AlignmentBus=Xl,Xt.AlignmentBusBranching=Po,Xt.AlignmentTopLeftBus=_l,Xt.AlignmentBottomRightBus=sl,Xt.CompactionNone=T0,Xt.CompactionBlock=am,Xt.StyleLayered=C0,Xt.StyleLastParents=Tw,Xt.StyleAlternating=Cw,Xt.StyleRootOnly=Mw,Xt.ArrangementVertical=M0,Xt.ArrangementHorizontal=Nw,Xt.ArrangementFixedRoots=N0,Xt.LayerIndividual=Qw,Xt.LayerSiblings=Aw,Xt.LayerUniform=Q0;function Zf(t){de.call(this,t)}v(Zf,de),Zf.prototype.createVertex=function(){return new ns(this)},Zf.prototype.createEdge=function(){return new um(this)},Zf.className="TreeNetwork";function ns(t){ri.call(this,t),this.V=!1,this.hb=null,this.u=[],this.nb=this.Ha=this.F=this.ia=0,this.td=null,this.T=new F(0,0),this.Da=new At(0,0),this.la=new F(0,0),this.jm=this.im=this.uA=!1,this.kp=this.Zo=null,this.nd=_f,this.hd=dC,this.Lb=0,this.Kb=Hh,this.Vq=this.Uq=0,this.Wq=20,this.ie=50,this.Aq=0,this.Hp=am,this.Ap=0,this.nr=25,this.Gp=this.mr=10,this.Fp=20,this.xr=!0,this.dr=Yi,this.wr=!0,this.Dp=Yi}v(ns,ri),ns.prototype.copyInheritedPropertiesFrom=function(t){t!==null&&(this.nd=t.sorting,this.hd=t.comparer,this.Lb=t.angle,this.Kb=t.alignment,this.Uq=t.nodeIndent,this.Vq=t.nodeIndentPastParent,this.Wq=t.nodeSpacing,this.ie=t.layerSpacing,this.Aq=t.layerSpacingParentOverlap,this.Hp=t.compaction,this.Ap=t.breadthLimit,this.nr=t.rowSpacing,this.mr=t.rowIndent,this.Gp=t.commentSpacing,this.Fp=t.commentMargin,this.xr=t.setsPortSpot,this.dr=t.portSpot,this.wr=t.setsChildPortSpot,this.Dp=t.childPortSpot)},S.Object.defineProperties(ns.prototype,{initialized:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},parent:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},children:{get:function(){return this.u},set:function(t){if(this.u!==t){if(t!==null)for(var i=t.length,s=0;s<i;s++);this.u=t}}},level:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},descendantCount:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},maxChildrenCount:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},maxGenerationCount:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t)}},comments:{get:function(){return this.td},set:function(t){if(this.td!==t){if(t!==null)for(var i=t.length,s=0;s<i;s++);this.td=t}}},sorting:{get:function(){return this.nd},set:function(t){this.nd!==t&&(this.nd=t)}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t)}},angle:{get:function(){return this.Lb},set:function(t){this.Lb!==t&&(this.Lb=t)}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb!==t&&(this.Kb=t)}},nodeIndent:{get:function(){return this.Uq},set:function(t){this.Uq!==t&&(this.Uq=t)}},nodeIndentPastParent:{get:function(){return this.Vq},set:function(t){this.Vq!==t&&(this.Vq=t)}},nodeSpacing:{get:function(){return this.Wq},set:function(t){this.Wq!==t&&(this.Wq=t)}},layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&(this.ie=t)}},layerSpacingParentOverlap:{get:function(){return this.Aq},set:function(t){this.Aq!==t&&(this.Aq=t)}},compaction:{get:function(){return this.Hp},set:function(t){this.Hp!==t&&(this.Hp=t)}},breadthLimit:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(this.Ap=t)}},rowSpacing:{get:function(){return this.nr},set:function(t){this.nr!==t&&(this.nr=t)}},rowIndent:{get:function(){return this.mr},set:function(t){this.mr!==t&&(this.mr=t)}},commentSpacing:{get:function(){return this.Gp},set:function(t){this.Gp!==t&&(this.Gp=t)}},commentMargin:{get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t)}},setsPortSpot:{get:function(){return this.xr},set:function(t){this.xr!==t&&(this.xr=t)}},portSpot:{get:function(){return this.dr},set:function(t){this.dr.D(t)||(this.dr=t)}},setsChildPortSpot:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},childPortSpot:{get:function(){return this.Dp},set:function(t){this.Dp.D(t)||(this.Dp=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.T},set:function(t){this.T.set(t)}},subtreeSize:{get:function(){return this.Da},set:function(t){this.Da.set(t)}},subtreeOffset:{get:function(){return this.la},set:function(t){this.la.set(t)}}}),ns.className="TreeVertex";function um(t){er.call(this,t),this.au=new F(0,0)}v(um,er),um.prototype.commit=function(){var t=this.link;if(t!==null&&!t.isAvoiding){var i=this.network.layout,s=null,l=null;switch(i.ud){case wo:s=this.fromVertex,l=this.toVertex;break;case Gh:s=this.toVertex,l=this.fromVertex;break;default:D("Unhandled path value "+i.ud.toString())}if(s!==null&&l!==null){var u=this.au;if(u.x!==0||u.y!==0||s.uA){l=s.bounds;var c=As(s),d=i.computeLayerSpacing(s),m=s.rowSpacing;t.vg();var y=t.curve===tr,O=t.isOrthogonal,w;if(t.uh(),O||y){for(w=2;4<t.pointsCount;)t.rv(2);var k=t.i(1),P=t.i(2)}else{for(w=1;3<t.pointsCount;)t.rv(1);k=t.i(0),P=t.i(t.pointsCount-1)}var T=t.i(t.pointsCount-1);c===0?(s.alignment===ko?(c=l.bottom+u.y,u.y===0&&k.y>T.y+s.rowIndent&&(c=Math.min(c,Math.max(k.y,c-i.computeNodeIndent(s))))):s.alignment===So?(c=l.top+u.y,u.y===0&&k.y<T.y-s.rowIndent&&(c=Math.max(c,Math.min(k.y,c+i.computeNodeIndent(s))))):c=s.im||s.jm&&s.maxGenerationCount===1?l.top-s.la.y+u.y:l.y+l.height/2+u.y,y?(t.m(w,k.x,c),w++,t.m(w,l.right+d,c),w++,t.m(w,l.right+d+(u.x-m)/3,c),w++,t.m(w,l.right+d+2*(u.x-m)/3,c),w++,t.m(w,l.right+d+(u.x-m),c),w++,t.m(w,P.x,c)):(O&&(t.m(w,l.right+d/2,k.y),w++),t.m(w,l.right+d/2,c),w++,t.m(w,l.right+d+u.x-(O?m/2:m),c),w++,O&&t.m(w,t.i(w-1).x,P.y))):c===90?(s.alignment===ko?(c=l.right+u.x,u.x===0&&k.x>T.x+s.rowIndent&&(c=Math.min(c,Math.max(k.x,c-i.computeNodeIndent(s))))):s.alignment===So?(c=l.left+u.x,u.x===0&&k.x<T.x-s.rowIndent&&(c=Math.max(c,Math.min(k.x,c+i.computeNodeIndent(s))))):c=s.im||s.jm&&s.maxGenerationCount===1?l.left-s.la.x+u.x:l.x+l.width/2+u.x,y?(t.m(w,c,k.y),w++,t.m(w,c,l.bottom+d),w++,t.m(w,c,l.bottom+d+(u.y-m)/3),w++,t.m(w,c,l.bottom+d+2*(u.y-m)/3),w++,t.m(w,c,l.bottom+d+(u.y-m)),w++,t.m(w,c,P.y)):(O&&(t.m(w,k.x,l.bottom+d/2),w++),t.m(w,c,l.bottom+d/2),w++,t.m(w,c,l.bottom+d+u.y-(O?m/2:m)),w++,O&&t.m(w,P.x,t.i(w-1).y))):c===180?(s.alignment===ko?(c=l.bottom+u.y,u.y===0&&k.y>T.y+s.rowIndent&&(c=Math.min(c,Math.max(k.y,c-i.computeNodeIndent(s))))):s.alignment===So?(c=l.top+u.y,u.y===0&&k.y<T.y-s.rowIndent&&(c=Math.max(c,Math.min(k.y,c+i.computeNodeIndent(s))))):c=s.im||s.jm&&s.maxGenerationCount===1?l.top-s.la.y+u.y:l.y+l.height/2+u.y,y?(t.m(w,k.x,c),w++,t.m(w,l.left-d,c),w++,t.m(w,l.left-d+(u.x+m)/3,c),w++,t.m(w,l.left-d+2*(u.x+m)/3,c),w++,t.m(w,l.left-d+(u.x+m),c),w++,t.m(w,P.x,c)):(O&&(t.m(w,l.left-d/2,k.y),w++),t.m(w,l.left-d/2,c),w++,t.m(w,l.left-d+u.x+(O?m/2:m),c),w++,O&&t.m(w,t.i(w-1).x,P.y))):c===270?(s.alignment===ko?(c=l.right+u.x,u.x===0&&k.x>T.x+s.rowIndent&&(c=Math.min(c,Math.max(k.x,c-i.computeNodeIndent(s))))):s.alignment===So?(c=l.left+u.x,u.x===0&&k.x<T.x-s.rowIndent&&(c=Math.max(c,Math.min(k.x,c+i.computeNodeIndent(s))))):c=s.im||s.jm&&s.maxGenerationCount===1?l.left-s.la.x+u.x:l.x+l.width/2+u.x,y?(t.m(w,c,k.y),w++,t.m(w,c,l.top-d),w++,t.m(w,c,l.top-d+(u.y+m)/3),w++,t.m(w,c,l.top-d+2*(u.y+m)/3),w++,t.m(w,c,l.top-d+(u.y+m)),w++,t.m(w,c,P.y)):(O&&(t.m(w,k.x,l.top-d/2),w++),t.m(w,c,l.top-d/2),w++,t.m(w,c,l.top-d+u.y+(O?m/2:m)),w++,O&&t.m(w,P.x,t.i(w-1).y))):D("Invalid angle "+c),t.zf()}else u=l,t=this.link,l=this.network.layout,i=As(s),i!==As(u)&&(d=l.computeLayerSpacing(s),m=s.bounds,s=u.bounds,i===0&&s.left-m.right<d+1||i===90&&s.top-m.bottom<d+1||i===180&&m.left-s.right<d+1||i===270&&m.top-s.bottom<d+1||(t.vg(),s=t.curve===tr,u=t.isOrthogonal,l=_u(this.fromVertex.alignment),t.uh(),i===0?(i=m.right+d/2,s?t.pointsCount===4&&(s=t.i(3).y,t.L(1,i-20,t.i(1).y),t.m(2,i-20,s),t.m(3,i,s),t.m(4,i+20,s),t.L(5,t.i(5).x,s)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,i,t.i(2).y),t.L(3,i,t.i(3).y)):t.pointsCount===4?t.m(2,i,t.i(2).y):t.pointsCount===3?t.L(1,i,t.i(2).y):t.pointsCount===2&&t.m(1,i,t.i(1).y)):i===90?(i=m.bottom+d/2,s?t.pointsCount===4&&(s=t.i(3).x,t.L(1,t.i(1).x,i-20),t.m(2,s,i-20),t.m(3,s,i),t.m(4,s,i+20),t.L(5,s,t.i(5).y)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,t.i(2).x,i),t.L(3,t.i(3).x,i)):t.pointsCount===4?t.m(2,t.i(2).x,i):t.pointsCount===3?t.L(1,t.i(2).x,i):t.pointsCount===2&&t.m(1,t.i(1).x,i)):i===180?(i=m.left-d/2,s?t.pointsCount===4&&(s=t.i(3).y,t.L(1,i+20,t.i(1).y),t.m(2,i+20,s),t.m(3,i,s),t.m(4,i-20,s),t.L(5,t.i(5).x,s)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,i,t.i(2).y),t.L(3,i,t.i(3).y)):t.pointsCount===4?t.m(2,i,t.i(2).y):t.pointsCount===3?t.L(1,i,t.i(2).y):t.pointsCount===2&&t.m(1,i,t.i(1).y)):i===270&&(i=m.top-d/2,s?t.pointsCount===4&&(s=t.i(3).x,t.L(1,t.i(1).x,i+20),t.m(2,s,i+20),t.m(3,s,i),t.m(4,s,i-20),t.L(5,s,t.i(5).y)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,t.i(2).x,i),t.L(3,t.i(3).x,i)):t.pointsCount===4?t.m(2,t.i(2).x,i):t.pointsCount===3?t.L(1,t.i(2).x,i):t.pointsCount===2&&t.m(1,t.i(1).x,i)),t.zf()))}}},S.Object.defineProperties(um.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},relativePoint:{get:function(){return this.au},set:function(t){this.au.set(t)}}}),um.className="TreeEdge",Ce.prototype.initializeStandardTools=function(){this.gb("Action",new Sa,this.mouseDownTools),this.gb("Relinking",new Gr,this.mouseDownTools),this.gb("LinkReshaping",new ii,this.mouseDownTools),this.gb("Rotating",new pr,this.mouseDownTools),this.gb("Resizing",new mn,this.mouseDownTools),this.gb("Linking",new Bn,this.mouseMoveTools),this.gb("Dragging",new Me,this.mouseMoveTools),this.gb("DragSelecting",new qo,this.mouseMoveTools),this.gb("Panning",new Go,this.mouseMoveTools),this.gb("ContextMenu",new Hn,this.mouseUpTools),this.gb("TextEditing",new ve,this.mouseUpTools),this.gb("ClickCreating",new Lh,this.mouseUpTools),this.gb("ClickSelecting",new sp,this.mouseUpTools)},vo("Horizontal",new c1),vo("Spot",new d1),vo("Table",new m1),vo("Viewbox",new O1),vo("TableRow",new g1),vo("TableColumn",new y1),vo("Graduated",new $y),vo("Grid",new Ey),Gx.add("GraphLinksModel",di),Gx.add("TreeModel",Lr);var jw=Q.go,EC={get licenseKey(){return G.licenseKey},set licenseKey(t){G.licenseKey=t},get version(){return G.version},Group:Et,EnumValue:it,List:ct,Set:ut,Map:jt,Point:F,Size:At,Rect:J,Margin:ne,Spot:Tt,Geometry:lt,PathFigure:vi,PathSegment:Jt,InputEvent:Mr,DiagramEvent:gf,ChangedEvent:Te,Model:xt,GraphLinksModel:Ut,TreeModel:wn,Binding:De,Transaction:Si,UndoManager:Ee,CommandHandler:he,Tool:Kt,DraggingTool:Me,DraggingInfo:Qu,DraggingOptions:vp,LinkingBaseTool:Wi,LinkingTool:Bn,RelinkingTool:Gr,LinkReshapingTool:ii,ResizingTool:mn,RotatingTool:pr,ClickSelectingTool:sp,ActionTool:Sa,ClickCreatingTool:Lh,HTMLInfo:ka,ContextMenuTool:Hn,DragSelectingTool:qo,PanningTool:Go,TextEditingTool:ve,ToolManager:Ce,Animation:en,AnimationManager:Nr,AnimationTrigger:Ho,Layer:nn,Diagram:G,Palette:e1,Overview:Ko,Brush:ie,GraphObject:vt,Panel:nt,RowColumnDefinition:qe,Shape:It,TextBlock:fe,Picture:Nn,Part:kt,Adornment:Wt,Node:ft,Link:st,Placeholder:On,Layout:ye,LayoutNetwork:de,LayoutVertex:ri,LayoutEdge:er,GridLayout:xi,PanelLayout:ni,CircularLayout:be,CircularNetwork:em,CircularVertex:m0,CircularEdge:uw,ForceDirectedLayout:Ri,ForceDirectedNetwork:Bf,ForceDirectedVertex:g0,ForceDirectedEdge:y0,LayeredDigraphLayout:se,LayeredDigraphNetwork:rm,LayeredDigraphVertex:$r,LayeredDigraphEdge:k0,TreeLayout:Xt,TreeNetwork:Zf,TreeVertex:ns,TreeEdge:um,GeometryType:{Line:lt.o,Rectangle:lt.u,Ellipse:lt.F,Path:lt.j},GeometryStretch:{None:je,Default:Qr,Fill:$e,Uniform:Hr},SegmentType:{Move:qr,Line:Pe,Bezier:dr,QuadraticBezier:_s,Arc:We,SvgArc:ks},ChangeType:{Transaction:Ps,Property:Se,Insert:ei,Remove:ui},WheelMode:{Scroll:yf,Zoom:np,None:iE},GestureMode:{Zoom:Ob,Cancel:py,None:Qx},LinkingDirection:{Either:gy,ForwardsOnly:bb,BackwardsOnly:Tb},ReshapingBehavior:{None:Ax,Horizontal:xf,Vertical:wf,All:jx},TextEditingAccept:{LostFocus:Nb,MouseDown:vy,Tab:Rx,Enter:xy},TextEditingStarting:{SingleClick:yE,SingleClickSelected:Lx,DoubleClick:Qb},TextEditingState:{None:lp,Active:ap,Editing:wy,Validating:Ex,Invalid:up,Validated:$x},AnimationStyle:{Default:Sy,AnimateLocations:Rb,None:Lb},TriggerStart:{Default:$b,Immediate:Bx,Bundled:Db},AutoScale:{None:mr,Uniform:Pf,UniformToFill:Ny},CycleMode:{All:Hx,NotDirected:sT,NotUndirected:oT,DestinationTree:lT,SourceTree:aT},ScrollMode:{Document:Nu,Infinite:Kx},CollapsePolicy:{TreeParent:$h,AllParents:Jx,AnyParents:t1},Stretch:{None:je,Default:Qr,Vertical:Ii,Horizontal:ji,Fill:$e},Orientation:{None:Fi,Along:Bp,Plus90:Xp,Minus90:_p,Opposite:G1,Upright:qy,Plus90Upright:Up,Minus90Upright:Zp,Upright45:Gy},Flip:{None:je,Vertical:xp,Horizontal:wp,Both:Sp},BrushType:{Solid:Il,Linear:tl,Radial:Or,Pattern:jf},ColorSpace:{Lab:Rf,HSL:TT},ViewboxStretch:{Uniform:Hr,UniformToFill:Cf},Sizing:{Default:T1,None:Ap,ProportionalExtra:Iy},Wrap:{None:A1,Fit:zT,DesiredSize:j1,BreakAll:BT},TextOverflow:{Clip:R1,Ellipsis:zy},TextFormat:{Trim:Lp,None:XT},ImageStretch:{None:je,Fill:$e,Uniform:Hr,UniformToFill:Cf},LayoutConditions:{None:0,Added:1,Removed:2,Shown:4,Hidden:8,NodeSized:16,GroupLayout:32,NodeReplaced:64,Standard:127},PortSpreading:{None:aD,Evenly:_y,Packed:X1},LinkAdjusting:{None:Fi,End:zp,Scale:Yy,Stretch:Wy},Routing:{Normal:q1,Orthogonal:pD,AvoidsNodes:mD},Curve:{None:Fi,Bezier:tr,JumpGap:zl,JumpOver:If},GridAlignment:{Position:t0,Location:qp},GridArrangement:{LeftToRight:e0,RightToLeft:Ns},GridSorting:{Forwards:tw,Reverse:i0,Ascending:Gp,Descending:n0},BindingMode:{OneWay:xC,TwoWay:Kp},CircularArrangement:{ConstantSpacing:ts,ConstantDistance:Da,ConstantAngle:Bl,Packed:es},CircularDirection:{Clockwise:rn,Counterclockwise:Ia,BidirectionalLeft:Fu,BidirectionalRight:Vf},CircularSorting:{Forwards:u0,Reverse:h0,Ascending:c0,Descending:f0,Optimized:zf},CircularNodeDiameterFormula:{Pythagorean:d0,Circular:Wh},LayeredDigraphCycleRemove:{DepthFirst:v0,Greedy:mw,FromLayers:nm},LayeredDigraphLayering:{OptimalLinkLength:x0,LongestPathSink:gw,LongestPathSource:yw},LayeredDigraphInit:{DepthFirstOut:w0,DepthFirstIn:Ow,Naive:vw},LayeredDigraphAggressive:{None:xw,Less:S0,More:ww},LayeredDigraphPack:{None:0,Expand:1,Straighten:2,Median:4,All:15},LayeredDigraphAlign:{None:0,UpperLeft:1,UpperRight:2,LowerLeft:4,LowerRight:8,All:15},TreePath:{Default:b0,Destination:wo,Source:Gh},TreeSorting:{Forwards:_f,Reverse:sm,Ascending:om,Descending:lm},TreeAlignment:{CenterSubtrees:Uf,CenterChildren:Hh,Start:So,End:ko,Bus:Xl,BusBranching:Po,TopLeftBus:_l,BottomRightBus:sl},TreeCompaction:{None:T0,Block:am},TreeStyle:{Layered:C0,LastParents:Tw,Alternating:Cw,RootOnly:Mw},TreeArrangement:{Vertical:M0,Horizontal:Nw,FixedRoots:N0},TreeLayerStyle:{Individual:Qw,Siblings:Aw,Uniform:Q0}};typeof jw=="object"&&jw.version&&K("WARNING: a `go` object on the root object is already defined.  "+("Debug"in jw?"debug ":"")+"version: "+jw.version+", replaced with version: "+EC.version),G.prototype.go=EC,Q.go=EC,typeof Mk<"u"&&typeof Mk.exports=="object"&&(Mk.exports=typeof global<"u"?global.go:self.go)})();const _t=typeof global<"u"?global.go:self.go;_t.Group;_t.EnumValue;_t.List;_t.Set;_t.Map;const q3=_t.Point,GSt=_t.Size;_t.Rect;const HSt=_t.Margin,Ju=_t.Spot;_t.Geometry;_t.PathFigure;_t.PathSegment;_t.InputEvent;_t.DiagramEvent;_t.ChangedEvent;_t.Model;const G3=_t.GraphLinksModel;_t.TreeModel;const pl=_t.Binding;_t.Transaction;_t.UndoManager;_t.CommandHandler;_t.Tool;_t.DraggingTool;_t.DraggingInfo;_t.LinkingBaseTool;_t.LinkingTool;_t.RelinkingTool;_t.LinkReshapingTool;_t.ResizingTool;_t.RotatingTool;_t.ClickSelectingTool;_t.ActionTool;_t.ClickCreatingTool;_t.HTMLInfo;_t.ContextMenuTool;_t.DragSelectingTool;_t.PanningTool;_t.TextEditingTool;_t.ToolManager;_t.Animation;const KSt=_t.AnimationManager;_t.AnimationTrigger;_t.Layer;const JSt=_t.Diagram;_t.Palette;_t.Overview;_t.Brush;const tkt=_t.GraphObject,H3=_t.Panel;_t.RowColumnDefinition;const cO=_t.Shape,Pm=_t.TextBlock;_t.TextBlockMetrics;_t.Picture;const K3=_t.Part,ekt=_t.Adornment,ikt=_t.Node,J3=_t.Link;_t.Placeholder;_t.Layout;_t.LayoutNetwork;_t.LayoutVertex;_t.LayoutEdge;_t.GridLayout;_t.PanelLayout;_t.CircularLayout;_t.CircularNetwork;_t.CircularVertex;_t.CircularEdge;_t.ForceDirectedLayout;_t.ForceDirectedNetwork;_t.ForceDirectedVertex;_t.ForceDirectedEdge;const nkt=_t.LayeredDigraphLayout;_t.LayeredDigraphNetwork;_t.LayeredDigraphVertex;_t.LayeredDigraphEdge;_t.TreeLayout;_t.TreeNetwork;_t.TreeVertex;_t.TreeEdge;_t.version;const aG=({workflow:n})=>{const e=U.useRef(null),r=U.useRef(null),o=f=>{let p=[],g=[];if(Array.isArray(f.nodes)?p=f.nodes.map(x=>({key:x.id,text:x.label,type:x.type||"default",isOptimizable:!1,optimizationReason:""})):f.hasOwnProperty("steps")&&(p=f.steps.map(v=>({key:v.id,text:v.label,type:"default",isOptimizable:!1,optimizationReason:""}))),Array.isArray(f.optimizableSteps))if(typeof f.optimizableSteps[0]=="string"){const x=f.optimizableSteps;p.forEach(v=>{x.includes(v.key)&&(v.isOptimizable=!0,v.optimizationReason="This step can be optimized")})}else{const x=f.optimizableSteps;p.forEach(v=>{const S=x.find(b=>b.id===v.key);S&&(v.isOptimizable=!0,v.optimizationReason=S.reason)})}else if(f.hasOwnProperty("optimizable_steps")){const x=f;p.forEach(v=>{const S=x.optimizable_steps.find(b=>b.id===v.key);S&&(v.isOptimizable=!0,v.optimizationReason=S.reason)})}return Array.isArray(f.edges)?g=f.edges.map(x=>({from:x.source,to:x.target,text:x.label||""})):f.hasOwnProperty("dependencies")&&(g=f.dependencies.map(v=>({from:v.from,to:v.to,text:""}))),{nodeArray:p,linkArray:g}};U.useEffect(()=>{if(!n||!e.current)return;const f=tkt.make,p=new JSt(e.current,{"undoManager.isEnabled":!0,layout:f(nkt,{direction:90,layerSpacing:40,columnSpacing:30,setsPortSpots:!1}),"animationManager.isEnabled":!0,"animationManager.initialAnimationStyle":KSt.None,model:new G3({linkKeyProperty:"id"})});p.nodeTemplate=f(ikt,"Auto",{selectionAdorned:!1,resizable:!1,layoutConditions:K3.LayoutStandard&~K3.LayoutNodeSized,shadowVisible:!0,shadowOffset:new q3(2,2),shadowBlur:7,shadowColor:"rgba(0, 0, 0, 0.2)",toolTip:f(ekt,"Auto",f(cO,{fill:"#2A2F42",stroke:"#676B79"}),f(Pm,{margin:8,font:"11px 'Inter', sans-serif",stroke:"white",wrap:Pm.WrapFit,alignment:Ju.Center},new pl("text","",v=>v.isOptimizable?`Optimization: ${v.optimizationReason}`:v.text)))},new pl("opacity","isOptimizable",v=>v?1:.9),f(cO,"RoundedRectangle",{fill:"rgba(43, 47, 66, 0.8)",stroke:"#484F6F",strokeWidth:1.5,spot1:Ju.TopLeft,spot2:Ju.BottomRight,parameter1:8},new pl("fill","isOptimizable",v=>v?"rgba(234, 56, 76, 0.15)":"rgba(43, 47, 66, 0.8)"),new pl("stroke","isOptimizable",v=>v?"#ea384c":"#484F6F"),new pl("strokeWidth","isOptimizable",v=>v?2:1.5)),f(H3,"Vertical",{margin:12,alignment:Ju.Center},f(H3,"Auto",{visible:!1},new pl("visible","type",v=>v!=="default"),f(cO,"RoundedRectangle",{fill:"#9b87f5",stroke:null,height:20,width:80,alignment:Ju.Center}),f(Pm,{alignment:Ju.Center,stroke:"white",font:"10px 'Inter', sans-serif"},new pl("text","type"))),f(Pm,{margin:new HSt(5,0,0,0),alignment:Ju.Center,stroke:"white",font:"13px 'Inter', sans-serif",maxSize:new GSt(150,NaN),wrap:Pm.WrapFit,textAlign:"center"},new pl("text")))),p.linkTemplate=f(J3,{curve:J3.Bezier,reshapable:!1,relinkableFrom:!1,relinkableTo:!1,toEndSegmentLength:30,fromEndSegmentLength:30},f(cO,{strokeWidth:2,stroke:"#8E9196"},new pl("stroke","",function(v){if(!v.part.diagram)return"#8E9196";const b=v.fromNode,M=v.toNode;return!b||!M?"#8E9196":b.data.isOptimizable||M.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject()),f(cO,{toArrow:"Triangle",stroke:"#8E9196",fill:"#8E9196",scale:1.2},new pl("stroke","",function(v){if(!v.part.diagram)return"#8E9196";const b=v.fromNode,M=v.toNode;return!b||!M?"#8E9196":b.data.isOptimizable||M.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject(),new pl("fill","",function(v){if(!v.part.diagram)return"#8E9196";const b=v.fromNode,M=v.toNode;return!b||!M?"#8E9196":b.data.isOptimizable||M.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject()),f(Pm,{segmentOffset:new q3(0,-10),font:"10px 'Inter', sans-serif",stroke:"white",background:"rgba(30, 34, 47, 0.7)",margin:2},new pl("text","text")));const{nodeArray:g,linkArray:x}=o(n);return p.model=new G3({nodeDataArray:g,linkDataArray:x}),r.current=p,p.layoutDiagram(!0),p.contentAlignment=Ju.Center,p.commandHandler.zoomToFit(),p.contentAlignment=Ju.Center,()=>{p.div=null}},[n]);const a=()=>{if(!r.current)return;const f=r.current,p=document.createElement("canvas"),g=p.getContext("2d");if(!g)return;const x=f.documentBounds,v=2;p.width=x.width*v,p.height=x.height*v;const S={document,scale:v,background:f.div?f.div.style.backgroundColor:"rgba(0,0,0,0)"};try{const b=f.makeSvg(S),j=new XMLSerializer().serializeToString(b),Q=new Blob([j],{type:"image/svg+xml;charset=utf-8"}),R=URL.createObjectURL(Q),L=new Image;L.onload=function(){if(g){g.fillStyle="white",g.fillRect(0,0,p.width,p.height),g.drawImage(L,0,0);const $=p.toDataURL("image/png"),V=document.createElement("a");V.download="flowchart.png",V.href=$,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(R)}},L.src=R}catch(b){console.error("Failed to generate SVG:",b)}},h=()=>{e.current&&(document.fullscreenElement?document.exitFullscreen():e.current.requestFullscreen())};return n?N.jsx(Qh,{className:"mb-6 overflow-hidden border border-border bg-card/50",children:N.jsx(Ah,{className:"p-0",children:N.jsxs("div",{className:"relative",children:[N.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[N.jsx(Tg,{children:N.jsxs(dv,{children:[N.jsx(pv,{asChild:!0,children:N.jsxs(Jc,{variant:"secondary",size:"sm",onClick:a,className:"h-8 px-2",children:[N.jsx(tZ,{size:16,className:"mr-1"}),N.jsx("span",{className:"text-xs",children:"Export"})]})}),N.jsx(Cg,{side:"bottom",children:N.jsx("p",{className:"text-xs",children:"Download as PNG"})})]})}),N.jsx(Tg,{children:N.jsxs(dv,{children:[N.jsx(pv,{asChild:!0,children:N.jsxs(Jc,{variant:"secondary",size:"sm",onClick:h,className:"h-8 px-2",children:[N.jsx(iet,{size:16,className:"mr-1"}),N.jsx("span",{className:"text-xs",children:"Fullscreen"})]})}),N.jsx(Cg,{side:"bottom",children:N.jsx("p",{className:"text-xs",children:"View in fullscreen"})})]})})]}),N.jsx("div",{ref:e,style:{height:400,width:"100%",backgroundColor:"transparent"},className:"gojs-diagram"})]})})}):null};var EL="Progress",$L=100,[rkt,iPt]=Ud(EL),[skt,okt]=rkt(EL),uG=U.forwardRef((n,e)=>{const{__scopeProgress:r,value:o=null,max:a,getValueLabel:h=lkt,...f}=n;(a||a===0)&&!tX(a)&&console.error(akt(`${a}`,"Progress"));const p=tX(a)?a:$L;o!==null&&!eX(o,p)&&console.error(ukt(`${o}`,"Progress"));const g=eX(o,p)?o:null,x=ZP(g)?h(g,p):void 0;return N.jsx(skt,{scope:r,value:g,max:p,children:N.jsx(Fn.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":ZP(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":fG(g,p),"data-value":g??void 0,"data-max":p,...f,ref:e})})});uG.displayName=EL;var hG="ProgressIndicator",cG=U.forwardRef((n,e)=>{const{__scopeProgress:r,...o}=n,a=okt(hG,r);return N.jsx(Fn.div,{"data-state":fG(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...o,ref:e})});cG.displayName=hG;function lkt(n,e){return`${Math.round(n/e*100)}%`}function fG(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function ZP(n){return typeof n=="number"}function tX(n){return ZP(n)&&!isNaN(n)&&n>0}function eX(n,e){return ZP(n)&&!isNaN(n)&&n<=e&&n>=0}function akt(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$L}\`.`}function ukt(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$L} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dG=uG,hkt=cG;const J2=U.forwardRef(({className:n,value:e,indicatorClassName:r,...o},a)=>N.jsx(dG,{ref:a,className:$n("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...o,children:N.jsx(hkt,{className:$n("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(e||0)}%)`}})}));J2.displayName=dG.displayName;const ckt=mR("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),pG=U.forwardRef(({className:n,variant:e,...r},o)=>N.jsx("div",{ref:o,className:$n(ckt({variant:e}),n),...r}));pG.displayName="Badge";const fO=({title:n,score:e,explanation:r,color:o})=>N.jsx(Tg,{children:N.jsxs(dv,{children:[N.jsx(pv,{asChild:!0,children:N.jsxs(Qh,{className:"overflow-hidden transition-all duration-300 hover:shadow-md",children:[N.jsxs(ay,{className:"py-2 px-4 flex flex-row justify-between items-center",children:[N.jsx(uy,{className:"text-sm font-medium",children:n}),N.jsxs(pG,{variant:"secondary",className:"font-mono font-bold text-xs",style:{backgroundColor:`rgba(${o}, 0.1)`,color:`rgb(${o})`},children:[e.toFixed(1),"/10"]})]}),N.jsx(Ah,{className:"p-4 pt-0",children:N.jsx(J2,{value:e*10,className:"h-1.5 mt-2",style:{backgroundColor:`rgba(${o}, 0.2)`},indicatorClassName:`bg-[rgb(${o})]`})})]})}),N.jsx(Cg,{children:N.jsx("p",{className:"text-xs max-w-xs",children:r})})]})}),fkt=({scores:n})=>{if(!n)return null;const{overall:e,categories:r}=n,o={overall:"59, 130, 246",maintainability:"99, 102, 241",performance:"236, 72, 153",readability:"16, 185, 129",security:"245, 158, 11",testCoverage:"124, 58, 237"};return N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex flex-col items-center mb-6",children:[N.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-1",children:[N.jsx("span",{children:"Overall Code Quality"}),N.jsx(Tg,{children:N.jsxs(dv,{children:[N.jsx(pv,{asChild:!0,children:N.jsx(tet,{size:14,className:"text-muted-foreground cursor-help"})}),N.jsx(Cg,{children:N.jsx("p",{className:"text-xs max-w-xs",children:"Calculated based on all category scores with weighted importance"})})]})})]}),N.jsxs("div",{className:"text-4xl font-bold mb-2",children:[e.toFixed(1),N.jsx("span",{className:"text-base text-muted-foreground",children:"/10"})]}),N.jsx(J2,{value:e*10,className:"h-2 w-48",style:{backgroundColor:`rgba(${o.overall}, 0.2)`},indicatorClassName:`bg-[rgb(${o.overall})]`})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(fO,{title:"Maintainability",score:r.maintainability.score,explanation:r.maintainability.explanation,color:o.maintainability}),N.jsx(fO,{title:"Performance",score:r.performance.score,explanation:r.performance.explanation,color:o.performance}),N.jsx(fO,{title:"Readability",score:r.readability.score,explanation:r.readability.explanation,color:o.readability}),N.jsx(fO,{title:"Security",score:r.security.score,explanation:r.security.explanation,color:o.security}),N.jsx(fO,{title:"Test Coverage",score:r.testCoverage.score,explanation:r.testCoverage.explanation,color:o.testCoverage})]})]})},dkt=()=>{const n=Uo(),e=ya(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{},[f,p]=U.useState(!1),[g,x]=U.useState(!1),[v,S]=U.useState(!1),[b,M]=U.useState(!1),[j,Q]=U.useState(null),R=f||g||v;if(U.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const L=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},$=async()=>{p(!0);try{const tt=await zq(a);e("/results/optimize",{state:{results:tt,originalCode:a,sourceLanguage:h}}),an.success("Code optimized successfully!")}catch(tt){console.error("Optimization error:",tt),an.error("Failed to optimize code. Please try again.")}finally{p(!1)}},V=async()=>{S(!0);try{const tt=await PL(a);e("/results/document",{state:{results:tt,originalCode:a,sourceLanguage:h}}),an.success("Documentation generated successfully!")}catch(tt){console.error("Documentation error:",tt),an.error("Failed to generate documentation. Please try again.")}finally{S(!1)}},D=()=>{Q(null),M(!0)},X=async tt=>{x(!0);try{const rt=await bL(a,h,tt);e("/results/convert",{state:{results:rt,originalCode:a,sourceLanguage:h,targetLanguage:tt}}),M(!1),Q(null),an.success(`Code converted to ${tt.toUpperCase()} successfully!`)}catch(rt){console.error("Conversion error:",rt),an.error("Failed to convert code. Please try again.")}finally{x(!1)}},W=()=>{g||(M(!1),Q(null))},K=tt=>{Q(tt)};return N.jsxs(Mh,{children:[N.jsx(Px,{}),N.jsx("div",{className:"min-h-screen pt-4 px-4",children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"mb-6",children:[N.jsxs(Jc,{onClick:L,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[N.jsx(f2,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),N.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[N.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Analysis Results"}),N.jsxs("p",{className:"text-gray-400",children:["Comprehensive analysis of your ",h==null?void 0:h.toUpperCase()," code"]})]})]}),N.jsxs("div",{className:"mb-6",children:[N.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:hidden",children:[N.jsx(Sr,{onClick:$,disabled:R,borderColor:"#10B981",className:"w-full min-h-12 text-sm",children:f?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),N.jsx("span",{className:"truncate",children:"Optimizing"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(iP,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Optimize"})]})}),N.jsx(Sr,{onClick:D,disabled:R,borderColor:"#8B5CF6",className:"w-full min-h-12 text-sm",children:g?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),N.jsx("span",{className:"truncate",children:"Converting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Convert"})]})}),N.jsx(Sr,{onClick:V,disabled:R,borderColor:"#F59E0B",className:"w-full min-h-12 text-sm",children:v?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),N.jsx("span",{className:"truncate",children:"Documenting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Document"})]})})]}),N.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[N.jsx(Sr,{onClick:$,disabled:R,borderColor:"#10B981",className:"min-w-28 md:min-w-32",children:f?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Optimizing"]}):N.jsxs(N.Fragment,{children:[N.jsx(iP,{className:"h-4 w-4 mr-1"}),"Optimize"]})}),N.jsx(Sr,{onClick:D,disabled:R,borderColor:"#8B5CF6",className:"min-w-28 md:min-w-32",children:g?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):N.jsxs(N.Fragment,{children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),N.jsx(Sr,{onClick:V,disabled:R,borderColor:"#F59E0B",className:"min-w-28 md:min-w-32",children:v?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):N.jsxs(N.Fragment,{children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-between items-center mb-4",children:N.jsx("h3",{className:"text-lg font-semibold text-white",children:"Original Code"})}),N.jsx("div",{className:"h-[60vh] min-h-[500px]",children:N.jsx(Bd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analysis Scores"}),N.jsx(fkt,{scores:o.scores})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Code Flow Visualization"}),N.jsx(aG,{workflow:o.workflow})]})]})]}),N.jsx("div",{className:"mt-8",children:N.jsx(qSt,{results:o})})]})}),N.jsx(kL,{isOpen:b,onClose:W,onConvert:X,sourceLanguage:h,isConverting:g,selectedLanguage:j,onLanguageSelect:K})]})},TN=({title:n,value:e,label:r,description:o,color:a="bg-primary",tooltipText:h,improvement:f=!0})=>N.jsxs(Qh,{children:[N.jsxs(ay,{className:"pb-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx(uy,{className:"text-sm font-medium",children:n}),h&&N.jsx(Tg,{children:N.jsxs(dv,{children:[N.jsx(pv,{asChild:!0,children:N.jsx("div",{className:"h-4 w-4 rounded-full bg-muted flex items-center justify-center cursor-help",children:N.jsx("span",{className:"text-muted-foreground text-xs",children:"?"})})}),N.jsx(Cg,{children:N.jsx("p",{className:"w-[200px] text-xs",children:h})})]})})]}),N.jsx(K2,{className:"text-xs",children:o})]}),N.jsxs(Ah,{children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsxs("span",{className:"text-2xl font-bold",children:[e,N.jsx("span",{className:"text-sm font-normal ml-1",children:r})]}),N.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${f?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[f?"↓":"↑"," ",Math.abs(e),"%"]})]}),N.jsx(J2,{value:e,className:`h-1.5 ${a}`})]})]}),pkt=({executionTime:n,memoryUsage:e,codeComplexity:r})=>N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[N.jsx(TN,{title:"Execution Time",value:n.value,label:n.label,description:"Time required to execute the code",tooltipText:"Lower execution time means your code runs more efficiently, saving computational resources.",improvement:n.improvement}),N.jsx(TN,{title:"Memory Usage",value:e.value,label:e.label,description:"Memory consumed during execution",tooltipText:"Reduced memory usage means your application requires fewer resources to run.",color:"bg-blue-500",improvement:e.improvement}),N.jsx(TN,{title:"Code Complexity",value:r.value,label:r.label,description:"Cyclomatic complexity score",tooltipText:"Lower complexity scores indicate code that is easier to understand, test, and maintain.",color:"bg-purple-500",improvement:r.improvement})]}),mkt=({changes:n})=>{if(!n||n.length===0)return N.jsx("div",{className:"p-4",children:"No detailed changes available"});const e={};return n.forEach(r=>{e[r.metric]||(e[r.metric]=[]),e[r.metric].push(r)}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e).map(([r,o],a)=>N.jsxs(Qh,{className:"border border-amber-700/30 bg-amber-950/10 transition-all duration-300 hover:shadow-md",children:[N.jsxs(ay,{className:"pb-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs(uy,{className:"text-sm font-medium flex items-center gap-2",children:[N.jsx(gR,{size:16,className:"text-amber-500"}),r]}),N.jsxs("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full",children:[o.length," ",o.length===1?"change":"changes"]})]}),N.jsxs(K2,{className:"text-xs",children:[o.length," optimization ",o.length===1?"change":"changes"," applied"]})]}),N.jsx(Ah,{children:N.jsx(lG,{type:"single",collapsible:!0,className:"w-full",children:o.map((h,f)=>N.jsxs(jL,{value:`issue-${f}`,children:[N.jsx(RL,{className:"text-sm",children:h.issue}),N.jsx(LL,{children:N.jsxs("div",{className:"space-y-3 text-sm",children:[N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"CODE LOCATION"}),N.jsx("div",{className:"bg-secondary/50 px-3 py-1 rounded-sm",children:h.location})]}),N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"IMPROVEMENT"}),N.jsx("p",{className:"text-primary",children:h.improvement})]})]})})]},f))})})]},a))})},gkt=({content:n})=>{const e=n.split(/(?=^#+\s+.*$)/m).filter(a=>a.trim()!==""),r=a=>{const h=a.match(/^#+\s+(.*?)$/m);return h?h[1]:"Overview"},o=a=>a.replace(/^#+\s+.*?$/m,"").trim().split(/\n{2,}/g).map((f,p)=>{var x;if(f.match(/\|\s*-+\s*\|/)){const v=f.split(`
`).filter(S=>S.trim()!=="");if(v.length>=2){const S=v[0].split("|").filter(b=>b.trim()!=="").map(b=>b.trim());return N.jsx("div",{className:"overflow-x-auto my-4",children:N.jsxs("table",{className:"min-w-full divide-y divide-border",children:[N.jsx("thead",{children:N.jsx("tr",{children:S.map((b,M)=>N.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground bg-secondary/50",children:b},M))})}),N.jsx("tbody",{className:"divide-y divide-border",children:v.slice(2).map((b,M)=>{const j=b.split("|").filter(Q=>Q.trim()!=="").map(Q=>Q.trim());return N.jsx("tr",{children:j.map((Q,R)=>N.jsx("td",{className:"px-4 py-2 text-sm",children:Q},R))},M)})})]})},p)}}if(f.match(/^```[\s\S]*?```$/m)){const v=f.replace(/^```(\w+)?\n([\s\S]*?)```$/m,"$2");return(x=f.match(/^```(\w+)?/))!=null&&x[1],N.jsx("pre",{className:"bg-secondary/20 p-4 rounded-md my-4 overflow-x-auto",children:N.jsx("code",{className:"text-sm text-primary",children:v})},p)}if(f.match(/^\s*[-*]\s+/m)){const v=f.split(/\n/).filter(S=>S.trim()!=="").map(S=>S.replace(/^\s*[-*]\s+/,""));return N.jsx("ul",{className:"list-disc pl-5 my-3 space-y-1",children:v.map((S,b)=>N.jsx("li",{className:"text-sm",children:S},b))},p)}if(f.match(/^\s*\d+\.\s+/m)){const v=f.split(/\n/).filter(S=>S.trim()!=="").map(S=>S.replace(/^\s*\d+\.\s+/,""));return N.jsx("ol",{className:"list-decimal pl-5 my-3 space-y-1",children:v.map((S,b)=>N.jsx("li",{className:"text-sm",children:S},b))},p)}let g=f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(g=g.replace(/\*(.*?)\*/g,"<em>$1</em>"),g=g.replace(/`(.*?)`/g,"<code>$1</code>"),g.match(/^#+\s+/)){const v=(g.match(/^(#+)/)||["#"])[0].length,S=g.replace(/^#+\s+/,"");return N.jsx("div",{className:`font-semibold my-3 ${v===2?"text-lg":v===3?"text-base":"text-sm"}`,children:S},p)}return N.jsx("p",{className:"my-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:g}},p)});return N.jsx(Qh,{className:"border border-border",children:N.jsx(Ah,{className:"p-6",children:N.jsx("div",{className:"space-y-6",children:e.map((a,h)=>{const f=r(a);return N.jsxs("div",{className:"pb-4",children:[N.jsx("h3",{className:"text-base font-semibold border-b border-border pb-2 mb-3",children:f}),N.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:mb-2 prose-p:my-2",children:o(a)})]},h)})})})})},ykt=({results:n})=>{var o,a,h;const[e,r]=U.useState("flowchart");return N.jsxs("div",{className:"border border-gray-800 rounded-2xl p-3 sm:p-0 lg:p-6",children:[N.jsx("div",{className:"flex border-b border-gray-700 mb-3 sm:mb-4 lg:mb-6 overflow-x-auto scrollbar-hide",children:N.jsxs("div",{className:"flex min-w-full sm:min-w-0 gap-1 sm:gap-0",children:[N.jsx("button",{type:"button",onClick:()=>r("flowchart"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="flowchart"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Flowchart"}),N.jsx("button",{type:"button",onClick:()=>r("stats"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="stats"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Stats"}),N.jsx("button",{type:"button",onClick:()=>r("report"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="report"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Report"})]})}),e==="flowchart"&&N.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:N.jsx(aG,{workflow:n.optimized_code_flowchart})}),e==="stats"&&n.metrics&&N.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:N.jsx(pkt,{executionTime:{value:((o=n.improvement_percentages)==null?void 0:o.execution_time)||n.metrics.executionTime.value,label:"faster",improvement:!0},memoryUsage:{value:((a=n.improvement_percentages)==null?void 0:a.memory_usage)||n.metrics.memoryUsage.value,label:"less memory",improvement:!0},codeComplexity:{value:((h=n.improvement_percentages)==null?void 0:h.code_complexity)||n.metrics.codeComplexity.value,label:"complexity reduction",improvement:!0}})}),e==="report"&&N.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.detailed_changes&&N.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:N.jsx(mkt,{changes:n.detailed_changes})}),n.improvement_summary&&N.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:N.jsx(gkt,{content:n.improvement_summary})})]})]})},Okt=()=>{const n=Uo(),e=ya(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{},[f,p]=U.useState(!1),[g,x]=U.useState(!1),[v,S]=U.useState(!1),[b,M]=U.useState(null),j=f||g;if(U.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const Q=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},R=async()=>{x(!0);try{const X=await PL(o.optimizedCode);e("/results/document",{state:{results:X,originalCode:o.optimizedCode,sourceLanguage:h}}),an.success("Documentation generated successfully!")}catch(X){console.error("Documentation error:",X),an.error("Failed to generate documentation. Please try again.")}finally{x(!1)}},L=async X=>{p(!0);try{const W=await bL(o.optimizedCode,h,X);e("/results/convert",{state:{results:W,originalCode:o.optimizedCode,sourceLanguage:h,targetLanguage:X}}),S(!1),M(null),an.success(`Code converted to ${X.toUpperCase()} successfully!`)}catch(W){console.error("Conversion error:",W),an.error("Failed to convert code. Please try again.")}finally{p(!1)}},$=()=>{M(null),S(!0)},V=()=>{f||(S(!1),M(null))},D=X=>{M(X)};return N.jsxs(Mh,{children:[N.jsx(Px,{}),N.jsx("div",{className:"min-h-screen pt-4 px-4",children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"mb-6",children:[N.jsxs(Jc,{onClick:Q,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[N.jsx(f2,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),N.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[N.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Optimization Results"}),N.jsxs("p",{className:"text-gray-400",children:["Optimized version of your ",h==null?void 0:h.toUpperCase()," code with improvements"]})]})]}),N.jsxs("div",{className:"mb-6",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:hidden",children:[N.jsx(Sr,{onClick:$,disabled:j,borderColor:"#8B5CF6",className:"w-full min-h-12 text-sm",children:f?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),N.jsx("span",{className:"truncate",children:"Converting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Convert"})]})}),N.jsx(Sr,{onClick:R,disabled:j,borderColor:"#F59E0B",className:"w-full min-h-12 text-sm",children:g?N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),N.jsx("span",{className:"truncate",children:"Documenting"})]}):N.jsxs("span",{className:"flex items-center justify-center",children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),N.jsx("span",{className:"truncate",children:"Document"})]})})]}),N.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[N.jsx(Sr,{onClick:$,disabled:j,borderColor:"#8B5CF6",className:"min-w-28 md:min-w-32",children:f?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):N.jsxs(N.Fragment,{children:[N.jsx(zc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),N.jsx(Sr,{onClick:R,disabled:j,borderColor:"#F59E0B",className:"min-w-28 md:min-w-32",children:g?N.jsxs("span",{className:"flex items-center",children:[N.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):N.jsxs(N.Fragment,{children:[N.jsx(jd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-between items-center mb-4",children:N.jsx("h3",{className:"text-lg font-semibold text-white",children:"Original Code"})}),N.jsx("div",{className:"h-[50vh] min-h-[400px]",children:N.jsx(Bd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-between items-center mb-4",children:N.jsx("h3",{className:"text-lg font-semibold text-white",children:"Optimized Code"})}),N.jsx("div",{className:"h-[50vh] min-h-[400px]",children:N.jsx(Bd,{title:"",code:o.optimizedCode,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]})]}),N.jsx("div",{className:"mt-8",children:N.jsx(ykt,{results:o})})]})}),N.jsx(kL,{isOpen:v,onClose:V,onConvert:L,sourceLanguage:h,isConverting:f,selectedLanguage:b,onLanguageSelect:D})]})},vkt=()=>{const n=Uo(),e=ya(),r=n.state,{results:o,originalCode:a,sourceLanguage:h,targetLanguage:f}=r||{};if(U.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const p=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})};return N.jsxs(Mh,{children:[N.jsx(Px,{}),N.jsx("div",{className:"min-h-screen pt-4 px-4",children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"mb-6",children:[N.jsxs(Jc,{onClick:p,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[N.jsx(f2,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),N.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[N.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Conversion Results"}),N.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[N.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm font-medium",children:o.source_language.toUpperCase()}),N.jsx(tP,{className:"w-4 h-4"}),N.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm font-medium",children:o.target_language.toUpperCase()})]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-between items-center mb-4",children:N.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Original (",o.source_language.toUpperCase(),")"]})}),N.jsx("div",{className:"h-[50vh] min-h-[400px]",children:N.jsx(Bd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-between items-center mb-4",children:N.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Converted (",o.target_language.toUpperCase(),")"]})}),N.jsx("div",{className:"h-[50vh] min-h-[400px]",children:N.jsx(Bd,{title:"",code:o.converted_code,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:f})})]})]}),o.conversion_notes&&N.jsx("div",{className:"mt-8",children:N.jsxs(Qh,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[N.jsx(ay,{children:N.jsx(uy,{className:"text-white",children:"Conversion Notes"})}),N.jsx(Ah,{children:N.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.conversion_notes})})]})})]})})]})},xkt=()=>{const n=Uo(),e=ya(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{};if(U.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const f=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},p=()=>{const g=document.createElement("a"),x=new Blob([o.documented_code],{type:"text/plain"});g.href=URL.createObjectURL(x);const S={python:"py",r:"R",sas:"sas"}[h]||"txt";g.download=`documented_code.${S}`,document.body.appendChild(g),g.click(),document.body.removeChild(g)};return N.jsxs(Mh,{children:[N.jsx(Px,{}),N.jsx("div",{className:"min-h-screen pt-4 px-4",children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsxs("div",{className:"mb-6",children:[N.jsxs(Jc,{onClick:f,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[N.jsx(f2,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),N.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4 flex justify-between items-start",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Documentation Results"}),N.jsxs("p",{className:"text-gray-400",children:["Your ",h==null?void 0:h.toUpperCase()," code with comprehensive documentation"]})]}),N.jsxs(Jc,{onClick:p,variant:"outline",className:"text-gray-300 border-gray-600 hover:bg-gray-800",children:[N.jsx(tZ,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),N.jsx("div",{className:"mt-6",children:N.jsx("div",{className:"h-[70vh] min-h-[600px]",children:N.jsx(Bd,{title:"",code:o.documented_code,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})})]})})]})},wkt=new Trt,Skt=()=>{const{user:n,loading:e}=Kg();return e?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:N.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):n?N.jsx(cSt,{}):N.jsx(PSt,{})},kkt=()=>N.jsx(Mrt,{client:wkt,children:N.jsx(flt,{children:N.jsxs(Tg,{children:[N.jsx(Wet,{}),N.jsx(Tit,{}),N.jsx(Tst,{children:N.jsxs(vst,{children:[N.jsx(ta,{path:"/login",element:N.jsx(fft,{})}),N.jsx(ta,{path:"/signup",element:N.jsx(dft,{})}),N.jsx(ta,{path:"/auth/success",element:N.jsx(pft,{})}),N.jsx(ta,{path:"/",element:N.jsx(Skt,{})}),N.jsx(ta,{path:"/results/analyze",element:N.jsx(fS,{children:N.jsx(dkt,{})})}),N.jsx(ta,{path:"/results/optimize",element:N.jsx(fS,{children:N.jsx(Okt,{})})}),N.jsx(ta,{path:"/results/convert",element:N.jsx(fS,{children:N.jsx(vkt,{})})}),N.jsx(ta,{path:"/results/document",element:N.jsx(fS,{children:N.jsx(xkt,{})})}),N.jsx(ta,{path:"/home",element:N.jsx(sY,{to:"/",replace:!0})}),N.jsx(ta,{path:"*",element:N.jsx(bSt,{})})]})})]})})});PU(document.getElementById("root")).render(N.jsx(kkt,{}))});export default Pkt();
